import{i as ne,j as Z,a3 as Oe,k as Ae,r as f,o as t,m as o,U as Q,V as X,p as e,e as m,w as K,q as z,t as l,s as r,F as J,b as C,v as L,J as B,u as w,c as H,K as M,G as ee,x as be,L as ge,M as _e,a8 as Ve,a5 as xe,A as ke,E as ae,D as Pe,l as de,aF as Fe,aG as Te,T as De,C as Ne}from"./entry.7f1e4165.js";import{M as ye,_ as me,b as Se,W as Me,e as ve,S as pe,d as fe,f as he,g as qe}from"./ModalView.16f737a0.js";import{J as Ge,u as $e,L as He}from"./Layout.6b1cb961.js";import{u as We}from"./useFeed.110b0a77.js";import{I as Le,F as Je}from"./FeedModalView.0c2459e7.js";import{_ as te}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as Ke}from"./useArtwork.8a8d425e.js";import{_ as ie}from"./LoadingEmptyErrorMessage.65433330.js";import{u as Ce}from"./useUser.02f877ff.js";const we=u=>(ge("data-v-f1b53577"),u=u(),_e(),u),Ye={class:"mx-auto w-full md:w-2/3"},Qe={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},Xe={class:"w-full"},Ze={key:0,class:"p-4 user-info"},et=["src"],tt={class:"name"},ot=we(()=>e("br",null,null,-1)),lt=we(()=>e("span",{class:"mx-1"},"\xB7",-1)),st={class:"text-xxs"},at={class:"px-2 md:px-4"},nt=["id","innerHTML"],it=["id","onClick"],rt={key:1,class:"my-2 w-full rounded-md theme-color"},ut={key:0,class:"p-2 md:p-4 user-info"},dt=["src"],ct={class:"name"},mt=we(()=>e("br",null,null,-1)),vt=we(()=>e("span",{class:"mx-1"},"\xB7",-1)),pt={class:"px-2 mt-2 md:px-4"},ft={class:"text-xs font-semibold"},ht=["id"],wt=["id","onClick"],bt=["onClick"],gt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},_t={class:"mx-auto mt-2 primary-button"},kt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},yt={class:"mx-auto mt-2 primary-button"},$t={class:"float-right mx-4 mt-2 interactions"},xt={key:0,class:"reactions"},Mt=["onClick"],Ct=["onClick"],It={class:"option dropdown"},Et=["onClick"],Lt={class:"option-dropdown dropdown-menu"},At={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Pt={class:"menu-wrapper"},Ft={key:0,class:"custom-divider"},Tt=["to"],St={class:"mx-auto text-center"},jt={class:"mx-auto mt-10 text-center"},Rt=we(()=>e("b",null,"(\u3186_\u3186)",-1)),Ut={class:"mx-auto text-center"},Bt={id:"chronological-feed-modal",class:"modal work-view"},zt={id:"artwork-modal",class:"modal work-view"},Ot={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(u){const P=u,_=ne(),{oApiConfiguration:d,fetchOptions:F}=Z(),v=We(d,F()),{generateArtworkThumb:$}=Oe();Ae();const k=f(0),p=f(0),h=(c,I)=>{k.value=c,p.value=I},a=f([]),i=f({page:0,perPage:10}),b=async({loaded:c})=>{const[I,R]=await v.getFeedByUserId({userId:P.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});i.value.page+=1;for(let n=0;n<I.feeds.length;n++){const D=I.feeds[n];if(D.liked&&s.value.push(D.id),D.artworks){D.artworks.images=[],D.artworks.apply_explicit_filter=!1;for(let q=0;q<D.artworks.artwork_assets.length;q++)if(q<=3){const re=await $(D.artworks.artwork_assets[q].bucket,D.artworks.artwork_assets[q].filename,"feed");D.artworks.images.push(re)}D.artworks!=null&&(!_.loggedIn&&D.artworks.is_explicit||D.artworks.is_explicit&&!_.user.user_settings.show_explicit)&&(D.artworks.apply_explicit_filter=!0)}a.value.push(D)}c(I.feeds.length,i.value.perPage)},O=f(null),y=c=>{O.value.view(c),ee().openModal("chronological-feed-modal")},g=f(null),x=(c,I,R)=>{I?(console.log("removing explicit filter.."),a.value[R].artworks.apply_explicit_filter=!1):(g.value.view(c),ee().openModal("artwork-modal"))},s=f([]),E=async c=>{const[I,R]=await v.like({feedId:c});if(I){s.value.push(c);const n=document.getElementById(`profileFeedLikeButton-${c}`);n.classList.add("animate-bounce"),setInterval(()=>{n.classList.remove("animate-bounce")},2500)}},U=async c=>{const[I,R]=await v.unlike({feedId:c});if(I){const n=s.value.indexOf(c);s.value.splice(n,1)}},G=(c,I,R,n)=>{Se().readMore(c,I,R,n)},W=async()=>{const[c,I]=await v.remove(k.value);c&&a.value.splice(p.value,1)};return(c,I)=>{const R=be;return t(),o("div",Ye,[(t(!0),o(Q,null,X(a.value,(n,D)=>(t(),o("div",{key:n.id},[e("div",Qe,[e("div",Xe,[n.users?(t(),o("div",Ze,[m(R,{to:"/profile/"+n.users.username},{default:K(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(n.users.avatar_bucket,n.users.avatar_filename),onError:I[0]||(I[0]=(...q)=>c.imageLoadError&&c.imageLoadError(...q))},null,40,et)]),_:2},1032,["to"]),e("div",tt,[m(R,{to:"/profile/"+n.users.username,class:"fullname"},{default:K(()=>[z(l(n.users.name),1)]),_:2},1032,["to"]),ot,m(R,{to:"/profile/"+n.users.username,class:"username hover:underline"},{default:K(()=>[z(" @"+l(n.users.username),1)]),_:2},1032,["to"]),lt,e("span",st,l(c.formatDate(n.scheduled_post?n.scheduled_post:n.created_at,!0)),1)])])):r("",!0),e("div",at,[e("p",{id:"feed-text-"+n.id,innerHTML:n.text.split("<br>").length>3&&n.text.length>300?`${n.text.slice(0,300)}...`:n.text},null,8,nt),n.text.split("<br>").length>3&&n.text.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+n.id,class:"href",onClick:J(q=>G(n.text,n.id,"feed-read-more-","feed-text-"),["prevent"])},l(c.$t("readMore")),9,it)):r("",!0),n.artworks?(t(),o("div",rt,[n.artworks.users?(t(),o("div",ut,[m(R,{to:"/profile/"+n.artworks.users.username},{default:K(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(n.artworks.users.avatar_bucket,n.artworks.users.avatar_filename),onError:I[1]||(I[1]=(...q)=>c.imageLoadError&&c.imageLoadError(...q))},null,40,dt)]),_:2},1032,["to"]),e("div",ct,[m(R,{to:"/profile/"+n.artworks.users.username,class:"fullname hover:href"},{default:K(()=>[z(l(n.artworks.users.name),1)]),_:2},1032,["to"]),mt,m(R,{to:"/profile/"+n.artworks.users.username,class:"hover:underline text-xxs"},{default:K(()=>[z(" @"+l(n.artworks.users.username),1)]),_:2},1032,["to"]),vt,m(R,{to:"/a/"+n.artworks.id,class:"hover:underline text-xxs"},{default:K(()=>[z(l(c.formatDate(n.artworks.scheduled_post?n.artworks.scheduled_post:n.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):r("",!0),e("div",pt,[e("span",ft,l(n.artworks.title),1),C(e("p",null,[e("span",{id:"feed-description-"+n.artworks.id},l(n.artworks.description.length>300?`${n.artworks.description.slice(0,300)}...`:n.artworks.description),9,ht),n.artworks.description.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+n.artworks.id,class:"href",onClick:J(q=>G(n.artworks.description,n.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},l(c.$t("readMore")),9,wt)):r("",!0)],512),[[L,n.artworks.description]])]),e("div",null,[c.isMobile()?r("",!0):(t(),o("div",{key:0,class:B(["p-2",{"cursor-pointer":!n.artworks.apply_explicit_filter}]),onClick:J(q=>x(n.artworks.id,n.artworks.apply_explicit_filter,D),["prevent"])},[e("div",{class:B(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":n.artworks.apply_explicit_filter}])},[m(Le,{class:B([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(t(),o("div",gt,[e("div",null,l(w(_).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",_t,l(c.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)],10,bt)),c.isMobile()?(t(),H(R,{key:1,to:n.artworks.apply_explicit_filter?null:"/a/"+n.artworks.id,onClick:J(q=>x(n.artworks.id,n.artworks.apply_explicit_filter,D),["prevent"]),class:"cursor-pointer"},{default:K(()=>[e("div",{class:B(["overflow-hidden relative p-2 rounded-md",{"m-2":n.artworks.apply_explicit_filter}])},[m(Le,{class:B([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(t(),o("div",kt,[e("div",null,l(w(_).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",yt,l(c.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)]),_:2},1032,["to","onClick"])):r("",!0)])])):r("",!0)]),e("div",$t,[w(_).loggedIn?(t(),o("div",xt,[e("span",{class:"leading-8",onClick:q=>s.value.includes(n.id)?U(n.id):E(n.id)},[C(m(M,{id:"profileFeedLikeButton-"+n.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[L,s.value.includes(n.id)]]),C(m(M,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[L,!s.value.includes(n.id)]]),z(" "+l(c.thousand(n._count.feed_likes)),1)],8,Mt),e("span",{class:"leading-8",onClick:J(q=>y(n.id),["prevent"])},[m(M,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),z(" "+l(c.thousand(n._count.feed_comments)),1)],8,Ct),e("div",It,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:q=>h(n.id,D)},[e("span",null,[m(M,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,Et),e("div",Lt,[e("div",At,[e("div",Pt,[m(R,{to:"/feed/"+n.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:K(()=>[m(M,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),z(" "+l(c.$t("open")),1)]),_:2},1032,["to"]),m(R,{to:"/feed/"+n.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:K(()=>[m(M,{name:"i-ci-external-link",class:"mr-2 text-base"}),z(" "+l(c.$t("openInNewTab")),1)]),_:2},1032,["to"]),w(_).loggedIn&&n.user_id&&w(_).user.id===n.user_id?(t(),o("div",Ft)):r("",!0),w(_).loggedIn&&n.user_id&&w(_).user.id===n.user_id?(t(),o("div",{key:1,to:"/feed/"+n.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:I[2]||(I[2]=q=>c.openModal("profile-feed-deletion-confirm-modal"))},[m(M,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),z(" "+l(c.$t("delete")),1)],8,Tt)):r("",!0)])])])])])):r("",!0)])])])]))),128)),m(w(Ge),{load:b},{loading:K(()=>[e("div",St,[m(M,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":K(()=>[e("div",jt,[Rt,z(" "+l(c.$t("nothingToShow")),1)])]),"no-more":K(()=>[e("div",Ut,l(c.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Bt,[m(Je,{ref_key:"chronologicalFeedModalViewRef",ref:O,section:"chronological-feed"},null,512)]),e("div",zt,[m(ye,{ref_key:"artworkModalViewRef",ref:g,section:"artwork"},null,512)]),m(me,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${c.$t("alert.areYouSure")} ${c.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:I[3]||(I[3]=n=>W())},null,8,["message"])])}}},Vt=te(Ot,[["__scopeId","data-v-f1b53577"]]),Dt={id:"lists"},Nt=["id"],qt={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(u,{emit:P}){const _=u,{oApiConfiguration:d,fetchOptions:F}=Z(),v=Ke(d,F()),$="profile",k=f(!0);Ve(()=>{p()});const p=async()=>{const[R,n]=await i();h.value=R,n.record_total<=a.value.perPage&&y(),n.record_total===0&&E()},h=f([]),a=f({perPage:24,page:0}),i=async()=>{a.value.page===0&&(k.value=!0);const[R,n,D]=await v.getUserArtworks({userId:_.userId,pagination:{page:a.value.page,perPage:a.value.perPage}});if(D)G();else return n.record_total<=a.value.perPage&&y(),n.record_total===0&&E(),a.value.page+=1,b(),[R,n]},b=()=>{k.value=!1,s.value=!1,U.value=!1},O=f(!0),y=()=>{O.value=!1},g=f({delay:!1}),x=async()=>{g.value.delay=!0;const[R,n]=await i();for(let D=0;D<R.length;D++)h.value.push(R[D]);g.value.delay=!1,dataPagination.next_previous.next_page||y(),dataPagination.next_previous.next_page&&dataPagination.current_page===g.maxLoad&&(y(),g.showDiscoveryButton=!0)},s=f(!1),E=()=>{s.value=!0,y(),P("onEmpty")},U=f(!1),G=()=>{k.value=!1,U.value=!0,y()},W=f(null),c=(R,n=!1)=>{W.value.view(R,n),ee().openModal($+"-modal")},I=R=>{P("feedSelectedItems",R)};return(R,n)=>(t(),o("div",Dt,[C(e("div",null,[(t(),H(xe,null,[C(m(Me,{"section-class":"work-grid",works:h.value,view:c,"manage-mode":u.manageMode,onFeedManageList:I},null,8,["works","manage-mode"]),[[L,!s.value]])],1024)),C(e("div",{class:B(["primary-button",g.value.delay?"animate-pulse":""]),onClick:x},l(R.$t("loadMore")),3),[[L,O.value]])],512),[[L,!k.value]]),m(ie,{loading:k.value,empty:s.value,error:U.value,fetch:i},null,8,["loading","empty","error"]),e("div",{id:$+"-modal",class:"modal work-view"},[C(m(ye,{ref_key:"profileModalViewRef",ref:W,section:$},null,512),[[L,!k.value]])],8,Nt)]))}},Gt=te(qt,[["__scopeId","data-v-6fbdcb8f"]]),Ht={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Wt={class:"title"},Jt=["name"],Kt=["placeholder"],Yt=["placeholder"],Qt=["for"],Xt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Zt={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},eo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),to=[eo],oo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},lo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),so=[lo],ao={class:"ml-2"},no={class:"flex flex-row gap-2 justify-end mt-2"},io={type:"submit",class:"primary-button"},ro={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:P}){const _=u,{oApiConfiguration:d,fetchOptions:F}=Z(),v=ve(d,F()),{t:$}=ke(),k="create-album-form",p=f({title:"",description:"",isPublic:1,category:"artwork"}),h=async()=>{$e().validate(k,$);try{let a=!1,i={};if(_.category){const[b,O,y]=await v.createAlbum(_.category,p.value);a=b,i=O}a&&(ee().closeModal(_.modalId),P("created",i))}catch{}};return(a,i)=>(t(),o("div",null,[e("div",Ht,[e("div",null,[e("span",Wt,l(a.$t("albums.create.form.title")),1),e("form",{id:k,class:"mt-2",onSubmit:i[4]||(i[4]=J(b=>h(),["prevent"]))},[e("n-validate",{for:"title",name:a.$t("title")},[C(e("input",{"onUpdate:modelValue":i[0]||(i[0]=b=>p.value.title=b),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:a.$t("title")},null,8,Kt),[[ae,p.value.title]])],8,Jt),C(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=b=>p.value.description=b),class:"form-input theme-color-secondary",placeholder:a.$t("description"),"data-gramm":"false"},null,8,Yt),[[ae,p.value.description]]),e("label",{for:p.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=b=>p.value.isPublic=!p.value.isPublic)},[Xt,p.value.isPublic?(t(),o("span",Zt,to)):r("",!0),p.value.isPublic?r("",!0):(t(),o("span",oo,so))]),e("span",ao,l(a.$t("private")),1)],8,Qt),e("div",no,[e("button",{class:"cancel-button",onClick:i[3]||(i[3]=J(b=>a.closeModal(u.modalId),["prevent"]))},l(a.$t("cancel")),1),e("button",io,l(a.$t("create")),1)])],32)])])]))}},uo={id:"lists"},co={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},mo={class:"mb-2 text-base font-bold"},vo={class:"mb-2"},po=z(),fo={class:"italic"},ho=["id"],wo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(u,{expose:P,emit:_}){const d=u,{oApiConfiguration:F,fetchOptions:v}=Z(),$=ve(F,v()),k=f(d.id);Pe(()=>d.id,(c,I)=>{k.value=c}),de(async()=>{await a()});const p=f(!0),h=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),a=async()=>{p.value=!0,await i(),await b(),p.value=!1},i=async()=>{const[c,I]=await $.getInfo(k.value);h.value.info=c.data},b=async()=>{const[c,I,R]=await $.listAlbumItems({albumId:k.value,pagination:{page:h.value.pagination.page,perPage:h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage}});I?h.value.pagination.page===0?h.value.pagination.page=h.value.pagination.firstLoad/h.value.pagination.perPage:h.value.pagination.page+=h.value.pagination.page!==0?1:2:h.value.loadMore=!1,c!==null&&c.length?(c.forEach(n=>{h.value.list.push(n.artworks)}),_("onAlbumEmpty",!1)):(h.value.empty=!0,_("onAlbumEmpty",!0))},O=()=>{h.value.loadMore=!0,h.value.pagination.page=0,h.value.list=[]},y=f([]),g=c=>{y.value=c,_("feedManageList",c)},x=f(!1);let s;const E=async()=>{const[c,I]=await $.removeItems(d.id,y.value);c&&(fe().splash(s,x,"item-removed-alert"),O(),await a())},U=f("album"),G=f(null),W=(c,I=!1)=>{G.value.view(c,I),ee().openModal(U.value+"-modal")};return P({fetchInfo:i,removeItems:E}),(c,I)=>(t(),o("div",uo,[e("div",{class:"hidden",onClick:I[0]||(I[0]=R=>i())}),e("div",{class:"hidden",onClick:I[1]||(I[1]=R=>E())}),e("div",co,[e("div",mo,l(h.value.info.name),1),e("div",vo,l(h.value.info.description),1),e("div",null,[e("b",null,l(c.$t("private"))+":",1),po,e("span",fo,l(h.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,l(c.$t("createdAt")),1),z(" "+l(c.formatDate(h.value.info.created_at)),1)])]),C(e("div",null,[(t(),H(xe,null,[C(m(Me,{"section-class":"work-grid",works:h.value.list,view:W,"manage-mode":u.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[L,!h.value.empty]])],1024)),C(e("div",{class:"primary-button",onClick:I[2]||(I[2]=R=>b())},l(c.$t("loadMore")),513),[[L,h.value.loadMore]])],512),[[L,!p.value]]),m(ie,{loading:p.value,empty:h.value.empty,error:!1,fetch:a},null,8,["loading","empty"]),p.value?r("",!0):(t(),o("div",{key:0,id:U.value+"-modal",class:"modal work-view"},[m(ye,{ref_key:"albumModalViewRef",ref:G,section:U.value},null,8,["section"])],8,ho)),C(m(pe,{id:"item-removed-alert",text:c.$t("albums.itemRemoved")},null,8,["text"]),[[L,x.value]])]))}},bo=te(wo,[["__scopeId","data-v-2ee448ae"]]),go={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},_o={class:"title"},ko=["name"],yo=["placeholder"],$o=["placeholder"],xo=["for"],Mo=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Co={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Io=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Eo=[Io],Lo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Ao=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Po=[Ao],Fo={class:"ml-2"},To={class:"flex flex-row gap-2 justify-end mt-2"},So={type:"submit",class:"primary-button"},jo={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:P,emit:_}){const d=u,{oApiConfiguration:F,fetchOptions:v}=Z(),$=ve(F,v()),{t:k}=ke(),p=f(!0),h=async y=>{if(y){O(),p.value=!0;const[g,x]=await $.getInfo(y),s=g.data;i.value.id=y,i.value.name=s.name,i.value.description=s.description,i.value.isPublic=!!s.is_public,p.value=!1}},a="update-album-form",i=f({id:0,name:"",description:"",isPublic:!1}),b=async()=>{$e().validate(a,k);const[y,g]=await $.update({id:i.value.id,name:i.value.name,description:i.value.description,isPublic:i.value.isPublic?1:0});g||(ee().closeModal(d.modalId),_("updated",i.value),O())},O=()=>{i.value={id:0,name:"",description:"",isPublic:0}};return P({fetch:h}),(y,g)=>(t(),o("div",null,[e("div",go,[e("div",null,[e("span",_o,l(y.$t("albums.edit.form.title")),1),p.value?r("",!0):(t(),o("form",{key:0,id:a,class:"mt-2",onSubmit:g[4]||(g[4]=J(x=>b(),["prevent"]))},[e("n-validate",{for:"title",name:y.$t("title")},[C(e("input",{"onUpdate:modelValue":g[0]||(g[0]=x=>i.value.name=x),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:y.$t("title")},null,8,yo),[[ae,i.value.name]])],8,ko),C(e("textarea",{"onUpdate:modelValue":g[1]||(g[1]=x=>i.value.description=x),class:"form-input theme-color-secondary",placeholder:y.$t("description"),"data-gramm":"false"},null,8,$o),[[ae,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:g[2]||(g[2]=x=>i.value.isPublic=!i.value.isPublic)},[Mo,i.value.isPublic?(t(),o("span",Co,Eo)):r("",!0),i.value.isPublic?r("",!0):(t(),o("span",Lo,Po))]),e("span",Fo,l(y.$t("private")),1)],8,xo),e("div",To,[e("button",{class:"cancel-button",onClick:g[3]||(g[3]=J(x=>y.closeModal(u.modalId),["prevent"]))},l(y.$t("cancel")),1),e("button",So,l(y.$t("save")),1)])],32))])])]))}},je=""+new URL("folder.11be08fa.png",import.meta.url).href,Ie=u=>(ge("data-v-eccd717d"),u=u(),_e(),u),Ro={class:"mb-2"},Uo={key:0},Bo=Ie(()=>e("img",{src:je,class:"rounded"},null,-1)),zo=[Bo],Oo={key:1},Vo={class:"relative text-center"},Do={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},No={class:"overflow-hidden rounded-md"},qo=["src"],Go={key:2,class:"imgrid"},Ho={class:"relative text-center"},Wo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Jo={class:"overflow-hidden rounded-md"},Ko=["src"],Yo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Qo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Xo={key:3,class:"imgrid"},Zo={class:"relative text-center"},el={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},tl={class:"overflow-hidden rounded-md"},ol=["src"],ll={key:4,class:"imgrid"},sl={class:"relative text-center"},al={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},nl={class:"overflow-hidden rounded-md"},il=["src"],rl={key:5,class:"imgrid"},ul={key:0,class:"relative text-center"},dl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},cl={class:"overflow-hidden rounded-md"},ml=["src"],vl={key:1,class:"relative text-center"},pl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},fl={class:"overflow-hidden rounded-md"},hl=["src"],wl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(u){const P=ne(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,F)=>(t(),o("div",Ro,[!u.album.album_has_artworks||u.album._count.album_has_artworks===0?(t(),o("div",Uo,zo)):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("div",Oo,[e("div",Vo,[d.applyExplicitFilter(w(P),u.album.album_has_artworks[0].artworks.is_explicit)?(t(),o("span",Do,l(d.$t("explicitContent")),1)):r("",!0),e("div",No,[u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(u.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,u.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:B(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),u.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:F[0]||(F[0]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,qo)):r("",!0)])])])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===2?(t(),o("div",Go,[(t(!0),o(Q,null,X(u.album.album_has_artworks,(v,$)=>(t(),o("div",{key:$,class:B(_[2][$])},[e("div",Ho,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",Wo,l(d.$t("explicitContent")),1)):r("",!0),e("div",Jo,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[1]||(F[1]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ko)])])],2))),128)),Yo,Qo])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===3?(t(),o("div",Xo,[(t(!0),o(Q,null,X(u.album.album_has_artworks,(v,$)=>(t(),o("div",{key:$,class:B(_[3][$])},[e("div",Zo,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",el,l(d.$t("explicitContent")),1)):r("",!0),e("div",tl,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[2]||(F[2]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,ol)])])],2))),128))])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===4?(t(),o("div",ll,[(t(!0),o(Q,null,X(u.album.album_has_artworks,(v,$)=>(t(),o("div",{key:$},[e("div",sl,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",al,l(d.$t("explicitContent")),1)):r("",!0),e("div",nl,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[3]||(F[3]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,il)])])]))),128))])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks>4?(t(),o("div",rl,[(t(!0),o(Q,null,X(u.album.album_has_artworks,(v,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",ul,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",dl,l(d.$t("explicitContent")),1)):r("",!0),e("div",cl,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[4]||(F[4]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,ml)])])):(t(),o("div",vl,[e("span",pl,"+"+l(u.album._count.album_has_artworks-4),1),e("div",fl,[e("img",{src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:B(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),onError:F[5]||(F[5]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,hl)])]))]))),128))])):r("",!0)]))}},bl=te(wl,[["__scopeId","data-v-eccd717d"]]),gl={class:"mb-2 w-full"},_l={key:0,class:"flex flex-row justify-between"},kl={class:"flex flex-row"},yl={key:0},$l={key:1,class:"flex flex-row justify-between"},xl={class:"flex flex-row"},Ml={class:"flex flex-row gap-2"},Cl={class:"flex flex-row gap-2"},Il={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},El=["onClick"],Ll={class:"flex flex-row pb-1 mt-4 font-bold"},Al={class:"text-xs font-normal"},Pl={__name:"Album",props:{userId:{type:Number,default:0}},setup(u){const P=u,_=ne(),{oApiConfiguration:d,fetchOptions:F}=Z(),v=ve(d,F());de(()=>{b()});const $=f(!0),k=f("artwork"),p=f(0),h=f([]),a=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),i=f({artwork:0}),b=async()=>{$.value=!0;const[T,j,V]=await v.fetchAlbums(P.userId,k.value,a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage,a.value.pagination.page);if(V)s();else{T.length||(a.value.manageMode=!1,g()),T.forEach(ce=>{h.value.push(ce)}),a.value.pagination.page+=a.value.pagination.firstLoad/a.value.pagination.perPage,a.value.showLoadMore=j;const[se]=await v.countArtworkAlbums(P.userId);i.value.artwork=se}$.value=!1},O=async()=>await b(),y=f(!1),g=()=>{y.value=!0,a.value.showLoadMore=!1},x=f(!1),s=()=>{$.value=!1,x.value=!0,a.value.showLoadMore=!1},E=async()=>{$.value=!1,y.value=!1,x.value=!1,a.value.pagination.page=0,h.value=[],await b()},U=f(!1);let G;const W=async()=>{fe().splash(G,U,"created-alert"),await E()},c=f(null),I=()=>{c.value.fetch(p.value),ee().openModal("album-edit-form-modal")},R=f(null),n=T=>{R.value.fetchInfo(),h.value.forEach(j=>{j.id===T.id&&(j.name=T.name,j.description=T.description,j.is_public=T.isPublic)})},D=()=>{R.value.removeItems()},q=f([]),re=T=>{q.value=T},Y=async()=>{if(p.value!==0){const[T,j]=await v.deleteAlbum(p.value);T&&(p.value=0,E())}},le=T=>{a.value.showManageButton=!T,a.value.manageMode=!1},ue=()=>{p.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(T,j)=>(t(),o("div",null,[e("div",gl,[p.value?r("",!0):(t(),o("div",_l,[e("div",kl,[e("div",{class:B(["ml-0 primary-button theme-color-secondary",{"button-color text-white":k.value==="artwork"}]),onClick:j[0]||(j[0]=V=>k.value="artwork")},[z(l(T.$t("artworks.artwork"))+" ",1),e("span",{class:B(["px-1 ml-2 font-normal rounded",k.value==="artwork"?"theme-color":"button-color text-white"])},l(i.value.artwork),3)],2)]),w(_).loggedIn&&w(_).user.id===u.userId?(t(),o("div",yl,[e("div",{class:"icon-button",onClick:j[1]||(j[1]=V=>T.openModal("album-form-modal"))},[m(M,{name:"i-ion-add-outline"})])])):r("",!0)])),p.value?(t(),o("div",$l,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>ue())},[m(M,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",xl,[C(e("div",Ml,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>a.value.manageMode=!a.value.manageMode)},[m(M,{name:a.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+l(a.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),C(e("button",{class:B(["flex flex-row",q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>q.value.length>0?T.openModal("item-deletion-confirm-modal"):null)},[m(M,{name:"i-akar-icons-trash-bin"}),z(" "+l(T.$t("albums.removeSelected")),1)],2),[[L,a.value.manageMode]])],512),[[L,w(_).loggedIn&&w(_).user.id===u.userId&&a.value.showManageButton]]),C(e("div",Cl,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>I())},[m(M,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>T.openModal("album-deletion-confirm-modal"))},[m(M,{name:"i-akar-icons-trash-bin"})])],512),[[L,w(_).loggedIn&&w(_).user.id===u.userId&&!a.value.manageMode]])])])):r("",!0),C(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},l(T.$t("albums.manageModeActiveMessage")),513),[[L,a.value.manageMode]])]),p.value?r("",!0):(t(),o("div",Il,[(t(!0),o(Q,null,X(h.value,V=>(t(),o("div",{key:V.id,class:B(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:se=>p.value=V.id},[V.type==="artwork"?(t(),H(bl,{key:0,album:V},null,8,["album"])):r("",!0),e("div",Ll,[V.is_public?r("",!0):(t(),H(M,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Al,l(V.name),1)])],10,El))),128))])),a.value.showLoadMore&&!p.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:O},l(T.$t("loadMore")),1)):r("",!0),m(ie,{loading:$.value,empty:y.value,error:x.value,fetch:b},null,8,["loading","empty","error"]),!$.value&&!p.value?(t(),H(ro,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:k.value,class:"modal",onCreated:W},null,8,["category"])):r("",!0),C(m(pe,{id:"created-alert",text:T.$t("albums.created")},null,8,["text"]),[[L,U.value]]),!$.value&&p.value?(t(),H(jo,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:c,"modal-id":"album-edit-form-modal","album-id":p.value,class:"modal",onUpdated:n},null,8,["album-id"])):r("",!0),m(me,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:Y},null,8,["message"]),m(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:D},null,8,["message"]),p.value&&!$.value?(t(),H(bo,{key:4,id:p.value,ref_key:"albumDetailRef",ref:R,"manage-mode":a.value.manageMode,onOnAlbumEmpty:le,onFeedManageList:re},null,8,["id","manage-mode"])):r("",!0)]))}},Fl=te(Pl,[["__scopeId","data-v-7bee1255"]]),Tl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Sl={class:"title"},jl=["placeholder"],Rl=["placeholder"],Ul=["for"],Bl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),zl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ol=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Vl=[Ol],Dl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Nl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ql=[Nl],Gl={class:"ml-2"},Hl={class:"flex flex-row gap-2 justify-end mt-2"},Wl={type:"submit",class:"primary-button"},Jl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:P}){const _=u,{oApiConfiguration:d,fetchOptions:F}=Z(),v=he(d,F()),{t:$}=ke(),k="create-collection-form",p=f({title:"",description:"",isPublic:1,category:"artwork"}),h=async()=>{$e().validate(k,$);try{let a=!1,i={};if(_.category){const[b,O,y]=await v.createCollection(_.category,p.value);y||(a=b,i=O)}a&&(ee().closeModal(_.modalId),P("created",i))}catch{}};return(a,i)=>(t(),o("div",null,[e("div",Tl,[e("div",null,[e("span",Sl,l(a.$t("collections.create.form.title")),1),e("form",{id:k,class:"mt-2",onSubmit:i[4]||(i[4]=J(b=>h(),["prevent"]))},[e("n-validate",null,[C(e("input",{"onUpdate:modelValue":i[0]||(i[0]=b=>p.value.title=b),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:a.$t("title")},null,8,jl),[[ae,p.value.title]])]),C(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=b=>p.value.description=b),class:"form-input theme-color-secondary",placeholder:a.$t("description"),"data-gramm":"false"},null,8,Rl),[[ae,p.value.description]]),e("label",{for:p.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=b=>p.value.isPublic=!p.value.isPublic)},[Bl,p.value.isPublic?(t(),o("span",zl,Vl)):r("",!0),p.value.isPublic?r("",!0):(t(),o("span",Dl,ql))]),e("span",Gl,l(a.$t("private")),1)],8,Ul),e("div",Hl,[e("button",{class:"cancel-button",onClick:i[3]||(i[3]=J(b=>a.closeModal(u.modalId),["prevent"]))},l(a.$t("cancel")),1),e("button",Wl,l(a.$t("create")),1)])],32)])])]))}},Kl={id:"lists"},Yl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Ql={class:"text-base font-bold mb-2"},Xl={class:"mb-2"},Zl=z(),es={class:"italic"},ts=["id"],os={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(u,{expose:P,emit:_}){const d=u,{oApiConfiguration:F,fetchOptions:v}=Z(),$=he(F,v()),k=f(d.id);Pe(()=>d.id,(c,I)=>{k.value=c}),de(async()=>{await a()});const p=f(!0),h=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),a=async()=>{p.value=!0,await i(),await b(),p.value=!1},i=async()=>{const[c,I]=await $.getInfo(k.value);h.value.info=c.data},b=async()=>{const[c,I,R]=await $.listCollectionItems({collectionId:k.value,pagination:{page:h.value.pagination.page,perPage:h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage}});I?h.value.pagination.page===0?h.value.pagination.page=h.value.pagination.firstLoad/h.value.pagination.perPage:h.value.pagination.page+=h.value.pagination.page!==0?1:2:h.value.loadMore=!1,c!==null&&c.length?(c.forEach(n=>{h.value.list.push(n.artworks)}),_("onCollectionEmpty",!1)):(h.value.empty=!0,_("onCollectionEmpty",!0))},O=()=>{h.value.loadMore=!0,h.value.pagination.page=0,h.value.list=[]},y=f([]),g=c=>{y.value=c,_("feedManageList",c)},x=f(!1);let s;const E=async()=>{const[c,I]=await $.removeItem({collectionId:d.id,type:d.type,workId:y.value});I||(fe().splash(s,x,"item-removed-alert"),O(),await a(),_("feedManageList",[]))},U=f("collection"),G=f(null),W=(c,I=!1)=>{G.value.view(c,I),ee().openModal(U.value+"-modal")};return P({fetchInfo:i,removeItem:E}),(c,I)=>(t(),o("div",Kl,[e("div",{class:"hidden",onClick:I[0]||(I[0]=R=>i())}),e("div",{class:"hidden",onClick:I[1]||(I[1]=R=>E())}),e("div",Yl,[e("div",Ql,l(h.value.info.name),1),e("div",Xl,l(h.value.info.description),1),e("div",null,[e("b",null,l(c.$t("private"))+":",1),Zl,e("span",es,l(h.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,l(c.$t("createdAt")),1),z(" "+l(c.formatDate(h.value.info.created_at)),1)])]),C(e("div",null,[(t(),H(xe,null,[C(m(Me,{"section-class":"work-grid",works:h.value.list,view:W,"manage-mode":u.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[L,!h.value.empty]])],1024)),C(e("div",{class:"primary-button",onClick:I[2]||(I[2]=R=>b())},l(c.$t("loadMore")),513),[[L,h.value.loadMore]])],512),[[L,!p.value]]),m(ie,{loading:p.value,empty:h.value.empty,error:!1,fetch:a},null,8,["loading","empty"]),p.value?r("",!0):(t(),o("div",{key:0,id:U.value+"-modal",class:"modal work-view"},[m(ye,{ref_key:"collectionModalViewRef",ref:G,section:U.value},null,8,["section"])],8,ts)),C(m(pe,{id:"item-removed-alert",text:c.$t("collections.itemRemoved")},null,8,["text"]),[[L,x.value]])]))}},ls=te(os,[["__scopeId","data-v-28a81b65"]]),ss={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},as={class:"title"},ns=["placeholder"],is=["placeholder"],rs=["for"],us=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ds={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},cs=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ms=[cs],vs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ps=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),fs=[ps],hs={class:"ml-2"},ws={class:"flex flex-row gap-2 justify-end mt-2"},bs={type:"submit",class:"primary-button"},gs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:P,emit:_}){const d=u,{t:F}=ke(),{oApiConfiguration:v,fetchOptions:$}=Z(),k=he(v,$()),p=f(!0),h=async y=>{if(y){O(),p.value=!0;const[g,x]=await k.getInfo(y);if(!x){const s=g.data;i.value.id=y,i.value.name=s.name,i.value.description=s.description,i.value.isPublic=!!s.is_public,p.value=!1}}},a="edit-collection-form",i=f({id:0,name:"",description:"",isPublic:!1}),b=async()=>{$e().validate(a,F);const[y,g]=await k.update({id:i.value.id,name:i.value.name,description:i.value.description,isPublic:i.value.isPublic?1:0});g||(ee().closeModal(d.modalId),_("updated",i.value),O())},O=()=>{i.value={id:0,name:"",description:"",isPublic:0}};return P({fetch:h}),(y,g)=>(t(),o("div",null,[e("div",{class:"hidden",onClick:g[0]||(g[0]=x=>h(0))}),e("div",ss,[e("div",null,[e("span",as,l(y.$t("collections.edit.form.title")),1),p.value?r("",!0):(t(),o("form",{key:0,id:a,class:"mt-2",onSubmit:g[5]||(g[5]=J(x=>b(),["prevent"]))},[e("n-validate",null,[C(e("input",{"onUpdate:modelValue":g[1]||(g[1]=x=>i.value.name=x),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:y.$t("title")},null,8,ns),[[ae,i.value.name]])]),C(e("textarea",{"onUpdate:modelValue":g[2]||(g[2]=x=>i.value.description=x),class:"form-input theme-color-secondary",placeholder:y.$t("description"),"data-gramm":"false"},null,8,is),[[ae,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:g[3]||(g[3]=x=>i.value.isPublic=!i.value.isPublic)},[us,i.value.isPublic?(t(),o("span",ds,ms)):r("",!0),i.value.isPublic?r("",!0):(t(),o("span",vs,fs))]),e("span",hs,l(y.$t("private")),1)],8,rs),e("div",ws,[e("button",{class:"cancel-button",onClick:g[4]||(g[4]=J(x=>y.closeModal(u.modalId),["prevent"]))},l(y.$t("cancel")),1),e("button",bs,l(y.$t("save")),1)])],32))])])]))}},Ee=u=>(ge("data-v-a484fb7b"),u=u(),_e(),u),_s={class:"mb-2"},ks={key:0},ys=Ee(()=>e("img",{src:je,class:"rounded"},null,-1)),$s=[ys],xs={key:1},Ms={class:"relative text-center"},Cs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Is={class:"overflow-hidden rounded-md"},Es=["src"],Ls={key:2,class:"imgrid"},As={class:"relative text-center"},Ps={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Fs={class:"overflow-hidden rounded-md"},Ts=["src"],Ss=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),js=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Rs={key:3,class:"imgrid"},Us={class:"relative text-center"},Bs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},zs={class:"overflow-hidden rounded-md"},Os=["src"],Vs={key:4,class:"imgrid"},Ds={class:"relative text-center"},Ns={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},qs={class:"overflow-hidden rounded-md"},Gs=["src"],Hs={key:5,class:"imgrid"},Ws={key:0,class:"relative text-center"},Js={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Ks={class:"overflow-hidden rounded-md"},Ys=["src"],Qs={key:1,class:"relative text-center"},Xs={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Zs={class:"overflow-hidden rounded-md"},ea=["src"],ta={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(u){const P=ne(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,F)=>(t(),o("div",_s,[!u.collection.collection_has_artworks||u.collection._count.collection_has_artworks===0?(t(),o("div",ks,$s)):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("div",xs,[e("div",Ms,[d.applyExplicitFilter(w(P),u.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),o("span",Cs,l(d.$t("explicitContent")),1)):r("",!0),e("div",Is,[u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(u.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,u.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:B(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),u.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:F[0]||(F[0]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,Es)):r("",!0)])])])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===2?(t(),o("div",Ls,[(t(!0),o(Q,null,X(u.collection.collection_has_artworks,(v,$)=>(t(),o("div",{key:$,class:B(_[2][$])},[e("div",As,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",Ps,l(d.$t("explicitContent")),1)):r("",!0),e("div",Fs,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[1]||(F[1]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ts)])])],2))),128)),Ss,js])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===3?(t(),o("div",Rs,[(t(!0),o(Q,null,X(u.collection.collection_has_artworks,(v,$)=>(t(),o("div",{key:$,class:B(_[3][$])},[e("div",Us,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",Bs,l(d.$t("explicitContent")),1)):r("",!0),e("div",zs,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[2]||(F[2]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Os)])])],2))),128))])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===4?(t(),o("div",Vs,[(t(!0),o(Q,null,X(u.collection.collection_has_artworks,(v,$)=>(t(),o("div",{key:$},[e("div",Ds,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",Ns,l(d.$t("explicitContent")),1)):r("",!0),e("div",qs,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[3]||(F[3]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Gs)])])]))),128))])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks>4?(t(),o("div",Hs,[(t(!0),o(Q,null,X(u.collection.collection_has_artworks,(v,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",Ws,[d.applyExplicitFilter(w(P),v.artworks.is_explicit)?(t(),o("span",Js,l(d.$t("explicitContent")),1)):r("",!0),e("div",Ks,[e("img",{class:B(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[4]||(F[4]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ys)])])):(t(),o("div",Qs,[e("span",Xs,"+"+l(u.collection._count.collection_has_artworks-4),1),e("div",Zs,[e("img",{src:d.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:B(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(P),v.artworks.is_explicit)}]),onError:F[5]||(F[5]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,ea)])]))]))),128))])):r("",!0)]))}},oa=te(ta,[["__scopeId","data-v-a484fb7b"]]),la={class:"mb-2 w-full"},sa={key:0,class:"flex flex-row justify-between"},aa={class:"flex flex-row"},na={key:0},ia={key:1,class:"flex flex-row justify-between"},ra={class:"flex flex-row"},ua={class:"flex flex-row gap-2"},da={class:"flex flex-row gap-2"},ca={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ma=["onClick"],va={class:"flex flex-row pb-1 mt-4 font-bold"},pa={class:"text-xs font-normal"},fa={__name:"Collection",props:{userId:{type:Number,default:0}},setup(u){const P=u,_=ne();de(()=>{b()});const{oApiConfiguration:d,fetchOptions:F}=Z(),v=he(d,F()),$=f(!0),k=f("artwork"),p=f(0),h=f([]),a=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),i=f({artwork:0}),b=async()=>{$.value=!0;const[T,j,V]=await v.fetchCollections({userId:P.userId,type:k.value,pagination:{page:a.value.pagination.page,perPage:a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage}});if(V)s();else{T.length||(a.value.manageMode=!1,g()),T.forEach(ce=>{h.value.push(ce)}),a.value.pagination.page+=a.value.pagination.firstLoad/a.value.pagination.perPage,a.value.showLoadMore=j;const[se]=await v.countArtworkCollections(P.userId);i.value.artwork=se}$.value=!1},O=async()=>await b(),y=f(!1),g=()=>{y.value=!0,a.value.showLoadMore=!1},x=f(!1),s=()=>{$.value=!1,x.value=!0,a.value.showLoadMore=!1},E=async()=>{$.value=!1,y.value=!1,x.value=!1,a.value.pagination.page=0,h.value=[],await b()},U=T=>{a.value.showManageButton=!0,T&&(a.value.showManageButton=!1)},G=f(!1);let W;const c=async()=>{fe().splash(W,G,"created-alert"),await E()},I=f(null),R=()=>{I.value.fetch(p.value),ee().openModal("collection-edit-form-modal")},n=f(null),D=T=>{n.value.fetchInfo(),h.value.forEach(j=>{j.id===T.id&&(j.name=T.name,j.description=T.description,j.is_public=T.isPublic)})},q=f([]),re=T=>{q.value=T},Y=()=>{n.value.removeItem()},le=async()=>{if(p.value!==0){const[T,j]=await v.deleteCollection(p.value);T&&(p.value=0,E())}},ue=()=>{p.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(T,j)=>(t(),o("div",null,[e("div",la,[p.value?r("",!0):(t(),o("div",sa,[e("div",aa,[e("div",{class:B(["ml-0 primary-button theme-color-secondary",{"button-color text-white":k.value==="artwork"}]),onClick:j[0]||(j[0]=V=>k.value="artwork")},[z(l(T.$t("artworks.artwork"))+" ",1),e("span",{class:B(["px-1 ml-2 font-normal rounded",k.value==="artwork"?"theme-color":"button-color text-white"])},l(i.value.artwork),3)],2)]),w(_).loggedIn&&w(_).user.id===u.userId?(t(),o("div",na,[e("div",{class:"icon-button",onClick:j[1]||(j[1]=V=>T.openModal("collection-form-modal"))},[m(M,{name:"i-ion-add-outline"})])])):r("",!0)])),p.value?(t(),o("div",ia,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>ue())},[m(M,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",ra,[C(e("div",ua,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>a.value.manageMode=!a.value.manageMode)},[m(M,{name:a.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+l(a.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),C(e("button",{class:B(["flex flex-row",q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>q.value.length>0?T.openModal("item-deletion-confirm-modal"):null)},[m(M,{name:"i-akar-icons-trash-bin"}),z(" "+l(T.$t("collections.removeSelected")),1)],2),[[L,a.value.manageMode]])],512),[[L,w(_).loggedIn&&w(_).user.id===u.userId&&a.value.showManageButton]]),C(e("div",da,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>R())},[m(M,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>T.openModal("collection-deletion-confirm-modal"))},[m(M,{name:"i-akar-icons-trash-bin"})])],512),[[L,w(_).loggedIn&&w(_).user.id===u.userId&&!a.value.manageMode]])])])):r("",!0),C(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},l(T.$t("collections.manageModeActiveMessage")),513),[[L,a.value.manageMode]])]),p.value?r("",!0):(t(),o("div",ca,[(t(!0),o(Q,null,X(h.value,V=>(t(),o("div",{key:V.id,class:B(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:se=>p.value=V.id},[V.type==="artwork"?(t(),H(oa,{key:0,collection:V},null,8,["collection"])):r("",!0),e("div",va,[V.is_public?r("",!0):(t(),H(M,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",pa,l(V.name),1)])],10,ma))),128))])),a.value.showLoadMore&&!p.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:O},l(T.$t("loadMore")),1)):r("",!0),m(ie,{loading:$.value,empty:y.value,error:x.value,fetch:b},null,8,["loading","empty","error"]),!$.value&&!p.value?(t(),H(Jl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:k.value,class:"modal",onCreated:c},null,8,["category"])):r("",!0),C(m(pe,{id:"created-alert",text:T.$t("collections.created")},null,8,["text"]),[[L,G.value]]),!$.value&&p.value?(t(),H(gs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:I,"modal-id":"collection-edit-form-modal","collection-id":p.value,class:"modal",onUpdated:D},null,8,["collection-id"])):r("",!0),m(me,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:le},null,8,["message"]),m(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:Y},null,8,["message"]),p.value&&!$.value?(t(),H(ls,{key:4,id:p.value,ref_key:"collectionDetailRef",ref:n,"manage-mode":a.value.manageMode,type:k.value,onOnCollectionEmpty:U,onFeedManageList:re},null,8,["id","manage-mode","type"])):r("",!0)]))}},ha=te(fa,[["__scopeId","data-v-52371e9a"]]),wa={class:"text-lg font-bold"},ba={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ga={class:"flex flex-row w-full"},_a=["src"],ka={class:"flex flex-col justify-between p-3 w-full text-white"},ya={class:"flex flex-col"},$a={class:"font-bold"},xa={class:"text-xxs"},Ma={class:"flex flex-row w-full"},Ca={key:0,class:"flex flex-row"},Ia=["onClick"],Ea=["onMouseover","onClick"],La={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(u){const P=u,_=ne(),{oApiConfiguration:d,fetchOptions:F}=Z(),v=Ce(d,F());de(()=>{b()});const $=f([]),k=f(!0),p=f({page:0,perPage:12}),h=f(!1),a=f(!1),i=f(!1),b=async()=>{O(),k.value=!0;const[g,x]=await v.getFollowerList({userId:P.userId,pagination:{page:p.value.page,perPage:p.value.perPage}});x?h.value=!0:(g.followers.length||(a.value=!0),g.followers.forEach(s=>{$.value.push(s)}),p.value.page+=1,g.pagination.next_previous.next_page?i.value=!0:i.value=!1),k.value=!1},O=()=>{a.value=!1,h.value=!1},y=f(0);return(g,x)=>{const s=be;return t(),o("div",null,[e("div",wa,l(g.$t("followers")),1),e("div",ba,[(t(!0),o(Q,null,X($.value,(E,U)=>(t(),H(s,{key:E.id,to:"/profile/"+E.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(E.cover_bucket&&E.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g.avatarCoverUrl(E.cover_bucket,E.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Te)+");background-size:cover;")},{default:K(()=>[e("div",ga,[e("img",{src:g.avatarCoverUrl(E.avatar_bucket,E.avatar_filename),class:"avatar",onError:x[0]||(x[0]=(...G)=>g.imageLoadError&&g.imageLoadError(...G))},null,40,_a),e("div",ka,[e("div",ya,[e("span",$a,l(E.name),1),e("span",xa,l(E.pen_name),1)]),e("div",Ma,[w(_).loggedIn&&E.id!==w(_).user.id?(t(),o("div",Ca,[C(e("div",{class:"flex flex-row",onClick:J(G=>g.followUser(U,E.id),["prevent"])},[m(M,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ia),[[L,!E.is_following]]),C(e("div",{class:"flex flex-row",onMouseover:G=>y.value=E.id,onMouseout:x[1]||(x[1]=G=>y.value=0),onClick:J(G=>g.unfollowUser(U,E.id),["prevent"])},[C(m(M,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[L,y.value!==E.id]]),C(m(M,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[L,y.value&&y.value===E.id]])],40,Ea),[[L,E.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),C(e("div",{class:"mt-4 primary-button",onClick:x[2]||(x[2]=E=>b())},l(g.$t("loadMore")),513),[[L,i.value]]),m(ie,{loading:k.value,empty:a.value,error:h.value,fetch:b},null,8,["loading","empty","error"])])}}},Aa=te(La,[["__scopeId","data-v-b2599f1b"]]),Pa={class:"text-lg font-bold"},Fa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},Ta={class:"flex flex-row w-full"},Sa=["src"],ja={class:"flex flex-col justify-between p-3 w-full text-white"},Ra={class:"flex flex-col"},Ua={class:"font-bold"},Ba={class:"text-xxs"},za={class:"flex flex-row w-full"},Oa={key:0,class:"flex flex-row"},Va=["onClick"],Da=["onMouseover","onClick"],Na={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(u){const P=u,_=ne(),{oApiConfiguration:d,fetchOptions:F}=Z(),v=Ce(d,F());de(()=>{O()});const $=async()=>{k.value=[],h.value.page=0,await O()},k=f([]),p=f(!0),h=f({page:0,perPage:12}),a=f(!1),i=f(!1),b=f(!1),O=async()=>{y(),p.value=!0;const[x,s]=await v.getFollowingList({userId:P.userId,pagination:{page:h.value.page,perPage:h.value.perPage}});s?a.value=!0:(x.followings.length||(i.value=!0),x.followings.forEach(E=>{k.value.push(E)}),h.value.page+=1,x.pagination.next_previous.next_page?b.value=!0:b.value=!1),p.value=!1},y=()=>{i.value=!1,a.value=!1},g=f(0);return(x,s)=>{const E=be;return t(),o("div",null,[e("div",Pa,l(x.$t("followings")),1),e("div",Fa,[(t(!0),o(Q,null,X(k.value,(U,G)=>(t(),H(E,{key:U.id,to:"/profile/"+U.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(U.cover_bucket&&U.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+x.avatarCoverUrl(U.cover_bucket,U.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Te)+");background-size:cover;")},{default:K(()=>[e("div",Ta,[e("img",{src:x.avatarCoverUrl(U.avatar_bucket,U.avatar_filename),class:"avatar",onError:s[0]||(s[0]=(...W)=>x.imageLoadError&&x.imageLoadError(...W))},null,40,Sa),e("div",ja,[e("div",Ra,[e("span",Ua,l(U.name),1),e("span",Ba,l(U.pen_name),1)]),e("div",za,[w(_).loggedIn&&U.id!==w(_).user.id?(t(),o("div",Oa,[C(e("div",{class:"flex flex-row",onClick:J(W=>x.followUser(G,U.id),["prevent"])},[m(M,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Va),[[L,!U.is_following]]),C(e("div",{class:"flex flex-row",onMouseover:W=>g.value=U.id,onMouseout:s[1]||(s[1]=W=>g.value=0),onClick:J(W=>x.unfollowUser(G,U.id),["prevent"])},[C(m(M,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[L,g.value!==U.id]]),C(m(M,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[L,g.value&&g.value===U.id]])],40,Da),[[L,U.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),C(e("div",{class:"primary-button mt-4",onClick:s[2]||(s[2]=U=>O())},l(x.$t("loadMore")),513),[[L,b.value]]),m(ie,{loading:p.value,empty:i.value,error:a.value,fetch:$},null,8,["loading","empty","error"])])}}},qa=te(Na,[["__scopeId","data-v-5ff9c687"]]),Ga=u=>(ge("data-v-1ec3da97"),u=u(),_e(),u),Ha=["src"],Wa={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ja={class:"flex-row justify-between hidden-md-flex"},Ka={class:"mr-6 w-1/5"},Ya=["src"],Qa={class:"mt-2"},Xa={class:"flex flex-row"},Za={class:"flex flex-row"},en=z("\xA0 "),tn=z("\xA0 "),on={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},ln={class:"flex flex-col w-full"},sn={class:"flex flex-row w-full"},an={class:"w-9/12"},nn={class:"text-base font-semibold"},rn=z("\xA0 "),un={class:"mr-2 italic"},dn={class:"flex flex-row mt-2"},cn={key:0,class:"mr-1"},mn={class:"flex flex-row"},vn={class:"mr-1"},pn={key:0,class:"flex flex-row"},fn=z(" he/his "),hn={key:1,class:"flex flex-row"},wn=z(" she/her "),bn={class:"float-right w-3/12 text-right"},gn={class:"flex flex-row shadow-md primary-button"},_n={class:"leading-4"},kn={key:1,class:"mt-4"},yn=["href"],$n=["href"],xn=["href"],Mn=["href"],Cn=["href"],In={key:0,class:"mt-4"},En=["id","innerHTML"],Ln=["id"],An={class:"flex flex-col text-center md:hidden"},Pn=["src"],Fn={class:"mt-4 text-base font-semibold"},Tn={class:"flex flex-row justify-center mt-4"},Sn={key:0,class:"flex flex-row mr-1"},jn={class:"mr-1"},Rn={key:0,class:"flex flex-row"},Un=z(" he/his "),Bn={key:1,class:"flex flex-row"},zn=z(" she/her "),On={key:0,class:"mx-2 mt-4 text-center"},Vn=["id"],Dn=["id"],Nn={key:1,class:"flex flex-row justify-center mt-4"},qn=["href"],Gn=["href"],Hn=["href"],Wn=["href"],Jn=["href"],Kn={class:"flex flex-row justify-center w-full md:hidden"},Yn=z("\xA0 "),Qn=z("\xA0 "),Xn={class:"flex flex-row"},Zn={class:"flex flex-row"},ei={class:"mt-2"},ti={class:"flex flex-row justify-center md:hidden"},oi={class:"flex flex-row justify-between mt-2 md:mt-6"},li={class:"hidden flex-col lg:w-1/5 md:flex"},si={class:"profile-navigation_wrapper"},ai={class:"hidden-lg-flex"},ni=Ga(()=>e("span",{class:"hidden-lg-flex"},null,-1)),ii={class:"profile-navigation_wrapper"},ri={class:"hidden-lg-flex"},ui={class:"hidden-lg-flex"},di={class:"profile-navigation_wrapper"},ci={class:"hidden-lg-flex"},mi={class:"hidden-lg-flex"},vi={class:"w-full md:ml-6"},pi={key:0},fi={class:"flex flex-row w-full"},hi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},wi={key:1},bi={key:2},gi={key:3},_i={key:4},ki={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(u){const P=u,_=ne(),{oApiConfiguration:d,fetchOptions:F}=Z(),v=Ce(d,F()),$=ve(d,F()),k=he(d,F()),p=De(),h=Ae(),{o:a}=p.query,i=f(!0),b=a!=null?f(a):f("dashboard"),O=f("artwork"),y=Ne(()=>P.userLogon&&_.loggedIn?_.user.id:P.id),g=f({manageMode:!1,showManageMode:!0});de(async()=>{await U()});const x=S=>{b.value=S,g.value.manageMode=!1,a!=null&&h.push("/profile")},s=f({}),E=f({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),U=async()=>{i.value=!0;try{const[S]=await v.getInfo(y.value);if(s.value=S,_.loggedIn&&_.user.id!==y.value){const[ze]=await v.isFollowing(y.value);Y.value=ze.is_following}const[A]=await v.countFeeds(y.value);E.value.feed=A;const[oe]=await v.countArtworks(y.value);E.value.artwork=oe;const[N]=await v.countFollowers(y.value);E.value.followers=N;const[Re]=await v.countFollowings(y.value);E.value.followings=Re;const[Ue]=await $.countAlbums(y.value);E.value.album=Ue;const[Be]=await k.countCollections(y.value);E.value.collection=Be}catch{}i.value=!1},G=f(null),W=f([]),c=S=>{W.value=S},I=()=>{g.value.showManageMode=!1},R=f(null),n=()=>{ee().openModal("album-selection-modal")},D=f(!1);let q;const re=()=>{fe().splash(q,D,"item-added-to-album-alert")},Y=f(!1),le=f(null),ue=f("i-ri-user-follow-fill"),T=(S,A)=>{ue.value=S,le.value=A},j=async S=>{const[A,oe]=await v.follow(S);oe||(Y.value=!0)},V=async S=>{const[A,oe]=await v.unfollow(S);oe||(Y.value=!1)},se=f(!0),ce=(S,A,oe,N)=>{se.value=!1,Se().readMore(S,A,oe,N)};return(S,A)=>{const oe=be;return t(),H(He,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:K(()=>[e("div",null,[e("img",{src:S.avatarCoverUrl(s.value.cover_bucket,s.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:A[0]||(A[0]=(...N)=>S.defaultCoverImage&&S.defaultCoverImage(...N))},null,40,Ha),w(_).loggedIn&&w(_).user.id===s.value.id?(t(),H(oe,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:K(()=>[m(M,{name:"i-ph-gear-six"})]),_:1})):r("",!0)]),e("div",Wa,[e("div",Ja,[e("div",Ka,[e("img",{src:S.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:A[1]||(A[1]=(...N)=>S.defaultCoverImage&&S.defaultCoverImage(...N))},null,40,Ya),e("div",Qa,[w(_).loggedIn&&s.value.id!==w(_).user.id?(t(),o("div",{key:0,class:B(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":Y.value}]),onClick:A[2]||(A[2]=N=>Y.value?V(s.value.id):j(s.value.id)),onMouseover:A[3]||(A[3]=N=>T("i-ri-user-unfollow-fill",S.$t("unfollow"))),onMouseleave:A[4]||(A[4]=N=>T("i-ri-user-follow-fill",S.$t("following")))},[C(e("div",Xa,[m(M,{name:"i-ri-user-add-fill","text-size":"text-base"}),z(" "+l(S.$t("follow")),1)],512),[[L,!Y.value]]),C(e("div",Za,[m(M,{name:ue.value,"text-size":"text-base"},null,8,["name"]),z(" "+l(le.value===null?S.$t("following"):le.value),1)],512),[[L,Y.value]])],34)):r("",!0),e("div",{class:B(["flex-row justify-center border hidden-md-flex",s.value.id==w(_).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:A[5]||(A[5]=N=>b.value="followerList")},[e("b",null,l(E.value.followers),1),en,e("i",null,l(S.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:A[6]||(A[6]=N=>b.value="followingList")},[e("b",null,l(E.value.followings),1),tn,e("i",null,l(S.$t("following").toLowerCase()),1)])],2)])]),e("div",on,[e("div",ln,[e("div",sn,[e("div",an,[e("div",null,[e("span",nn,l(s.value.name),1),rn,e("span",un,l(s.value.username),1)]),e("div",dn,[s.value.pen_name&&s.value.pen_name!==""?(t(),o("div",cn,[e("span",mn,[m(M,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),z(" "+l(s.value.pen_name),1)])])):r("",!0),e("div",vn,[s.value.gender==="m"?(t(),o("span",pn,[m(M,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),fn])):r("",!0),s.value.gender==="f"?(t(),o("span",hn,[m(M,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),wn])):r("",!0)])])]),e("div",bn,[w(_).loggedIn&&w(_).user.id===s.value.id?(t(),H(oe,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:K(()=>[e("button",gn,[m(M,{name:"i-ph-gear-six",class:"mr-2"}),e("span",_n,l(S.$t("profile.setting")),1)])]),_:1})):r("",!0),s.value.user_socials?(t(),o("div",kn,[s.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-facebook",class:"text-xl"})],8,yn)):r("",!0),s.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-instagram",class:"text-xl"})],8,$n)):r("",!0),s.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-twitter",class:"text-xl"})],8,xn)):r("",!0),s.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Mn)):r("",!0),s.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"heart",class:"text-xl"})],8,Cn)):r("",!0)])):r("",!0)])]),e("div",null,[s.value.bio?(t(),o("p",In,[e("div",{id:"user-bio-"+s.value.id,innerHTML:s.value.bio.length>300?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,En),s.value.bio.length>300?(t(),o("a",{key:0,id:"user-bio-read-more-"+s.value.id,class:"href",onClick:A[7]||(A[7]=J(N=>ce(s.value.bio,s.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},l(S.$t("readMore")),9,Ln)):r("",!0)])):r("",!0)])])])]),e("div",An,[e("img",{src:S.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:A[8]||(A[8]=(...N)=>S.imageLoadError&&S.imageLoadError(...N))},null,40,Pn),e("div",Fn,l(s.value.name),1),e("div",null,l(s.value.username),1),e("div",Tn,[s.value.pen_name?(t(),o("span",Sn,[m(M,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),z(" "+l(s.value.pen_name&&s.value.pen_name!==""?s.value.pen_name:"-"),1)])):r("",!0),e("div",jn,[s.value.gender==="m"?(t(),o("span",Rn,[m(M,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Un])):r("",!0),s.value.gender==="f"?(t(),o("span",Bn,[m(M,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),zn])):r("",!0)])]),s.value.bio?(t(),o("div",On,[e("span",{id:"mobile__user-bio-"+s.value.id},l(s.value.bio.length>150&&se.value?`${s.value.bio.slice(0,150)}...`:s.value.bio),9,Vn),s.value.bio.length>150?(t(),o("a",{key:0,id:"mobile__user-bio-read-more-"+s.value.id,class:"href",onClick:A[9]||(A[9]=J(N=>ce(s.value.bio,s.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},l(S.$t("readMore")),9,Dn)):r("",!0)])):r("",!0),s.value.user_socials?(t(),o("div",Nn,[s.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-facebook",class:"text-xl"})],8,qn)):r("",!0),s.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Gn)):r("",!0),s.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Hn)):r("",!0),s.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Wn)):r("",!0),s.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(M,{name:"i-ion-heart",class:"text-xl"})],8,Jn)):r("",!0)])):r("",!0),e("div",Kn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:A[10]||(A[10]=N=>b.value="followerList")},[e("b",null,l(E.value.followers),1),Yn,e("i",null,l(S.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:A[11]||(A[11]=N=>b.value="followingList")},[e("b",null,l(E.value.followings),1),Qn,e("i",null,l(S.$t("following")),1)])]),w(_).loggedIn&&s.value.id!==w(_).user.id?(t(),o("div",{key:2,class:B(["mt-2 w-auto",Y.value?"danger-button":"primary-button"]),onClick:A[12]||(A[12]=N=>Y.value?V(s.value.id):j(s.value.id))},[C(e("div",Xn,[m(M,{name:"i-ri-user-add-fill","text-size":"text-base"}),z(" "+l(S.$t("follow")),1)],512),[[L,!Y.value]]),C(e("div",Zn,[m(M,{name:ue.value,"text-size":"text-base"},null,8,["name"]),z(" "+l(le.value===null?S.$t("following"):le.value),1)],512),[[L,Y.value]])],2)):r("",!0)]),e("div",ei,[e("div",ti,[e("div",{class:B(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(b)=="dashboard"}]),onClick:A[13]||(A[13]=N=>x("dashboard"))},[e("div",null,[C(m(M,{name:"i-ion-home-outline",class:"text-white"},null,512),[[L,w(b)=="dashboard"]]),C(m(M,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[L,w(b)!="dashboard"]])]),e("span",null,l(S.$t("dashboard")),1)],2),e("div",{class:B(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(b)=="albums"}]),onClick:A[14]||(A[14]=N=>x("albums"))},[e("div",null,[C(m(M,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[L,w(b)=="albums"]]),C(m(M,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[L,w(b)!="albums"]])]),e("span",null,l(S.$t("albums.album")),1)],2),e("div",{class:B(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(b)=="collections"}]),onClick:A[15]||(A[15]=N=>x("collections"))},[e("div",null,[C(m(M,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[L,w(b)=="collections"]]),C(m(M,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[L,w(b)!="collections"]])]),e("span",null,l(S.$t("collections.collection")),1)],2)]),e("div",oi,[e("div",li,[e("div",{class:B(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(b)==="dashboard"}]),onClick:A[16]||(A[16]=N=>x("dashboard"))},[e("div",si,[C(m(M,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[L,w(b)==="dashboard"]]),C(m(M,{name:"i-humbleicons-dashboard"},null,512),[[L,w(b)!=="dashboard"]]),e("label",ai,l(S.$t("dashboard")),1)]),ni],2),e("div",{class:B(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(b)==="albums"}]),onClick:A[17]||(A[17]=N=>x("albums"))},[e("div",ii,[C(m(M,{name:"i-bx-photo-album",class:"text-white"},null,512),[[L,w(b)==="albums"]]),C(m(M,{name:"i-bx-photo-album"},null,512),[[L,w(b)!=="albums"]]),e("label",ri,l(S.$t("albums.album")),1)]),e("span",ui,l(E.value.album),1)],2),e("div",{class:B(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(b)==="collections"}]),onClick:A[18]||(A[18]=N=>x("collections"))},[e("div",di,[C(m(M,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[L,w(b)==="collections"]]),C(m(M,{name:"i-majesticons-bookmark-line"},null,512),[[L,w(b)!=="collections"]]),e("label",ci,l(S.$t("collections.collection")),1)]),e("span",mi,l(E.value.collection),1)],2)]),e("div",vi,[w(b)==="dashboard"?(t(),o("div",pi,[e("div",fi,[e("div",{class:B(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":O.value==="feed"}]),onClick:A[19]||(A[19]=N=>O.value="feed")},[z(l(S.$t("feed"))+" ",1),e("span",{class:B(["px-1 ml-2 rounded",O.value==="feed"?"theme-color":"button-color text-white"])},l(E.value.feed),3)],2),e("div",{class:B(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":O.value==="artwork"}]),onClick:A[20]||(A[20]=N=>O.value="artwork")},[z(l(S.$t("artworks.artwork"))+" ",1),e("span",{class:B(["px-1 ml-2 rounded",O.value==="artwork"?"theme-color":"button-color text-white"])},l(E.value.artwork),3)],2)]),C(e("div",hi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:A[21]||(A[21]=N=>g.value.manageMode=!g.value.manageMode)},[m(M,{name:g.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+l(g.value.manageMode?S.$t("quit"):S.$t("manage")),1)]),C(e("button",{class:"w-full primary-button md:w-auto",onClick:A[22]||(A[22]=N=>n())},[m(M,{name:"i-ion-add-outline"}),z(" "+l(S.$t("albums.addToAlbum")),1)],512),[[L,g.value.manageMode]])],512),[[L,!i.value&&w(_).loggedIn&&w(_).user.id===s.value.id&&O.value==="artwork"&&g.value.showManageMode]]),m(ie,{loading:i.value},null,8,["loading"]),C(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},l(S.$t("profile.manageModeActiveMessage")),513),[[L,g.value.manageMode]]),e("div",null,[O.value==="feed"?(t(),H(Vt,{key:0,ref:"feedListRef",class:"mt-2","user-id":s.value.id},null,8,["user-id"])):r("",!0),!i.value&&O.value==="artwork"?(t(),H(Gt,{key:1,ref_key:"artworkListRef",ref:G,"user-id":s.value.id,"manage-mode":g.value.manageMode,onFeedSelectedItems:c,onOnEmpty:I},null,8,["user-id","manage-mode"])):r("",!0)])])):r("",!0),w(b)==="albums"?(t(),o("div",wi,[i.value?r("",!0):(t(),H(Fl,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),w(b)==="collections"?(t(),o("div",bi,[i.value?r("",!0):(t(),H(ha,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),w(b)==="followerList"?(t(),o("div",gi,[i.value?r("",!0):(t(),H(Aa,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),w(b)==="followingList"?(t(),o("div",_i,[i.value?r("",!0):(t(),H(qa,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0)])])])]),i.value?r("",!0):(t(),H(qe,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:R,class:"modal","work-ids":W.value,onAddedToAlbum:re},null,8,["work-ids"])),C(m(pe,{id:"item-added-to-album-alert",text:S.$t("albums.itemAdded")},null,8,["text"]),[[L,D.value]])]),_:1})}}},Pi=te(ki,[["__scopeId","data-v-1ec3da97"]]);export{Pi as P};
