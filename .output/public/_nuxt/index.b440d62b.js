import{l as W,k as D,C as F,a1 as O,r as n,P as R,c as q,w as z,o as w,b as a,t as c,u as e,q as M,I as p,f as d,Q as b,s as h,x as P,e as x,v as k,O as Q}from"./entry.ea93fdf2.js";import{u as j}from"./ProBadge.e3dc9c3a.js";import{L as G}from"./Layout.7db09108.js";import{W as H}from"./WorkList.4a26cf02.js";import{M as J}from"./ModalView.4408fcca.js";import{_ as K}from"./LoadingEmptyErrorMessage.118d4a88.js";import{_ as U}from"./_plugin-vue_export-helper.c27b6911.js";import"./useReport.d0d73bb6.js";import"./index.af539870.js";import"./MiniArtworkPreview.a5a5c06c.js";import"./user-counters-api.8980a299.js";import"./useSetting.33e0bf81.js";import"./useFeed.53b119c5.js";const X={id:"lists"},Y={class:"navigations"},Z={class:"title"},ee={class:"buttons"},te={key:0,class:"filter-buttons"},oe={class:"mt-4"},ae={key:0,class:"art-list-view-paging-control"},se={id:"recent-modal",class:"modal work-view"},ne={__name:"index",setup(ie){const g=W(),{oApiConfiguration:N,fetchOptions:V}=D(),A=j(N,V()),{$router:B}=F();O(()=>{g.loggedIn||B.push("/"),m()});const r=n(void 0),_=async t=>{r.value=t,u.page=0,await m()},y=n([]),l=n({pagination:{enablePrev:!0,enableNext:!0}}),m=async()=>{const t=await E(),o=t.works,s=t.pagination;!o.length&&s.record_total===0?I():(y.value=o,s.next_previous.next_page===null?l.value.pagination.enableNext=!1:l.value.pagination.enableNext=!0,s.next_previous.prev_page===null?l.value.pagination.enablePrev=!1:l.value.pagination.enablePrev=!0)},i=n(!0),u=R({perPage:30,page:n(0)}),E=async()=>{u.page===0&&(i.value=!0);const[t,o]=await A.getFollowing({pagination:{perPage:u.perPage,page:u.page},explicitMode:r.value});if(o)L();else return S(),t},$=async t=>{t==="prev"?u.page-=1:u.page+=1,await m(),window.scrollTo(0,0)},f=n(!1),I=()=>{f.value=!0},v=n(!1),L=()=>{i.value=!1,v.value=!0,hideButton()},S=()=>{i.value=!1,f.value=!1,v.value=!1},C=n(null),T=(t,o=!1)=>{C.value.view(t,o),Q().openModal("recent-modal")};return(t,o)=>(w(),q(G,{"with-footer":!0,"hide-side":!0,"no-right-side":!0,fullscreen:!0},{default:z(()=>[a("div",X,[a("div",Y,[a("div",Z,c(t.$t("followings.followings")),1),a("div",ee,[e(g).loggedIn&&e(g).user.user_settings.show_explicit?(w(),M("div",te,[a("p",{class:p(["rounded-l-md button-item",[e(r)===void 0?"button":"theme-color"]]),onClick:o[0]||(o[0]=s=>_(void 0))},c(t.$t("default")),3),a("p",{class:p(["button-item",[e(r)==="safe"?"button":"theme-color"]]),onClick:o[1]||(o[1]=s=>_("safe"))},c(t.$t("safe")),3),a("p",{class:p(["rounded-r-md button-item",[e(r)==="explicit"?"button":"theme-color"]]),onClick:o[2]||(o[2]=s=>_("explicit"))},[d(b,{name:"i-material-symbols-explicit-outline",class:p({"text-white":e(r)==="explicit"})},null,8,["class"]),h(" "+c(t.$t("explicit")),1)],2)])):P("",!0)])]),d(K,{loading:e(i),empty:e(f),error:e(v),fetch:m},null,8,["loading","empty","error"]),x(a("div",oe,[x(d(H,{"section-class":"work-grid-10",works:e(y),view:T},null,8,["works"]),[[k,!e(f)]])],512),[[k,!e(i)]]),!e(i)&&!e(f)&&!e(v)?(w(),M("div",ae,[a("button",{class:p([e(l).pagination.enablePrev?"primary-button":"disabled-button"]),onClick:o[3]||(o[3]=s=>$("prev"))},[d(b,{name:"i-ion-chevron-back-outline"}),h(" "+c(t.$t("pagination.previous")),1)],2),a("button",{class:p([e(l).pagination.enableNext?"primary-button":"disabled-button"]),onClick:o[4]||(o[4]=s=>$("next"))},[h(c(t.$t("pagination.next"))+" ",1),d(b,{name:"i-ion-chevron-forward-outline",class:"md:ml-2",style:{"margin-right":"0 !important"}})],2)])):P("",!0),a("div",se,[x(d(J,{ref_key:"recentModalViewRef",ref:C,section:"recent"},null,512),[[k,!e(i)]])])])]),_:1}))}},he=U(ne,[["__scopeId","data-v-782a9649"]]);export{he as default};
