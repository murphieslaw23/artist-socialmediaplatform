import{a7 as G,a8 as H,r as b,u as o,D as j,a9 as U,m as V,a6 as k,a4 as K,E as S,k as q,l as J,o as m,p as _,P as X,Q as Y,K as O,G as W,q as E,t as I,x as y,e as L,L as C,c as Z,w as ee,y as te}from"./entry.ed1bfc63.js";import{_ as se}from"./_plugin-vue_export-helper.a1a6add7.js";var A;const w=typeof window<"u",ne=e=>typeof e=="string",ae=()=>{};w&&((A=window==null?void 0:window.navigator)==null?void 0:A.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function P(e){return typeof e=="function"?e():o(e)}function ie(e){return e}function N(e){return G()?(H(e),!0):!1}function oe(e){return typeof e=="function"?j(e):b(e)}function re(e,i=!0){U()?V(e):i?e():k(e)}function le(e,i,s={}){const{immediate:a=!0}=s,r=b(!1);let l=null;function c(){l&&(clearTimeout(l),l=null)}function d(){r.value=!1,c()}function v(...u){c(),r.value=!0,l=setTimeout(()=>{r.value=!1,l=null,e(...u)},P(i))}return a&&(r.value=!0,w&&v()),N(d),{isPending:r,start:v,stop:d}}function ue(e){var i;const s=P(e);return(i=s==null?void 0:s.$el)!=null?i:s}const z=w?window:void 0;w&&window.document;const ce=w?window.navigator:void 0;w&&window.location;function de(...e){let i,s,a,r;if(ne(e[0])||Array.isArray(e[0])?([s,a,r]=e,i=z):[i,s,a,r]=e,!i)return ae;Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]);const l=[],c=()=>{l.forEach(p=>p()),l.length=0},d=(p,n,f)=>(p.addEventListener(n,f,r),()=>p.removeEventListener(n,f,r)),v=S(()=>ue(i),p=>{c(),p&&l.push(...s.flatMap(n=>a.map(f=>d(p,n,f))))},{immediate:!0,flush:"post"}),u=()=>{v(),c()};return N(u),u}function D(e,i=!1){const s=b(),a=()=>s.value=Boolean(e());return a(),re(a,i),s}function fe(e,i={}){const{window:s=z}=i,a=D(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let r;const l=b(!1),c=()=>{!r||("removeEventListener"in r?r.removeEventListener("change",d):r.removeListener(d))},d=()=>{!a.value||(c(),r=s.matchMedia(oe(e).value),l.value=r.matches,"addEventListener"in r?r.addEventListener("change",d):r.addListener(d))};return K(d),N(()=>c()),l}function Re(e={}){const{navigator:i=ce,read:s=!1,source:a,copiedDuring:r=1500,legacy:l=!1}=e,c=["copy","cut"],d=D(()=>i&&"clipboard"in i),v=j(()=>d.value||l),u=b(""),p=b(!1),n=le(()=>p.value=!1,r);function f(){d.value?i.clipboard.readText().then(g=>{u.value=g}):u.value=x()}if(v.value&&s)for(const g of c)de(g,f);async function M(g=P(a)){v.value&&g!=null&&(d.value?await i.clipboard.writeText(g):t(g),u.value=g,p.value=!0,n.start())}function t(g){const h=document.createElement("textarea");h.value=g!=null?g:"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function x(){var g,h,Q;return(Q=(h=(g=document==null?void 0:document.getSelection)==null?void 0:g.call(document))==null?void 0:h.toString())!=null?Q:""}return{isSupported:v,text:u,copied:p,copy:M}}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B="__vueuse_ssr_handlers__";T[B]=T[B]||{};T[B];var F;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(F||(F={}));var pe=Object.defineProperty,$=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,R=(e,i,s)=>i in e?pe(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,_e=(e,i)=>{for(var s in i||(i={}))ge.call(i,s)&&R(e,s,i[s]);if($)for(var s of $(i))me.call(i,s)&&R(e,s,i[s]);return e};const ve={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};_e({linear:ie},ve);const he=["href","onClick"],ye={class:"overflow-hidden relative text-center rounded-md"},be={class:"flex flex-row gap-1 mini-icon"},xe={key:0,class:"regular"},Ee={key:1,class:"original-character"},Oe={key:2,class:"redraw"},we={key:3,class:"gore"},Ie={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},Le=["href"],Ce=["src"],Me={class:"overflow-hidden relative text-center rounded-md"},Se={class:"mini-icon"},Te={key:0,class:"regular"},Be={key:1,class:"original-character"},Pe={key:2,class:"redraw"},Ne={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},Qe=["href"],We=["src"],Ae={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0},hideRedrawIcon:{type:Boolean,default:!1},directOpen:{type:Boolean,default:!1}},emits:"feedManageList",setup(e,{emit:i}){const s=e,a=q();S(()=>s.currentWorkId,n=>{c.value=n});const r=J(),l=b(!1),c=b(s.currentWorkId),d=fe("(min-width: 1024px)"),v=n=>{s.directOpen?r.push({path:"/a/"+n}):d.value&&!s.isMiniList||s.isMiniList?(c.value=n,s.view(n)):r.replace({path:"/a/"+n})},u=b([]),p=n=>{if(u.value.includes(n)){const f=u.value.indexOf(n);u.value.splice(f,1)}else u.value.push(n);i("feedManageList",u.value)};return S(()=>s.manageMode,n=>{n===!1&&(u.value=[])}),(n,f)=>{const M=te;return m(),_("section",{class:O(e.sectionClass)},[(m(!0),_(X,null,Y(e.works,t=>(m(),_("span",{key:t.id,class:O(["work-thumbnail theme-color-bg rounded-lg",t._count.artwork_assets>1&&o(c)!=t.id?"work-multiple":"",{"border-4 border-yellow-400":o(u).includes(t.id)||o(c)==t.id}])},[!e.isHref&&!e.isMiniList?(m(),_("a",{key:0,href:"/a/"+t.id,onClick:W(x=>e.manageMode?p(t.id):e.view(t.id),["prevent"]),class:"w-full h-full theme-color-bg"},[E("div",ye,[E("div",be,[t._count.artwork_assets>1&&!n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)?(m(),_("p",xe,I(t._count.artwork_assets),1)):y("",!0),t.is_original_character?(m(),_("p",Ee,[L(C,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):y("",!0),t.redraw_of&&!e.hideRedrawIcon?(m(),_("p",Oe,[L(C,{name:"i-fluent-draw-image-20-regular",class:"text-white"})])):y("",!0),t.is_gore?(m(),_("p",we," G ")):y("",!0)]),n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)?(m(),_("span",Ie,I(t.is_gore?n.$t("goreContent"):n.$t("explicitContent")),1)):y("",!0),E("a",{href:"/a/"+t.id,class:O([{"animate-wigglefast":e.manageMode}])},[E("img",{preload:"",loading:"lazy",src:(!o(a).loggedIn||o(a).loggedIn&&o(a).user.user_settings&&!o(a).user.user_settings.show_explicit)&&t.is_explicit||(!o(a).loggedIn||o(a).loggedIn&&o(a).user.user_settings&&!o(a).user.user_settings.show_gore)&&t.is_gore?"https://via.placeholder.com/150":n.artworkThumb(t.artwork_assets[0].bucket,t.artwork_assets[0].filename,"thumbnail",o(l)),class:O(["w-full h-full unselectable",{"object-cover":!o(l)},o(l)?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)}]),onError:f[0]||(f[0]=(...x)=>n.imageLoadError&&n.imageLoadError(...x))},null,42,Ce)],10,Le)])],8,he)):(m(),Z(M,{key:1,onClick:x=>e.manageMode?p(t.id):v(t.id)},{default:ee(()=>[E("div",Me,[E("div",Se,[t._count.artwork_assets>1&&!n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)?(m(),_("p",Te,I(t._count.artwork_assets),1)):y("",!0),t.is_original_character?(m(),_("p",Be,[L(C,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):y("",!0),t.redraw_of&&!e.hideRedrawIcon?(m(),_("p",Pe,[L(C,{name:"i-fluent-draw-image-20-regular",class:"text-white"})])):y("",!0)]),n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)?(m(),_("span",Ne,I(t.is_gore?n.$t("goreContent"):n.$t("explicitContent")),1)):y("",!0),E("a",{href:"/a/"+t.id,onClick:f[2]||(f[2]=W(x=>n.void,["prevent"])),class:O([{"animate-wigglefast":e.manageMode}])},[E("img",{preload:"",loading:"lazy",src:(!o(a).loggedIn||o(a).loggedIn&&o(a).user.user_settings&&!o(a).user.user_settings.show_explicit)&&t.is_explicit||(!o(a).loggedIn||o(a).loggedIn&&o(a).user.user_settings&&!o(a).user.user_settings.show_gore)&&t.is_gore?"https://via.placeholder.com/150":n.artworkThumb(t.artwork_assets[0].bucket,t.artwork_assets[0].filename,"thumbnail",o(l)),class:O(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(o(a),t.is_explicit,t.is_gore)}]),onError:f[1]||(f[1]=(...x)=>n.imageLoadError&&n.imageLoadError(...x))},null,42,We)],10,Qe)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},je=se(Ae,[["__scopeId","data-v-7821857f"]]);export{je as W,Re as u};
