import{ad as Fs,k as Hl,j as za,C as Xa,I as Wl,O as $l,a as Ka,r as ye,D as Yl,m as ql,ae as zl,E as Za,a1 as Xl,o as ge,p as tt,q as j,u as C,s as xt,t as me,e as Ce,L as ke,x as pt,b as xe,v as Fe,F as Bs,K as $e,w as ai,c as ze,T as Qa,G as Mt,$ as Kl,h as Zl,M as Ql,N as Jl,f as Vs}from"./entry.ae51314b.js";import{u as ec,L as tc}from"./Layout.288d44a5.js";import{u as nc,_ as rc}from"./ProBadge.de1f3ff6.js";import{u as ic}from"./useSetting.f194dec2.js";import{v as Ja}from"./vue3-editor.common.5407f97f.js";import{S as Sn}from"./Spinner.96f551a8.js";import{_ as eo}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as sc}from"./useFeed.607ee023.js";(()=>{function e(o){return function(s){if(Array.isArray(s))return t(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return t(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function t(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function n(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function r(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?n(Object(d),!0).forEach(function(a){i(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):n(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function i(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function l(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function c(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var u={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},f=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,o),this._items=a,this._options=r(r({},u),g),this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._items.length&&this._items.map(function(g){g.active&&a.open(g.id),g.triggerEl.addEventListener("click",function(){a.toggle(g.id)})})}},{key:"getItem",value:function(a){return this._items.filter(function(g){return g.id===a})[0]}},{key:"open",value:function(a){var g,T,R=this,P=this.getItem(a);this._options.alwaysOpen||this._items.map(function(F){var B,K;F!==P&&((B=F.triggerEl.classList).remove.apply(B,e(R._options.activeClasses.split(" "))),(K=F.triggerEl.classList).add.apply(K,e(R._options.inactiveClasses.split(" "))),F.targetEl.classList.add("hidden"),F.triggerEl.setAttribute("aria-expanded",!1),F.active=!1,F.iconEl&&F.iconEl.classList.remove("rotate-180"))}),(g=P.triggerEl.classList).add.apply(g,e(this._options.activeClasses.split(" "))),(T=P.triggerEl.classList).remove.apply(T,e(this._options.inactiveClasses.split(" "))),P.triggerEl.setAttribute("aria-expanded",!0),P.targetEl.classList.remove("hidden"),P.active=!0,P.iconEl&&P.iconEl.classList.add("rotate-180"),this._options.onOpen(this,P)}},{key:"toggle",value:function(a){var g=this.getItem(a);g.active?this.close(a):this.open(a),this._options.onToggle(this,g)}},{key:"close",value:function(a){var g,T,R=this.getItem(a);(g=R.triggerEl.classList).remove.apply(g,e(this._options.activeClasses.split(" "))),(T=R.triggerEl.classList).add.apply(T,e(this._options.inactiveClasses.split(" "))),R.targetEl.classList.add("hidden"),R.triggerEl.setAttribute("aria-expanded",!1),R.active=!1,R.iconEl&&R.iconEl.classList.remove("rotate-180"),this._options.onClose(this,R)}}])&&c(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function h(){document.querySelectorAll("[data-accordion]").forEach(function(o){var s=o.getAttribute("data-accordion"),d=o.getAttribute("data-active-classes"),a=o.getAttribute("data-inactive-classes"),g=[];o.querySelectorAll("[data-accordion-target]").forEach(function(T){var R={id:T.getAttribute("data-accordion-target"),triggerEl:T,targetEl:document.querySelector(T.getAttribute("data-accordion-target")),iconEl:T.querySelector("[data-accordion-icon]"),active:T.getAttribute("aria-expanded")==="true"};g.push(R)}),new f(g,{alwaysOpen:s==="open",activeClasses:d||u.activeClasses,inactiveClasses:a||u.inactiveClasses})})}window.Accordion=f,document.readyState!=="loading"?h():document.addEventListener("DOMContentLoaded",h);function p(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function m(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?p(Object(d),!0).forEach(function(a){b(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):p(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function b(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function I(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function E(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var w={triggerEl:null,onCollapse:function(){},onExpand:function(){},onToggle:function(){}},O=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1?arguments[1]:void 0;I(this,o),this._targetEl=a,this._triggerEl=g?g.triggerEl:w.triggerEl,this._options=m(m({},w),g),this._visible=!1,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){a._visible?a.collapse():a.expand()}))}},{key:"collapse",value:function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)}},{key:"expand",value:function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)}},{key:"toggle",value:function(){this._visible?this.collapse():this.expand()}}])&&E(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function D(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(o){var s=document.getElementById(o.getAttribute("data-collapse-toggle"));new O(s,{triggerEl:o})})}window.Collapse=O,document.readyState!=="loading"?D():document.addEventListener("DOMContentLoaded",D);function _(o){return function(s){if(Array.isArray(s))return y(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return y(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function v(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function S(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?v(Object(d),!0).forEach(function(a){G(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):v(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function G(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function W(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function M(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var N={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Y=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W(this,o),this._items=a,this._options=S(S(S({},N),g),{},{indicators:S(S({},N.indicators),g.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._interval=null,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._items.map(function(g){g.el.classList.add("absolute","inset-0","transition-all","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(g,T){g.el.addEventListener("click",function(){a.slideTo(T)})})}},{key:"getItem",value:function(a){return this._items[a]}},{key:"slideTo",value:function(a){var g=this._items[a],T={left:g.position===0?this._items[this._items.length-1]:this._items[g.position-1],middle:g,right:g.position===this._items.length-1?this._items[0]:this._items[g.position+1]};this._rotate(T),this._setActiveItem(g.position),this._interval&&(this.pause(),this.cycle()),this._options.onChange(this)}},{key:"next",value:function(){var a=this._getActiveItem(),g=null;g=a.position===this._items.length-1?this._items[0]:this._items[a.position+1],this.slideTo(g.position),this._options.onNext(this)}},{key:"prev",value:function(){var a=this._getActiveItem(),g=null;g=a.position===0?this._items[this._items.length-1]:this._items[a.position-1],this.slideTo(g.position),this._options.onPrev(this)}},{key:"_rotate",value:function(a){this._items.map(function(g){g.el.classList.add("hidden")}),a.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),a.left.el.classList.add("-translate-x-full","z-10"),a.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),a.middle.el.classList.add("translate-x-0","z-20"),a.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),a.right.el.classList.add("translate-x-full","z-10")}},{key:"cycle",value:function(){var a=this;this._interval=setInterval(function(){a.next()},this._options.interval)}},{key:"pause",value:function(){clearInterval(this._interval)}},{key:"_getActiveItem",value:function(){return this._activeItem}},{key:"_setActiveItem",value:function(a){var g,T,R=this;this._activeItem=this._items[a],this._indicators.length&&(this._indicators.map(function(P){var F,B;P.el.setAttribute("aria-current","false"),(F=P.el.classList).remove.apply(F,_(R._options.indicators.activeClasses.split(" "))),(B=P.el.classList).add.apply(B,_(R._options.indicators.inactiveClasses.split(" ")))}),(g=this._indicators[a].el.classList).add.apply(g,_(this._options.indicators.activeClasses.split(" "))),(T=this._indicators[a].el.classList).remove.apply(T,_(this._options.indicators.inactiveClasses.split(" "))),this._indicators[a].el.setAttribute("aria-current","true"))}}])&&M(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function V(){document.querySelectorAll("[data-carousel]").forEach(function(o){var s=o.getAttribute("data-carousel-interval"),d=o.getAttribute("data-carousel")==="slide",a=[],g=0;o.querySelectorAll("[data-carousel-item]").length&&_(o.querySelectorAll("[data-carousel-item]")).map(function(B,K){a.push({position:K,el:B}),B.getAttribute("data-carousel-item")==="active"&&(g=K)});var T=[];o.querySelectorAll("[data-carousel-slide-to]").length&&_(o.querySelectorAll("[data-carousel-slide-to]")).map(function(B){T.push({position:B.getAttribute("data-carousel-slide-to"),el:B})});var R=new Y(a,{defaultPosition:g,indicators:{items:T},interval:s||N.interval});d&&R.cycle();var P=o.querySelector("[data-carousel-next]"),F=o.querySelector("[data-carousel-prev]");P&&P.addEventListener("click",function(){R.next()}),F&&F.addEventListener("click",function(){R.prev()})})}window.Carousel=Y,document.readyState!=="loading"?V():document.addEventListener("DOMContentLoaded",V);function H(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function ie(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?H(Object(d),!0).forEach(function(a){k(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):H(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function k(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function te(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function L(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var x={triggerEl:null,transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},U=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te(this,o),this._targetEl=a,this._triggerEl=g?g.triggerEl:x.triggerEl,this._options=ie(ie({},x),g),this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){a.hide()})}},{key:"hide",value:function(){var a=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){a._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)}}])&&L(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function $(){document.querySelectorAll("[data-dismiss-target]").forEach(function(o){var s=document.querySelector(o.getAttribute("data-dismiss-target"));new U(s,{triggerEl:o})})}window.Dismiss=U,document.readyState!=="loading"?$():document.addEventListener("DOMContentLoaded",$);function Z(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var s=o.ownerDocument;return s&&s.defaultView||window}return o}function ne(o){return o instanceof Z(o).Element||o instanceof Element}function Ie(o){return o instanceof Z(o).HTMLElement||o instanceof HTMLElement}function J(o){return typeof ShadowRoot<"u"&&(o instanceof Z(o).ShadowRoot||o instanceof ShadowRoot)}var q=Math.max,Ne=Math.min,z=Math.round;function X(o,s){s===void 0&&(s=!1);var d=o.getBoundingClientRect(),a=1,g=1;if(Ie(o)&&s){var T=o.offsetHeight,R=o.offsetWidth;R>0&&(a=z(d.width)/R||1),T>0&&(g=z(d.height)/T||1)}return{width:d.width/a,height:d.height/g,top:d.top/g,right:d.right/a,bottom:d.bottom/g,left:d.left/a,x:d.left/a,y:d.top/g}}function Ae(o){var s=Z(o);return{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset}}function De(o){return o?(o.nodeName||"").toLowerCase():null}function _e(o){return((ne(o)?o.ownerDocument:o.document)||window.document).documentElement}function vt(o){return X(_e(o)).left+Ae(o).scrollLeft}function mt(o){return Z(o).getComputedStyle(o)}function Or(o){var s=mt(o),d=s.overflow,a=s.overflowX,g=s.overflowY;return/auto|scroll|overlay|hidden/.test(d+g+a)}function sl(o,s,d){d===void 0&&(d=!1);var a,g,T=Ie(s),R=Ie(s)&&function(Q){var ve=Q.getBoundingClientRect(),ae=z(ve.width)/Q.offsetWidth||1,fe=z(ve.height)/Q.offsetHeight||1;return ae!==1||fe!==1}(s),P=_e(s),F=X(o,R),B={scrollLeft:0,scrollTop:0},K={x:0,y:0};return(T||!T&&!d)&&((De(s)!=="body"||Or(P))&&(B=(a=s)!==Z(a)&&Ie(a)?{scrollLeft:(g=a).scrollLeft,scrollTop:g.scrollTop}:Ae(a)),Ie(s)?((K=X(s,!0)).x+=s.clientLeft,K.y+=s.clientTop):P&&(K.x=vt(P))),{x:F.left+B.scrollLeft-K.x,y:F.top+B.scrollTop-K.y,width:F.width,height:F.height}}function Dr(o){var s=X(o),d=o.offsetWidth,a=o.offsetHeight;return Math.abs(s.width-d)<=1&&(d=s.width),Math.abs(s.height-a)<=1&&(a=s.height),{x:o.offsetLeft,y:o.offsetTop,width:d,height:a}}function Gn(o){return De(o)==="html"?o:o.assignedSlot||o.parentNode||(J(o)?o.host:null)||_e(o)}function Gi(o){return["html","body","#document"].indexOf(De(o))>=0?o.ownerDocument.body:Ie(o)&&Or(o)?o:Gi(Gn(o))}function gn(o,s){var d;s===void 0&&(s=[]);var a=Gi(o),g=a===((d=o.ownerDocument)==null?void 0:d.body),T=Z(a),R=g?[T].concat(T.visualViewport||[],Or(a)?a:[]):a,P=s.concat(R);return g?P:P.concat(gn(Gn(R)))}function al(o){return["table","td","th"].indexOf(De(o))>=0}function Fi(o){return Ie(o)&&mt(o).position!=="fixed"?o.offsetParent:null}function mn(o){for(var s=Z(o),d=Fi(o);d&&al(d)&&mt(d).position==="static";)d=Fi(d);return d&&(De(d)==="html"||De(d)==="body"&&mt(d).position==="static")?s:d||function(a){var g=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;if(navigator.userAgent.indexOf("Trident")!==-1&&Ie(a)&&mt(a).position==="fixed")return null;for(var T=Gn(a);Ie(T)&&["html","body"].indexOf(De(T))<0;){var R=mt(T);if(R.transform!=="none"||R.perspective!=="none"||R.contain==="paint"||["transform","perspective"].indexOf(R.willChange)!==-1||g&&R.willChange==="filter"||g&&R.filter&&R.filter!=="none")return T;T=T.parentNode}return null}(o)||s}var Ue="top",Ke="bottom",Ze="right",je="left",Rr="auto",En=[Ue,Ke,Ze,je],$t="start",_n="end",Bi="viewport",yn="popper",Vi=En.reduce(function(o,s){return o.concat([s+"-"+$t,s+"-"+_n])},[]),Ui=[].concat(En,[Rr]).reduce(function(o,s){return o.concat([s,s+"-"+$t,s+"-"+_n])},[]),ol=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ll(o){var s=new Map,d=new Set,a=[];function g(T){d.add(T.name),[].concat(T.requires||[],T.requiresIfExists||[]).forEach(function(R){if(!d.has(R)){var P=s.get(R);P&&g(P)}}),a.push(T)}return o.forEach(function(T){s.set(T.name,T)}),o.forEach(function(T){d.has(T.name)||g(T)}),a}var ji={placement:"bottom",modifiers:[],strategy:"absolute"};function Hi(){for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return!s.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function cl(o){o===void 0&&(o={});var s=o,d=s.defaultModifiers,a=d===void 0?[]:d,g=s.defaultOptions,T=g===void 0?ji:g;return function(R,P,F){F===void 0&&(F=T);var B,K,Q={placement:"bottom",orderedModifiers:[],options:Object.assign({},ji,T),modifiersData:{},elements:{reference:R,popper:P},attributes:{},styles:{}},ve=[],ae=!1,fe={state:Q,setOptions:function(se){var we=typeof se=="function"?se(Q.options):se;ue(),Q.options=Object.assign({},T,Q.options,we),Q.scrollParents={reference:ne(R)?gn(R):R.contextElement?gn(R.contextElement):[],popper:gn(P)};var he=function(re){var oe=ll(re);return ol.reduce(function(le,ce){return le.concat(oe.filter(function(de){return de.phase===ce}))},[])}(function(re){var oe=re.reduce(function(le,ce){var de=le[ce.name];return le[ce.name]=de?Object.assign({},de,ce,{options:Object.assign({},de.options,ce.options),data:Object.assign({},de.data,ce.data)}):ce,le},{});return Object.keys(oe).map(function(le){return oe[le]})}([].concat(a,Q.options.modifiers)));return Q.orderedModifiers=he.filter(function(re){return re.enabled}),Q.orderedModifiers.forEach(function(re){var oe=re.name,le=re.options,ce=le===void 0?{}:le,de=re.effect;if(typeof de=="function"){var pe=de({state:Q,name:oe,instance:fe,options:ce}),Ee=function(){};ve.push(pe||Ee)}}),fe.update()},forceUpdate:function(){if(!ae){var se=Q.elements,we=se.reference,he=se.popper;if(Hi(we,he)){Q.rects={reference:sl(we,mn(he),Q.options.strategy==="fixed"),popper:Dr(he)},Q.reset=!1,Q.placement=Q.options.placement,Q.orderedModifiers.forEach(function(Ee){return Q.modifiersData[Ee.name]=Object.assign({},Ee.data)});for(var re=0;re<Q.orderedModifiers.length;re++)if(Q.reset!==!0){var oe=Q.orderedModifiers[re],le=oe.fn,ce=oe.options,de=ce===void 0?{}:ce,pe=oe.name;typeof le=="function"&&(Q=le({state:Q,options:de,name:pe,instance:fe})||Q)}else Q.reset=!1,re=-1}}},update:(B=function(){return new Promise(function(se){fe.forceUpdate(),se(Q)})},function(){return K||(K=new Promise(function(se){Promise.resolve().then(function(){K=void 0,se(B())})})),K}),destroy:function(){ue(),ae=!0}};if(!Hi(R,P))return fe;function ue(){ve.forEach(function(se){return se()}),ve=[]}return fe.setOptions(F).then(function(se){!ae&&F.onFirstUpdate&&F.onFirstUpdate(se)}),fe}}var Fn={passive:!0};function ut(o){return o.split("-")[0]}function Yt(o){return o.split("-")[1]}function Sr(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Wi(o){var s,d=o.reference,a=o.element,g=o.placement,T=g?ut(g):null,R=g?Yt(g):null,P=d.x+d.width/2-a.width/2,F=d.y+d.height/2-a.height/2;switch(T){case Ue:s={x:P,y:d.y-a.height};break;case Ke:s={x:P,y:d.y+d.height};break;case Ze:s={x:d.x+d.width,y:F};break;case je:s={x:d.x-a.width,y:F};break;default:s={x:d.x,y:d.y}}var B=T?Sr(T):null;if(B!=null){var K=B==="y"?"height":"width";switch(R){case $t:s[B]=s[B]-(d[K]/2-a[K]/2);break;case _n:s[B]=s[B]+(d[K]/2-a[K]/2)}}return s}var dl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $i(o){var s,d=o.popper,a=o.popperRect,g=o.placement,T=o.variation,R=o.offsets,P=o.position,F=o.gpuAcceleration,B=o.adaptive,K=o.roundOffsets,Q=o.isFixed,ve=R.x,ae=ve===void 0?0:ve,fe=R.y,ue=fe===void 0?0:fe,se=typeof K=="function"?K({x:ae,y:ue}):{x:ae,y:ue};ae=se.x,ue=se.y;var we=R.hasOwnProperty("x"),he=R.hasOwnProperty("y"),re=je,oe=Ue,le=window;if(B){var ce=mn(d),de="clientHeight",pe="clientWidth";ce===Z(d)&&mt(ce=_e(d)).position!=="static"&&P==="absolute"&&(de="scrollHeight",pe="scrollWidth"),(g===Ue||(g===je||g===Ze)&&T===_n)&&(oe=Ke,ue-=(Q&&le.visualViewport?le.visualViewport.height:ce[de])-a.height,ue*=F?1:-1),(g===je||(g===Ue||g===Ke)&&T===_n)&&(re=Ze,ae-=(Q&&le.visualViewport?le.visualViewport.width:ce[pe])-a.width,ae*=F?1:-1)}var Ee,Me=Object.assign({position:P},B&&dl),He=K===!0?function(rt){var Et=rt.x,St=rt.y,it=window.devicePixelRatio||1;return{x:z(Et*it)/it||0,y:z(St*it)/it||0}}({x:ae,y:ue}):{x:ae,y:ue};return ae=He.x,ue=He.y,F?Object.assign({},Me,((Ee={})[oe]=he?"0":"",Ee[re]=we?"0":"",Ee.transform=(le.devicePixelRatio||1)<=1?"translate("+ae+"px, "+ue+"px)":"translate3d("+ae+"px, "+ue+"px, 0)",Ee)):Object.assign({},Me,((s={})[oe]=he?ue+"px":"",s[re]=we?ae+"px":"",s.transform="",s))}const ul={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(o){var s=o.state,d=o.options,a=o.name,g=d.offset,T=g===void 0?[0,0]:g,R=Ui.reduce(function(K,Q){return K[Q]=function(ve,ae,fe){var ue=ut(ve),se=[je,Ue].indexOf(ue)>=0?-1:1,we=typeof fe=="function"?fe(Object.assign({},ae,{placement:ve})):fe,he=we[0],re=we[1];return he=he||0,re=(re||0)*se,[je,Ze].indexOf(ue)>=0?{x:re,y:he}:{x:he,y:re}}(Q,s.rects,T),K},{}),P=R[s.placement],F=P.x,B=P.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=F,s.modifiersData.popperOffsets.y+=B),s.modifiersData[a]=R}};var fl={left:"right",right:"left",bottom:"top",top:"bottom"};function Bn(o){return o.replace(/left|right|bottom|top/g,function(s){return fl[s]})}var pl={start:"end",end:"start"};function Yi(o){return o.replace(/start|end/g,function(s){return pl[s]})}function qi(o,s){var d=s.getRootNode&&s.getRootNode();if(o.contains(s))return!0;if(d&&J(d)){var a=s;do{if(a&&o.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Ar(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function zi(o,s){return s===Bi?Ar(function(d){var a=Z(d),g=_e(d),T=a.visualViewport,R=g.clientWidth,P=g.clientHeight,F=0,B=0;return T&&(R=T.width,P=T.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(F=T.offsetLeft,B=T.offsetTop)),{width:R,height:P,x:F+vt(d),y:B}}(o)):ne(s)?function(d){var a=X(d);return a.top=a.top+d.clientTop,a.left=a.left+d.clientLeft,a.bottom=a.top+d.clientHeight,a.right=a.left+d.clientWidth,a.width=d.clientWidth,a.height=d.clientHeight,a.x=a.left,a.y=a.top,a}(s):Ar(function(d){var a,g=_e(d),T=Ae(d),R=(a=d.ownerDocument)==null?void 0:a.body,P=q(g.scrollWidth,g.clientWidth,R?R.scrollWidth:0,R?R.clientWidth:0),F=q(g.scrollHeight,g.clientHeight,R?R.scrollHeight:0,R?R.clientHeight:0),B=-T.scrollLeft+vt(d),K=-T.scrollTop;return mt(R||g).direction==="rtl"&&(B+=q(g.clientWidth,R?R.clientWidth:0)-P),{width:P,height:F,x:B,y:K}}(_e(o)))}function hl(o,s,d){var a=s==="clippingParents"?function(P){var F=gn(Gn(P)),B=["absolute","fixed"].indexOf(mt(P).position)>=0&&Ie(P)?mn(P):P;return ne(B)?F.filter(function(K){return ne(K)&&qi(K,B)&&De(K)!=="body"}):[]}(o):[].concat(s),g=[].concat(a,[d]),T=g[0],R=g.reduce(function(P,F){var B=zi(o,F);return P.top=q(B.top,P.top),P.right=Ne(B.right,P.right),P.bottom=Ne(B.bottom,P.bottom),P.left=q(B.left,P.left),P},zi(o,T));return R.width=R.right-R.left,R.height=R.bottom-R.top,R.x=R.left,R.y=R.top,R}function Xi(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function Ki(o,s){return s.reduce(function(d,a){return d[a]=o,d},{})}function bn(o,s){s===void 0&&(s={});var d=s,a=d.placement,g=a===void 0?o.placement:a,T=d.boundary,R=T===void 0?"clippingParents":T,P=d.rootBoundary,F=P===void 0?Bi:P,B=d.elementContext,K=B===void 0?yn:B,Q=d.altBoundary,ve=Q!==void 0&&Q,ae=d.padding,fe=ae===void 0?0:ae,ue=Xi(typeof fe!="number"?fe:Ki(fe,En)),se=K===yn?"reference":yn,we=o.rects.popper,he=o.elements[ve?se:K],re=hl(ne(he)?he:he.contextElement||_e(o.elements.popper),R,F),oe=X(o.elements.reference),le=Wi({reference:oe,element:we,strategy:"absolute",placement:g}),ce=Ar(Object.assign({},we,le)),de=K===yn?ce:oe,pe={top:re.top-de.top+ue.top,bottom:de.bottom-re.bottom+ue.bottom,left:re.left-de.left+ue.left,right:de.right-re.right+ue.right},Ee=o.modifiersData.offset;if(K===yn&&Ee){var Me=Ee[g];Object.keys(pe).forEach(function(He){var rt=[Ze,Ke].indexOf(He)>=0?1:-1,Et=[Ue,Ke].indexOf(He)>=0?"y":"x";pe[He]+=Me[Et]*rt})}return pe}function In(o,s,d){return q(o,Ne(s,d))}const gl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(o){var s=o.state,d=o.options,a=o.name,g=d.mainAxis,T=g===void 0||g,R=d.altAxis,P=R!==void 0&&R,F=d.boundary,B=d.rootBoundary,K=d.altBoundary,Q=d.padding,ve=d.tether,ae=ve===void 0||ve,fe=d.tetherOffset,ue=fe===void 0?0:fe,se=bn(s,{boundary:F,rootBoundary:B,padding:Q,altBoundary:K}),we=ut(s.placement),he=Yt(s.placement),re=!he,oe=Sr(we),le=oe==="x"?"y":"x",ce=s.modifiersData.popperOffsets,de=s.rects.reference,pe=s.rects.popper,Ee=typeof ue=="function"?ue(Object.assign({},s.rects,{placement:s.placement})):ue,Me=typeof Ee=="number"?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),He=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,rt={x:0,y:0};if(ce){if(T){var Et,St=oe==="y"?Ue:je,it=oe==="y"?Ke:Ze,We=oe==="y"?"height":"width",wt=ce[oe],At=wt+se[St],jn=wt-se[it],Zt=ae?-pe[We]/2:0,st=he===$t?de[We]:pe[We],at=he===$t?-pe[We]:-de[We],Qt=s.elements.arrow,Tt=ae&&Qt?Dr(Qt):{width:0,height:0},ot=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hn=ot[St],Wn=ot[it],Jt=In(0,de[We],Tt[We]),Br=re?de[We]/2-Zt-Jt-Hn-Me.mainAxis:st-Jt-Hn-Me.mainAxis,Vr=re?-de[We]/2+Zt+Jt+Wn+Me.mainAxis:at+Jt+Wn+Me.mainAxis,en=s.elements.arrow&&mn(s.elements.arrow),Ur=en?oe==="y"?en.clientTop||0:en.clientLeft||0:0,wn=(Et=He==null?void 0:He[oe])!=null?Et:0,$n=wt+Vr-wn,tn=In(ae?Ne(At,wt+Br-wn-Ur):At,wt,ae?q(jn,$n):jn);ce[oe]=tn,rt[oe]=tn-wt}if(P){var nn,ft=oe==="x"?Ue:je,Lt=oe==="x"?Ke:Ze,Pt=ce[le],Yn=le==="y"?"height":"width",Ps=Pt+se[ft],Ms=Pt-se[Lt],jr=[Ue,je].indexOf(we)!==-1,Cs=(nn=He==null?void 0:He[le])!=null?nn:0,xs=jr?Ps:Pt-de[Yn]-pe[Yn]-Cs+Me.altAxis,ks=jr?Pt+de[Yn]+pe[Yn]-Cs-Me.altAxis:Ms,Ns=ae&&jr?function(Ul,jl,Hr){var Gs=In(Ul,jl,Hr);return Gs>Hr?Hr:Gs}(xs,Pt,ks):In(ae?xs:Ps,Pt,ae?ks:Ms);ce[le]=Ns,rt[le]=Ns-Pt}s.modifiersData[a]=rt}},requiresIfExists:["offset"]},ml={name:"arrow",enabled:!0,phase:"main",fn:function(o){var s,d=o.state,a=o.name,g=o.options,T=d.elements.arrow,R=d.modifiersData.popperOffsets,P=ut(d.placement),F=Sr(P),B=[je,Ze].indexOf(P)>=0?"height":"width";if(T&&R){var K=function(pe,Ee){return Xi(typeof(pe=typeof pe=="function"?pe(Object.assign({},Ee.rects,{placement:Ee.placement})):pe)!="number"?pe:Ki(pe,En))}(g.padding,d),Q=Dr(T),ve=F==="y"?Ue:je,ae=F==="y"?Ke:Ze,fe=d.rects.reference[B]+d.rects.reference[F]-R[F]-d.rects.popper[B],ue=R[F]-d.rects.reference[F],se=mn(T),we=se?F==="y"?se.clientHeight||0:se.clientWidth||0:0,he=fe/2-ue/2,re=K[ve],oe=we-Q[B]-K[ae],le=we/2-Q[B]/2+he,ce=In(re,le,oe),de=F;d.modifiersData[a]=((s={})[de]=ce,s.centerOffset=ce-le,s)}},effect:function(o){var s=o.state,d=o.options.element,a=d===void 0?"[data-popper-arrow]":d;a!=null&&(typeof a!="string"||(a=s.elements.popper.querySelector(a)))&&qi(s.elements.popper,a)&&(s.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zi(o,s,d){return d===void 0&&(d={x:0,y:0}),{top:o.top-s.height-d.y,right:o.right-s.width+d.x,bottom:o.bottom-s.height+d.y,left:o.left-s.width-d.x}}function Qi(o){return[Ue,Ze,Ke,je].some(function(s){return o[s]>=0})}var Lr=cl({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(o){var s=o.state,d=o.instance,a=o.options,g=a.scroll,T=g===void 0||g,R=a.resize,P=R===void 0||R,F=Z(s.elements.popper),B=[].concat(s.scrollParents.reference,s.scrollParents.popper);return T&&B.forEach(function(K){K.addEventListener("scroll",d.update,Fn)}),P&&F.addEventListener("resize",d.update,Fn),function(){T&&B.forEach(function(K){K.removeEventListener("scroll",d.update,Fn)}),P&&F.removeEventListener("resize",d.update,Fn)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(o){var s=o.state,d=o.name;s.modifiersData[d]=Wi({reference:s.rects.reference,element:s.rects.popper,strategy:"absolute",placement:s.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(o){var s=o.state,d=o.options,a=d.gpuAcceleration,g=a===void 0||a,T=d.adaptive,R=T===void 0||T,P=d.roundOffsets,F=P===void 0||P,B={placement:ut(s.placement),variation:Yt(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:g,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,$i(Object.assign({},B,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:R,roundOffsets:F})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,$i(Object.assign({},B,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:F})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(o){var s=o.state;Object.keys(s.elements).forEach(function(d){var a=s.styles[d]||{},g=s.attributes[d]||{},T=s.elements[d];Ie(T)&&De(T)&&(Object.assign(T.style,a),Object.keys(g).forEach(function(R){var P=g[R];P===!1?T.removeAttribute(R):T.setAttribute(R,P===!0?"":P)}))})},effect:function(o){var s=o.state,d={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,d.popper),s.styles=d,s.elements.arrow&&Object.assign(s.elements.arrow.style,d.arrow),function(){Object.keys(s.elements).forEach(function(a){var g=s.elements[a],T=s.attributes[a]||{},R=Object.keys(s.styles.hasOwnProperty(a)?s.styles[a]:d[a]).reduce(function(P,F){return P[F]="",P},{});Ie(g)&&De(g)&&(Object.assign(g.style,R),Object.keys(T).forEach(function(P){g.removeAttribute(P)}))})}},requires:["computeStyles"]},ul,{name:"flip",enabled:!0,phase:"main",fn:function(o){var s=o.state,d=o.options,a=o.name;if(!s.modifiersData[a]._skip){for(var g=d.mainAxis,T=g===void 0||g,R=d.altAxis,P=R===void 0||R,F=d.fallbackPlacements,B=d.padding,K=d.boundary,Q=d.rootBoundary,ve=d.altBoundary,ae=d.flipVariations,fe=ae===void 0||ae,ue=d.allowedAutoPlacements,se=s.options.placement,we=ut(se),he=F||(we===se||!fe?[Bn(se)]:function(st){if(ut(st)===Rr)return[];var at=Bn(st);return[Yi(st),at,Yi(at)]}(se)),re=[se].concat(he).reduce(function(st,at){return st.concat(ut(at)===Rr?function(Qt,Tt){Tt===void 0&&(Tt={});var ot=Tt,Hn=ot.placement,Wn=ot.boundary,Jt=ot.rootBoundary,Br=ot.padding,Vr=ot.flipVariations,en=ot.allowedAutoPlacements,Ur=en===void 0?Ui:en,wn=Yt(Hn),$n=wn?Vr?Vi:Vi.filter(function(ft){return Yt(ft)===wn}):En,tn=$n.filter(function(ft){return Ur.indexOf(ft)>=0});tn.length===0&&(tn=$n);var nn=tn.reduce(function(ft,Lt){return ft[Lt]=bn(Qt,{placement:Lt,boundary:Wn,rootBoundary:Jt,padding:Br})[ut(Lt)],ft},{});return Object.keys(nn).sort(function(ft,Lt){return nn[ft]-nn[Lt]})}(s,{placement:at,boundary:K,rootBoundary:Q,padding:B,flipVariations:fe,allowedAutoPlacements:ue}):at)},[]),oe=s.rects.reference,le=s.rects.popper,ce=new Map,de=!0,pe=re[0],Ee=0;Ee<re.length;Ee++){var Me=re[Ee],He=ut(Me),rt=Yt(Me)===$t,Et=[Ue,Ke].indexOf(He)>=0,St=Et?"width":"height",it=bn(s,{placement:Me,boundary:K,rootBoundary:Q,altBoundary:ve,padding:B}),We=Et?rt?Ze:je:rt?Ke:Ue;oe[St]>le[St]&&(We=Bn(We));var wt=Bn(We),At=[];if(T&&At.push(it[He]<=0),P&&At.push(it[We]<=0,it[wt]<=0),At.every(function(st){return st})){pe=Me,de=!1;break}ce.set(Me,At)}if(de)for(var jn=function(st){var at=re.find(function(Qt){var Tt=ce.get(Qt);if(Tt)return Tt.slice(0,st).every(function(ot){return ot})});if(at)return pe=at,"break"},Zt=fe?3:1;Zt>0&&jn(Zt)!=="break";Zt--);s.placement!==pe&&(s.modifiersData[a]._skip=!0,s.placement=pe,s.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},gl,ml,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(o){var s=o.state,d=o.name,a=s.rects.reference,g=s.rects.popper,T=s.modifiersData.preventOverflow,R=bn(s,{elementContext:"reference"}),P=bn(s,{altBoundary:!0}),F=Zi(R,a),B=Zi(P,g,T),K=Qi(F),Q=Qi(B);s.modifiersData[d]={referenceClippingOffsets:F,popperEscapeOffsets:B,isReferenceHidden:K,hasPopperEscaped:Q},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":K,"data-popper-escaped":Q})}}]});function Ji(o){return function(s){if(Array.isArray(s))return Pr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return Pr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function es(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function qt(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?es(Object(d),!0).forEach(function(a){El(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):es(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function El(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function _l(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function yl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var ts={placement:"bottom",triggerType:"click",onShow:function(){},onHide:function(){}},ns=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_l(this,o),this._targetEl=a,this._triggerEl=g,this._options=qt(qt({},ts),T),this._popperInstance=this._createPopperInstace(),this._visible=!1,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){a.toggle()})}},{key:"_createPopperInstace",value:function(){return Lr(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,10]}}]})}},{key:"_handleClickOutside",value:function(a,g){var T=a.target;T===g||g.contains(T)||this._triggerEl.contains(T)||!this._visible||this.hide(),document.body.removeEventListener("click",this._handleClickOutside,!0)}},{key:"toggle",value:function(){this._visible?(this.hide(),document.body.removeEventListener("click",this._handleClickOutside,!0)):this.show()}},{key:"show",value:function(){var a=this;this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(g){return qt(qt({},g),{},{modifiers:[].concat(Ji(g.modifiers),[{name:"eventListeners",enabled:!0}])})}),document.body.addEventListener("click",function(g){a._handleClickOutside(g,a._targetEl)},!0),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(a){return qt(qt({},a),{},{modifiers:[].concat(Ji(a.modifiers),[{name:"eventListeners",enabled:!1}])})}),this._visible=!1,this._options.onHide(this)}}])&&yl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function rs(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(o){var s=document.getElementById(o.getAttribute("data-dropdown-toggle")),d=o.getAttribute("data-dropdown-placement");new ns(s,o,{placement:d||ts.placement})})}window.Dropdown=ns,document.readyState!=="loading"?rs():document.addEventListener("DOMContentLoaded",rs);function bl(o){return function(s){if(Array.isArray(s))return Mr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return Mr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function is(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function ss(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?is(Object(d),!0).forEach(function(a){Il(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):is(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function Il(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function vl(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function wl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var Cr={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",onHide:function(){},onShow:function(){},onToggle:function(){}},as=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vl(this,o),this._targetEl=a,this._options=ss(ss({},Cr),g),this._isHidden=!0,this._backdropEl=null,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._targetEl&&(this._getPlacementClasses().map(function(g){a._targetEl.classList.add(g)}),this._targetEl.addEventListener("click",function(g){a._handleOutsideClick(g.target)}))}},{key:"_createBackdrop",value:function(){if(this._isHidden){var a,g=document.createElement("div");g.setAttribute("modal-backdrop",""),(a=g.classList).add.apply(a,bl(this._options.backdropClasses.split(" "))),document.querySelector("body").append(g),this._backdropEl=g}}},{key:"_destroyBackdropEl",value:function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()}},{key:"_handleOutsideClick",value:function(a){this._options.backdrop==="dynamic"&&(a!==this._targetEl&&a!==this._backdropEl||this.hide())}},{key:"_getPlacementClasses",value:function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":default:return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"]}}},{key:"toggle",value:function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)}},{key:"show",value:function(){this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.onHide(this)}},{key:"isHidden",value:function(){return this._isHidden}}])&&wl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();window.Modal=as;var os=function(o,s){return!!s.some(function(d){return d.id===o})&&s.find(function(d){return d.id===o})},ls=function(o){var s=[];document.querySelectorAll("[".concat(o.main,"]")).forEach(function(d){var a=d.getAttribute(o.main),g=document.getElementById(a),T=g.getAttribute(o.placement),R=g.getAttribute(o.backdrop);g&&(g.hasAttribute("aria-hidden")||g.hasAttribute("aria-modal")||g.setAttribute("aria-hidden","true"));var P=null;os(a,s)?P=(P=os(a,s)).object:(P=new as(g,{placement:T||Cr.placement,backdrop:R||Cr.backdrop}),s.push({id:a,object:P})),g.hasAttribute(o.show)&&g.getAttribute(o.show)==="true"&&P.show(),d.addEventListener("click",function(){P.toggle()})})},cs={main:"data-modal-toggle",placement:"data-modal-placement",show:"data-modal-show",backdrop:"data-modal-backdrop"};document.readyState!=="loading"?ls(cs):document.addEventListener("DOMContentLoaded",ls(cs));function Tl(o){return function(s){if(Array.isArray(s))return xr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return xr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function ds(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function us(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?ds(Object(d),!0).forEach(function(a){Ol(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):ds(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function Ol(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function Dl(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function Rl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var zt={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},fs=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1?arguments[1]:void 0;Dl(this,o),this._targetEl=a,this._options=us(us({},zt),g),this._visible=!1,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(g){a._targetEl.classList.add(g)}),this.hide()}},{key:"isVisible",value:function(){return this._visible}},{key:"hide",value:function(){var a=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(g){a._targetEl.classList.remove(g)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(g){a._targetEl.classList.add(g)})):(this._getPlacementClasses(this._options.placement).active.map(function(g){a._targetEl.classList.remove(g)}),this._getPlacementClasses(this._options.placement).inactive.map(function(g){a._targetEl.classList.add(g)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)}},{key:"show",value:function(){var a=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(g){a._targetEl.classList.add(g)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(g){a._targetEl.classList.remove(g)})):(this._getPlacementClasses(this._options.placement).active.map(function(g){a._targetEl.classList.add(g)}),this._getPlacementClasses(this._options.placement).inactive.map(function(g){a._targetEl.classList.remove(g)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)}},{key:"toggle",value:function(){this.isVisible()?this.hide():this.show()}},{key:"_createBackdrop",value:function(){var a=this;if(!this._visible){var g,T=document.createElement("div");T.setAttribute("drawer-backdrop",""),(g=T.classList).add.apply(g,Tl(this._options.backdropClasses.split(" "))),document.querySelector("body").append(T),T.addEventListener("click",function(){a.hide()})}}},{key:"_destroyBackdropEl",value:function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()}},{key:"_getPlacementClasses",value:function(a){switch(a){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]}}}}])&&Rl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();window.Drawer=fs;var vn=function(o,s){return!!s.some(function(d){return d.id===o})&&s.find(function(d){return d.id===o})};function ps(){var o=[];document.querySelectorAll("[data-drawer-target]").forEach(function(s){var d=document.getElementById(s.getAttribute("data-drawer-target")),a=d.id,g=s.getAttribute("data-drawer-placement"),T=s.getAttribute("data-drawer-body-scrolling"),R=s.getAttribute("data-drawer-backdrop"),P=s.getAttribute("data-drawer-edge"),F=s.getAttribute("data-drawer-edge-offset"),B=null;vn(a,o)?B=(B=vn(a,o)).object:(B=new fs(d,{placement:g||zt.placement,bodyScrolling:T?T==="true":zt.bodyScrolling,backdrop:R?R==="true":zt.backdrop,edge:P?P==="true":zt.edge,edgeOffset:F||zt.edgeOffset}),o.push({id:a,object:B}))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(s){var d=document.getElementById(s.getAttribute("data-drawer-toggle")).id,a=vn(d,o);s.addEventListener("click",function(){a.object.isVisible()?a.object.hide():a.object.show()})}),document.querySelectorAll("[data-drawer-dismiss]").forEach(function(s){var d=document.getElementById(s.getAttribute("data-drawer-dismiss")).id,a=vn(d,o);s.addEventListener("click",function(){a.object.hide()})}),document.querySelectorAll("[data-drawer-show]").forEach(function(s){var d=document.getElementById(s.getAttribute("data-drawer-show")).id,a=vn(d,o);s.addEventListener("click",function(){a.object.show()})})}document.readyState!=="loading"?ps():document.addEventListener("DOMContentLoaded",ps);function Vn(o){return function(s){if(Array.isArray(s))return kr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return kr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return kr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function hs(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function gs(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?hs(Object(d),!0).forEach(function(a){Sl(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):hs(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function Sl(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function Al(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function Ll(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var Pl={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},ms=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Al(this,o),this._items=a,this._activeTab=g?this.getTab(g.defaultTabId):null,this._options=gs(gs({},Pl),g),this._init()}var s,d;return s=o,d=[{key:"_init",value:function(){var a=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(g){g.triggerEl.addEventListener("click",function(){a.show(g.id)})}))}},{key:"getActiveTab",value:function(){return this._activeTab}},{key:"_setActiveTab",value:function(a){this._activeTab=a}},{key:"getTab",value:function(a){return this._items.filter(function(g){return g.id===a})[0]}},{key:"show",value:function(a){var g,T,R=this,P=arguments.length>1&&arguments[1]!==void 0&&arguments[1],F=this.getTab(a);(F!==this._activeTab||P)&&(this._items.map(function(B){var K,Q;B!==F&&((K=B.triggerEl.classList).remove.apply(K,Vn(R._options.activeClasses.split(" "))),(Q=B.triggerEl.classList).add.apply(Q,Vn(R._options.inactiveClasses.split(" "))),B.targetEl.classList.add("hidden"),B.triggerEl.setAttribute("aria-selected",!1))}),(g=F.triggerEl.classList).add.apply(g,Vn(this._options.activeClasses.split(" "))),(T=F.triggerEl.classList).remove.apply(T,Vn(this._options.inactiveClasses.split(" "))),F.triggerEl.setAttribute("aria-selected",!0),F.targetEl.classList.remove("hidden"),this._setActiveTab(F),this._options.onShow(this,F))}}],d&&Ll(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function Es(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(o){var s=[],d=null;o.querySelectorAll('[role="tab"]').forEach(function(a){var g=a.getAttribute("aria-selected")==="true",T={id:a.getAttribute("data-tabs-target"),triggerEl:a,targetEl:document.querySelector(a.getAttribute("data-tabs-target"))};s.push(T),g&&(d=T.id)}),new ms(s,{defaultTabId:d})})}window.Tabs=ms,document.readyState!=="loading"?Es():document.addEventListener("DOMContentLoaded",Es);function _s(o){return function(s){if(Array.isArray(s))return Nr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return Nr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function ys(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function Xt(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?ys(Object(d),!0).forEach(function(a){Ml(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):ys(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function Ml(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function Cl(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function xl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var Gr={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){}},bs=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Cl(this,o),this._targetEl=a,this._triggerEl=g,this._options=Xt(Xt({},Gr),T),this._popperInstance=this._createPopperInstace(),this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;if(this._triggerEl){var g=this._getTriggerEvents();g.showEvents.forEach(function(T){a._triggerEl.addEventListener(T,function(){a.show()})}),g.hideEvents.forEach(function(T){a._triggerEl.addEventListener(T,function(){a.hide()})})}}},{key:"_createPopperInstace",value:function(){return Lr(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}},{key:"show",value:function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(a){return Xt(Xt({},a),{},{modifiers:[].concat(_s(a.modifiers),[{name:"eventListeners",enabled:!0}])})}),this._popperInstance.update(),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(a){return Xt(Xt({},a),{},{modifiers:[].concat(_s(a.modifiers),[{name:"eventListeners",enabled:!1}])})}),this._options.onHide(this)}}])&&xl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function Is(){document.querySelectorAll("[data-tooltip-target]").forEach(function(o){var s=document.getElementById(o.getAttribute("data-tooltip-target")),d=o.getAttribute("data-tooltip-trigger"),a=o.getAttribute("data-tooltip-placement");new bs(s,o,{placement:a||Gr.placement,triggerType:d||Gr.triggerType})})}window.Tooltip=bs,document.readyState!=="loading"?Is():document.addEventListener("DOMContentLoaded",Is);function vs(o){return function(s){if(Array.isArray(s))return Fr(s)}(o)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(o)||function(s,d){if(!!s){if(typeof s=="string")return Fr(s,d);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fr(s,d)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fr(o,s){(s==null||s>o.length)&&(s=o.length);for(var d=0,a=new Array(s);d<s;d++)a[d]=o[d];return a}function ws(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function Kt(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?ws(Object(d),!0).forEach(function(a){kl(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):ws(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function kl(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function Nl(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function Gl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var Un={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){}},Ts=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Nl(this,o),this._targetEl=a,this._triggerEl=g,this._options=Kt(Kt({},Un),T),this._popperInstance=this._createPopperInstace(),this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;if(this._triggerEl){var g=this._getTriggerEvents();g.showEvents.forEach(function(T){a._triggerEl.addEventListener(T,function(){a.show()}),a._targetEl.addEventListener(T,function(){a.show()})}),g.hideEvents.forEach(function(T){a._triggerEl.addEventListener(T,function(){setTimeout(function(){a._targetEl.matches(":hover")||a.hide()},100)}),a._targetEl.addEventListener(T,function(){setTimeout(function(){a._triggerEl.matches(":hover")||a.hide()},100)})})}}},{key:"_createPopperInstace",value:function(){return Lr(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}},{key:"show",value:function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(a){return Kt(Kt({},a),{},{modifiers:[].concat(vs(a.modifiers),[{name:"eventListeners",enabled:!0}])})}),this._popperInstance.update(),this._options.onShow(this)}},{key:"hide",value:function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(a){return Kt(Kt({},a),{},{modifiers:[].concat(vs(a.modifiers),[{name:"eventListeners",enabled:!1}])})}),this._options.onHide(this)}}])&&Gl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function Os(){document.querySelectorAll("[data-popover-target]").forEach(function(o){var s=document.getElementById(o.getAttribute("data-popover-target")),d=o.getAttribute("data-popover-trigger"),a=o.getAttribute("data-popover-placement"),g=o.getAttribute("data-popover-offset");new Ts(s,o,{placement:a||Un.placement,offset:g?parseInt(g):Un.offset,triggerType:d||Un.triggerType})})}window.Popover=Ts,document.readyState!=="loading"?Os():document.addEventListener("DOMContentLoaded",Os);function Ds(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),d.push.apply(d,a)}return d}function Rs(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?Ds(Object(d),!0).forEach(function(a){Fl(o,a,d[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):Ds(Object(d)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(d,a))})}return o}function Fl(o,s,d){return s in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function Bl(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function Vl(o,s){for(var d=0;d<s.length;d++){var a=s[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}var Ss={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},As=function(){function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,R=arguments.length>3?arguments[3]:void 0;Bl(this,o),this._parentEl=a,this._triggerEl=g,this._targetEl=T,this._options=Rs(Rs({},Ss),R),this._visible=!1,this._init()}var s,d;return s=o,(d=[{key:"_init",value:function(){var a=this;if(this._triggerEl){var g=this._getTriggerEvents();g.showEvents.forEach(function(T){a._triggerEl.addEventListener(T,function(){a.show()}),a._targetEl.addEventListener(T,function(){a.show()})}),g.hideEvents.forEach(function(T){a._parentEl.addEventListener(T,function(){setTimeout(function(){a._parentEl.matches(":hover")||a.hide()},100)})})}}},{key:"hide",value:function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)}},{key:"show",value:function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)}},{key:"toggle",value:function(){this._visible?this.hide():this.show()}},{key:"_getTriggerEvents",value:function(){switch(this._options.triggerType){case"hover":default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]}}}}])&&Vl(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),o}();function Ls(){document.querySelectorAll("[data-dial-init]").forEach(function(o){var s=o.querySelector("[data-dial-toggle]"),d=document.getElementById(s.getAttribute("data-dial-toggle")),a=s.getAttribute("data-dial-trigger");new As(o,s,d,{triggerType:a||Ss.triggerType})})}window.Dial=As,document.readyState!=="loading"?Ls():document.addEventListener("DOMContentLoaded",Ls)})();function _t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yi(e){return e[e.length-1]}function Ut(e,...t){return t.forEach(n=>{e.includes(n)||e.push(n)}),e}function Wr(e,t){return e?e.split(t):[]}function bi(e,t,n){const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}function to(e,t,n){return e<t?t:e>n?n:e}function un(e,t,n={},r=0,i=""){const l=Object.keys(n).reduce((u,f)=>{let h=n[f];return typeof h=="function"&&(h=h(r)),`${u} ${f}="${h}"`},e);i+=`<${l}></${e}>`;const c=r+1;return c<t?un(e,t,n,c,i):i}function Ii(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function oi(e){return new Date(e).setHours(0,0,0,0)}function jt(){return new Date().setHours(0,0,0,0)}function Dt(...e){switch(e.length){case 0:return jt();case 1:return oi(e[0])}const t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function on(e,t){const n=new Date(e);return n.setDate(n.getDate()+t)}function ac(e,t){return on(e,t*7)}function ar(e,t){const n=new Date(e),r=n.getMonth()+t;let i=r%12;i<0&&(i+=12);const l=n.setMonth(r);return n.getMonth()!==i?n.setDate(0):l}function ln(e,t){const n=new Date(e),r=n.getMonth(),i=n.setFullYear(n.getFullYear()+t);return r===1&&n.getMonth()===2?n.setDate(0):i}function Us(e,t){return(e-t+7)%7}function or(e,t,n=0){const r=new Date(e).getDay();return on(e,Us(t,n)-Us(r,n))}function oc(e){const t=or(e,4,1),n=or(new Date(t).setMonth(0,4),4,1);return Math.round((t-n)/6048e5)+1}function Ct(e,t){const n=new Date(e).getFullYear();return Math.floor(n/t)*t}const li=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,lc=/[\s!-/:-@[-`{-~年月日]+/;let $r={};const js={y(e,t){return new Date(e).setFullYear(parseInt(t,10))},m(e,t,n){const r=new Date(e);let i=parseInt(t,10)-1;if(isNaN(i)){if(!t)return NaN;const l=t.toLowerCase(),c=u=>u.toLowerCase().startsWith(l);if(i=n.monthsShort.findIndex(c),i<0&&(i=n.months.findIndex(c)),i<0)return NaN}return r.setMonth(i),r.getMonth()!==no(i)?r.setDate(0):r.getTime()},d(e,t){return new Date(e).setDate(parseInt(t,10))}},cc={d(e){return e.getDate()},dd(e){return qn(e.getDate(),2)},D(e,t){return t.daysShort[e.getDay()]},DD(e,t){return t.days[e.getDay()]},m(e){return e.getMonth()+1},mm(e){return qn(e.getMonth()+1,2)},M(e,t){return t.monthsShort[e.getMonth()]},MM(e,t){return t.months[e.getMonth()]},y(e){return e.getFullYear()},yy(e){return qn(e.getFullYear(),2).slice(-2)},yyyy(e){return qn(e.getFullYear(),4)}};function no(e){return e>-1?e%12:no(e+12)}function qn(e,t){return e.toString().padStart(t,"0")}function ro(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in $r)return $r[e];const t=e.split(li),n=e.match(new RegExp(li,"g"));if(t.length===0||!n)throw new Error("Invalid date format.");const r=n.map(l=>cc[l]),i=Object.keys(js).reduce((l,c)=>(n.find(f=>f[0]!=="D"&&f[0].toLowerCase()===c)&&l.push(c),l),[]);return $r[e]={parser(l,c){const u=l.split(lc).reduce((f,h,p)=>{if(h.length>0&&n[p]){const m=n[p][0];m==="M"?f.m=h:m!=="D"&&(f[m]=h)}return f},{});return i.reduce((f,h)=>{const p=js[h](f,u[h],c);return isNaN(p)?f:p},jt())},formatter(l,c){let u=r.reduce((f,h,p)=>f+=`${t[p]}${h(l,c)}`,"");return u+=yi(t)}}}function Cn(e,t,n){if(e instanceof Date||typeof e=="number"){const r=oi(e);return isNaN(r)?void 0:r}if(!!e){if(e==="today")return jt();if(t&&t.toValue){const r=t.toValue(e,t,n);return isNaN(r)?void 0:oi(r)}return ro(t).parser(e,n)}}function lr(e,t,n){if(isNaN(e)||!e&&e!==0)return"";const r=typeof e=="number"?new Date(e):e;return t.toDisplay?t.toDisplay(r,t,n):ro(t).formatter(r,n)}const cr=new WeakMap,{addEventListener:dc,removeEventListener:uc}=EventTarget.prototype;function io(e,t){let n=cr.get(e);n||(n=[],cr.set(e,n)),t.forEach(r=>{dc.call(...r),n.push(r)})}function fc(e){let t=cr.get(e);!t||(t.forEach(n=>{uc.call(...n)}),cr.delete(e))}if(!Event.prototype.composedPath){const e=(t,n=[])=>{n.push(t);let r;return t.parentNode?r=t.parentNode:t.host?r=t.host:t.defaultView&&(r=t.defaultView),r?e(r,n):n};Event.prototype.composedPath=function(){return e(this.target)}}function so(e,t,n,r=0){const i=e[r];return t(i)?i:i===n||!i.parentElement?void 0:so(e,t,n,r+1)}function ao(e,t){const n=typeof t=="function"?t:r=>r.matches(t);return so(e.composedPath(),n,e.currentTarget)}const Tn={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},vi={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},pc=document.createRange();function yt(e){return pc.createContextualFragment(e)}function An(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function Ln(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function dr(e){e.firstChild&&(e.removeChild(e.firstChild),dr(e))}function hc(e,t){dr(e),t instanceof DocumentFragment?e.appendChild(t):typeof t=="string"?e.appendChild(yt(t)):typeof t.forEach=="function"&&t.forEach(n=>{e.appendChild(n)})}const{language:Yr,format:gc,weekStart:mc}=vi;function Hs(e,t){return e.length<6&&t>=0&&t<7?Ut(e,t):e}function Ws(e){return(e+6)%7}function $s(e,t,n,r){const i=Cn(e,t,n);return i!==void 0?i:r}function qr(e,t,n=3){const r=parseInt(e,10);return r>=0&&r<=n?r:t}function zr(e,t){const n=Object.assign({},e),r={},i=t.constructor.locales;let{format:l,language:c,locale:u,maxDate:f,maxView:h,minDate:p,pickLevel:m,startView:b,weekStart:I}=t.config||{};if(n.language){let y;if(n.language!==c&&(i[n.language]?y=n.language:(y=n.language.split("-")[0],i[y]===void 0&&(y=!1))),delete n.language,y){c=r.language=y;const v=u||i[Yr];u=Object.assign({format:gc,weekStart:mc},i[Yr]),c!==Yr&&Object.assign(u,i[c]),r.locale=u,l===v.format&&(l=r.format=u.format),I===v.weekStart&&(I=r.weekStart=u.weekStart,r.weekEnd=Ws(u.weekStart))}}if(n.format){const y=typeof n.format.toDisplay=="function",v=typeof n.format.toValue=="function",S=li.test(n.format);(y&&v||S)&&(l=r.format=n.format),delete n.format}let E=p,w=f;if(n.minDate!==void 0&&(E=n.minDate===null?Dt(0,0,1):$s(n.minDate,l,u,E),delete n.minDate),n.maxDate!==void 0&&(w=n.maxDate===null?void 0:$s(n.maxDate,l,u,w),delete n.maxDate),w<E?(p=r.minDate=w,f=r.maxDate=E):(p!==E&&(p=r.minDate=E),f!==w&&(f=r.maxDate=w)),n.datesDisabled&&(r.datesDisabled=n.datesDisabled.reduce((y,v)=>{const S=Cn(v,l,u);return S!==void 0?Ut(y,S):y},[]),delete n.datesDisabled),n.defaultViewDate!==void 0){const y=Cn(n.defaultViewDate,l,u);y!==void 0&&(r.defaultViewDate=y),delete n.defaultViewDate}if(n.weekStart!==void 0){const y=Number(n.weekStart)%7;isNaN(y)||(I=r.weekStart=y,r.weekEnd=Ws(y)),delete n.weekStart}if(n.daysOfWeekDisabled&&(r.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(Hs,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(Hs,[]),delete n.daysOfWeekHighlighted),n.maxNumberOfDates!==void 0){const y=parseInt(n.maxNumberOfDates,10);y>=0&&(r.maxNumberOfDates=y,r.multidate=y!==1),delete n.maxNumberOfDates}n.dateDelimiter&&(r.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);let O=m;n.pickLevel!==void 0&&(O=qr(n.pickLevel,2),delete n.pickLevel),O!==m&&(m=r.pickLevel=O);let D=h;n.maxView!==void 0&&(D=qr(n.maxView,h),delete n.maxView),D=m>D?m:D,D!==h&&(h=r.maxView=D);let _=b;if(n.startView!==void 0&&(_=qr(n.startView,_),delete n.startView),_<m?_=m:_>h&&(_=h),_!==b&&(r.startView=_),n.prevArrow){const y=yt(n.prevArrow);y.childNodes.length>0&&(r.prevArrow=y.childNodes),delete n.prevArrow}if(n.nextArrow){const y=yt(n.nextArrow);y.childNodes.length>0&&(r.nextArrow=y.childNodes),delete n.nextArrow}if(n.disableTouchKeyboard!==void 0&&(r.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){const y=n.orientation.toLowerCase().split(/\s+/g);r.orientation={x:y.find(v=>v==="left"||v==="right")||"auto",y:y.find(v=>v==="top"||v==="bottom")||"auto"},delete n.orientation}if(n.todayBtnMode!==void 0){switch(n.todayBtnMode){case 0:case 1:r.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach(y=>{n[y]!==void 0&&_t(vi,y)&&(r[y]=n[y])}),r}const Ec=Ii(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),_c=Ii(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">${un("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">${un("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}</div>
</div>`),yc=Ii(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">${un("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
</div>`);class wi{constructor(t,n){Object.assign(this,n,{picker:t,element:yt('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(t){t.pickLevel!==void 0&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}performBeforeHook(t,n,r){let i=this.beforeShow(new Date(r));switch(typeof i){case"boolean":i={enabled:i};break;case"string":i={classes:i}}if(i){if(i.enabled===!1&&(t.classList.add("disabled"),Ut(this.disabled,n)),i.classes){const l=i.classes.split(/\s+/);t.classList.add(...l),l.includes("disabled")&&Ut(this.disabled,n)}i.content&&hc(t,i.content)}}}class bc extends wi{constructor(t){super(t,{id:0,name:"days",cellClass:"day"})}init(t,n=!0){if(n){const r=yt(_c).firstChild;this.dow=r.firstChild,this.grid=r.lastChild,this.element.appendChild(r)}super.init(t)}setOptions(t){let n;if(_t(t,"minDate")&&(this.minDate=t.minDate),_t(t,"maxDate")&&(this.maxDate=t.maxDate),t.datesDisabled&&(this.datesDisabled=t.datesDisabled),t.daysOfWeekDisabled&&(this.daysOfWeekDisabled=t.daysOfWeekDisabled,n=!0),t.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=t.daysOfWeekHighlighted),t.todayHighlight!==void 0&&(this.todayHighlight=t.todayHighlight),t.weekStart!==void 0&&(this.weekStart=t.weekStart,this.weekEnd=t.weekEnd,n=!0),t.locale){const r=this.locale=t.locale;this.dayNames=r.daysMin,this.switchLabelFormat=r.titleFormat,n=!0}if(t.beforeShowDay!==void 0&&(this.beforeShow=typeof t.beforeShowDay=="function"?t.beforeShowDay:void 0),t.calendarWeeks!==void 0)if(t.calendarWeeks&&!this.calendarWeeks){const r=yt(yc).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!t.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);t.showDaysOfWeek!==void 0&&(t.showDaysOfWeek?(Ln(this.dow),this.calendarWeeks&&Ln(this.calendarWeeks.dow)):(An(this.dow),this.calendarWeeks&&An(this.calendarWeeks.dow))),n&&Array.from(this.dow.children).forEach((r,i)=>{const l=(this.weekStart+i)%7;r.textContent=this.dayNames[l],r.className=this.daysOfWeekDisabled.includes(l)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}updateFocus(){const t=new Date(this.picker.viewDate),n=t.getFullYear(),r=t.getMonth(),i=Dt(n,r,1),l=or(i,this.weekStart,this.weekStart);this.first=i,this.last=Dt(n,r+1,0),this.start=l,this.focused=this.picker.viewDate}updateSelection(){const{dates:t,rangepicker:n}=this.picker.datepicker;this.selected=t,n&&(this.range=n.dates)}render(){this.today=this.todayHighlight?jt():void 0,this.disabled=[...this.datesDisabled];const t=lr(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(t),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const n=or(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((r,i)=>{r.textContent=oc(ac(n,i))})}Array.from(this.grid.children).forEach((n,r)=>{const i=n.classList,l=on(this.start,r),c=new Date(l),u=c.getDay();if(n.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,n.dataset.date=l,n.textContent=c.getDate(),l<this.first?i.add("prev","text-gray-500","dark:text-white"):l>this.last&&i.add("next","text-gray-500","dark:text-white"),this.today===l&&i.add("today","bg-gray-100","dark:bg-gray-600","dark:bg-gray-600"),(l<this.minDate||l>this.maxDate||this.disabled.includes(l))&&i.add("disabled","cursor-not-allowed"),this.daysOfWeekDisabled.includes(u)&&(i.add("disabled","cursor-not-allowed"),Ut(this.disabled,l)),this.daysOfWeekHighlighted.includes(u)&&i.add("highlighted"),this.range){const[f,h]=this.range;l>f&&l<h&&(i.add("range","bg-gray-200","dark:bg-gray-600"),i.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),l===f&&(i.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),i.remove("rounded-lg","rounded-r-lg")),l===h&&(i.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),i.remove("rounded-lg","rounded-l-lg"))}this.selected.includes(l)&&(i.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),i.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(n,l,l)})}refresh(){const[t,n]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(r=>{r.classList.remove("range","range-start","range-end","selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white","focused","bg-gray-100","dark:bg-gray-600"),r.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(r=>{const i=Number(r.dataset.date),l=r.classList;i>t&&i<n&&(l.add("range","bg-gray-200","dark:bg-gray-600"),l.remove("rounded-lg")),i===t&&(l.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),l.remove("rounded-lg","rounded-r-lg")),i===n&&(l.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),l.remove("rounded-lg","rounded-l-lg")),this.selected.includes(i)&&(l.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),i===this.focused&&l.add("focused","bg-gray-100","dark:bg-gray-600")})}refreshFocus(){const t=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(n=>{n.classList.remove("focused","bg-gray-100","dark:bg-gray-600")}),this.grid.children[t].classList.add("focused","bg-gray-100","dark:bg-gray-600")}}function Ys(e,t){if(!e||!e[0]||!e[1])return;const[[n,r],[i,l]]=e;if(!(n>t||i<t))return[n===t?r:-1,i===t?l:12]}class Ic extends wi{constructor(t){super(t,{id:1,name:"months",cellClass:"month"})}init(t,n=!0){n&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(yt(un("span",12,{"data-month":r=>r})))),super.init(t)}setOptions(t){if(t.locale&&(this.monthNames=t.locale.monthsShort),_t(t,"minDate"))if(t.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const n=new Date(t.minDate);this.minYear=n.getFullYear(),this.minMonth=n.getMonth(),this.minDate=n.setDate(1)}if(_t(t,"maxDate"))if(t.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const n=new Date(t.maxDate);this.maxYear=n.getFullYear(),this.maxMonth=n.getMonth(),this.maxDate=Dt(this.maxYear,this.maxMonth+1,0)}t.beforeShowMonth!==void 0&&(this.beforeShow=typeof t.beforeShowMonth=="function"?t.beforeShowMonth:void 0)}updateFocus(){const t=new Date(this.picker.viewDate);this.year=t.getFullYear(),this.focused=t.getMonth()}updateSelection(){const{dates:t,rangepicker:n}=this.picker.datepicker;this.selected=t.reduce((r,i)=>{const l=new Date(i),c=l.getFullYear(),u=l.getMonth();return r[c]===void 0?r[c]=[u]:Ut(r[c],u),r},{}),n&&n.dates&&(this.range=n.dates.map(r=>{const i=new Date(r);return isNaN(i)?void 0:[i.getFullYear(),i.getMonth()]}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const t=this.selected[this.year]||[],n=this.year<this.minYear||this.year>this.maxYear,r=this.year===this.minYear,i=this.year===this.maxYear,l=Ys(this.range,this.year);Array.from(this.grid.children).forEach((c,u)=>{const f=c.classList,h=Dt(this.year,u,1);if(c.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,this.isMinView&&(c.dataset.date=h),c.textContent=this.monthNames[u],(n||r&&u<this.minMonth||i&&u>this.maxMonth)&&f.add("disabled"),l){const[p,m]=l;u>p&&u<m&&f.add("range"),u===p&&f.add("range-start"),u===m&&f.add("range-end")}t.includes(u)&&(f.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),f.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===this.focused&&f.add("focused","bg-gray-100","dark:bg-gray-600"),this.beforeShow&&this.performBeforeHook(c,u,h)})}refresh(){const t=this.selected[this.year]||[],[n,r]=Ys(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(i=>{i.classList.remove("range","range-start","range-end","selected","bg-blue-700","dark:bg-blue-600","dark:text-white","text-white","focused","bg-gray-100","dark:bg-gray-600"),i.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach((i,l)=>{const c=i.classList;l>n&&l<r&&c.add("range"),l===n&&c.add("range-start"),l===r&&c.add("range-end"),t.includes(l)&&(c.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===this.focused&&c.add("focused","bg-gray-100","dark:bg-gray-600")})}refreshFocus(){this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused","bg-gray-100")}),this.grid.children[this.focused].classList.add("focused","bg-gray-100","dark:bg-gray-600")}}function vc(e){return[...e].reduce((t,n,r)=>t+=r?n:n.toUpperCase(),"")}class qs extends wi{constructor(t,n){super(t,n)}init(t,n=!0){n&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${vc(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(yt(un("span",12)))),super.init(t)}setOptions(t){if(_t(t,"minDate")&&(t.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Ct(t.minDate,this.step),this.minDate=Dt(this.minYear,0,1))),_t(t,"maxDate")&&(t.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Ct(t.maxDate,this.step),this.maxDate=Dt(this.maxYear,11,31))),t[this.beforeShowOption]!==void 0){const n=t[this.beforeShowOption];this.beforeShow=typeof n=="function"?n:void 0}}updateFocus(){const t=new Date(this.picker.viewDate),n=Ct(t,this.navStep),r=n+9*this.step;this.first=n,this.last=r,this.start=n-this.step,this.focused=Ct(t,this.step)}updateSelection(){const{dates:t,rangepicker:n}=this.picker.datepicker;this.selected=t.reduce((r,i)=>Ut(r,Ct(i,this.step)),[]),n&&n.dates&&(this.range=n.dates.map(r=>{if(r!==void 0)return Ct(r,this.step)}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(`${this.first}-${this.last}`),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((t,n)=>{const r=t.classList,i=this.start+n*this.step,l=Dt(i,0,1);if(t.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,this.isMinView&&(t.dataset.date=l),t.textContent=t.dataset.year=i,n===0?r.add("prev"):n===11&&r.add("next"),(i<this.minYear||i>this.maxYear)&&r.add("disabled"),this.range){const[c,u]=this.range;i>c&&i<u&&r.add("range"),i===c&&r.add("range-start"),i===u&&r.add("range-end")}this.selected.includes(i)&&(r.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),r.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),i===this.focused&&r.add("focused","bg-gray-100","dark:bg-gray-600"),this.beforeShow&&this.performBeforeHook(t,i,l)})}refresh(){const[t,n]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(r=>{r.classList.remove("range","range-start","range-end","selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white","focused","bg-gray-100","dark:bg-gray-600")}),Array.from(this.grid.children).forEach(r=>{const i=Number(r.textContent),l=r.classList;i>t&&i<n&&l.add("range"),i===t&&l.add("range-start"),i===n&&l.add("range-end"),this.selected.includes(i)&&(l.add("selected","bg-blue-700","text-white","dark:bg-blue-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),i===this.focused&&l.add("focused","bg-gray-100","dark:bg-gray-600")})}refreshFocus(){const t=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(n=>{n.classList.remove("focused","bg-gray-100","dark:bg-gray-600")}),this.grid.children[t].classList.add("focused","bg-gray-100","dark:bg-gray-600")}}function cn(e,t){const n={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:n}))}function ur(e,t){const{minDate:n,maxDate:r}=e.config,{currentView:i,viewDate:l}=e.picker;let c;switch(i.id){case 0:c=ar(l,t);break;case 1:c=ln(l,t);break;default:c=ln(l,t*i.navStep)}c=to(c,n,r),e.picker.changeFocus(c).render()}function oo(e){const t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function lo(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function zs(e,t){const n=e.picker,r=new Date(n.viewDate),i=n.currentView.id,l=i===1?ar(r,t-r.getMonth()):ln(r,t-r.getFullYear());n.changeFocus(l).changeView(i-1).render()}function wc(e){const t=e.picker,n=jt();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(n);return}e.setDate(n,{render:!1}),t.update()}t.viewDate!==n&&t.changeFocus(n),t.changeView(0).render()}function Tc(e){e.setDate({clear:!0})}function Oc(e){oo(e)}function Dc(e){ur(e,-1)}function Rc(e){ur(e,1)}function Sc(e,t){const n=ao(t,".datepicker-cell");if(!n||n.classList.contains("disabled"))return;const{id:r,isMinView:i}=e.picker.currentView;i?e.setDate(Number(n.dataset.date)):r===1?zs(e,Number(n.dataset.month)):zs(e,Number(n.dataset.year))}function Ac(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function Xs(e,t){if(t.title!==void 0&&(t.title?(e.controls.title.textContent=t.title,Ln(e.controls.title)):(e.controls.title.textContent="",An(e.controls.title))),t.prevArrow){const n=e.controls.prevBtn;dr(n),t.prevArrow.forEach(r=>{n.appendChild(r.cloneNode(!0))})}if(t.nextArrow){const n=e.controls.nextBtn;dr(n),t.nextArrow.forEach(r=>{n.appendChild(r.cloneNode(!0))})}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),t.todayBtn!==void 0&&(t.todayBtn?Ln(e.controls.todayBtn):An(e.controls.todayBtn)),_t(t,"minDate")||_t(t,"maxDate")){const{minDate:n,maxDate:r}=e.datepicker.config;e.controls.todayBtn.disabled=!bi(jt(),n,r)}t.clearBtn!==void 0&&(t.clearBtn?Ln(e.controls.clearBtn):An(e.controls.clearBtn))}function Ks(e){const{dates:t,config:n}=e,r=t.length>0?yi(t):n.defaultViewDate;return to(r,n.minDate,n.maxDate)}function Zs(e,t){const n=new Date(e.viewDate),r=new Date(t),{id:i,year:l,first:c,last:u}=e.currentView,f=r.getFullYear();switch(e.viewDate=t,f!==n.getFullYear()&&cn(e.datepicker,"changeYear"),r.getMonth()!==n.getMonth()&&cn(e.datepicker,"changeMonth"),i){case 0:return t<c||t>u;case 1:return f!==l;default:return f<c||f>u}}function Xr(e){return window.getComputedStyle(e).direction}class Lc{constructor(t){this.datepicker=t;const n=Ec.replace(/%buttonClass%/g,t.config.buttonClass),r=this.element=yt(n).firstChild,[i,l,c]=r.firstChild.children,u=i.firstElementChild,[f,h,p]=i.lastElementChild.children,[m,b]=c.firstChild.children,I={title:u,prevBtn:f,viewSwitch:h,nextBtn:p,todayBtn:m,clearBtn:b};this.main=l,this.controls=I;const E=t.inline?"inline":"dropdown";r.classList.add(`datepicker-${E}`),E==="dropdown"&&r.classList.add("dropdown","absolute","top-0","left-0","z-20","pt-2"),Xs(this,t.config),this.viewDate=Ks(t),io(t,[[r,"click",Ac.bind(null,t),{capture:!0}],[l,"click",Sc.bind(null,t)],[I.viewSwitch,"click",Oc.bind(null,t)],[I.prevBtn,"click",Dc.bind(null,t)],[I.nextBtn,"click",Rc.bind(null,t)],[I.todayBtn,"click",wc.bind(null,t)],[I.clearBtn,"click",Tc.bind(null,t)]]),this.views=[new bc(this),new Ic(this),new qs(this,{id:2,name:"years",cellClass:"year",step:1}),new qs(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.config.container.appendChild(this.element)}setOptions(t){Xs(this,t),this.views.forEach(n=>{n.init(t,!1)}),this.currentView.render()}detach(){this.datepicker.config.container.removeChild(this.element)}show(){if(this.active)return;this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;const t=this.datepicker;if(!t.inline){const n=Xr(t.inputField);n!==Xr(t.config.container)?this.element.dir=n:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}cn(t,"show")}hide(){!this.active||(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,cn(this.datepicker,"hide"))}place(){const{classList:t,style:n}=this.element,{config:r,inputField:i}=this.datepicker,l=r.container,{width:c,height:u}=this.element.getBoundingClientRect(),{left:f,top:h,width:p}=l.getBoundingClientRect(),{left:m,top:b,width:I,height:E}=i.getBoundingClientRect();let{x:w,y:O}=r.orientation,D,_,y;l===document.body?(D=window.scrollY,_=m+window.scrollX,y=b+D):(D=l.scrollTop,_=m-f,y=b-h+D),w==="auto"&&(_<0?(w="left",_=10):_+c>p?w="right":w=Xr(i)==="rtl"?"right":"left"),w==="right"&&(_-=c-I),O==="auto"&&(O=y-u<D?"bottom":"top"),O==="top"?y-=u:y+=E,t.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),t.add(`datepicker-orient-${O}`,`datepicker-orient-${w}`),n.top=y&&`${y}px`,n.left=_&&`${_}px`}setViewSwitchLabel(t){this.controls.viewSwitch.textContent=t}setPrevBtnDisabled(t){this.controls.prevBtn.disabled=t}setNextBtnDisabled(t){this.controls.nextBtn.disabled=t}changeView(t){const n=this.currentView,r=this.views[t];return r.id!==n.id&&(this.currentView=r,this._renderMethod="render",cn(this.datepicker,"changeView"),this.main.replaceChild(r.element,n.element)),this}changeFocus(t){return this._renderMethod=Zs(this,t)?"render":"refreshFocus",this.views.forEach(n=>{n.updateFocus()}),this}update(){const t=Ks(this.datepicker);return this._renderMethod=Zs(this,t)?"render":"refresh",this.views.forEach(n=>{n.updateFocus(),n.updateSelection()}),this}render(t=!0){const n=t&&this._renderMethod||"render";delete this._renderMethod,this.currentView[n]()}}function co(e,t,n,r,i,l){if(!!bi(e,i,l)){if(r(e)){const c=t(e,n);return co(c,t,n,r,i,l)}return e}}function zn(e,t,n,r){const i=e.picker,l=i.currentView,c=l.step||1;let u=i.viewDate,f,h;switch(l.id){case 0:r?u=on(u,n*7):t.ctrlKey||t.metaKey?u=ln(u,n):u=on(u,n),f=on,h=p=>l.disabled.includes(p);break;case 1:u=ar(u,r?n*4:n),f=ar,h=p=>{const m=new Date(p),{year:b,disabled:I}=l;return m.getFullYear()===b&&I.includes(m.getMonth())};break;default:u=ln(u,n*(r?4:1)*c),f=ln,h=p=>l.disabled.includes(Ct(p,c))}u=co(u,f,n<0?-c:c,h,l.minDate,l.maxDate),u!==void 0&&i.changeFocus(u).render()}function Pc(e,t){if(t.key==="Tab"){lo(e);return}const n=e.picker,{id:r,isMinView:i}=n.currentView;if(n.active)if(e.editMode)switch(t.key){case"Escape":n.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":n.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)ur(e,-1);else if(t.shiftKey){e.enterEditMode();return}else zn(e,t,-1,!1);break;case"ArrowRight":if(t.ctrlKey||t.metaKey)ur(e,1);else if(t.shiftKey){e.enterEditMode();return}else zn(e,t,1,!1);break;case"ArrowUp":if(t.ctrlKey||t.metaKey)oo(e);else if(t.shiftKey){e.enterEditMode();return}else zn(e,t,-1,!0);break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey){e.enterEditMode();return}zn(e,t,1,!0);break;case"Enter":i?e.setDate(n.viewDate):n.changeView(r-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:t.key.length===1&&!t.ctrlKey&&!t.metaKey&&e.enterEditMode();return}else switch(t.key){case"ArrowDown":case"Escape":n.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}function Mc(e){e.config.showOnFocus&&!e._showing&&e.show()}function Cc(e,t){const n=t.target;(e.picker.active||e.config.showOnClick)&&(n._active=n===document.activeElement,n._clicking=setTimeout(()=>{delete n._active,delete n._clicking},2e3))}function xc(e,t){const n=t.target;!n._clicking||(clearTimeout(n._clicking),delete n._clicking,n._active&&e.enterEditMode(),delete n._active,e.config.showOnClick&&e.show())}function kc(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function Nc(e,t){const n=e.element;if(n!==document.activeElement)return;const r=e.picker.element;ao(t,i=>i===n||i===r)||lo(e)}function uo(e,t){return e.map(n=>lr(n,t.format,t.locale)).join(t.dateDelimiter)}function fo(e,t,n=!1){const{config:r,dates:i,rangepicker:l}=e;if(t.length===0)return n?[]:void 0;const c=l&&e===l.datepickers[1];let u=t.reduce((f,h)=>{let p=Cn(h,r.format,r.locale);if(p===void 0)return f;if(r.pickLevel>0){const m=new Date(p);r.pickLevel===1?p=c?m.setMonth(m.getMonth()+1,0):m.setDate(1):p=c?m.setFullYear(m.getFullYear()+1,0,0):m.setMonth(0,1)}return bi(p,r.minDate,r.maxDate)&&!f.includes(p)&&!r.datesDisabled.includes(p)&&!r.daysOfWeekDisabled.includes(new Date(p).getDay())&&f.push(p),f},[]);if(u.length!==0)return r.multidate&&!n&&(u=u.reduce((f,h)=>(i.includes(h)||f.push(h),f),i.filter(f=>!u.includes(f)))),r.maxNumberOfDates&&u.length>r.maxNumberOfDates?u.slice(r.maxNumberOfDates*-1):u}function fr(e,t=3,n=!0){const{config:r,picker:i,inputField:l}=e;if(t&2){const c=i.active?r.pickLevel:r.startView;i.update().changeView(c).render(n)}t&1&&l&&(l.value=uo(e.dates,r))}function Qs(e,t,n){let{clear:r,render:i,autohide:l}=n;i===void 0&&(i=!0),i?l===void 0&&(l=e.config.autohide):l=!1;const c=fo(e,t,r);!c||(c.toString()!==e.dates.toString()?(e.dates=c,fr(e,i?3:1),cn(e,"changeDate")):fr(e,1),l&&e.hide())}class Gc{constructor(t,n={},r=void 0){t.datepicker=this,this.element=t;const i=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:jt(),maxDate:void 0,minDate:void 0},zr(vi,this));this._options=n,Object.assign(i,zr(n,this));const l=this.inline=t.tagName!=="INPUT";let c,u;if(l)i.container=t,u=Wr(t.dataset.date,i.dateDelimiter),delete t.dataset.date;else{const p=n.container?document.querySelector(n.container):null;p&&(i.container=p),c=this.inputField=t,c.classList.add("datepicker-input"),u=Wr(c.value,i.dateDelimiter)}if(r){const p=r.inputs.indexOf(c),m=r.datepickers;if(p<0||p>1||!Array.isArray(m))throw Error("Invalid rangepicker object.");m[p]=this,Object.defineProperty(this,"rangepicker",{get(){return r}})}this.dates=[];const f=fo(this,u);f&&f.length>0&&(this.dates=f),c&&(c.value=uo(this.dates,i));const h=this.picker=new Lc(this);if(l)this.show();else{const p=Nc.bind(null,this),m=[[c,"keydown",Pc.bind(null,this)],[c,"focus",Mc.bind(null,this)],[c,"mousedown",Cc.bind(null,this)],[c,"click",xc.bind(null,this)],[c,"paste",kc.bind(null,this)],[document,"mousedown",p],[document,"touchstart",p],[window,"resize",h.place.bind(h)]];io(this,m)}}static formatDate(t,n,r){return lr(t,n,r&&Tn[r]||Tn.en)}static parseDate(t,n,r){return Cn(t,n,r&&Tn[r]||Tn.en)}static get locales(){return Tn}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(t){const n=this.picker,r=zr(t,this);Object.assign(this._options,t),Object.assign(this.config,r),n.setOptions(r),fr(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){return this.hide(),fc(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(t=void 0){const n=t?r=>lr(r,t,this.config.locale):r=>new Date(r);if(this.config.multidate)return this.dates.map(n);if(this.dates.length>0)return n(this.dates[0])}setDate(...t){const n=[...t],r={},i=yi(t);typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&i&&Object.assign(r,n.pop());const l=Array.isArray(n[0])?n[0]:n;Qs(this,l,r)}update(t=void 0){if(this.inline)return;const n={clear:!0,autohide:!!(t&&t.autohide)},r=Wr(this.inputField.value,this.config.dateDelimiter);Qs(this,r,n)}refresh(t=void 0,n=!1){t&&typeof t!="string"&&(n=t,t=void 0);let r;t==="picker"?r=2:t==="input"?r=1:r=3,fr(this,r,!n)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700"))}exitEditMode(t=void 0){if(this.inline||!this.editMode)return;const n=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700"),n.update&&this.update(n)}}/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Fc=e=>e instanceof HTMLElement,Bc=(e,t=[],n=[])=>{const r={...e},i=[],l=[],c=()=>({...r}),u=()=>{const E=[...i];return i.length=0,E},f=()=>{const E=[...l];l.length=0,E.forEach(({type:w,data:O})=>{h(w,O)})},h=(E,w,O)=>{if(O&&!document.hidden){l.push({type:E,data:w});return}I[E]&&I[E](w),i.push({type:E,data:w})},p=(E,...w)=>b[E]?b[E](...w):null,m={getState:c,processActionQueue:u,processDispatchQueue:f,dispatch:h,query:p};let b={};t.forEach(E=>{b={...E(r),...b}});let I={};return n.forEach(E=>{I={...E(h,p,r),...I}}),m},Vc=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},be=(e,t)=>{for(const n in e)!e.hasOwnProperty(n)||t(n,e[n])},Rt=e=>{const t={};return be(e,n=>{Vc(t,n,e[n])}),t},Re=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},Uc="http://www.w3.org/2000/svg",jc=["svg","path"],Js=e=>jc.includes(e),pr=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=Js(e)?document.createElementNS(Uc,e):document.createElement(e);return t&&(Js(e)?Re(r,"class",t):r.className=t),be(n,(i,l)=>{Re(r,i,l)}),r},Hc=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},Wc=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),$c=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),Yc=(()=>typeof window<"u"&&typeof window.document<"u")(),po=()=>Yc,qc=po()?pr("svg"):{},zc="children"in qc?e=>e.children.length:e=>e.childNodes.length,ho=(e,t,n,r)=>{const i=n[0]||e.left,l=n[1]||e.top,c=i+e.width,u=l+e.height*(r[1]||1),f={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:i,top:l,right:c,bottom:u}};return t.filter(h=>!h.isRectIgnored()).map(h=>h.rect).forEach(h=>{ea(f.inner,{...h.inner}),ea(f.outer,{...h.outer})}),ta(f.inner),f.outer.bottom+=f.element.marginBottom,f.outer.right+=f.element.marginRight,ta(f.outer),f},ea=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},ta=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},kt=e=>typeof e=="number",Xc=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,Kc=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,i=null,l=0,c=!1;const h=Rt({interpolate:(p,m)=>{if(c)return;if(!(kt(r)&&kt(i))){c=!0,l=0;return}const b=-(i-r)*e;l+=b/n,i+=l,l*=t,Xc(i,r,l)||m?(i=r,l=0,c=!0,h.onupdate(i),h.oncomplete(i)):h.onupdate(i)},target:{set:p=>{if(kt(p)&&!kt(i)&&(i=p),r===null&&(r=p,i=p),r=p,i===r||typeof r>"u"){c=!0,l=0,h.onupdate(i),h.oncomplete(i);return}c=!1},get:()=>r},resting:{get:()=>c},onupdate:p=>{},oncomplete:p=>{}});return h},Zc=e=>e<.5?2*e*e:-1+(4-2*e)*e,Qc=({duration:e=500,easing:t=Zc,delay:n=0}={})=>{let r=null,i,l,c=!0,u=!1,f=null;const p=Rt({interpolate:(m,b)=>{c||f===null||(r===null&&(r=m),!(m-r<n)&&(i=m-r-n,i>=e||b?(i=1,l=u?0:1,p.onupdate(l*f),p.oncomplete(l*f),c=!0):(l=i/e,p.onupdate((i>=0?t(u?1-l:l):0)*f))))},target:{get:()=>u?0:f,set:m=>{if(f===null){f=m,p.onupdate(m),p.oncomplete(m);return}m<f?(f=1,u=!0):(u=!1,f=m),c=!1,r=null}},resting:{get:()=>c},onupdate:m=>{},oncomplete:m=>{}});return p},na={spring:Kc,tween:Qc},Jc=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,i=typeof r=="string"?r:r.type,l=typeof r=="object"?{...r}:{};return na[i]?na[i](l):null},Ti=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(i=>{e.forEach(l=>{let c=l,u=()=>n[l],f=h=>n[l]=h;typeof l=="object"&&(c=l.key,u=l.getter||u,f=l.setter||f),!(i[c]&&!r)&&(i[c]={get:u,set:f})})})},ed=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const i={...t},l=[];return be(e,(c,u)=>{const f=Jc(u);if(!f)return;f.onupdate=p=>{t[c]=p},f.target=i[c],Ti([{key:c,setter:p=>{f.target!==p&&(f.target=p)},getter:()=>t[c]}],[n,r],t,!0),l.push(f)}),{write:c=>{let u=document.hidden,f=!0;return l.forEach(h=>{h.resting||(f=!1),h.interpolate(c,u)}),f},destroy:()=>{}}},td=e=>(t,n)=>{e.addEventListener(t,n)},nd=e=>(t,n)=>{e.removeEventListener(t,n)},rd=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:i,view:l})=>{const c=[],u=td(l.element),f=nd(l.element);return r.on=(h,p)=>{c.push({type:h,fn:p}),u(h,p)},r.off=(h,p)=>{c.splice(c.findIndex(m=>m.type===h&&m.fn===p),1),f(h,p)},{write:()=>!0,destroy:()=>{c.forEach(h=>{f(h.type,h.fn)})}}},id=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Ti(e,n,t)},Ge=e=>e!=null,sd={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},ad=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:i})=>{const l={...t},c={};Ti(e,[n,r],t);const u=()=>[t.translateX||0,t.translateY||0],f=()=>[t.scaleX||0,t.scaleY||0],h=()=>i.rect?ho(i.rect,i.childViews,u(),f()):null;return n.rect={get:h},r.rect={get:h},e.forEach(p=>{t[p]=typeof l[p]>"u"?sd[p]:l[p]}),{write:()=>{if(!!od(c,t))return ld(i.element,t),Object.assign(c,{...t}),!0},destroy:()=>{}}},od=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},ld=(e,{opacity:t,perspective:n,translateX:r,translateY:i,scaleX:l,scaleY:c,rotateX:u,rotateY:f,rotateZ:h,originX:p,originY:m,width:b,height:I})=>{let E="",w="";(Ge(p)||Ge(m))&&(w+=`transform-origin: ${p||0}px ${m||0}px;`),Ge(n)&&(E+=`perspective(${n}px) `),(Ge(r)||Ge(i))&&(E+=`translate3d(${r||0}px, ${i||0}px, 0) `),(Ge(l)||Ge(c))&&(E+=`scale3d(${Ge(l)?l:1}, ${Ge(c)?c:1}, 1) `),Ge(h)&&(E+=`rotateZ(${h}rad) `),Ge(u)&&(E+=`rotateX(${u}rad) `),Ge(f)&&(E+=`rotateY(${f}rad) `),E.length&&(w+=`transform:${E};`),Ge(t)&&(w+=`opacity:${t};`,t===0&&(w+="visibility:hidden;"),t<1&&(w+="pointer-events:none;")),Ge(I)&&(w+=`height:${I}px;`),Ge(b)&&(w+=`width:${b}px;`);const O=e.elementCurrentStyle||"";(w.length!==O.length||w!==O)&&(e.style.cssText=w,e.elementCurrentStyle=w)},cd={styles:ad,listeners:rd,animations:ed,apis:id},ra=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Se=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:i=()=>{},create:l=()=>{},destroy:c=()=>{},filterFrameActionsForChild:u=(I,E)=>E,didCreateView:f=()=>{},didWriteView:h=()=>{},ignoreRect:p=!1,ignoreRectUpdate:m=!1,mixins:b=[]}={})=>(I,E={})=>{const w=pr(e,`filepond--${t}`,n),O=window.getComputedStyle(w,null),D=ra();let _=null,y=!1;const v=[],S=[],G={},W={},M=[i],N=[r],Y=[c],V=()=>w,H=()=>v.concat(),ie=()=>G,k=z=>(X,Ae)=>X(z,Ae),te=()=>_||(_=ho(D,v,[0,0],[1,1]),_),L=()=>O,x=()=>{_=null,v.forEach(Ae=>Ae._read()),!(m&&D.width&&D.height)&&ra(D,w,O);const X={root:q,props:E,rect:D};N.forEach(Ae=>Ae(X))},U=(z,X,Ae)=>{let De=X.length===0;return M.forEach(_e=>{_e({props:E,root:q,actions:X,timestamp:z,shouldOptimize:Ae})===!1&&(De=!1)}),S.forEach(_e=>{_e.write(z)===!1&&(De=!1)}),v.filter(_e=>!!_e.element.parentNode).forEach(_e=>{_e._write(z,u(_e,X),Ae)||(De=!1)}),v.forEach((_e,vt)=>{_e.element.parentNode||(q.appendChild(_e.element,vt),_e._read(),_e._write(z,u(_e,X),Ae),De=!1)}),y=De,h({props:E,root:q,actions:X,timestamp:z}),De},$=()=>{S.forEach(z=>z.destroy()),Y.forEach(z=>{z({root:q,props:E})}),v.forEach(z=>z._destroy())},Z={element:{get:V},style:{get:L},childViews:{get:H}},ne={...Z,rect:{get:te},ref:{get:ie},is:z=>t===z,appendChild:Hc(w),createChildView:k(I),linkView:z=>(v.push(z),z),unlinkView:z=>{v.splice(v.indexOf(z),1)},appendChildView:Wc(w,v),removeChildView:$c(w,v),registerWriter:z=>M.push(z),registerReader:z=>N.push(z),registerDestroyer:z=>Y.push(z),invalidateLayout:()=>w.layoutCalculated=!1,dispatch:I.dispatch,query:I.query},Ie={element:{get:V},childViews:{get:H},rect:{get:te},resting:{get:()=>y},isRectIgnored:()=>p,_read:x,_write:U,_destroy:$},J={...Z,rect:{get:()=>D}};Object.keys(b).sort((z,X)=>z==="styles"?1:X==="styles"?-1:0).forEach(z=>{const X=cd[z]({mixinConfig:b[z],viewProps:E,viewState:W,viewInternalAPI:ne,viewExternalAPI:Ie,view:Rt(J)});X&&S.push(X)});const q=Rt(ne);l({root:q,props:E});const Ne=zc(w);return v.forEach((z,X)=>{q.appendChild(z.element,Ne+X)}),f(q),Rt(Ie)},dd=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const i=window[r],l=1e3/n;let c=null,u=null,f=null,h=null;const p=()=>{document.hidden?(f=()=>window.setTimeout(()=>m(performance.now()),l),h=()=>window.clearTimeout(u)):(f=()=>window.requestAnimationFrame(m),h=()=>window.cancelAnimationFrame(u))};document.addEventListener("visibilitychange",()=>{h&&h(),p(),m(performance.now())});const m=b=>{u=f(m),c||(c=b);const I=b-c;I<=l||(c=b-I%l,i.readers.forEach(E=>E()),i.writers.forEach(E=>E(b)))};return p(),m(performance.now()),{pause:()=>{h(u)}}},Ve=(e,t)=>({root:n,props:r,actions:i=[],timestamp:l,shouldOptimize:c})=>{i.filter(u=>e[u.type]).forEach(u=>e[u.type]({root:n,props:r,action:u.data,timestamp:l,shouldOptimize:c})),t&&t({root:n,props:r,actions:i,timestamp:l,shouldOptimize:c})},ia=(e,t)=>t.parentNode.insertBefore(e,t),sa=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),_r=e=>Array.isArray(e),bt=e=>e==null,ud=e=>e.trim(),yr=e=>""+e,fd=(e,t=",")=>bt(e)?[]:_r(e)?e:yr(e).split(t).map(ud).filter(n=>n.length),go=e=>typeof e=="boolean",mo=e=>go(e)?e:e==="true",Be=e=>typeof e=="string",Eo=e=>kt(e)?e:Be(e)?yr(e).replace(/[a-z]+/gi,""):0,ir=e=>parseInt(Eo(e),10),aa=e=>parseFloat(Eo(e)),hn=e=>kt(e)&&isFinite(e)&&Math.floor(e)===e,oa=(e,t=1e3)=>{if(hn(e))return e;let n=yr(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),ir(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),ir(n)*t):ir(n)},Nt=e=>typeof e=="function",pd=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},la={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},hd=e=>{const t={};return t.url=Be(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},be(la,n=>{t[n]=gd(n,e[n],la[n],t.timeout,t.headers)}),t.process=e.process||Be(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},gd=(e,t,n,r,i)=>{if(t===null)return null;if(typeof t=="function")return t;const l={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Be(t))return l.url=t,l;if(Object.assign(l,t),Be(l.headers)){const c=l.headers.split(/:(.+)/);l.headers={header:c[0],value:c[1]}}return l.withCredentials=mo(l.withCredentials),l},md=e=>hd(e),Ed=e=>e===null,Pe=e=>typeof e=="object"&&e!==null,_d=e=>Pe(e)&&Be(e.url)&&Pe(e.process)&&Pe(e.revert)&&Pe(e.restore)&&Pe(e.fetch),ci=e=>_r(e)?"array":Ed(e)?"null":hn(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":_d(e)?"api":typeof e,yd=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),bd={array:fd,boolean:mo,int:e=>ci(e)==="bytes"?oa(e):ir(e),number:aa,float:aa,bytes:oa,string:e=>Nt(e)?e:yr(e),function:e=>pd(e),serverapi:md,object:e=>{try{return JSON.parse(yd(e))}catch{return null}}},Id=(e,t)=>bd[t](e),_o=(e,t,n)=>{if(e===t)return e;let r=ci(e);if(r!==n){const i=Id(e,n);if(r=ci(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=i}return e},vd=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=_o(r,e,t)}}},wd=e=>{const t={};return be(e,n=>{const r=e[n];t[n]=vd(r[0],r[1])}),Rt(t)},Td=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:wd(e)}),br=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),Od=(e,t)=>{const n={};return be(t,r=>{n[r]={get:()=>e.getState().options[r],set:i=>{e.dispatch(`SET_${br(r,"_").toUpperCase()}`,{value:i})}}}),n},Dd=e=>(t,n,r)=>{const i={};return be(e,l=>{const c=br(l,"_").toUpperCase();i[`SET_${c}`]=u=>{try{r.options[l]=u.value}catch{}t(`DID_SET_${c}`,{value:r.options[l]})}}),i},Rd=e=>t=>{const n={};return be(e,r=>{n[`GET_${br(r,"_").toUpperCase()}`]=i=>t.options[r]}),n},nt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Oi=()=>Math.random().toString(36).substring(2,11),Di=(e,t)=>e.splice(t,1),Sd=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Ir=()=>{const e=[],t=(r,i)=>{Di(e,e.findIndex(l=>l.event===r&&(l.cb===i||!i)))},n=(r,i,l)=>{e.filter(c=>c.event===r).map(c=>c.cb).forEach(c=>Sd(()=>c(...i),l))};return{fireSync:(r,...i)=>{n(r,i,!0)},fire:(r,...i)=>{n(r,i,!1)},on:(r,i)=>{e.push({event:r,cb:i})},onOnce:(r,i)=>{e.push({event:r,cb:(...l)=>{t(r,i),i(...l)}})},off:t}},yo=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Ad=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ye=e=>{const t={};return yo(e,t,Ad),t},Ld=e=>{e.forEach((t,n)=>{t.released&&Di(e,n)})},ee={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Le={INPUT:1,LIMBO:2,LOCAL:3},bo=e=>/[^0-9]+/.exec(e),Io=()=>bo(1.1 .toLocaleString())[0],Pd=()=>{const e=Io(),t=1e3 .toLocaleString(),n=1e3 .toString();return t!==n?bo(t)[0]:e==="."?",":"."},A={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Ri=[],lt=(e,t,n)=>new Promise((r,i)=>{const l=Ri.filter(u=>u.key===e).map(u=>u.cb);if(l.length===0){r(t);return}const c=l.shift();l.reduce((u,f)=>u.then(h=>f(h,n)),c(t,n)).then(u=>r(u)).catch(u=>i(u))}),Ht=(e,t,n)=>Ri.filter(r=>r.key===e).map(r=>r.cb(t,n)),Md=(e,t)=>Ri.push({key:e,cb:t}),Cd=e=>Object.assign(rn,e),hr=()=>({...rn}),xd=e=>{be(e,(t,n)=>{!rn[t]||(rn[t][0]=_o(n,rn[t][0],rn[t][1]))})},rn={id:[null,A.STRING],name:["filepond",A.STRING],disabled:[!1,A.BOOLEAN],className:[null,A.STRING],required:[!1,A.BOOLEAN],captureMethod:[null,A.STRING],allowSyncAcceptAttribute:[!0,A.BOOLEAN],allowDrop:[!0,A.BOOLEAN],allowBrowse:[!0,A.BOOLEAN],allowPaste:[!0,A.BOOLEAN],allowMultiple:[!1,A.BOOLEAN],allowReplace:[!0,A.BOOLEAN],allowRevert:[!0,A.BOOLEAN],allowRemove:[!0,A.BOOLEAN],allowProcess:[!0,A.BOOLEAN],allowReorder:[!1,A.BOOLEAN],allowDirectoriesOnly:[!1,A.BOOLEAN],storeAsFile:[!1,A.BOOLEAN],forceRevert:[!1,A.BOOLEAN],maxFiles:[null,A.INT],checkValidity:[!1,A.BOOLEAN],itemInsertLocationFreedom:[!0,A.BOOLEAN],itemInsertLocation:["before",A.STRING],itemInsertInterval:[75,A.INT],dropOnPage:[!1,A.BOOLEAN],dropOnElement:[!0,A.BOOLEAN],dropValidation:[!1,A.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],A.ARRAY],instantUpload:[!0,A.BOOLEAN],maxParallelUploads:[2,A.INT],allowMinimumUploadDuration:[!0,A.BOOLEAN],chunkUploads:[!1,A.BOOLEAN],chunkForce:[!1,A.BOOLEAN],chunkSize:[5e6,A.INT],chunkRetryDelays:[[500,1e3,3e3],A.ARRAY],server:[null,A.SERVER_API],fileSizeBase:[1e3,A.INT],labelFileSizeBytes:["bytes",A.STRING],labelFileSizeKilobytes:["KB",A.STRING],labelFileSizeMegabytes:["MB",A.STRING],labelFileSizeGigabytes:["GB",A.STRING],labelDecimalSeparator:[Io(),A.STRING],labelThousandsSeparator:[Pd(),A.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',A.STRING],labelInvalidField:["Field contains invalid files",A.STRING],labelFileWaitingForSize:["Waiting for size",A.STRING],labelFileSizeNotAvailable:["Size not available",A.STRING],labelFileCountSingular:["file in list",A.STRING],labelFileCountPlural:["files in list",A.STRING],labelFileLoading:["Loading",A.STRING],labelFileAdded:["Added",A.STRING],labelFileLoadError:["Error during load",A.STRING],labelFileRemoved:["Removed",A.STRING],labelFileRemoveError:["Error during remove",A.STRING],labelFileProcessing:["Uploading",A.STRING],labelFileProcessingComplete:["Upload complete",A.STRING],labelFileProcessingAborted:["Upload cancelled",A.STRING],labelFileProcessingError:["Error during upload",A.STRING],labelFileProcessingRevertError:["Error during revert",A.STRING],labelTapToCancel:["tap to cancel",A.STRING],labelTapToRetry:["tap to retry",A.STRING],labelTapToUndo:["tap to undo",A.STRING],labelButtonRemoveItem:["Remove",A.STRING],labelButtonAbortItemLoad:["Abort",A.STRING],labelButtonRetryItemLoad:["Retry",A.STRING],labelButtonAbortItemProcessing:["Cancel",A.STRING],labelButtonUndoItemProcessing:["Undo",A.STRING],labelButtonRetryItemProcessing:["Retry",A.STRING],labelButtonProcessItem:["Upload",A.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',A.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',A.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',A.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',A.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',A.STRING],oninit:[null,A.FUNCTION],onwarning:[null,A.FUNCTION],onerror:[null,A.FUNCTION],onactivatefile:[null,A.FUNCTION],oninitfile:[null,A.FUNCTION],onaddfilestart:[null,A.FUNCTION],onaddfileprogress:[null,A.FUNCTION],onaddfile:[null,A.FUNCTION],onprocessfilestart:[null,A.FUNCTION],onprocessfileprogress:[null,A.FUNCTION],onprocessfileabort:[null,A.FUNCTION],onprocessfilerevert:[null,A.FUNCTION],onprocessfile:[null,A.FUNCTION],onprocessfiles:[null,A.FUNCTION],onremovefile:[null,A.FUNCTION],onpreparefile:[null,A.FUNCTION],onupdatefiles:[null,A.FUNCTION],onreorderfiles:[null,A.FUNCTION],beforeDropFile:[null,A.FUNCTION],beforeAddFile:[null,A.FUNCTION],beforeRemoveFile:[null,A.FUNCTION],beforePrepareFile:[null,A.FUNCTION],stylePanelLayout:[null,A.STRING],stylePanelAspectRatio:[null,A.STRING],styleItemPanelAspectRatio:[null,A.STRING],styleButtonRemoveItemPosition:["left",A.STRING],styleButtonProcessItemPosition:["right",A.STRING],styleLoadIndicatorPosition:["right",A.STRING],styleProgressIndicatorPosition:["right",A.STRING],styleButtonRemoveItemAlign:[!1,A.BOOLEAN],files:[[],A.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],A.ARRAY]},Gt=(e,t)=>bt(t)?e[0]||null:hn(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),vo=e=>{if(bt(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ct=e=>e.filter(t=>!t.archived),kd={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Xn=null;const Nd=()=>{if(Xn===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Xn=t.files.length===1}catch{Xn=!1}return Xn},Gd=[ee.LOAD_ERROR,ee.PROCESSING_ERROR,ee.PROCESSING_REVERT_ERROR],Fd=[ee.LOADING,ee.PROCESSING,ee.PROCESSING_QUEUED,ee.INIT],Bd=[ee.PROCESSING_COMPLETE],Vd=e=>Gd.includes(e.status),Ud=e=>Fd.includes(e.status),jd=e=>Bd.includes(e.status),ca=e=>Pe(e.options.server)&&(Pe(e.options.server.process)||Nt(e.options.server.process)),Hd=e=>({GET_STATUS:()=>{const t=ct(e.items),{EMPTY:n,ERROR:r,BUSY:i,IDLE:l,READY:c}=kd;return t.length===0?n:t.some(Vd)?r:t.some(Ud)?i:t.some(jd)?c:l},GET_ITEM:t=>Gt(e.items,t),GET_ACTIVE_ITEM:t=>Gt(ct(e.items),t),GET_ACTIVE_ITEMS:()=>ct(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Gt(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Gt(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:vo(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>ct(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>ct(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&Nd()&&!ca(e),IS_ASYNC:()=>ca(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Wd=e=>{const t=ct(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},wo=(e,t,n)=>Math.max(Math.min(n,e),t),$d=(e,t,n)=>e.splice(t,0,n),Yd=(e,t,n)=>bt(t)?null:typeof n>"u"?(e.push(t),t):(n=wo(n,0,e.length),$d(e,n,t),t),di=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),kn=e=>e.split("/").pop().split("?").shift(),vr=e=>e.split(".").pop(),qd=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},On=(e,t="")=>(t+e).slice(-t.length),To=(e=new Date)=>`${e.getFullYear()}-${On(e.getMonth()+1,"00")}-${On(e.getDate(),"00")}_${On(e.getHours(),"00")}-${On(e.getMinutes(),"00")}-${On(e.getSeconds(),"00")}`,fn=(e,t,n=null,r=null)=>{const i=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return i.lastModifiedDate=new Date,e._relativePath&&(i._relativePath=e._relativePath),Be(t)||(t=To()),t&&r===null&&vr(t)?i.name=t:(r=r||qd(i.type),i.name=t+(r?"."+r:"")),i},zd=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Oo=(e,t)=>{const n=zd();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},Xd=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return Oo(n,t)},Do=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Kd=e=>e.split(",")[1].replace(/\s/g,""),Zd=e=>atob(Kd(e)),Qd=e=>{const t=Do(e),n=Zd(e);return Xd(n,t)},Jd=(e,t,n)=>fn(Qd(e),t,null,n),eu=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},tu=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},nu=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Si=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const i=eu(r);if(i){t.name=i;continue}const l=tu(r);if(l){t.size=l;continue}const c=nu(r);if(c){t.source=c;continue}}return t},ru=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},i=()=>{const u=t.source;c.fire("init",u),u instanceof File?c.fire("load",u):u instanceof Blob?c.fire("load",fn(u,u.name)):di(u)?c.fire("load",Jd(u)):l(u)},l=u=>{if(!e){c.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(u,f=>{t.duration=Date.now()-t.timestamp,t.complete=!0,f instanceof Blob&&(f=fn(f,f.name||kn(u))),c.fire("load",f instanceof Blob?f:f?f.body:null)},f=>{c.fire("error",typeof f=="string"?{type:"error",code:0,body:f}:f)},(f,h,p)=>{if(p&&(t.size=p),t.duration=Date.now()-t.timestamp,!f){t.progress=null;return}t.progress=h/p,c.fire("progress",t.progress)},()=>{c.fire("abort")},f=>{const h=Si(typeof f=="string"?f:f.headers);c.fire("meta",{size:t.size||h.size,filename:h.name,source:h.source})})},c={...Ir(),setSource:u=>t.source=u,getProgress:n,abort:r,load:i};return c},da=e=>/GET|HEAD/.test(e),Ft=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,c.abort()}};let i=!1,l=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),da(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const c=new XMLHttpRequest,u=da(n.method)?c:c.upload;return u.onprogress=f=>{i||r.onprogress(f.lengthComputable,f.loaded,f.total)},c.onreadystatechange=()=>{c.readyState<2||c.readyState===4&&c.status===0||l||(l=!0,r.onheaders(c))},c.onload=()=>{c.status>=200&&c.status<300?r.onload(c):r.onerror(c)},c.onerror=()=>r.onerror(c),c.onabort=()=>{i=!0,r.onabort()},c.ontimeout=()=>r.ontimeout(c),c.open(n.method,t,!0),hn(n.timeout)&&(c.timeout=n.timeout),Object.keys(n.headers).forEach(f=>{const h=unescape(encodeURIComponent(n.headers[f]));c.setRequestHeader(f,h)}),n.responseType&&(c.responseType=n.responseType),n.withCredentials&&(c.withCredentials=!0),c.send(e),r},Te=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Bt=e=>t=>{e(Te("error",0,"Timeout",t.getAllResponseHeaders()))},ua=e=>/\?/.test(e),Pn=(...e)=>{let t="";return e.forEach(n=>{t+=ua(t)&&ua(n)?n.replace(/\?/,"&"):n}),t},Kr=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Be(t.url))return null;const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,l,c,u,f,h)=>{const p=Ft(i,Pn(e,t.url),{...t,responseType:"blob"});return p.onload=m=>{const b=m.getAllResponseHeaders(),I=Si(b).name||kn(i);l(Te("load",m.status,t.method==="HEAD"?null:fn(n(m.response),I),b))},p.onerror=m=>{c(Te("error",m.status,r(m.response)||m.statusText,m.getAllResponseHeaders()))},p.onheaders=m=>{h(Te("headers",m.status,null,m.getAllResponseHeaders()))},p.ontimeout=Bt(c),p.onprogress=u,p.onabort=f,p}},Qe={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},iu=(e,t,n,r,i,l,c,u,f,h,p)=>{const m=[],{chunkTransferId:b,chunkServer:I,chunkSize:E,chunkRetryDelays:w}=p,O={serverId:b,aborted:!1},D=t.ondata||(k=>k),_=t.onload||((k,te)=>te==="HEAD"?k.getResponseHeader("Upload-Offset"):k.response),y=t.onerror||(k=>null),v=k=>{const te=new FormData;Pe(i)&&te.append(n,JSON.stringify(i));const L=typeof t.headers=="function"?t.headers(r,i):{...t.headers,"Upload-Length":r.size},x={...t,headers:L},U=Ft(D(te),Pn(e,t.url),x);U.onload=$=>k(_($,x.method)),U.onerror=$=>c(Te("error",$.status,y($.response)||$.statusText,$.getAllResponseHeaders())),U.ontimeout=Bt(c)},S=k=>{const te=Pn(e,I.url,O.serverId),x={headers:typeof t.headers=="function"?t.headers(O.serverId):{...t.headers},method:"HEAD"},U=Ft(null,te,x);U.onload=$=>k(_($,x.method)),U.onerror=$=>c(Te("error",$.status,y($.response)||$.statusText,$.getAllResponseHeaders())),U.ontimeout=Bt(c)},G=Math.floor(r.size/E);for(let k=0;k<=G;k++){const te=k*E,L=r.slice(te,te+E,"application/offset+octet-stream");m[k]={index:k,size:L.size,offset:te,data:L,file:r,progress:0,retries:[...w],status:Qe.QUEUED,error:null,request:null,timeout:null}}const W=()=>l(O.serverId),M=k=>k.status===Qe.QUEUED||k.status===Qe.ERROR,N=k=>{if(O.aborted)return;if(k=k||m.find(M),!k){m.every(Z=>Z.status===Qe.COMPLETE)&&W();return}k.status=Qe.PROCESSING,k.progress=null;const te=I.ondata||(Z=>Z),L=I.onerror||(Z=>null),x=Pn(e,I.url,O.serverId),U=typeof I.headers=="function"?I.headers(k):{...I.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":k.offset,"Upload-Length":r.size,"Upload-Name":r.name},$=k.request=Ft(te(k.data),x,{...I,headers:U});$.onload=()=>{k.status=Qe.COMPLETE,k.request=null,H()},$.onprogress=(Z,ne,Ie)=>{k.progress=Z?ne:null,V()},$.onerror=Z=>{k.status=Qe.ERROR,k.request=null,k.error=L(Z.response)||Z.statusText,Y(k)||c(Te("error",Z.status,L(Z.response)||Z.statusText,Z.getAllResponseHeaders()))},$.ontimeout=Z=>{k.status=Qe.ERROR,k.request=null,Y(k)||Bt(c)(Z)},$.onabort=()=>{k.status=Qe.QUEUED,k.request=null,f()}},Y=k=>k.retries.length===0?!1:(k.status=Qe.WAITING,clearTimeout(k.timeout),k.timeout=setTimeout(()=>{N(k)},k.retries.shift()),!0),V=()=>{const k=m.reduce((L,x)=>L===null||x.progress===null?null:L+x.progress,0);if(k===null)return u(!1,0,0);const te=m.reduce((L,x)=>L+x.size,0);u(!0,k,te)},H=()=>{m.filter(te=>te.status===Qe.PROCESSING).length>=1||N()},ie=()=>{m.forEach(k=>{clearTimeout(k.timeout),k.request&&k.request.abort()})};return O.serverId?S(k=>{O.aborted||(m.filter(te=>te.offset<k).forEach(te=>{te.status=Qe.COMPLETE,te.progress=te.size}),H())}):v(k=>{O.aborted||(h(k),O.serverId=k,H())}),{abort:()=>{O.aborted=!0,ie()}}},su=(e,t,n,r)=>(i,l,c,u,f,h,p)=>{if(!i)return;const m=r.chunkUploads,b=m&&i.size>r.chunkSize,I=m&&(b||r.chunkForce);if(i instanceof Blob&&I)return iu(e,t,n,i,l,c,u,f,h,p,r);const E=t.ondata||(S=>S),w=t.onload||(S=>S),O=t.onerror||(S=>null),D=typeof t.headers=="function"?t.headers(i,l)||{}:{...t.headers},_={...t,headers:D};var y=new FormData;Pe(l)&&y.append(n,JSON.stringify(l)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(S=>{y.append(n,S.file,S.name===null?S.file.name:`${S.name}${S.file.name}`)});const v=Ft(E(y),Pn(e,t.url),_);return v.onload=S=>{c(Te("load",S.status,w(S.response),S.getAllResponseHeaders()))},v.onerror=S=>{u(Te("error",S.status,O(S.response)||S.statusText,S.getAllResponseHeaders()))},v.ontimeout=Bt(u),v.onprogress=f,v.onabort=h,v},au=(e="",t,n,r)=>typeof t=="function"?(...i)=>t(n,...i,r):!t||!Be(t.url)?null:su(e,t,n,r),Dn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!Be(t.url))return(i,l)=>l();const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,l,c)=>{const u=Ft(i,e+t.url,t);return u.onload=f=>{l(Te("load",f.status,n(f.response),f.getAllResponseHeaders()))},u.onerror=f=>{c(Te("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},u.ontimeout=Bt(c),u}},Ro=(e=0,t=1)=>e+Math.random()*(t-e),ou=(e,t=1e3,n=0,r=25,i=250)=>{let l=null;const c=Date.now(),u=()=>{let f=Date.now()-c,h=Ro(r,i);f+h>t&&(h=f+h-t);let p=f/t;if(p>=1||document.hidden){e(1);return}e(p),l=setTimeout(u,h)};return t>0&&u(),{clear:()=>{clearTimeout(l)}}},lu=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,i=(p,m)=>{const b=()=>{n.duration===0||n.progress===null||h.fire("progress",h.getProgress())},I=()=>{n.complete=!0,h.fire("load-perceived",n.response.body)};h.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=ou(E=>{n.perceivedProgress=E,n.perceivedDuration=Date.now()-n.timestamp,b(),n.response&&n.perceivedProgress===1&&!n.complete&&I()},r?Ro(750,1500):0),n.request=e(p,m,E=>{n.response=Pe(E)?E:{type:"load",code:200,body:`${E}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,h.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&I()},E=>{n.perceivedPerformanceUpdater.clear(),h.fire("error",Pe(E)?E:{type:"error",code:0,body:`${E}`})},(E,w,O)=>{n.duration=Date.now()-n.timestamp,n.progress=E?w/O:null,b()},()=>{n.perceivedPerformanceUpdater.clear(),h.fire("abort",n.response?n.response.body:null)},E=>{h.fire("transfer",E)})},l=()=>{!n.request||(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},c=()=>{l(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},u=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,f=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,h={...Ir(),process:i,abort:l,getProgress:u,getDuration:f,reset:c};return h},So=e=>e.substring(0,e.lastIndexOf("."))||e,cu=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||di(e)?t[0]=e.name||To():di(e)?(t[1]=e.length,t[2]=Do(e)):Be(e)&&(t[0]=kn(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},pn=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ao=e=>{if(!Pe(e))return e;const t=_r(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&Pe(r)?Ao(r):r}return t},du=(e=null,t=null,n=null)=>{const r=Oi(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?ee.PROCESSING_COMPLETE:ee.INIT,activeLoader:null,activeProcessor:null};let l=null;const c={},u=M=>i.status=M,f=(M,...N)=>{i.released||i.frozen||G.fire(M,...N)},h=()=>vr(i.file.name),p=()=>i.file.type,m=()=>i.file.size,b=()=>i.file,I=(M,N,Y)=>{if(i.source=M,G.fireSync("init"),i.file){G.fireSync("load-skip");return}i.file=cu(M),N.on("init",()=>{f("load-init")}),N.on("meta",V=>{i.file.size=V.size,i.file.filename=V.filename,V.source&&(e=Le.LIMBO,i.serverFileReference=V.source,i.status=ee.PROCESSING_COMPLETE),f("load-meta")}),N.on("progress",V=>{u(ee.LOADING),f("load-progress",V)}),N.on("error",V=>{u(ee.LOAD_ERROR),f("load-request-error",V)}),N.on("abort",()=>{u(ee.INIT),f("load-abort")}),N.on("load",V=>{i.activeLoader=null;const H=k=>{i.file=pn(k)?k:i.file,e===Le.LIMBO&&i.serverFileReference?u(ee.PROCESSING_COMPLETE):u(ee.IDLE),f("load")},ie=k=>{i.file=V,f("load-meta"),u(ee.LOAD_ERROR),f("load-file-error",k)};if(i.serverFileReference){H(V);return}Y(V,H,ie)}),N.setSource(M),i.activeLoader=N,N.load()},E=()=>{!i.activeLoader||i.activeLoader.load()},w=()=>{if(i.activeLoader){i.activeLoader.abort();return}u(ee.INIT),f("load-abort")},O=(M,N)=>{if(i.processingAborted){i.processingAborted=!1;return}if(u(ee.PROCESSING),l=null,!(i.file instanceof Blob)){G.on("load",()=>{O(M,N)});return}M.on("load",H=>{i.transferId=null,i.serverFileReference=H}),M.on("transfer",H=>{i.transferId=H}),M.on("load-perceived",H=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=H,u(ee.PROCESSING_COMPLETE),f("process-complete",H)}),M.on("start",()=>{f("process-start")}),M.on("error",H=>{i.activeProcessor=null,u(ee.PROCESSING_ERROR),f("process-error",H)}),M.on("abort",H=>{i.activeProcessor=null,i.serverFileReference=H,u(ee.IDLE),f("process-abort"),l&&l()}),M.on("progress",H=>{f("process-progress",H)});const Y=H=>{i.archived||M.process(H,{...c})},V=console.error;N(i.file,Y,V),i.activeProcessor=M},D=()=>{i.processingAborted=!1,u(ee.PROCESSING_QUEUED)},_=()=>new Promise(M=>{if(!i.activeProcessor){i.processingAborted=!0,u(ee.IDLE),f("process-abort"),M();return}l=()=>{M()},i.activeProcessor.abort()}),y=(M,N)=>new Promise((Y,V)=>{const H=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(H===null){Y();return}M(H,()=>{i.serverFileReference=null,i.transferId=null,Y()},ie=>{if(!N){Y();return}u(ee.PROCESSING_REVERT_ERROR),f("process-revert-error"),V(ie)}),u(ee.IDLE),f("process-revert")}),v=(M,N,Y)=>{const V=M.split("."),H=V[0],ie=V.pop();let k=c;V.forEach(te=>k=k[te]),JSON.stringify(k[ie])!==JSON.stringify(N)&&(k[ie]=N,f("metadata-update",{key:H,value:c[H],silent:Y}))},G={id:{get:()=>r},origin:{get:()=>e,set:M=>e=M},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>So(i.file.name)},fileExtension:{get:h},fileType:{get:p},fileSize:{get:m},file:{get:b},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:M=>Ao(M?c[M]:c),setMetadata:(M,N,Y)=>{if(Pe(M)){const V=M;return Object.keys(V).forEach(H=>{v(H,V[H],N)}),M}return v(M,N,Y),N},extend:(M,N)=>W[M]=N,abortLoad:w,retryLoad:E,requestProcessing:D,abortProcessing:_,load:I,process:O,revert:y,...Ir(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived}},W=Rt(G);return W},uu=(e,t)=>bt(t)?0:Be(t)?e.findIndex(n=>n.id===t):-1,fa=(e,t)=>{const n=uu(e,t);if(!(n<0))return e[n]||null},pa=(e,t,n,r,i,l)=>{const c=Ft(null,e,{method:"GET",responseType:"blob"});return c.onload=u=>{const f=u.getAllResponseHeaders(),h=Si(f).name||kn(e);t(Te("load",u.status,fn(u.response,h),f))},c.onerror=u=>{n(Te("error",u.status,u.statusText,u.getAllResponseHeaders()))},c.onheaders=u=>{l(Te("headers",u.status,null,u.getAllResponseHeaders()))},c.ontimeout=Bt(n),c.onprogress=r,c.onabort=i,c},ha=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),fu=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ha(location.href)!==ha(e),Kn=e=>(...t)=>Nt(e)?e(...t):e,pu=e=>!pn(e.file),Zr=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:ct(t.items)})},0)},ga=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Qr=(e,t)=>{e.items.sort((n,r)=>t(Ye(n),Ye(r)))},Je=(e,t)=>({query:n,success:r=()=>{},failure:i=()=>{},...l}={})=>{const c=Gt(e.items,n);if(!c){i({error:Te("error",0,"Item not found"),file:null});return}t(c,r,i,l||{})},hu=(e,t,n)=>({ABORT_ALL:()=>{ct(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const i=r.map(c=>({source:c.source?c.source:c,options:c.options}));let l=ct(n.items);l.forEach(c=>{i.find(u=>u.source===c.source||u.source===c.file)||e("REMOVE_ITEM",{query:c,remove:!1})}),l=ct(n.items),i.forEach((c,u)=>{l.find(f=>f.source===c.source||f.file===c.source)||e("ADD_ITEM",{...c,interactionMethod:nt.NONE,index:u})})},DID_UPDATE_ITEM_METADATA:({id:r,action:i,change:l})=>{l.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const c=fa(n.items,r);if(!t("IS_ASYNC")){lt("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t,action:i,change:l}).then(p=>{const m=t("GET_BEFORE_PREPARE_FILE");m&&(p=m(c,p)),p&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:c,success:b=>{e("DID_PREPARE_OUTPUT",{id:r,file:b})}},!0)});return}c.origin===Le.LOCAL&&e("DID_LOAD_ITEM",{id:c.id,error:null,serverFileReference:c.source});const u=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},f=p=>{c.revert(Dn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(p?u:()=>{}).catch(()=>{})},h=p=>{c.abortProcessing().then(p?u:()=>{})};if(c.status===ee.PROCESSING_COMPLETE)return f(n.options.instantUpload);if(c.status===ee.PROCESSING)return h(n.options.instantUpload);n.options.instantUpload&&u()},0))},MOVE_ITEM:({query:r,index:i})=>{const l=Gt(n.items,r);if(!l)return;const c=n.items.indexOf(l);i=wo(i,0,n.items.length-1),c!==i&&n.items.splice(i,0,n.items.splice(c,1)[0])},SORT:({compare:r})=>{Qr(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:i,interactionMethod:l,success:c=()=>{},failure:u=()=>{}})=>{let f=i;if(i===-1||typeof i>"u"){const I=t("GET_ITEM_INSERT_LOCATION"),E=t("GET_TOTAL_ITEMS");f=I==="before"?0:E}const h=t("GET_IGNORED_FILES"),p=I=>pn(I)?!h.includes(I.name.toLowerCase()):!bt(I),b=r.filter(p).map(I=>new Promise((E,w)=>{e("ADD_ITEM",{interactionMethod:l,source:I.source||I,success:E,failure:w,index:f++,options:I.options||{}})}));Promise.all(b).then(c).catch(u)},ADD_ITEM:({source:r,index:i=-1,interactionMethod:l,success:c=()=>{},failure:u=()=>{},options:f={}})=>{if(bt(r)){u({error:Te("error",0,"No source"),file:null});return}if(pn(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!Wd(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const _=Te("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:_}),u({error:_,file:null});return}const D=ct(n.items)[0];if(D.status===ee.PROCESSING_COMPLETE||D.status===ee.PROCESSING_REVERT_ERROR){const _=t("GET_FORCE_REVERT");if(D.revert(Dn(n.options.server.url,n.options.server.revert),_).then(()=>{!_||e("ADD_ITEM",{source:r,index:i,interactionMethod:l,success:c,failure:u,options:f})}).catch(()=>{}),_)return}e("REMOVE_ITEM",{query:D.id})}const h=f.type==="local"?Le.LOCAL:f.type==="limbo"?Le.LIMBO:Le.INPUT,p=du(h,h===Le.INPUT?null:r,f.file);Object.keys(f.metadata||{}).forEach(D=>{p.setMetadata(D,f.metadata[D])}),Ht("DID_CREATE_ITEM",p,{query:t,dispatch:e});const m=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(i=m==="before"?-1:n.items.length),Yd(n.items,p,i),Nt(m)&&r&&Qr(n,m);const b=p.id;p.on("init",()=>{e("DID_INIT_ITEM",{id:b})}),p.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:b})}),p.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:b})}),p.on("load-progress",D=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:b,progress:D})}),p.on("load-request-error",D=>{const _=Kn(n.options.labelFileLoadError)(D);if(D.code>=400&&D.code<500){e("DID_THROW_ITEM_INVALID",{id:b,error:D,status:{main:_,sub:`${D.code} (${D.body})`}}),u({error:D,file:Ye(p)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:b,error:D,status:{main:_,sub:n.options.labelTapToRetry}})}),p.on("load-file-error",D=>{e("DID_THROW_ITEM_INVALID",{id:b,error:D.status,status:D.status}),u({error:D.status,file:Ye(p)})}),p.on("load-abort",()=>{e("REMOVE_ITEM",{query:b})}),p.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:b,item:p,data:{source:r,success:c}})}),p.on("load",()=>{const D=_=>{if(!_){e("REMOVE_ITEM",{query:b});return}p.on("metadata-update",y=>{e("DID_UPDATE_ITEM_METADATA",{id:b,change:y})}),lt("SHOULD_PREPARE_OUTPUT",!1,{item:p,query:t}).then(y=>{const v=t("GET_BEFORE_PREPARE_FILE");v&&(y=v(p,y));const S=()=>{e("COMPLETE_LOAD_ITEM",{query:b,item:p,data:{source:r,success:c}}),Zr(e,n)};if(y){e("REQUEST_PREPARE_OUTPUT",{query:b,item:p,success:G=>{e("DID_PREPARE_OUTPUT",{id:b,file:G}),S()}},!0);return}S()})};lt("DID_LOAD_ITEM",p,{query:t,dispatch:e}).then(()=>{ga(t("GET_BEFORE_ADD_FILE"),Ye(p)).then(D)}).catch(_=>{if(!_||!_.error||!_.status)return D(!1);e("DID_THROW_ITEM_INVALID",{id:b,error:_.error,status:_.status})})}),p.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:b})}),p.on("process-progress",D=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:b,progress:D})}),p.on("process-error",D=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:b,error:D,status:{main:Kn(n.options.labelFileProcessingError)(D),sub:n.options.labelTapToRetry}})}),p.on("process-revert-error",D=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:b,error:D,status:{main:Kn(n.options.labelFileProcessingRevertError)(D),sub:n.options.labelTapToRetry}})}),p.on("process-complete",D=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:b,error:null,serverFileReference:D}),e("DID_DEFINE_VALUE",{id:b,value:D})}),p.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:b})}),p.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:b}),e("DID_DEFINE_VALUE",{id:b,value:null})}),e("DID_ADD_ITEM",{id:b,index:i,interactionMethod:l}),Zr(e,n);const{url:I,load:E,restore:w,fetch:O}=n.options.server||{};p.load(r,ru(h===Le.INPUT?Be(r)&&fu(r)&&O?Kr(I,O):pa:h===Le.LIMBO?Kr(I,w):Kr(I,E)),(D,_,y)=>{lt("LOAD_FILE",D,{query:t}).then(_).catch(y)})},REQUEST_PREPARE_OUTPUT:({item:r,success:i,failure:l=()=>{}})=>{const c={error:Te("error",0,"Item not found"),file:null};if(r.archived)return l(c);lt("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(u=>{lt("COMPLETE_PREPARE_OUTPUT",u,{query:t,item:r}).then(f=>{if(r.archived)return l(c);i(f)})})},COMPLETE_LOAD_ITEM:({item:r,data:i})=>{const{success:l,source:c}=i,u=t("GET_ITEM_INSERT_LOCATION");if(Nt(u)&&c&&Qr(n,u),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Le.INPUT?null:c}),l(Ye(r)),r.origin===Le.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===Le.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:c}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||c});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Je(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Je(n,(r,i,l)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:c=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:c}),i({file:r,output:c})},failure:l},!0)}),REQUEST_ITEM_PROCESSING:Je(n,(r,i,l)=>{if(!(r.status===ee.IDLE||r.status===ee.PROCESSING_ERROR)){const u=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:l}),f=()=>document.hidden?u():setTimeout(u,32);r.status===ee.PROCESSING_COMPLETE||r.status===ee.PROCESSING_REVERT_ERROR?r.revert(Dn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(f).catch(()=>{}):r.status===ee.PROCESSING&&r.abortProcessing().then(f);return}r.status!==ee.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:i,failure:l},!0))}),PROCESS_ITEM:Je(n,(r,i,l)=>{const c=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",ee.PROCESSING).length===c){n.processingQueue.push({id:r.id,success:i,failure:l});return}if(r.status===ee.PROCESSING)return;const f=()=>{const p=n.processingQueue.shift();if(!p)return;const{id:m,success:b,failure:I}=p,E=Gt(n.items,m);if(!E||E.archived){f();return}e("PROCESS_ITEM",{query:m,success:b,failure:I},!0)};r.onOnce("process-complete",()=>{i(Ye(r)),f();const p=n.options.server;if(n.options.instantUpload&&r.origin===Le.LOCAL&&Nt(p.remove)){const I=()=>{};r.origin=Le.LIMBO,n.options.server.remove(r.source,I,I)}t("GET_ITEMS_BY_STATUS",ee.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",p=>{l({error:p,file:Ye(r)}),f()});const h=n.options;r.process(lu(au(h.server.url,h.server.process,h.name,{chunkTransferId:r.transferId,chunkServer:h.server.patch,chunkUploads:h.chunkUploads,chunkForce:h.chunkForce,chunkSize:h.chunkSize,chunkRetryDelays:h.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(p,m,b)=>{lt("PREPARE_OUTPUT",p,{query:t,item:r}).then(I=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:I}),m(I)}).catch(b)})}),RETRY_ITEM_PROCESSING:Je(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Je(n,r=>{ga(t("GET_BEFORE_REMOVE_FILE"),Ye(r)).then(i=>{!i||e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Je(n,r=>{r.release()}),REMOVE_ITEM:Je(n,(r,i,l,c)=>{const u=()=>{const h=r.id;fa(n.items,h).archive(),e("DID_REMOVE_ITEM",{error:null,id:h,item:r}),Zr(e,n),i(Ye(r))},f=n.options.server;r.origin===Le.LOCAL&&f&&Nt(f.remove)&&c.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),f.remove(r.source,()=>u(),h=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Te("error",0,h,null),status:{main:Kn(n.options.labelFileRemoveError)(h),sub:n.options.labelTapToRetry}})})):((c.revert&&r.origin!==Le.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(Dn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),u())}),ABORT_ITEM_LOAD:Je(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Je(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Je(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const i=u=>{!u||e("REVERT_ITEM_PROCESSING",{query:r})},l=t("GET_BEFORE_REMOVE_FILE");if(!l)return i(!0);const c=l(Ye(r));if(c==null)return i(!0);if(typeof c=="boolean")return i(c);typeof c.then=="function"&&c.then(i)}),REVERT_ITEM_PROCESSING:Je(n,r=>{r.revert(Dn(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||pu(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const i=Object.keys(r),l=gu.filter(u=>i.includes(u));[...l,...Object.keys(r).filter(u=>!l.includes(u))].forEach(u=>{e(`SET_${br(u,"_").toUpperCase()}`,{value:r[u]})})}}),gu=["server"],Ai=e=>e,It=e=>document.createElement(e),Oe=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},ma=(e,t,n,r)=>{const i=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}},mu=(e,t,n,r,i,l)=>{const c=ma(e,t,n,i),u=ma(e,t,n,r);return["M",c.x,c.y,"A",n,n,0,l,0,u.x,u.y].join(" ")},Eu=(e,t,n,r,i)=>{let l=1;return i>r&&i-r<=.5&&(l=0),r>i&&r-i>=.5&&(l=0),mu(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,i)*360,l)},_u=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=pr("svg");e.ref.path=pr("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},yu=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(Re(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let i=0,l=0;t.spin?(i=0,l=.5):(i=0,l=t.progress);const c=Eu(r,r,r-n,i,l);Re(e.ref.path,"d",c),Re(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Ea=Se({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:_u,write:yu,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),bu=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},Iu=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,Re(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Lo=Se({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:bu,write:Iu}),Po=(e,t=".",n=1e3,r={})=>{const{labelBytes:i="bytes",labelKilobytes:l="KB",labelMegabytes:c="MB",labelGigabytes:u="GB"}=r;e=Math.round(Math.abs(e));const f=n,h=n*n,p=n*n*n;return e<f?`${e} ${i}`:e<h?`${Math.floor(e/f)} ${l}`:e<p?`${_a(e/h,1,t)} ${c}`:`${_a(e/p,2,t)} ${u}`},_a=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),vu=({root:e,props:t})=>{const n=It("span");n.className="filepond--file-info-main",Re(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=It("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,Oe(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Oe(n,Ai(e.query("GET_ITEM_NAME",t.id)))},ui=({root:e,props:t})=>{Oe(e.ref.fileSize,Po(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Oe(e.ref.fileName,Ai(e.query("GET_ITEM_NAME",t.id)))},ya=({root:e,props:t})=>{if(hn(e.query("GET_ITEM_SIZE",t.id))){ui({root:e,props:t});return}Oe(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},wu=Se({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ve({DID_LOAD_ITEM:ui,DID_UPDATE_ITEM_META:ui,DID_THROW_ITEM_LOAD_ERROR:ya,DID_THROW_ITEM_INVALID:ya}),didCreateView:e=>{Ht("CREATE_VIEW",{...e,view:e})},create:vu,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Mo=e=>Math.round(e*100),Tu=({root:e})=>{const t=It("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=It("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Co({root:e,action:{progress:null}})},Co=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Mo(t.progress)}%`;Oe(e.ref.main,n),Oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Ou=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Mo(t.progress)}%`;Oe(e.ref.main,n),Oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Du=({root:e})=>{Oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Ru=({root:e})=>{Oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Su=({root:e})=>{Oe(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Oe(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ba=({root:e})=>{Oe(e.ref.main,""),Oe(e.ref.sub,"")},Rn=({root:e,action:t})=>{Oe(e.ref.main,t.status.main),Oe(e.ref.sub,t.status.sub)},Au=Se({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ve({DID_LOAD_ITEM:ba,DID_REVERT_ITEM_PROCESSING:ba,DID_REQUEST_ITEM_PROCESSING:Du,DID_ABORT_ITEM_PROCESSING:Ru,DID_COMPLETE_ITEM_PROCESSING:Su,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ou,DID_UPDATE_ITEM_LOAD_PROGRESS:Co,DID_THROW_ITEM_LOAD_ERROR:Rn,DID_THROW_ITEM_INVALID:Rn,DID_THROW_ITEM_PROCESSING_ERROR:Rn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Rn,DID_THROW_ITEM_REMOVE_ERROR:Rn}),didCreateView:e=>{Ht("CREATE_VIEW",{...e,view:e})},create:Tu,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),fi={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},pi=[];be(fi,e=>{pi.push(e)});const Xe=e=>{if(hi(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Lu=e=>e.ref.buttonAbortItemLoad.rect.element.width,Zn=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Pu=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Mu=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),Cu=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),hi=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),xu={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Mu},processProgressIndicator:{opacity:0,align:Cu},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ia={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Xe},status:{translateX:Xe}},Jr={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},sn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Xe},status:{translateX:Xe,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Xe},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:hi},info:{translateX:Xe},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:hi},buttonRemoveItem:{opacity:1},info:{translateX:Xe},status:{opacity:1,translateX:Xe}},DID_LOAD_ITEM:Ia,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Xe},status:{translateX:Xe}},DID_START_ITEM_PROCESSING:Jr,DID_REQUEST_ITEM_PROCESSING:Jr,DID_UPDATE_ITEM_PROCESS_PROGRESS:Jr,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Xe}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Xe},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ia},ku=Se({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Nu=({root:e,props:t})=>{const n=Object.keys(fi).reduce((E,w)=>(E[w]={...fi[w]},E),{}),{id:r}=t,i=e.query("GET_ALLOW_REVERT"),l=e.query("GET_ALLOW_REMOVE"),c=e.query("GET_ALLOW_PROCESS"),u=e.query("GET_INSTANT_UPLOAD"),f=e.query("IS_ASYNC"),h=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let p;f?c&&!i?p=E=>!/RevertItemProcessing/.test(E):!c&&i?p=E=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(E):!c&&!i&&(p=E=>!/Process/.test(E)):p=E=>!/Process/.test(E);const m=p?pi.filter(p):pi.concat();if(u&&i&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),f&&!i){const E=sn.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=Pu,E.info.translateY=Zn,E.status.translateY=Zn,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(f&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(E=>{sn[E].status.translateY=Zn}),sn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Lu),h&&i){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const E=sn.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=Xe,E.status.translateY=Zn,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}l||(n.RemoveItem.disabled=!0),be(n,(E,w)=>{const O=e.createChildView(Lo,{label:e.query(w.label),icon:e.query(w.icon),opacity:0});m.includes(E)&&e.appendChildView(O),w.disabled&&(O.element.setAttribute("disabled","disabled"),O.element.setAttribute("hidden","hidden")),O.element.dataset.align=e.query(`GET_STYLE_${w.align}`),O.element.classList.add(w.className),O.on("click",D=>{D.stopPropagation(),!w.disabled&&e.dispatch(w.action,{query:r})}),e.ref[`button${E}`]=O}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(ku)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(wu,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Au,{id:r}));const b=e.appendChildView(e.createChildView(Ea,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));b.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=b;const I=e.appendChildView(e.createChildView(Ea,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));I.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=I,e.ref.activeStyles=[]},Gu=({root:e,actions:t,props:n})=>{Fu({root:e,actions:t,props:n});let r=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>sn[i.type]);if(r){e.ref.activeStyles=[];const i=sn[r.type];be(xu,(l,c)=>{const u=e.ref[l];be(c,(f,h)=>{const p=i[l]&&typeof i[l][f]<"u"?i[l][f]:h;e.ref.activeStyles.push({control:u,key:f,value:p})})})}e.ref.activeStyles.forEach(({control:i,key:l,value:c})=>{i[l]=typeof c=="function"?c(e):c})},Fu=Ve({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Bu=Se({create:Nu,write:Gu,didCreateView:e=>{Ht("CREATE_VIEW",{...e,view:e})},name:"file"}),Vu=({root:e,props:t})=>{e.ref.fileName=It("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Bu,{id:t.id})),e.ref.data=!1},Uu=({root:e,props:t})=>{Oe(e.ref.fileName,Ai(e.query("GET_ITEM_NAME",t.id)))},ju=Se({create:Vu,ignoreRect:!0,write:Ve({DID_LOAD_ITEM:Uu}),didCreateView:e=>{Ht("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),va={type:"spring",damping:.6,mass:7},Hu=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:va},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:va},styles:["translateY"]}}].forEach(n=>{Wu(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Wu=(e,t,n)=>{const r=Se({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),i=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(i)},$u=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=go(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(i-n.height-r.height)/100,e.ref.bottom.translateY=i-r.height},xo=Se({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:$u,create:Hu,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Yu=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},wa={type:"spring",stiffness:.75,damping:.45,mass:10},Ta="spring",Oa={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},qu=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(ju,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(xo,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let i=!1;const l={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const c=Yu(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:c});const u=h=>{if(!h.isPrimary)return;h.stopPropagation(),h.preventDefault(),t.dragOffset={x:h.pageX-l.x,y:h.pageY-l.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!i&&(i=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:c})},f=h=>{!h.isPrimary||(document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",f),t.dragOffset={x:h.pageX-l.x,y:h.pageY-l.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:c}),i&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",u),document.addEventListener("pointerup",f)};e.element.addEventListener("pointerdown",n)},zu=Ve({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Xu=Ve({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let i=t.concat().filter(c=>/^DID_/.test(c.type)).reverse().find(c=>Oa[c.type]);i&&i.type!==n.currentState&&(n.currentState=i.type,e.element.dataset.filepondItemState=Oa[n.currentState]||"");const l=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");l?r||(e.height=e.rect.element.width*l):(zu({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Ku=Se({create:qu,write:Xu,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Ta,scaleY:Ta,translateX:wa,translateY:wa,opacity:{type:"tween",duration:150}}}});var Li=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Pi=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,i=t.length;let l=null;if(i===0||n.top<t[0].rect.element.top)return-1;const u=t[0].rect.element,f=u.marginLeft+u.marginRight,h=u.width+f,p=Li(r,h);if(p===1){for(let I=0;I<i;I++){const E=t[I],w=E.rect.outer.top+E.rect.element.height*.5;if(n.top<w)return I}return i}const m=u.marginTop+u.marginBottom,b=u.height+m;for(let I=0;I<i;I++){const E=I%p,w=Math.floor(I/p),O=E*h,D=w*b,_=D-u.marginTop,y=O+h,v=D+b+u.marginBottom;if(n.top<v&&n.top>_){if(n.left<y)return I;I!==i-1?l=I:l=null}}return l!==null?l:i},Qn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},Zu=({root:e})=>{Re(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Qu=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:i}=t;e.ref.addIndex=r;const l=Date.now();let c=l,u=1;if(i!==nt.NONE){u=0;const f=e.query("GET_ITEM_INSERT_INTERVAL"),h=l-e.ref.lastItemSpanwDate;c=h<f?l+(f-h):l}e.ref.lastItemSpanwDate=c,e.appendChildView(e.createChildView(Ku,{spawnDate:c,id:n,opacity:u,interactionMethod:i}),r)},Da=(e,t,n,r=0,i=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Ju(e,t,n,r,i),e.scaleX=1,e.scaleY=1,e.opacity=1))},Ju=(e,t,n,r,i)=>{e.interactionMethod===nt.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===nt.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-i*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===nt.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===nt.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},ef=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(i=>i.id===n);!r||(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},ei=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,tf=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,nf=({root:e,action:t})=>{const{id:n,dragState:r}=t,i=e.query("GET_ITEM",{id:n}),l=e.childViews.find(O=>O.id===n),c=e.childViews.length,u=r.getItemIndex(i);if(!l)return;const f={x:l.dragOrigin.x+l.dragOffset.x+l.dragCenter.x,y:l.dragOrigin.y+l.dragOffset.y+l.dragCenter.y},h=ei(l),p=tf(l);let m=Math.floor(e.rect.outer.width/p);m>c&&(m=c);const b=Math.floor(c/m+1);Qn.setHeight=h*b,Qn.setWidth=p*m;var I={y:Math.floor(f.y/h),x:Math.floor(f.x/p),getGridIndex:function(){return f.y>Qn.getHeight||f.y<0||f.x>Qn.getWidth||f.x<0?u:this.y*m+this.x},getColIndex:function(){const D=e.query("GET_ACTIVE_ITEMS"),_=e.childViews.filter(V=>V.rect.element.height),y=D.map(V=>_.find(H=>H.id===V.id)),v=y.findIndex(V=>V===l),S=ei(l),G=y.length;let W=G,M=0,N=0,Y=0;for(let V=0;V<G;V++)if(M=ei(y[V]),Y=N,N=Y+M,f.y<N){if(v>V){if(f.y<Y+S){W=V;break}continue}W=V;break}return W}};const E=m>1?I.getGridIndex():I.getColIndex();e.dispatch("MOVE_ITEM",{query:l,index:E});const w=r.getIndex();if(w===void 0||w!==E){if(r.setIndex(E),w===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:u,target:E})}},rf=Ve({DID_ADD_ITEM:Qu,DID_REMOVE_ITEM:ef,DID_DRAG_ITEM:nf}),sf=({root:e,props:t,actions:n,shouldOptimize:r})=>{rf({root:e,props:t,actions:n});const{dragCoordinates:i}=t,l=e.rect.element.width,c=e.childViews.filter(y=>y.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(y=>c.find(v=>v.id===y.id)).filter(y=>y),f=i?Pi(e,u,i):null,h=e.ref.addIndex||null;e.ref.addIndex=null;let p=0,m=0,b=0;if(u.length===0)return;const I=u[0].rect.element,E=I.marginTop+I.marginBottom,w=I.marginLeft+I.marginRight,O=I.width+w,D=I.height+E,_=Li(l,O);if(_===1){let y=0,v=0;u.forEach((S,G)=>{if(f){let N=G-f;N===-2?v=-E*.25:N===-1?v=-E*.75:N===0?v=E*.75:N===1?v=E*.25:v=0}r&&(S.translateX=null,S.translateY=null),S.markedForRemoval||Da(S,0,y+v);let M=(S.rect.element.height+E)*(S.markedForRemoval?S.opacity:1);y+=M})}else{let y=0,v=0;u.forEach((S,G)=>{G===f&&(p=1),G===h&&(b+=1),S.markedForRemoval&&S.opacity<.5&&(m-=1);const W=G+b+p+m,M=W%_,N=Math.floor(W/_),Y=M*O,V=N*D,H=Math.sign(Y-y),ie=Math.sign(V-v);y=Y,v=V,!S.markedForRemoval&&(r&&(S.translateX=null,S.translateY=null),Da(S,Y,V,H,ie))})}},af=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),of=Se({create:Zu,write:sf,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:af,mixins:{apis:["dragCoordinates"]}}),lf=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(of)),t.dragCoordinates=null,t.overflowing=!1},cf=({root:e,props:t,action:n})=>{!e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")||(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},df=({props:e})=>{e.dragCoordinates=null},uf=Ve({DID_DRAG:cf,DID_END_DRAG:df}),ff=({root:e,props:t,actions:n})=>{if(uf({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},pf=Se({create:lf,write:ff,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),dt=(e,t,n,r="")=>{n?Re(e,t,r):e.removeAttribute(t)},hf=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=It("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},gf=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Re(e.element,"name",e.query("GET_NAME")),Re(e.element,"aria-controls",`filepond--assistant-${t.id}`),Re(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),ko({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),No({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Go({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),gi({root:e}),Fo({root:e,action:{value:e.query("GET_REQUIRED")}}),Bo({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{t.onload(r),hf(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},ko=({root:e,action:t})=>{!e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")||dt(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},No=({root:e,action:t})=>{dt(e.element,"multiple",t.value)},Go=({root:e,action:t})=>{dt(e.element,"webkitdirectory",t.value)},gi=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;dt(e.element,"disabled",r)},Fo=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&dt(e.element,"required",!0):dt(e.element,"required",!1)},Bo=({root:e,action:t})=>{dt(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Ra=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(dt(t,"required",!1),dt(t,"name",!1)):(dt(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&dt(t,"required",!0))},mf=({root:e})=>{!e.query("GET_CHECK_VALIDITY")||e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Ef=Se({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:gf,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Ve({DID_LOAD_ITEM:Ra,DID_REMOVE_ITEM:Ra,DID_THROW_ITEM_INVALID:mf,DID_SET_DISABLED:gi,DID_SET_ALLOW_BROWSE:gi,DID_SET_ALLOW_DIRECTORIES_ONLY:Go,DID_SET_ALLOW_MULTIPLE:No,DID_SET_ACCEPTED_FILE_TYPES:ko,DID_SET_CAPTURE_METHOD:Bo,DID_SET_REQUIRED:Fo})}),Sa={ENTER:13,SPACE:32},_f=({root:e,props:t})=>{const n=It("label");Re(n,"for",`filepond--browser-${t.id}`),Re(n,"id",`filepond--drop-label-${t.id}`),Re(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===Sa.ENTER||r.keyCode===Sa.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Vo(n,t.caption),e.appendChild(n),e.ref.label=n},Vo=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&Re(n,"tabindex","0"),t},yf=Se({name:"drop-label",ignoreRect:!0,create:_f,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Ve({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Vo(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),bf=Se({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),If=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(bf,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},vf=({root:e,action:t})=>{if(!e.ref.blob){If({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},wf=({root:e})=>{!e.ref.blob||(e.ref.blob.opacity=0)},Tf=({root:e})=>{!e.ref.blob||(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Of=({root:e,props:t,actions:n})=>{Df({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},Df=Ve({DID_DRAG:vf,DID_DROP:Tf,DID_END_DRAG:wf}),Rf=Se({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Of}),Uo=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},Sf=({root:e})=>e.ref.fields={},wr=(e,t)=>e.ref.fields[t],Mi=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{!e.ref.fields[t.id]||e.element.appendChild(e.ref.fields[t.id])})},Aa=({root:e})=>Mi(e),Af=({root:e,action:t})=>{const i=!(e.query("GET_ITEM",t.id).origin===Le.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),l=It("input");l.type=i?"file":"hidden",l.name=e.query("GET_NAME"),l.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=l,Mi(e)},Lf=({root:e,action:t})=>{const n=wr(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Uo(n,[r.file])},Pf=({root:e,action:t})=>{!e.query("SHOULD_UPDATE_FILE_INPUT")||setTimeout(()=>{const n=wr(e,t.id);!n||Uo(n,[t.file])},0)},Mf=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Cf=({root:e,action:t})=>{const n=wr(e,t.id);!n||(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},xf=({root:e,action:t})=>{const n=wr(e,t.id);!n||(t.value===null?n.removeAttribute("value"):n.value=t.value,Mi(e))},kf=Ve({DID_SET_DISABLED:Mf,DID_ADD_ITEM:Af,DID_LOAD_ITEM:Lf,DID_REMOVE_ITEM:Cf,DID_DEFINE_VALUE:xf,DID_PREPARE_OUTPUT:Pf,DID_REORDER_ITEMS:Aa,DID_SORT_ITEMS:Aa}),Nf=Se({tag:"fieldset",name:"data",create:Sf,write:kf,ignoreRect:!0}),Gf=e=>"getRootNode"in e?e.getRootNode():document,Ff=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Bf=["css","csv","html","txt"],Vf={zip:"zip|compressed",epub:"application/epub+zip"},jo=(e="")=>(e=e.toLowerCase(),Ff.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Bf.includes(e)?"text/"+e:Vf[e]||""),Ci=e=>new Promise((t,n)=>{const r=zf(e);if(r.length&&!Uf(e))return t(r);jf(e).then(t)}),Uf=e=>e.files?e.files.length>0:!1,jf=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(i=>Hf(i)).map(i=>Wf(i));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(i=>{const l=[];i.forEach(c=>{l.push.apply(l,c)}),t(l.filter(c=>c).map(c=>(c._relativePath||(c._relativePath=c.webkitRelativePath),c)))}).catch(console.error)}),Hf=e=>{if(Ho(e)){const t=xi(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},Wf=e=>new Promise((t,n)=>{if(qf(e)){$f(xi(e)).then(t).catch(n);return}t([e.getAsFile()])}),$f=e=>new Promise((t,n)=>{const r=[];let i=0,l=0;const c=()=>{l===0&&i===0&&t(r)},u=f=>{i++;const h=f.createReader(),p=()=>{h.readEntries(m=>{if(m.length===0){i--,c();return}m.forEach(b=>{b.isDirectory?u(b):(l++,b.file(I=>{const E=Yf(I);b.fullPath&&(E._relativePath=b.fullPath),r.push(E),l--,c()}))}),p()},n)};p()};u(e)}),Yf=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=jo(vr(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},qf=e=>Ho(e)&&(xi(e)||{}).isDirectory,Ho=e=>"webkitGetAsEntry"in e,xi=e=>e.webkitGetAsEntry(),zf=e=>{let t=[];try{if(t=Kf(e),t.length)return t;t=Xf(e)}catch{}return t},Xf=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Kf=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},gr=[],Vt=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Zf=(e,t,n)=>{const r=Qf(t),i={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=r.addListener(i),i},Qf=e=>{const t=gr.find(r=>r.element===e);if(t)return t;const n=Jf(e);return gr.push(n),n},Jf=e=>{const t=[],n={dragenter:tp,dragover:np,dragleave:ip,drop:rp},r={};be(n,(l,c)=>{r[l]=c(e,t),e.addEventListener(l,r[l],!1)});const i={element:e,addListener:l=>(t.push(l),()=>{t.splice(t.indexOf(l),1),t.length===0&&(gr.splice(gr.indexOf(i),1),be(n,c=>{e.removeEventListener(c,r[c],!1)}))})};return i},ep=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),ki=(e,t)=>{const n=Gf(t),r=ep(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let Wo=null;const Jn=(e,t)=>{try{e.dropEffect=t}catch{}},tp=(e,t)=>n=>{n.preventDefault(),Wo=n.target,t.forEach(r=>{const{element:i,onenter:l}=r;ki(n,i)&&(r.state="enter",l(Vt(n)))})},np=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;Ci(r).then(i=>{let l=!1;t.some(c=>{const{filterElement:u,element:f,onenter:h,onexit:p,ondrag:m,allowdrop:b}=c;Jn(r,"copy");const I=b(i);if(!I){Jn(r,"none");return}if(ki(n,f)){if(l=!0,c.state===null){c.state="enter",h(Vt(n));return}if(c.state="over",u&&!I){Jn(r,"none");return}m(Vt(n))}else u&&!l&&Jn(r,"none"),c.state&&(c.state=null,p(Vt(n)))})})},rp=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;Ci(r).then(i=>{t.forEach(l=>{const{filterElement:c,element:u,ondrop:f,onexit:h,allowdrop:p}=l;if(l.state=null,!(c&&!ki(n,u))){if(!p(i))return h(Vt(n));f(Vt(n),i)}})})},ip=(e,t)=>n=>{Wo===n.target&&t.forEach(r=>{const{onexit:i}=r;r.state=null,i(Vt(n))})},sp=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:i,filterItems:l=p=>p}=n,c=Zf(e,r?document.documentElement:e,i);let u="",f="";c.allowdrop=p=>t(l(p)),c.ondrop=(p,m)=>{const b=l(m);if(!t(b)){h.ondragend(p);return}f="drag-drop",h.onload(b,p)},c.ondrag=p=>{h.ondrag(p)},c.onenter=p=>{f="drag-over",h.ondragstart(p)},c.onexit=p=>{f="drag-exit",h.ondragend(p)};const h={updateHopperState:()=>{u!==f&&(e.dataset.hopperState=f,u=f)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{c.destroy()}};return h};let mi=!1;const dn=[],$o=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Ci(e.clipboardData).then(n=>{!n.length||dn.forEach(r=>r(n))})},ap=e=>{dn.includes(e)||(dn.push(e),!mi&&(mi=!0,document.addEventListener("paste",$o)))},op=e=>{Di(dn,dn.indexOf(e)),dn.length===0&&(document.removeEventListener("paste",$o),mi=!1)},lp=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{op(e)},onload:()=>{}};return ap(e),t},cp=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Re(e.element,"role","status"),Re(e.element,"aria-live","polite"),Re(e.element,"aria-relevant","additions")};let La=null,Pa=null;const ti=[],Tr=(e,t)=>{e.element.textContent=t},dp=e=>{e.element.textContent=""},Yo=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");Tr(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Pa),Pa=setTimeout(()=>{dp(e)},1500)},qo=e=>e.element.parentNode.contains(document.activeElement),up=({root:e,action:t})=>{if(!qo(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);ti.push(n.filename),clearTimeout(La),La=setTimeout(()=>{Yo(e,ti.join(", "),e.query("GET_LABEL_FILE_ADDED")),ti.length=0},750)},fp=({root:e,action:t})=>{if(!qo(e))return;const n=t.item;Yo(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},pp=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Tr(e,`${r} ${i}`)},Ma=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Tr(e,`${r} ${i}`)},er=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;Tr(e,`${t.status.main} ${r} ${t.status.sub}`)},hp=Se({create:cp,ignoreRect:!0,ignoreRectUpdate:!0,write:Ve({DID_LOAD_ITEM:up,DID_REMOVE_ITEM:fp,DID_COMPLETE_ITEM_PROCESSING:pp,DID_ABORT_ITEM_PROCESSING:Ma,DID_REVERT_ITEM_PROCESSING:Ma,DID_THROW_ITEM_REMOVE_ERROR:er,DID_THROW_ITEM_LOAD_ERROR:er,DID_THROW_ITEM_INVALID:er,DID_THROW_ITEM_PROCESSING_ERROR:er}),tag:"span",name:"assistant"}),zo=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Xo=(e,t=16,n=!0)=>{let r=Date.now(),i=null;return(...l)=>{clearTimeout(i);const c=Date.now()-r,u=()=>{r=Date.now(),e(...l)};c<t?n||(i=setTimeout(u,t-c)):u()}},gp=1e6,mr=e=>e.preventDefault(),mp=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(f=>f.length).forEach(f=>{e.element.classList.add(f)}),e.ref.label=e.appendChildView(e.createChildView(yf,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(pf,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(xo,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(hp,{...t})),e.ref.data=e.appendChildView(e.createChildView(Nf,{...t})),e.ref.measure=It("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(f=>!bt(f.value)).map(({name:f,value:h})=>{e.element.dataset[f]=h}),e.ref.widthPrevious=null,e.ref.widthUpdated=Xo(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,l="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&l&&!i&&(e.element.addEventListener("touchmove",mr,{passive:!1}),e.element.addEventListener("gesturestart",mr));const c=e.query("GET_CREDITS");if(c.length===2){const f=document.createElement("a");f.className="filepond--credits",f.setAttribute("aria-hidden","true"),f.href=c[0],f.tabindex=-1,f.target="_blank",f.rel="noopener noreferrer",f.textContent=c[1],e.element.appendChild(f),e.ref.credits=f}},Ep=({root:e,props:t,actions:n})=>{if(vp({root:e,props:t,actions:n}),n.filter(G=>/^DID_SET_STYLE_/.test(G.type)).filter(G=>!bt(G.data.value)).map(({type:G,data:W})=>{const M=zo(G.substring(8).toLowerCase(),"_");e.element.dataset[M]=W.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=bp(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:i,label:l,list:c,panel:u}=e.ref;i&&i.updateHopperState();const f=e.query("GET_PANEL_ASPECT_RATIO"),h=e.query("GET_ALLOW_MULTIPLE"),p=e.query("GET_TOTAL_ITEMS"),m=h?e.query("GET_MAX_FILES")||gp:1,b=p===m,I=n.find(G=>G.type==="DID_ADD_ITEM");if(b&&I){const G=I.data.interactionMethod;l.opacity=0,h?l.translateY=-40:G===nt.API?l.translateX=40:G===nt.BROWSE?l.translateY=40:l.translateY=30}else b||(l.opacity=1,l.translateX=0,l.translateY=0);const E=_p(e),w=yp(e),O=l.rect.element.height,D=!h||b?0:O,_=b?c.rect.element.marginTop:0,y=p===0?0:c.rect.element.marginBottom,v=D+_+w.visual+y,S=D+_+w.bounds+y;if(c.translateY=Math.max(0,D-c.rect.element.marginTop)-E.top,f){const G=e.rect.element.width,W=G*f;f!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=f,e.ref.updateHistory=[]);const M=e.ref.updateHistory;M.push(G);const N=2;if(M.length>N*2){const V=M.length,H=V-10;let ie=0;for(let k=V;k>=H;k--)if(M[k]===M[k-2]&&ie++,ie>=N)return}u.scalable=!1,u.height=W;const Y=W-D-(y-E.bottom)-(b?_:0);w.visual>Y?c.overflow=Y:c.overflow=null,e.height=W}else if(r.fixedHeight){u.scalable=!1;const G=r.fixedHeight-D-(y-E.bottom)-(b?_:0);w.visual>G?c.overflow=G:c.overflow=null}else if(r.cappedHeight){const G=v>=r.cappedHeight,W=Math.min(r.cappedHeight,v);u.scalable=!0,u.height=G?W:W-E.top-E.bottom;const M=W-D-(y-E.bottom)-(b?_:0);v>r.cappedHeight&&w.visual>M?c.overflow=M:c.overflow=null,e.height=Math.min(r.cappedHeight,S-E.top-E.bottom)}else{const G=p>0?E.top+E.bottom:0;u.scalable=!0,u.height=Math.max(O,v-G),e.height=Math.max(O,S-G)}e.ref.credits&&u.heightCurrent&&(e.ref.credits.style.transform=`translateY(${u.heightCurrent}px)`)},_p=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},yp=e=>{let t=0,n=0;const r=e.ref.list,i=r.childViews[0],l=i.childViews.filter(_=>_.rect.element.height),c=e.query("GET_ACTIVE_ITEMS").map(_=>l.find(y=>y.id===_.id)).filter(_=>_);if(c.length===0)return{visual:t,bounds:n};const u=i.rect.element.width,f=Pi(i,c,r.dragCoordinates),h=c[0].rect.element,p=h.marginTop+h.marginBottom,m=h.marginLeft+h.marginRight,b=h.width+m,I=h.height+p,E=typeof f<"u"&&f>=0?1:0,w=c.find(_=>_.markedForRemoval&&_.opacity<.45)?-1:0,O=c.length+E+w,D=Li(u,b);return D===1?c.forEach(_=>{const y=_.rect.element.height+p;n+=y,t+=y*_.opacity}):(n=Math.ceil(O/D)*I,t=n),{visual:t,bounds:n}},bp=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Ni=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),i=e.query("GET_TOTAL_ITEMS");let l=e.query("GET_MAX_FILES");const c=t.length;return!r&&c>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Te("warning",0,"Max files")}),!0):(l=r?l:1,!r&&n?!1:hn(l)&&i+c>l?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Te("warning",0,"Max files")}),!0):!1)},Ip=(e,t,n)=>{const r=e.childViews[0];return Pi(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Ca=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const i=sp(e.element,l=>{const c=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?l.every(f=>Ht("ALLOW_HOPPER_ITEM",f,{query:e.query}).every(h=>h===!0)&&c(f)):!0},{filterItems:l=>{const c=e.query("GET_IGNORED_FILES");return l.filter(u=>pn(u)?!c.includes(u.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});i.onload=(l,c)=>{const f=e.ref.list.childViews[0].childViews.filter(p=>p.rect.element.height),h=e.query("GET_ACTIVE_ITEMS").map(p=>f.find(m=>m.id===p.id)).filter(p=>p);lt("ADD_ITEMS",l,{dispatch:e.dispatch}).then(p=>{if(Ni(e,p))return!1;e.dispatch("ADD_ITEMS",{items:p,index:Ip(e.ref.list,h,c),interactionMethod:nt.DROP})}),e.dispatch("DID_DROP",{position:c}),e.dispatch("DID_END_DRAG",{position:c})},i.ondragstart=l=>{e.dispatch("DID_START_DRAG",{position:l})},i.ondrag=Xo(l=>{e.dispatch("DID_DRAG",{position:l})}),i.ondragend=l=>{e.dispatch("DID_END_DRAG",{position:l})},e.ref.hopper=i,e.ref.drip=e.appendChildView(e.createChildView(Rf))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},xa=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),i=n&&!r;i&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Ef,{...t,onload:l=>{lt("ADD_ITEMS",l,{dispatch:e.dispatch}).then(c=>{if(Ni(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:-1,interactionMethod:nt.BROWSE})})}}),0):!i&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ka=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=lp(),e.ref.paster.onload=i=>{lt("ADD_ITEMS",i,{dispatch:e.dispatch}).then(l=>{if(Ni(e,l))return!1;e.dispatch("ADD_ITEMS",{items:l,index:-1,interactionMethod:nt.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},vp=Ve({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{xa(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Ca(e)},DID_SET_ALLOW_PASTE:({root:e})=>{ka(e)},DID_SET_DISABLED:({root:e,props:t})=>{Ca(e),ka(e),xa(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),wp=Se({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:mp,write:Ep,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",mr),e.element.removeEventListener("gesturestart",mr)},mixins:{styles:["height"]}}),Tp=(e={})=>{let t=null;const n=hr(),r=Bc(Td(n),[Hd,Rd(n)],[hu,Dd(n)]);r.dispatch("SET_OPTIONS",{options:e});const i=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);let l=null,c=!1,u=!1,f=null,h=null;const p=()=>{c||(c=!0),clearTimeout(l),l=setTimeout(()=>{c=!1,f=null,h=null,u&&(u=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",p);const m=wp(r,{id:Oi()});let b=!1,I=!1;const E={_read:()=>{c&&(h=window.innerWidth,f||(f=h),!u&&h!==f&&(r.dispatch("DID_START_RESIZE"),u=!0)),I&&b&&(b=m.element.offsetParent===null),!b&&(m._read(),I=m.rect.element.hidden)},_write:L=>{const x=r.processActionQueue().filter(U=>!/^SET_/.test(U.type));b&&!x.length||(_(x),b=m._write(L,x,u),Ld(r.query("GET_ITEMS")),b&&r.processDispatchQueue())}},w=L=>x=>{const U={type:L};if(!x)return U;if(x.hasOwnProperty("error")&&(U.error=x.error?{...x.error}:null),x.status&&(U.status={...x.status}),x.file&&(U.output=x.file),x.source)U.file=x.source;else if(x.item||x.id){const $=x.item?x.item:r.query("GET_ITEM",x.id);U.file=$?Ye($):null}return x.items&&(U.items=x.items.map(Ye)),/progress/.test(L)&&(U.progress=x.progress),x.hasOwnProperty("origin")&&x.hasOwnProperty("target")&&(U.origin=x.origin,U.target=x.target),U},O={DID_DESTROY:w("destroy"),DID_INIT:w("init"),DID_THROW_MAX_FILES:w("warning"),DID_INIT_ITEM:w("initfile"),DID_START_ITEM_LOAD:w("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:w("addfileprogress"),DID_LOAD_ITEM:w("addfile"),DID_THROW_ITEM_INVALID:[w("error"),w("addfile")],DID_THROW_ITEM_LOAD_ERROR:[w("error"),w("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[w("error"),w("removefile")],DID_PREPARE_OUTPUT:w("preparefile"),DID_START_ITEM_PROCESSING:w("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:w("processfileprogress"),DID_ABORT_ITEM_PROCESSING:w("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:w("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:w("processfiles"),DID_REVERT_ITEM_PROCESSING:w("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[w("error"),w("processfile")],DID_REMOVE_ITEM:w("removefile"),DID_UPDATE_ITEMS:w("updatefiles"),DID_ACTIVATE_ITEM:w("activatefile"),DID_REORDER_ITEMS:w("reorderfiles")},D=L=>{const x={pond:te,...L};delete x.type,m.element.dispatchEvent(new CustomEvent(`FilePond:${L.type}`,{detail:x,bubbles:!0,cancelable:!0,composed:!0}));const U=[];L.hasOwnProperty("error")&&U.push(L.error),L.hasOwnProperty("file")&&U.push(L.file);const $=["type","error","file"];Object.keys(L).filter(ne=>!$.includes(ne)).forEach(ne=>U.push(L[ne])),te.fire(L.type,...U);const Z=r.query(`GET_ON${L.type.toUpperCase()}`);Z&&Z(...U)},_=L=>{!L.length||L.filter(x=>O[x.type]).forEach(x=>{const U=O[x.type];(Array.isArray(U)?U:[U]).forEach($=>{x.type==="DID_INIT_ITEM"?D($(x.data)):setTimeout(()=>{D($(x.data))},0)})})},y=L=>r.dispatch("SET_OPTIONS",{options:L}),v=L=>r.query("GET_ACTIVE_ITEM",L),S=L=>new Promise((x,U)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:L,success:$=>{x($)},failure:$=>{U($)}})}),G=(L,x={})=>new Promise((U,$)=>{N([{source:L,options:x}],{index:x.index}).then(Z=>U(Z&&Z[0])).catch($)}),W=L=>L.file&&L.id,M=(L,x)=>(typeof L=="object"&&!W(L)&&!x&&(x=L,L=void 0),r.dispatch("REMOVE_ITEM",{...x,query:L}),r.query("GET_ACTIVE_ITEM",L)===null),N=(...L)=>new Promise((x,U)=>{const $=[],Z={};if(_r(L[0]))$.push.apply($,L[0]),Object.assign(Z,L[1]||{});else{const ne=L[L.length-1];typeof ne=="object"&&!(ne instanceof Blob)&&Object.assign(Z,L.pop()),$.push(...L)}r.dispatch("ADD_ITEMS",{items:$,index:Z.index,interactionMethod:nt.API,success:x,failure:U})}),Y=()=>r.query("GET_ACTIVE_ITEMS"),V=L=>new Promise((x,U)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:L,success:$=>{x($)},failure:$=>{U($)}})}),H=(...L)=>{const x=Array.isArray(L[0])?L[0]:L,U=x.length?x:Y();return Promise.all(U.map(S))},ie=(...L)=>{const x=Array.isArray(L[0])?L[0]:L;if(!x.length){const U=Y().filter($=>!($.status===ee.IDLE&&$.origin===Le.LOCAL)&&$.status!==ee.PROCESSING&&$.status!==ee.PROCESSING_COMPLETE&&$.status!==ee.PROCESSING_REVERT_ERROR);return Promise.all(U.map(V))}return Promise.all(x.map(V))},k=(...L)=>{const x=Array.isArray(L[0])?L[0]:L;let U;typeof x[x.length-1]=="object"?U=x.pop():Array.isArray(L[0])&&(U=L[1]);const $=Y();return x.length?x.map(ne=>kt(ne)?$[ne]?$[ne].id:null:ne).filter(ne=>ne).map(ne=>M(ne,U)):Promise.all($.map(ne=>M(ne,U)))},te={...Ir(),...E,...Od(r,n),setOptions:y,addFile:G,addFiles:N,getFile:v,processFile:V,prepareFile:S,removeFile:M,moveFile:(L,x)=>r.dispatch("MOVE_ITEM",{query:L,index:x}),getFiles:Y,processFiles:ie,removeFiles:k,prepareFiles:H,sort:L=>r.dispatch("SORT",{compare:L}),browse:()=>{var L=m.element.querySelector("input[type=file]");L&&L.click()},destroy:()=>{te.fire("destroy",m.element),r.dispatch("ABORT_ALL"),m._destroy(),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:L=>ia(m.element,L),insertAfter:L=>sa(m.element,L),appendTo:L=>L.appendChild(m.element),replaceElement:L=>{ia(m.element,L),L.parentNode.removeChild(L),t=L},restoreElement:()=>{!t||(sa(t,m.element),m.element.parentNode.removeChild(m.element),t=null)},isAttachedTo:L=>m.element===L||t===L,element:{get:()=>m.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),Rt(te)},Ko=(e={})=>{const t={};return be(hr(),(r,i)=>{t[r]=i[0]}),Tp({...t,...e})},Op=e=>e.charAt(0).toLowerCase()+e.slice(1),Dp=e=>zo(e.replace(/^data-/,"")),Zo=(e,t)=>{be(t,(n,r)=>{be(e,(i,l)=>{const c=new RegExp(n);if(!c.test(i)||(delete e[i],r===!1))return;if(Be(r)){e[r]=l;return}const f=r.group;Pe(r)&&!e[f]&&(e[f]={}),e[f][Op(i.replace(c,""))]=l}),r.mapping&&Zo(e[r.group],r.mapping)})},Rp=(e,t={})=>{const n=[];be(e.attributes,i=>{n.push(e.attributes[i])});const r=n.filter(i=>i.name).reduce((i,l)=>{const c=Re(e,l.name);return i[Dp(l.name)]=c===l.name?!0:c,i},{});return Zo(r,t),r},Sp=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ht("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},i=Rp(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(i).forEach(c=>{Pe(i[c])?(Pe(r[c])||(r[c]={}),Object.assign(r[c],i[c])):r[c]=i[c]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(c=>({source:c.value,options:{type:c.dataset.type}})));const l=Ko(r);return e.files&&Array.from(e.files).forEach(c=>{l.addFile(c)}),l.replaceElement(e),l},Ap=(...e)=>Fc(e[0])?Sp(...e):Ko(...e),Lp=["fire","_read","_write"],Na=e=>{const t={};return yo(e,t,Lp),t},Pp=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),Mp=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(i,l)=>{},post:(i,l,c)=>{const u=Oi();r.onmessage=f=>{f.data.id===u&&l(f.data.message)},r.postMessage({id:u,message:i},c)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},Cp=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),Qo=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},xp=e=>Qo(e,e.name),Ga=[],kp=e=>{if(Ga.includes(e))return;Ga.push(e);const t=e({addFilter:Md,utils:{Type:A,forin:be,isString:Be,isFile:pn,toNaturalFileSize:Po,replaceInString:Pp,getExtensionFromFilename:vr,getFilenameWithoutExtension:So,guesstimateMimeType:jo,getFileFromBlob:fn,getFilenameFromURL:kn,createRoute:Ve,createWorker:Mp,createView:Se,createItemAPI:Ye,loadImage:Cp,copyFile:xp,renameFile:Qo,createBlob:Oo,applyFilterChain:lt,text:Oe,getNumericAspectRatioFromString:vo},views:{fileActionButton:Lo}});Cd(t.options)},Np=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Gp=()=>"Promise"in window,Fp=()=>"slice"in Blob.prototype,Bp=()=>"URL"in window&&"createObjectURL"in window.URL,Vp=()=>"visibilityState"in document,Up=()=>"performance"in window,jp=()=>"supports"in(window.CSS||{}),Hp=()=>/MSIE|Trident/.test(window.navigator.userAgent),Ei=(()=>{const e=po()&&!Np()&&Vp()&&Gp()&&Fp()&&Bp()&&Up()&&(jp()||Hp());return()=>e})(),Ot={apps:[]},Wp="filepond",Wt=()=>{};let Er={},sr=Wt,ni=Wt,Fa=Wt,Ba=Wt,_i=Wt,Va=Wt,Ua=Wt;if(Ei()){dd(()=>{Ot.apps.forEach(n=>n._read())},n=>{Ot.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ei,create:sr,destroy:ni,parse:Fa,find:Ba,registerPlugin:_i,setOptions:Ua}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>be(hr(),(n,r)=>{Er[n]=r[1]});Er={},t(),sr=(...n)=>{const r=Ap(...n);return r.on("destroy",ni),Ot.apps.push(r),Na(r)},ni=n=>{const r=Ot.apps.findIndex(i=>i.isAttachedTo(n));return r>=0?(Ot.apps.splice(r,1)[0].restoreElement(),!0):!1},Fa=n=>Array.from(n.querySelectorAll(`.${Wp}`)).filter(l=>!Ot.apps.find(c=>c.isAttachedTo(l))).map(l=>sr(l)),Ba=n=>{const r=Ot.apps.find(i=>i.isAttachedTo(n));return r?Na(r):null},_i=(...n)=>{n.forEach(kp),t()},Va=()=>{const n={};return be(hr(),(r,i)=>{n[r]=i[0]}),n},Ua=n=>(Pe(n)&&(Ot.apps.forEach(r=>{r.setOptions(n)}),xd(n)),Va())}/*!
 * vue-filepond v7.0.3
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2022 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const $p=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],Yp=Ei(),qp=e=>({string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object})[e],tr={},ri=[],ii=[];let zp={};const Xp=(...e)=>{_i(...e),ri.length=0;for(const t in Er){if(/^on/.test(t)){ri.push(t);continue}let n=[String,qp(Er[t])];t=="labelFileProcessingError"&&n.push(Function),tr[t]={type:n,default:void 0}}return{name:"FilePond",props:tr,render(){const t=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce((n,[r,i])=>(i!==void 0&&(n[r]=i),n),{});return Fs("div",{class:{"filepond--wrapper":!0}},[Fs("input",t)])},created(){this.watchers=Object.keys(tr).map(t=>this.$watch(t,n=>{this._pond[t]=n}))},mounted(){if(!Yp)return;this._element=this.$el.querySelector("input");const t=ri.reduce((r,i)=>(r[i]=(...l)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(i.substr(2),...l)},r),{}),n={};Object.keys(tr).forEach(r=>{this[r]!==void 0&&(n[r]=this[r])}),this._pond=sr(this._element,Object.assign({},zp,t,n)),Object.keys(this._pond).filter(r=>!$p.includes(r)).forEach(r=>{this[r]=this._pond[r]}),ii.push(this._pond)},beforeUnmount(){const{detached:t}=this.$options;if(!this.$el.offsetParent){t.call(this);return}const n=(i,l)=>{const u=((i[0]||{}).removedNodes||[])[0];!u||!u.contains(this.$el)||(l.disconnect(),t.call(this))};new MutationObserver(n).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach(n=>n()),!this._pond)return;this._pond.destroy();const t=ii.indexOf(this._pond);t>=0&&ii.splice(t,1),this._pond=null}}};/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Jo=({addFilter:e,utils:t})=>{const{Type:n,isString:r,replaceInString:i,guesstimateMimeType:l,getExtensionFromFilename:c,getFilenameFromURL:u}=t,f=(I,E)=>{const w=(/^[^/]+/.exec(I)||[]).pop(),O=E.slice(0,-2);return w===O},h=(I,E)=>I.some(w=>/\*$/.test(w)?f(E,w):w===E),p=I=>{let E="";if(r(I)){const w=u(I),O=c(w);O&&(E=l(O))}else E=I.type;return E},m=(I,E,w)=>{if(E.length===0)return!0;const O=p(I);return w?new Promise((D,_)=>{w(I,O).then(y=>{h(E,y)?D():_()}).catch(_)}):h(E,O)},b=I=>E=>I[E]===null?!1:I[E]||E;return e("SET_ATTRIBUTE_TO_OPTION_MAP",I=>Object.assign(I,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(I,{query:E})=>E("GET_ALLOW_FILE_TYPE_VALIDATION")?m(I,E("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(I,{query:E})=>new Promise((w,O)=>{if(!E("GET_ALLOW_FILE_TYPE_VALIDATION")){w(I);return}const D=E("GET_ACCEPTED_FILE_TYPES"),_=E("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),y=m(I,D,_),v=()=>{const S=D.map(b(E("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(W=>W!==!1),G=S.filter(function(W,M){return S.indexOf(W)===M});O({status:{main:E("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(E("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:G.join(", "),allButLastType:G.slice(0,-1).join(", "),lastType:G[S.length-1]})}})};if(typeof y=="boolean")return y?w(I):v();y.then(()=>{w(I)}).catch(v)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},Kp=typeof window<"u"&&typeof window.document<"u";Kp&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Jo}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const el=({addFilter:e,utils:t})=>{const{Type:n,replaceInString:r,toNaturalFileSize:i}=t;return e("ALLOW_HOPPER_ITEM",(l,{query:c})=>{if(!c("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const u=c("GET_MAX_FILE_SIZE");if(u!==null&&l.size>u)return!1;const f=c("GET_MIN_FILE_SIZE");return!(f!==null&&l.size<f)}),e("LOAD_FILE",(l,{query:c})=>new Promise((u,f)=>{if(!c("GET_ALLOW_FILE_SIZE_VALIDATION"))return u(l);const h=c("GET_FILE_VALIDATE_SIZE_FILTER");if(h&&!h(l))return u(l);const p=c("GET_MAX_FILE_SIZE");if(p!==null&&l.size>p){f({status:{main:c("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(c("GET_LABEL_MAX_FILE_SIZE"),{filesize:i(p,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}const m=c("GET_MIN_FILE_SIZE");if(m!==null&&l.size<m){f({status:{main:c("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(c("GET_LABEL_MIN_FILE_SIZE"),{filesize:i(m,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}const b=c("GET_MAX_TOTAL_FILE_SIZE");if(b!==null&&c("GET_ACTIVE_ITEMS").reduce((E,w)=>E+w.fileSize,0)>b){f({status:{main:c("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(c("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:i(b,".",c("GET_FILE_SIZE_BASE"),c("GET_FILE_SIZE_LABELS",c))})}});return}u(l)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},Zp=typeof window<"u"&&typeof window.document<"u";Zp&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:el}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Qp=e=>/^image/.test(e.type),ja=(e,t)=>xn(e.x*t,e.y*t),Ha=(e,t)=>xn(e.x+t.x,e.y+t.y),Jp=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:xn(e.x/t,e.y/t)},nr=(e,t,n)=>{const r=Math.cos(t),i=Math.sin(t),l=xn(e.x-n.x,e.y-n.y);return xn(n.x+r*l.x-i*l.y,n.y+i*l.x+r*l.y)},xn=(e=0,t=0)=>({x:e,y:t}),qe=(e,t,n=1,r)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(r?t[r]:Math.min(t.width,t.height))},eh=(e,t,n)=>{const r=e.borderStyle||e.lineStyle||"solid",i=e.backgroundColor||e.fontColor||"transparent",l=e.borderColor||e.lineColor||"transparent",c=qe(e.borderWidth||e.lineWidth,t,n),u=e.lineCap||"round",f=e.lineJoin||"round",h=typeof r=="string"?"":r.map(m=>qe(m,t,n)).join(","),p=e.opacity||1;return{"stroke-linecap":u,"stroke-linejoin":f,"stroke-width":c||0,"stroke-dasharray":h,stroke:l,fill:i,opacity:p}},et=e=>e!=null,th=(e,t,n=1)=>{let r=qe(e.x,t,n,"width")||qe(e.left,t,n,"width"),i=qe(e.y,t,n,"height")||qe(e.top,t,n,"height"),l=qe(e.width,t,n,"width"),c=qe(e.height,t,n,"height"),u=qe(e.right,t,n,"width"),f=qe(e.bottom,t,n,"height");return et(i)||(et(c)&&et(f)?i=t.height-c-f:i=f),et(r)||(et(l)&&et(u)?r=t.width-l-u:r=u),et(l)||(et(r)&&et(u)?l=t.width-r-u:l=0),et(c)||(et(i)&&et(f)?c=t.height-i-f:c=0),{x:r||0,y:i||0,width:l||0,height:c||0}},nh=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),gt=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),rh="http://www.w3.org/2000/svg",an=(e,t)=>{const n=document.createElementNS(rh,e);return t&&gt(n,t),n},ih=e=>gt(e,{...e.rect,...e.styles}),sh=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,r=e.rect.width*.5,i=e.rect.height*.5;return gt(e,{cx:t,cy:n,rx:r,ry:i,...e.styles})},ah={contain:"xMidYMid meet",cover:"xMidYMid slice"},oh=(e,t)=>{gt(e,{...e.rect,...e.styles,preserveAspectRatio:ah[t.fit]||"none"})},lh={left:"start",center:"middle",right:"end"},ch=(e,t,n,r)=>{const i=qe(t.fontSize,n,r),l=t.fontFamily||"sans-serif",c=t.fontWeight||"normal",u=lh[t.textAlign]||"start";gt(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":c,"font-size":i,"font-family":l,"text-anchor":u}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},dh=(e,t,n,r)=>{gt(e,{...e.rect,...e.styles,fill:"none"});const i=e.childNodes[0],l=e.childNodes[1],c=e.childNodes[2],u=e.rect,f={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(gt(i,{x1:u.x,y1:u.y,x2:f.x,y2:f.y}),!t.lineDecoration)return;l.style.display="none",c.style.display="none";const h=Jp({x:f.x-u.x,y:f.y-u.y}),p=qe(.05,n,r);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const m=ja(h,p),b=Ha(u,m),I=nr(u,2,b),E=nr(u,-2,b);gt(l,{style:"display:block;",d:`M${I.x},${I.y} L${u.x},${u.y} L${E.x},${E.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const m=ja(h,-p),b=Ha(f,m),I=nr(f,2,b),E=nr(f,-2,b);gt(c,{style:"display:block;",d:`M${I.x},${I.y} L${f.x},${f.y} L${E.x},${E.y}`})}},uh=(e,t,n,r)=>{gt(e,{...e.styles,fill:"none",d:nh(t.points.map(i=>({x:qe(i.x,n,r,"width"),y:qe(i.y,n,r,"height")})))})},rr=e=>t=>an(e,{id:t.id}),fh=e=>{const t=an("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},ph=e=>{const t=an("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=an("line");t.appendChild(n);const r=an("path");t.appendChild(r);const i=an("path");return t.appendChild(i),t},hh={image:fh,rect:rr("rect"),ellipse:rr("ellipse"),text:rr("text"),path:rr("path"),line:ph},gh={rect:ih,ellipse:sh,image:oh,text:ch,path:uh,line:dh},mh=(e,t)=>hh[e](t),Eh=(e,t,n,r,i)=>{t!=="path"&&(e.rect=th(n,r,i)),e.styles=eh(n,r,i),gh[t](e,n,r,i)},_h=["x","y","left","top","right","bottom","width","height"],yh=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,bh=e=>{const[t,n]=e,r=n.points?{}:_h.reduce((i,l)=>(i[l]=yh(n[l]),i),{});return[t,{zIndex:0,...n,...r}]},Ih=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,vh=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:n})=>{if(!n.dirty)return;const{crop:r,resize:i,markup:l}=n,c=n.width,u=n.height;let f=r.width,h=r.height;if(i){const{size:I}=i;let E=I&&I.width,w=I&&I.height;const O=i.mode,D=i.upscale;E&&!w&&(w=E),w&&!E&&(E=w);const _=f<E&&h<w;if(!_||_&&D){let y=E/f,v=w/h;if(O==="force")f=E,h=w;else{let S;O==="cover"?S=Math.max(y,v):O==="contain"&&(S=Math.min(y,v)),f=f*S,h=h*S}}}const p={width:c,height:u};t.element.setAttribute("width",p.width),t.element.setAttribute("height",p.height);const m=Math.min(c/f,u/h);t.element.innerHTML="";const b=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");l.filter(b).map(bh).sort(Ih).forEach(I=>{const[E,w]=I,O=mh(E,w);Eh(O,E,w,p,m),t.element.appendChild(O)})}}),Mn=(e,t)=>({x:e,y:t}),wh=(e,t)=>e.x*t.x+e.y*t.y,Wa=(e,t)=>Mn(e.x-t.x,e.y-t.y),Th=(e,t)=>wh(Wa(e,t),Wa(e,t)),$a=(e,t)=>Math.sqrt(Th(e,t)),Ya=(e,t)=>{const n=e,r=1.5707963267948966,i=t,l=1.5707963267948966-t,c=Math.sin(r),u=Math.sin(i),f=Math.sin(l),h=Math.cos(l),p=n/c,m=p*u,b=p*f;return Mn(h*m,h*b)},Oh=(e,t)=>{const n=e.width,r=e.height,i=Ya(n,t),l=Ya(r,t),c=Mn(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),u=Mn(e.x+e.width+Math.abs(l.y),e.y+Math.abs(l.x)),f=Mn(e.x-Math.abs(l.y),e.y+e.height-Math.abs(l.x));return{width:$a(c,u),height:$a(c,f)}},Dh=(e,t,n=1)=>{const r=e.height/e.width;let i=1,l=t,c=1,u=r;u>l&&(u=l,c=u/r);const f=Math.max(i/c,l/u),h=e.width/(n*f*c),p=h*t;return{width:h,height:p}},tl=(e,t,n,r)=>{const i=r.x>.5?1-r.x:r.x,l=r.y>.5?1-r.y:r.y,c=i*2*e.width,u=l*2*e.height,f=Oh(t,n);return Math.max(f.width/c,f.height/u)},nl=(e,t)=>{let n=e.width,r=n*t;r>e.height&&(r=e.height,n=r/t);const i=(e.width-n)*.5,l=(e.height-r)*.5;return{x:i,y:l,width:n,height:r}},Rh=(e,t={})=>{let{zoom:n,rotation:r,center:i,aspectRatio:l}=t;l||(l=e.height/e.width);const c=Dh(e,l,n),u={x:c.width*.5,y:c.height*.5},f={x:0,y:0,width:c.width,height:c.height,center:u},h=typeof t.scaleToFit>"u"||t.scaleToFit,p=tl(e,nl(f,l),r,h?i:{x:.5,y:.5}),m=n*p;return{widthFloat:c.width/m,heightFloat:c.height/m,width:Math.round(c.width/m),height:Math.round(c.height/m)}},ht={type:"spring",stiffness:.5,damping:.45,mass:10},Sh=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:n})=>{t.appendChild(n.image)}}),Ah=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:ht,originY:ht,scaleX:ht,scaleY:ht,translateX:ht,translateY:ht,rotateZ:ht}},create:({root:t,props:n})=>{n.width=n.image.width,n.height=n.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(Sh(e),{image:n.image}))},write:({root:t,props:n})=>{const{flip:r}=n.crop,{bitmap:i}=t.ref;i.scaleX=r.horizontal?-1:1,i.scaleY=r.vertical?-1:1}}),Lh=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:n}){!n.background||(t.element.style.backgroundColor=n.background)},create:({root:t,props:n})=>{t.ref.image=t.appendChildView(t.createChildView(Ah(e),Object.assign({},n))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(vh(e),Object.assign({},n))))},t.ref.destroyMarkup=()=>{!t.ref.markup||(t.removeChildView(t.ref.markup),t.ref.markup=null)};const r=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");r!==null&&(r==="grid"?t.element.dataset.transparencyIndicator=r:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:n,shouldOptimize:r})=>{const{crop:i,markup:l,resize:c,dirty:u,width:f,height:h}=n;t.ref.image.crop=i;const p={x:0,y:0,width:f,height:h,center:{x:f*.5,y:h*.5}},m={width:t.ref.image.width,height:t.ref.image.height},b={x:i.center.x*m.width,y:i.center.y*m.height},I={x:p.center.x-m.width*i.center.x,y:p.center.y-m.height*i.center.y},E=Math.PI*2+i.rotation%(Math.PI*2),w=i.aspectRatio||m.height/m.width,O=typeof i.scaleToFit>"u"||i.scaleToFit,D=tl(m,nl(p,w),E,O?i.center:{x:.5,y:.5}),_=i.zoom*D;l&&l.length?(t.ref.createMarkup(),t.ref.markup.width=f,t.ref.markup.height=h,t.ref.markup.resize=c,t.ref.markup.dirty=u,t.ref.markup.markup=l,t.ref.markup.crop=Rh(m,i)):t.ref.markup&&t.ref.destroyMarkup();const y=t.ref.image;if(r){y.originX=null,y.originY=null,y.translateX=null,y.translateY=null,y.rotateZ=null,y.scaleX=null,y.scaleY=null;return}y.originX=b.x,y.originY=b.y,y.translateX=I.x,y.translateY=I.y,y.rotateZ=E,y.scaleX=_,y.scaleY=_}}),Ph=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:ht,scaleY:ht,translateY:ht,opacity:{type:"tween",duration:400}}},create:({root:t,props:n})=>{t.ref.clip=t.appendChildView(t.createChildView(Lh(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:t,props:n,shouldOptimize:r})=>{const{clip:i}=t.ref,{image:l,crop:c,markup:u,resize:f,dirty:h}=n;if(i.crop=c,i.markup=u,i.resize=f,i.dirty=h,i.opacity=r?0:1,r||t.rect.element.hidden)return;const p=l.height/l.width;let m=c.aspectRatio||p;const b=t.rect.inner.width,I=t.rect.inner.height;let E=t.query("GET_IMAGE_PREVIEW_HEIGHT");const w=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),O=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),D=t.query("GET_PANEL_ASPECT_RATIO"),_=t.query("GET_ALLOW_MULTIPLE");D&&!_&&(E=b*D,m=D);let y=E!==null?E:Math.max(w,Math.min(b*m,O)),v=y/m;v>b&&(v=b,y=v*m),y>I&&(y=I,v=I/m),i.width=v,i.height=y}});let Mh=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,qa=0;const Ch=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{let r=Mh;if(document.querySelector("base")){const i=new URL(window.location.href.replace(window.location.hash,"")).href;r=r.replace(/url\(\#/g,"url("+i+"#")}qa++,t.element.classList.add(`filepond--image-preview-overlay-${n.status}`),t.element.innerHTML=r.replace(/__UID__/g,qa)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),xh=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},kh=function(){self.onmessage=e=>{const t=e.data.message.imageData,n=e.data.message.colorMatrix,r=t.data,i=r.length,l=n[0],c=n[1],u=n[2],f=n[3],h=n[4],p=n[5],m=n[6],b=n[7],I=n[8],E=n[9],w=n[10],O=n[11],D=n[12],_=n[13],y=n[14],v=n[15],S=n[16],G=n[17],W=n[18],M=n[19];let N=0,Y=0,V=0,H=0,ie=0;for(;N<i;N+=4)Y=r[N]/255,V=r[N+1]/255,H=r[N+2]/255,ie=r[N+3]/255,r[N]=Math.max(0,Math.min((Y*l+V*c+H*u+ie*f+h)*255,255)),r[N+1]=Math.max(0,Math.min((Y*p+V*m+H*b+ie*I+E)*255,255)),r[N+2]=Math.max(0,Math.min((Y*w+V*O+H*D+ie*_+y)*255,255)),r[N+3]=Math.max(0,Math.min((Y*v+V*S+H*G+ie*W+M)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},Nh=(e,t)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,i=n.naturalHeight;n=null,t(r,i)},n.src=e},Gh={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},Fh=(e,t,n,r)=>{r!==-1&&e.transform.apply(e,Gh[r](t,n))},Bh=(e,t,n,r)=>{t=Math.round(t),n=Math.round(n);const i=document.createElement("canvas");i.width=t,i.height=n;const l=i.getContext("2d");return r>=5&&r<=8&&([t,n]=[n,t]),Fh(l,t,n,r),l.drawImage(e,0,0,t,n),i},rl=e=>/^image/.test(e.type)&&!/svg/.test(e.type),Vh=10,Uh=10,jh=e=>{const t=Math.min(Vh/e.width,Uh/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(e.width*t),l=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,i,l);let c=null;try{c=r.getImageData(0,0,i,l).data}catch{return null}const u=c.length;let f=0,h=0,p=0,m=0;for(;m<u;m+=4)f+=c[m]*c[m],h+=c[m+1]*c[m+1],p+=c[m+2]*c[m+2];return f=si(f,u),h=si(h,u),p=si(p,u),{r:f,g:h,b:p}},si=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),Hh=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),Wh=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},$h=e=>new Promise((t,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),Yh=e=>{const t=Ch(e),n=Ph(e),{createWorker:r}=e.utils,i=(_,y,v)=>new Promise(S=>{_.ref.imageData||(_.ref.imageData=v.getContext("2d").getImageData(0,0,v.width,v.height));const G=Wh(_.ref.imageData);if(!y||y.length!==20)return v.getContext("2d").putImageData(G,0,0),S();const W=r(kh);W.post({imageData:G,colorMatrix:y},M=>{v.getContext("2d").putImageData(M,0,0),W.terminate(),S()},[G.data.buffer])}),l=(_,y)=>{_.removeChildView(y),y.image.width=1,y.image.height=1,y._destroy()},c=({root:_})=>{const y=_.ref.images.shift();return y.opacity=0,y.translateY=-15,_.ref.imageViewBin.push(y),y},u=({root:_,props:y,image:v})=>{const S=y.id,G=_.query("GET_ITEM",{id:S});if(!G)return;const W=G.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},M=_.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let N,Y,V=!1;_.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(N=G.getMetadata("markup")||[],Y=G.getMetadata("resize"),V=!0);const H=_.appendChildView(_.createChildView(n,{id:S,image:v,crop:W,resize:Y,markup:N,dirty:V,background:M,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),_.childViews.length);_.ref.images.push(H),H.opacity=1,H.scaleX=1,H.scaleY=1,H.translateY=0,setTimeout(()=>{_.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:S})},250)},f=({root:_,props:y})=>{const v=_.query("GET_ITEM",{id:y.id});if(!v)return;const S=_.ref.images[_.ref.images.length-1];S.crop=v.getMetadata("crop"),S.background=_.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),_.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(S.dirty=!0,S.resize=v.getMetadata("resize"),S.markup=v.getMetadata("markup"))},h=({root:_,props:y,action:v})=>{if(!/crop|filter|markup|resize/.test(v.change.key)||!_.ref.images.length)return;const S=_.query("GET_ITEM",{id:y.id});if(!!S){if(/filter/.test(v.change.key)){const G=_.ref.images[_.ref.images.length-1];i(_,v.change.value,G.image);return}if(/crop|markup|resize/.test(v.change.key)){const G=S.getMetadata("crop"),W=_.ref.images[_.ref.images.length-1];if(G&&G.aspectRatio&&W.crop&&W.crop.aspectRatio&&Math.abs(G.aspectRatio-W.crop.aspectRatio)>1e-5){const M=c({root:_});u({root:_,props:y,image:Hh(M.image)})}else f({root:_,props:y})}}},p=_=>{const v=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(v?parseInt(v[1]):null)<=58?!1:"createImageBitmap"in window&&rl(_)},m=({root:_,props:y})=>{const{id:v}=y,S=_.query("GET_ITEM",v);if(!S)return;const G=URL.createObjectURL(S.file);Nh(G,(W,M)=>{_.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:v,width:W,height:M})})},b=({root:_,props:y})=>{const{id:v}=y,S=_.query("GET_ITEM",v);if(!S)return;const G=URL.createObjectURL(S.file),W=()=>{$h(G).then(M)},M=N=>{URL.revokeObjectURL(G);const V=(S.getMetadata("exif")||{}).orientation||-1;let{width:H,height:ie}=N;if(!H||!ie)return;V>=5&&V<=8&&([H,ie]=[ie,H]);const k=Math.max(1,window.devicePixelRatio*.75),L=_.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*k,x=ie/H,U=_.rect.element.width,$=_.rect.element.height;let Z=U,ne=Z*x;x>1?(Z=Math.min(H,U*L),ne=Z*x):(ne=Math.min(ie,$*L),Z=ne/x);const Ie=Bh(N,Z,ne,V),J=()=>{const Ne=_.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?jh(data):null;S.setMetadata("color",Ne,!0),"close"in N&&N.close(),_.ref.overlayShadow.opacity=1,u({root:_,props:y,image:Ie})},q=S.getMetadata("filter");q?i(_,q,Ie).then(J):J()};if(p(S.file)){const N=r(xh);N.post({file:S.file},Y=>{if(N.terminate(),!Y){W();return}M(Y)})}else W()},I=({root:_})=>{const y=_.ref.images[_.ref.images.length-1];y.translateY=0,y.scaleX=1,y.scaleY=1,y.opacity=1},E=({root:_})=>{_.ref.overlayShadow.opacity=1,_.ref.overlayError.opacity=0,_.ref.overlaySuccess.opacity=0},w=({root:_})=>{_.ref.overlayShadow.opacity=.25,_.ref.overlayError.opacity=1},O=({root:_})=>{_.ref.overlayShadow.opacity=.25,_.ref.overlaySuccess.opacity=1},D=({root:_})=>{_.ref.images=[],_.ref.imageData=null,_.ref.imageViewBin=[],_.ref.overlayShadow=_.appendChildView(_.createChildView(t,{opacity:0,status:"idle"})),_.ref.overlaySuccess=_.appendChildView(_.createChildView(t,{opacity:0,status:"success"})),_.ref.overlayError=_.appendChildView(_.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:D,styles:["height"],apis:["height"],destroy:({root:_})=>{_.ref.images.forEach(y=>{y.image.width=1,y.image.height=1})},didWriteView:({root:_})=>{_.ref.images.forEach(y=>{y.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:I,DID_IMAGE_PREVIEW_CONTAINER_CREATE:m,DID_FINISH_CALCULATE_PREVIEWSIZE:b,DID_UPDATE_ITEM_METADATA:h,DID_THROW_ITEM_LOAD_ERROR:w,DID_THROW_ITEM_PROCESSING_ERROR:w,DID_THROW_ITEM_INVALID:w,DID_COMPLETE_ITEM_PROCESSING:O,DID_START_ITEM_PROCESSING:E,DID_REVERT_ITEM_PROCESSING:E},({root:_})=>{const y=_.ref.imageViewBin.filter(v=>v.opacity===0);_.ref.imageViewBin=_.ref.imageViewBin.filter(v=>v.opacity>0),y.forEach(v=>l(_,v)),y.length=0})})},il=e=>{const{addFilter:t,utils:n}=e,{Type:r,createRoute:i,isFile:l}=n,c=Yh(e);return t("CREATE_VIEW",u=>{const{is:f,view:h,query:p}=u;if(!f("file")||!p("GET_ALLOW_IMAGE_PREVIEW"))return;const m=({root:O,props:D})=>{const{id:_}=D,y=p("GET_ITEM",_);if(!y||!l(y.file)||y.archived)return;const v=y.file;if(!Qp(v)||!p("GET_IMAGE_PREVIEW_FILTER_ITEM")(y))return;const S="createImageBitmap"in(window||{}),G=p("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!S&&G&&v.size>G)return;O.ref.imagePreview=h.appendChildView(h.createChildView(c,{id:_}));const W=O.query("GET_IMAGE_PREVIEW_HEIGHT");W&&O.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:y.id,height:W});const M=!S&&v.size>p("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");O.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:_},M)},b=(O,D)=>{if(!O.ref.imagePreview)return;let{id:_}=D;const y=O.query("GET_ITEM",{id:_});if(!y)return;const v=O.query("GET_PANEL_ASPECT_RATIO"),S=O.query("GET_ITEM_PANEL_ASPECT_RATIO"),G=O.query("GET_IMAGE_PREVIEW_HEIGHT");if(v||S||G)return;let{imageWidth:W,imageHeight:M}=O.ref;if(!W||!M)return;const N=O.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),Y=O.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),H=(y.getMetadata("exif")||{}).orientation||-1;if(H>=5&&H<=8&&([W,M]=[M,W]),!rl(y.file)||O.query("GET_IMAGE_PREVIEW_UPSCALE")){const U=2048/W;W*=U,M*=U}const ie=M/W,k=(y.getMetadata("crop")||{}).aspectRatio||ie;let te=Math.max(N,Math.min(M,Y));const L=O.rect.element.width,x=Math.min(L*k,te);O.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:y.id,height:x})},I=({root:O})=>{O.ref.shouldRescale=!0},E=({root:O,action:D})=>{D.change.key==="crop"&&(O.ref.shouldRescale=!0)},w=({root:O,action:D})=>{O.ref.imageWidth=D.width,O.ref.imageHeight=D.height,O.ref.shouldRescale=!0,O.ref.shouldDrawPreview=!0,O.dispatch("KICK")};h.registerWriter(i({DID_RESIZE_ROOT:I,DID_STOP_RESIZE:I,DID_LOAD_ITEM:m,DID_IMAGE_PREVIEW_CALCULATE_SIZE:w,DID_UPDATE_ITEM_METADATA:E},({root:O,props:D})=>{!O.ref.imagePreview||O.rect.element.hidden||(O.ref.shouldRescale&&(b(O,D),O.ref.shouldRescale=!1),O.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{O.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:D.id})})}),O.ref.shouldDrawPreview=!1))}))}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[()=>!0,r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,r.FUNCTION]}}},qh=typeof window<"u"&&typeof window.document<"u";qh&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:il}));const Nn=e=>(Ql("data-v-a37e1ac6"),e=e(),Jl(),e),zh={class:"p-4 mb-6 w-full rounded-md theme-color"},Xh=["innerHTML"],Kh={class:"mb-4 section-title"},Zh={key:0,class:"p-2 mb-4 rounded-md theme-color hover:theme-colored"},Qh={class:"mb-2 title"},Jh={key:0,class:"flex flex-row gap-2"},eg=["href"],tg={key:0,class:"w-1/5"},ng=["src"],rg={class:"flex flex-col gap-2 w-3/4"},ig={class:"title"},sg=["innerHTML"],ag={key:0,class:"p-2 mb-2 w-full text-white bg-red-500 rounded-md"},og={class:"alert-success"},lg={class:"italic"},cg={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},dg={class:"input-block"},ug=["name"],fg=["placeholder"],pg={class:"-mt-2 input-block"},hg={class:"input-block"},gg={class:"input-block"},mg={class:"flex flex-row gap-x-2 input-block"},Eg={class:"relative w-full"},_g={class:"flex absolute left-1 top-3.5 items-center pl-2 pointer-events-none"},yg=["placeholder"],bg={class:"grid grid-cols-1 gap-2 input-block md:grid-cols-3"},Ig={class:"toggler-box__icons"},vg={class:"toggler-box__description"},wg=Nn(()=>j("span",null," Check this if your work contain explicit content (explicit art wihout explicit mark will be forcibly taken down) ",-1)),Tg={class:"toggler-box__icons"},Og=Nn(()=>j("div",{class:"toggler-box__description"},[j("b",null,"Contain Gore"),j("span",null," Check this if your work contain blood, etc. ")],-1)),Dg={class:"grid grid-cols-1 gap-2 md:grid-cols-3 input-block"},Rg={class:"toggler-box__icons"},Sg={class:"toggler-box__description"},Ag=Nn(()=>j("span",null," Check this if the character in your work is your original character made by you (don't check this if the character is someone else's or a character from animation series) ",-1)),Lg={class:"toggler-box__icons"},Pg={class:"toggler-box__description"},Mg=Nn(()=>j("span",null," Check this if you allow other artist to redraw your artwork ",-1)),Cg={class:"toggler-box__icons"},xg={class:"toggler-box__description"},kg=Nn(()=>j("span",null," Check this if you redraw the art with your own drawing style. ",-1)),Ng={class:"flex flex-row justify-between md:justify-end"},Gg={class:"flex flex-row"},Fg={__name:"ArtworkForm",setup(e){const t=Xp(Jo,el,il),n=Hl(),{oApiConfiguration:r,fetchOptions:i}=za(),l=nc(r,i()),{t:c}=Xa(),f=Wl().public.apiUrl,h=$l(),{$router:p}=Ka(),m=ye(!1),b=Yl(()=>h.query.redrawWorkId);ql(()=>{n.loggedIn||p.push("/"),w(),b.value?Ie():Z.value=!1;const J=zl().add(1,"day").format("DD/MM/yyyy"),q=document.getElementById("publishDate");new Gc(q,{autohide:!0,todayHighlight:!0,format:"dd/mm/yyyy",minDate:J})}),Za(()=>p.query,()=>{I()});const I=()=>{D.value=[],S.value=[],v.value.isExplicit=!1},E=ic(r,i()),w=async()=>{if(!b.value){let q=1;n.i502p00r0?q=await E.getSetting("artwork_max_uploads_pro"):q=await E.getSetting("artwork_max_uploads"),M.value=q}const J=await E.getSetting("artwork_max_file_size");W.value=J,O.value="<div class='text-xxs'><div>Pick or drop up to "+M.value+" files here</div><div>PNG, JPG up to "+W.value+"MB</div></div>"},O=ye(""),D=ye([]),_=J=>{D.value=J.map(q=>q.file)},y="artwork-form",v=ye({title:"",description:"",tags:"",isExplicit:!1,isGore:!1,isOriginalCharacter:!1,isAllowRedraw:!1,isredrawInMyStyle:!1,publishDate:null,publishTime:null}),S=ye([]),G=ye({showFileTooBig:!1}),W=ye(5),M=ye(1),N=ye(!1),Y=ye(!1),V=ye(!1),H=ye(""),ie=async()=>{ec().validate(y,c),x();const J=document.getElementById("publishDate");let q=null;if(J.value){const X=J.value.split("/"),Ae=`${X[2]}-${X[1]}-${X[0]}`;let De="00:00:00";v.value.publishTime&&(De=`${v.value.publishTime}:00`),q=`${Ae} ${De}`}const Ne=[];S.value.forEach(X=>{Ne.push(X.value)});const z=new FormData;z.append("title",v.value.title),z.append("description",v.value.description),z.append("tags",Ne.toString()),z.append("is_explicit",v.value.isExplicit?1:0),z.append("is_gore",v.value.isGore?1:0),z.append("is_original_character",v.value.isOriginalCharacter?1:0),z.append("allow_redraw",v.value.isAllowRedraw?1:0),z.append("redraw_in_your_style",v.value.isredrawInMyStyle?1:0),b.value&&z.append("redraw_of",b.value),z.append("scheduled_post",["",null].includes(q)?null:Kl().formatDateToApi(q));for(let X=0;X<D.value.length;X++)if(D.value[X].size>W.value*1e6&&(G.value.showFileTooBig=!0),!G.value.showFileTooBig){const Ae=D.value[X];z.append("files[]",Ae),z.append("file_order[]",X)}G.value.showFileTooBig||(N.value=!0,Y.value=!1,await Zl.post(f+"/artworks/post",z,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n.a4ht0jen}`}}).then(({data:X})=>{if(X.success){const Ae=X.data.id;Y.value=!0,setTimeout(()=>{p.push("/a/"+Ae)},1e3)}else te()}).catch(X=>{te()})),N.value=!1},k=ye(!1),te=()=>{k.value=!0},L=()=>{v.value.isExplicit=!v.value.isExplicit,v.value.isGore=!1},x=()=>{k.value=!1,N.value=!1,Y.value=!1,V.value=!1,H.value=""},U=ye({}),$=ye(!0),Z=ye(!0),ne=ye([]),Ie=async()=>{$.value=!0,Z.value=!0;const[J,q]=await l.getWorkById(b.value);q||(U.value=J,J.artwork_has_tags.length&&(J.artwork_has_tags.forEach(({artwork_tags:z})=>{ne.value.push({key:z.id,value:z.tag})}),S.value=ne.value)),$.value=!1,Z.value=!1};return(J,q)=>{const Ne=rc,z=Xl("tags-input");return ge(),tt("div",null,[j("div",zh,[j("div",{onClick:q[0]||(q[0]=X=>m.value=!C(m)),class:"flex flex-row justify-between w-full cursor-pointer title"},[xt(me(J.$t("guidelines.title"))+" ",1),Ce(ke,{name:"i-material-symbols-keyboard-arrow-down"})]),C(m)?(ge(),tt("div",{key:0,innerHTML:J.$t("guidelines.content"),class:"guidelines"},null,8,Xh)):pt("",!0)]),j("div",Kh,me(C(b)?J.$t("artworks.add.form.titleRedraw"):J.$t("artworks.add.form.title")),1),C(b)?(ge(),tt("div",Zh,[j("div",null,[j("div",Qh,me(J.$t("artworks.originalArtwork")),1),C($)?(ge(),tt("div",Jh,[Ce(Sn),xt(" "+me(J.$t("artworks.redrawOriginalLoading")),1)])):(ge(),tt("a",{key:1,href:"/a/"+C(b),target:"_blank",class:"flex flex-row gap-2"},[C(U).artwork_assets?(ge(),tt("div",tg,[j("img",{preload:"",loading:"lazy",class:"w-full rounded-md",src:J.artworkThumb(C(U).artwork_assets[0].bucket,C(U).artwork_assets[0].filename,"thumbnail",!1),onError:q[1]||(q[1]=(...X)=>J.imageLoadError&&J.imageLoadError(...X))},null,40,ng)])):pt("",!0),j("div",rg,[j("span",ig,me(C(U).title),1),j("p",{innerHTML:C(U).description.length>300?C(U).description.slice(0,300)+"..":C(U).description},null,8,sg)])],8,eg))])])):pt("",!0),j("div",null,[C(V)?(ge(),tt("div",ag,me(C(H)),1)):pt("",!0),xe(j("div",og,[xt(me(J.$t("artworks.add.form.uploadSuccess"))+" ",1),j("span",lg,me(J.$t("artworks.add.form.successRedirect")),1)],512),[[Fe,C(Y)]]),xe(j("div",cg,[Ce(Sn,{class:"mr-1"}),xt(" "+me(J.$t("artworks.add.form.uploading")),1)],512),[[Fe,C(N)]]),xe(j("div",{class:"alert-danger"},me(J.$t("artworks.add.form.uploadFailure")),513),[[Fe,C(k)]])]),j("form",{id:y,enctype:"multipart/form-data",onSubmit:q[12]||(q[12]=Mt(X=>ie(),["prevent"]))},[j("div",dg,[j("n-validate",{for:"title",name:J.$t("title"),class:"input-block"},[xe(j("input",{"onUpdate:modelValue":q[2]||(q[2]=X=>C(v).title=X),type:"text",rules:"required|max:100",class:$e(["form-input input",{"pointer-events-none cursor-not-allowed":C(N)||C(Y)}]),placeholder:J.$t("title")},null,10,fg),[[Bs,C(v).title]])],8,ug)]),j("div",pg,[Ce(C(Ja.exports.VueEditor),{modelValue:C(v).description,"onUpdate:modelValue":q[3]||(q[3]=X=>C(v).description=X),editorToolbar:[[{size:["normal","large"]}],["bold","italic","underline","strike"],["link"],[{color:[]},{background:[]}],["clean"]],class:$e([{"pointer-events-none cursor-not-allowed":C(N)||C(Y)}]),placeholder:J.$t("description")},null,8,["modelValue","class","placeholder"])]),j("div",hg,[xe(j("div",{class:"p-2 mb-2 text-xs text-white bg-red-400 rounded-md shadow-md"},me(J.$t("artworks.add.form.fileTooBig"))+" "+me(C(W))+"MB. ",513),[[Fe,C(G).showFileTooBig]]),Ce(Ne,null,{default:ai(()=>[Ce(C(t),{ref:"pond",onUpdatefiles:_,"label-idle":C(O),"max-files":C(b)?1:C(M),"max-file-size":C(W)*1e6,class:$e(["bg-transparent rounded-sm",{"pointer-events-none cursor-not-allowed":C(N)||C(Y)}]),"accepted-file-types":"image/jpeg, image/png","allow-multiple":"true","allow-drop":"true","allow-reorder":"true","allow-process":"true",credits:"false",name:"files[]","instant-upload":"false"},null,8,["label-idle","max-files","max-file-size","class"])]),_:1})]),j("div",gg,[Ce(Ne,null,{default:ai(()=>[C(Z)?pt("",!0):(ge(),ze(z,{key:0,modelValue:C(S),"onUpdate:modelValue":q[4]||(q[4]=X=>Qa(S)?S.value=X:null),placeholder:J.$t("tagsInputPlaceholder"),typeahead:!0,"typeahead-style":"dropdown","typeahead-activation-threshold":2,"typeahead-show-on-focus":!0,"typeahead-hide-discard":!0,"typeahead-url":C(f)+"/artworks/tags/search?keyword=:search","add-tags-on-comma":!0,class:$e({"pointer-events-none cursor-not-allowed":C(N)||C(Y)}),"initial-value":!C(b)&&!C(Z)?[]:C(ne)},null,8,["modelValue","placeholder","typeahead-url","class","initial-value"]))]),_:1})]),xe(j("div",mg,[j("div",Eg,[j("div",_g,[Ce(ke,{name:"i-ion-ios-calendar"})]),j("input",{id:"publishDate",type:"text",class:"block pl-10 mb-0 w-full form-input input",placeholder:J.$t("artworks.add.form.publishDate"),autocomplete:"off"},null,8,yg)]),xe(j("input",{"onUpdate:modelValue":q[5]||(q[5]=X=>C(v).publishTime=X),type:"time",class:"mb-0 form-input input"},null,512),[[Bs,C(v).publishTime]])],512),[[Fe,!C(b)]]),j("div",bg,[j("div",{onClick:q[6]||(q[6]=Mt(X=>L(),["prevent"])),class:$e(["toggler-box",{"toggler-box__active":C(v).isExplicit}])},[j("div",Ig,[C(v).isExplicit?(ge(),ze(ke,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(ge(),ze(ke,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"}))]),j("div",vg,[j("b",null,me(J.$t("explicitContent")),1),wg])],2),C(v).isExplicit?(ge(),tt("div",{key:0,onClick:q[7]||(q[7]=Mt(X=>C(v).isGore=!C(v).isGore,["prevent"])),class:$e(["toggler-box",{"toggler-box__active":C(v).isGore}])},[j("div",Tg,[C(v).isGore?(ge(),ze(ke,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(ge(),ze(ke,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"}))]),Og],2)):pt("",!0)]),j("div",Dg,[C(b)?pt("",!0):(ge(),tt("div",{key:0,onClick:q[8]||(q[8]=Mt(X=>C(v).isOriginalCharacter=!C(v).isOriginalCharacter,["prevent"])),class:$e(["toggler-box",{"toggler-box__active":C(v).isOriginalCharacter}])},[j("div",Rg,[C(v).isOriginalCharacter?(ge(),ze(ke,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(ge(),ze(ke,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"}))]),j("div",Sg,[j("b",null,me(J.$t("artworks.originalCharacter")),1),Ag])],2)),C(b)?pt("",!0):(ge(),tt("div",{key:1,onClick:q[9]||(q[9]=Mt(X=>C(v).isAllowRedraw=!C(v).isAllowRedraw,["prevent"])),class:$e(["toggler-box",{"toggler-box__active":C(v).isAllowRedraw}])},[j("div",Lg,[C(v).isAllowRedraw?(ge(),ze(ke,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(ge(),ze(ke,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"}))]),j("div",Pg,[j("b",null,me(J.$t("artworks.add.form.allowRedraw")),1),Mg])],2)),C(b)?(ge(),tt("div",{key:2,onClick:q[10]||(q[10]=Mt(X=>C(v).isredrawInMyStyle=!C(v).isredrawInMyStyle,["prevent"])),class:$e(["toggler-box",{"toggler-box__active":C(v).isredrawInMyStyle}])},[j("div",Cg,[C(v).isredrawInMyStyle?(ge(),ze(ke,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(ge(),ze(ke,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"}))]),j("div",xg,[j("b",null,me(J.$t("artworks.add.form.redrawInMyStyle")),1),kg])],2)):pt("",!0)]),j("div",Ng,[j("button",{class:"mr-2 w-full reset-form-button md:w-auto",type:"reset",onClick:q[11]||(q[11]=X=>I())},"Reset"),j("button",{type:"submit",class:$e(["float-right w-full md:w-auto",{"pointer-events-none cursor-not-allowed":C(N)||C(Y)},C(v).title&&C(D).length>0?"primary-button":"disabled-button"])},[j("div",Gg,[C(N)?(ge(),ze(Sn,{key:0,class:"mr-2"})):pt("",!0),xt(" "+me(C(N)?J.$t("artworks.add.form.uploadingButton"):J.$t("artworks.add.form.post").toUpperCase()),1)])],2)])],32)])}}},Bg=eo(Fg,[["__scopeId","data-v-a37e1ac6"]]),Vg={class:"mb-4 section-title"},Ug={class:"alert-success"},jg={class:"italic"},Hg={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},Wg={class:"flex flex-row justify-between md:justify-end"},$g={__name:"FeedForm",setup(e){const{oApiConfiguration:t,fetchOptions:n}=za(),r=sc(t,n()),{$router:i}=Ka(),l=ye(""),c=ye(!1),u=ye(!1),f=ye(!1),h=async()=>{c.value=!0;const[p,m,b]=await r.postFeed({text:l.value});if(p){c.value=!1,u.value=!0;const I=m.id;setTimeout(()=>{i.push(`/feed/${I}`)},1e3)}else f.value=!0,c.value=!1;c.value=!1};return(p,m)=>(ge(),tt("div",null,[j("div",Vg,me(p.$t("feeds.form.title")),1),xe(j("div",Ug,[xt(me(p.$t("feeds.form.posted"))+" ",1),j("span",jg,me(p.$t("feeds.form.successRedirect")),1)],512),[[Fe,C(u)]]),xe(j("div",Hg,[Ce(Sn,{class:"mr-2"}),xt(" "+me(p.$t("feeds.form.postingYourUpdate")),1)],512),[[Fe,C(c)]]),xe(j("div",{class:"alert-danger"},me(p.$t("feeds.form.postFailure")),513),[[Fe,C(f)]]),Ce(C(Ja.exports.VueEditor),{modelValue:C(l),"onUpdate:modelValue":m[0]||(m[0]=b=>Qa(l)?l.value=b:null),editorToolbar:[[{size:["normal","large"]}],["bold","italic","underline","strike"],["link"],[{color:[]},{background:[]}],["clean"]],class:$e(["mb-4"]),placeholder:p.$t("typeSomething")},null,8,["modelValue","placeholder"]),j("div",Wg,[j("button",{class:"mr-2 w-full reset-form-button md:w-auto",type:"reset",onClick:m[1]||(m[1]=b=>l.value="")},"Reset"),j("button",{class:$e(["flex flex-row w-full md:w-auto",[C(l)!==""?"primary-button":"disabled-button"]]),onClick:m[2]||(m[2]=Mt(b=>C(l)!==""?h():null,["prevent"]))},[xe(Ce(Sn,{class:"mr-2"},null,512),[[Fe,C(c)]]),j("span",null,me(C(c)?p.$t("posting"):p.$t("post").toUpperCase()),1)],2)])]))}};const Yg={class:"mb-20"},qg={class:"categories"},zg={class:"text-sm leading-6"},Xg={class:"text-sm leading-6"},Kg={class:"forms"},Zg={__name:"index",setup(e){const{t}=Xa(),n=ye("artwork");return Vs({title:n.value==="artwork"?t("meta.title.artwork.post"):t("meta.title.feed.post")}),Za(()=>n.value,()=>{Vs({title:n.value==="artwork"?t("meta.title.artwork.post"):t("meta.title.feed.post")})}),(r,i)=>(ge(),ze(tc,{"with-footer":!1,"hide-side":!1},{default:ai(()=>[j("div",Yg,[j("div",qg,[j("div",{class:$e(["category",[C(n)==="feed"?"button":"theme-color"]]),onClick:i[0]||(i[0]=l=>n.value="feed")},[xe(Ce(ke,{name:"i-ion-text-outline","text-size":"texl-xl",class:"mr-3 text-2xl"},null,512),[[Fe,C(n)!="feed"]]),xe(Ce(ke,{name:"i-ion-text-outline","text-size":"texl-xl",class:"mr-3 text-2xl text-white"},null,512),[[Fe,C(n)=="feed"]]),j("span",zg,me(r.$t("feed")),1)],2),j("div",{class:$e(["category",[C(n)==="artwork"?"button":"theme-color"]]),onClick:i[1]||(i[1]=l=>n.value="artwork")},[xe(Ce(ke,{name:"i-ion-images-outline","text-size":"texl-xl",class:"mr-3 text-2xl"},null,512),[[Fe,C(n)!="artwork"]]),xe(Ce(ke,{name:"i-ion-images-outline","text-size":"texl-xl",class:"mr-3 text-2xl text-white"},null,512),[[Fe,C(n)=="artwork"]]),j("span",Xg,me(r.$t("artworks.artwork")),1)],2)]),j("div",Kg,[xe(Ce($g,null,null,512),[[Fe,C(n)==="feed"]]),xe(Ce(Bg,{class:"artwork"},null,512),[[Fe,C(n)==="artwork"]])])])]),_:1}))}},am=eo(Zg,[["__scopeId","data-v-f33b8220"]]);export{am as default};
