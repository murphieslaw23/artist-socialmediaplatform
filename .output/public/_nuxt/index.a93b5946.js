import{k as W,j as D,a as F,Y as R,r as n,J as j,c as q,w as z,o as w,q as a,t as c,u as e,p as C,K as p,e as d,L as b,s as h,x as N,b as x,v as k,H}from"./entry.ae51314b.js";import{u as J}from"./ProBadge.de1f3ff6.js";import{L as K}from"./Layout.288d44a5.js";import{W as O}from"./WorkList.3a9e5f28.js";import{M as Y}from"./ModalView.7fc791b0.js";import{_ as G}from"./LoadingEmptyErrorMessage.b2b53b6c.js";import{_ as Q}from"./_plugin-vue_export-helper.a1a6add7.js";import"./useReport.9e4f9eb9.js";import"./Spinner.96f551a8.js";import"./user-counters-api.7503204d.js";import"./useSetting.f194dec2.js";import"./useFeed.607ee023.js";const U={id:"lists"},X={class:"navigations"},Z={class:"title"},ee={class:"buttons"},te={key:0,class:"filter-buttons"},oe={class:"mt-4"},ae={key:0,class:"art-list-view-paging-control"},se={id:"recent-modal",class:"modal work-view"},ne={__name:"index",setup(ie){const g=W(),{oApiConfiguration:P,fetchOptions:V}=D(),A=J(P,V()),{$router:B}=F();R(()=>{g.loggedIn||B.push("/"),m()});const r=n(void 0),_=async t=>{r.value=t,u.page=0,await m()},y=n([]),l=n({pagination:{enablePrev:!0,enableNext:!0}}),m=async()=>{const t=await E(),o=t.works,s=t.pagination;!o.length&&s.record_total===0?L():(y.value=o,s.next_previous.next_page===null?l.value.pagination.enableNext=!1:l.value.pagination.enableNext=!0,s.next_previous.prev_page===null?l.value.pagination.enablePrev=!1:l.value.pagination.enablePrev=!0)},i=n(!0),u=j({perPage:30,page:n(0)}),E=async()=>{u.page===0&&(i.value=!0);const[t,o]=await A.getFollowing({pagination:{perPage:u.perPage,page:u.page},explicitMode:r.value});if(o)I();else return S(),t},$=async t=>{t==="prev"?u.page-=1:u.page+=1,await m(),window.scrollTo(0,0)},f=n(!1),L=()=>{f.value=!0},v=n(!1),I=()=>{i.value=!1,v.value=!0,hideButton()},S=()=>{i.value=!1,f.value=!1,v.value=!1},M=n(null),T=(t,o=!1)=>{M.value.view(t,o),H().openModal("recent-modal")};return(t,o)=>(w(),q(K,{"with-footer":!0,"hide-side":!0,"no-right-side":!0,fullscreen:!0},{default:z(()=>[a("div",U,[a("div",X,[a("div",Z,c(t.$t("followings.followings")),1),a("div",ee,[e(g).loggedIn&&e(g).user.user_settings.show_explicit?(w(),C("div",te,[a("p",{class:p(["rounded-l-md button-item",[e(r)===void 0?"button":"theme-color"]]),onClick:o[0]||(o[0]=s=>_(void 0))},c(t.$t("default")),3),a("p",{class:p(["button-item",[e(r)==="safe"?"button":"theme-color"]]),onClick:o[1]||(o[1]=s=>_("safe"))},c(t.$t("safe")),3),a("p",{class:p(["rounded-r-md button-item",[e(r)==="explicit"?"button":"theme-color"]]),onClick:o[2]||(o[2]=s=>_("explicit"))},[d(b,{name:"i-material-symbols-explicit-outline",class:p({"text-white":e(r)==="explicit"})},null,8,["class"]),h(" "+c(t.$t("explicit")),1)],2)])):N("",!0)])]),d(G,{loading:e(i),empty:e(f),error:e(v),fetch:m},null,8,["loading","empty","error"]),x(a("div",oe,[x(d(O,{"section-class":"work-grid",works:e(y),view:T},null,8,["works"]),[[k,!e(f)]])],512),[[k,!e(i)]]),!e(i)&&!e(f)&&!e(v)?(w(),C("div",ae,[a("button",{class:p([e(l).pagination.enablePrev?"primary-button":"disabled-button"]),onClick:o[3]||(o[3]=s=>$("prev"))},[d(b,{name:"i-ion-chevron-back-outline"}),h(" "+c(t.$t("pagination.previous")),1)],2),a("button",{class:p([e(l).pagination.enableNext?"primary-button":"disabled-button"]),onClick:o[4]||(o[4]=s=>$("next"))},[h(c(t.$t("pagination.next"))+" ",1),d(b,{name:"i-ion-chevron-forward-outline",class:"md:ml-2",style:{"margin-right":"0 !important"}})],2)])):N("",!0),a("div",se,[x(d(Y,{ref_key:"recentModalViewRef",ref:M,section:"recent"},null,512),[[k,!e(i)]])])])]),_:1}))}},be=Q(ne,[["__scopeId","data-v-3dd1bf2b"]]);export{be as default};
