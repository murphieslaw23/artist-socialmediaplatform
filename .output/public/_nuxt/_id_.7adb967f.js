import{l as d,k as m,C as h,m as l,a1 as k,p as _,r as w,c as A,w as y,o as g,f as B,u as I}from"./entry.e59d1677.js";import{u as x}from"./ProBadge.e613df9a.js";import{L as C}from"./Layout.38bbd337.js";import{A as W}from"./ArtworkForm.74927cd1.js";import"./_plugin-vue_export-helper.a1a6add7.js";import"./useSetting.3e22411d.js";import"./vue3-editor.common.410ae174.js";const V={__name:"[id]",setup(v){const e=d(),{oApiConfiguration:u,fetchOptions:n}=m(),a=x(u,n()),{$router:s}=h(),c=l(),{id:r}=s.currentRoute.value.params;k(async()=>{e.loggedIn||s.push("/"),await i()}),_(()=>{f()});const i=async()=>{const[t,o]=await a.getWorkById(r);(t.user_id!==e.user.id||o)&&c.push({path:"/"})},p=w({}),f=async()=>{try{const[t,o]=await a.getWorkById(r);o||(p.value=t)}catch{}};return(t,o)=>(g(),A(C,{"with-footer":!0},{default:y(()=>[B(W,{id:I(r),"is-update":!0},null,8,["id"])]),_:1}))}};export{V as default};
