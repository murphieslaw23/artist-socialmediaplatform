import{J as He,u as qe,a as Ge}from"./nuxt-img.978eb1b8.js";import{j as ee,k as Q,Z as We,l as Te,r as p,o,p as a,P as te,Q as oe,q as t,e as u,w as J,s as V,t as r,x as n,G as Y,b as I,v as j,K as P,u as e,c as N,L as $,H as X,y as Se,M as ke,N as ye,Y as Ie,a0 as Le,C as $e,F as de,E as je,m as fe,a1 as Ke,O as Ye,D as Je}from"./entry.e86746f3.js";import{M as xe,_ as ve,b as Re,d as he,P as ae,S as we,c as ge,e as be,f as Qe}from"./ModalView.e487b658.js";import{u as Me,L as Ze}from"./Layout.04566d95.js";import{a as Xe}from"./useFeed.1ec68f4a.js";import{I as Pe,F as et}from"./FeedModalView.d23479c0.js";import{_ as se}from"./_plugin-vue_export-helper.a1a6add7.js";import{W as Ee}from"./WorkList.0bfb6f77.js";import{_ as ce}from"./LoadingEmptyErrorMessage.30f12734.js";import{u as Be}from"./useI18n.e4d2cde3.js";import{u as Fe}from"./useUser.ed68435a.js";import{U as ze}from"./UserList.f4e99503.js";const _e=m=>(ke("data-v-fd8d7af4"),m=m(),ye(),m),tt={class:"mx-auto w-full md:w-2/3"},ot={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},st={class:"w-full"},lt={key:0,class:"p-4 user-info"},at=["src"],it={class:"name"},nt=_e(()=>t("br",null,null,-1)),rt=_e(()=>t("span",{class:"mx-1"},"\xB7",-1)),dt={class:"text-xxs"},ct={class:"px-2 md:px-4"},ut=["id","innerHTML"],mt=["id","onClick"],ft={key:1,class:"my-2 w-full rounded-md theme-color"},pt={key:0,class:"p-2 md:p-4 user-info"},vt=["src"],ht={class:"name"},wt=_e(()=>t("br",null,null,-1)),gt=_e(()=>t("span",{class:"mx-1"},"\xB7",-1)),bt={class:"px-2 mt-2 md:px-4"},_t={class:"text-xs font-semibold"},kt=["id"],yt=["id","onClick"],$t=["onClick"],xt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},Mt={class:"mx-auto mt-2 primary-button"},Ct={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},It={class:"mx-auto mt-2 primary-button"},Lt={class:"float-right mx-4 mt-2 interactions"},Et={key:0,class:"reactions"},Ft=["onClick"],At=["onClick"],Pt={class:"option dropdown"},Tt=["onClick"],St={class:"option-dropdown dropdown-menu"},jt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Rt={class:"menu-wrapper"},Bt={key:0,class:"custom-divider"},zt=["to"],Ot={class:"mx-auto text-center"},Vt={class:"mx-auto mt-10 text-center"},Ut=_e(()=>t("b",null,"(\u3186_\u3186)",-1)),Dt={class:"mx-auto text-center"},Nt={id:"chronological-feed-modal",class:"modal work-view"},Ht={id:"artwork-modal",class:"modal work-view"},qt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(m){const E=m,w=ee(),{oApiConfiguration:i,fetchOptions:A}=Q(),v=Xe(i,A()),{generateArtworkThumb:h}=We();Te();const b=p(0),k=p(0),c=(f,M)=>{b.value=f,k.value=M},B=p([]),_=p({page:0,perPage:10}),s=async({loaded:f})=>{const[M,O]=await v.getFeedByUserId({userId:E.userId,pagination:{page:_.value.page,perPage:_.value.perPage}});_.value.page+=1;for(let d=0;d<M.feeds.length;d++){const D=M.feeds[d];if(D.liked&&L.value.push(D.id),D.artworks){D.artworks.images=[],D.artworks.apply_explicit_filter=!1;for(let q=0;q<D.artworks.artwork_assets.length;q++)if(q<=3){const ue=await h(D.artworks.artwork_assets[q].bucket,D.artworks.artwork_assets[q].filename,"feed");D.artworks.images.push(ue)}D.artworks!=null&&(!w.loggedIn&&D.artworks.is_explicit||D.artworks.is_explicit&&!w.user.user_settings.show_explicit)&&(D.artworks.apply_explicit_filter=!0)}B.value.push(D)}f(M.feeds.length,_.value.perPage)},g=p(null),R=f=>{g.value.view(f),X().openModal("chronological-feed-modal")},x=p(null),y=(f,M,O)=>{M?B.value[O].artworks.apply_explicit_filter=!1:(x.value.view(f),X().openModal("artwork-modal"))},L=p([]),l=async f=>{const[M,O]=await v.like({feedId:f});if(M){L.value.push(f);const d=document.getElementById(`profileFeedLikeButton-${f}`);d.classList.add("animate-bounce"),setInterval(()=>{d.classList.remove("animate-bounce")},2500)}},z=async f=>{const[M,O]=await v.unlike({feedId:f});if(M){const d=L.value.indexOf(f);L.value.splice(d,1)}},H=(f,M,O,d)=>{Re().readMore(f,M,O,d)},K=async()=>{const[f,M]=await v.remove(b.value);f&&B.value.splice(k.value,1)};return(f,M)=>{const O=Se;return o(),a("div",tt,[(o(!0),a(te,null,oe(e(B),(d,D)=>(o(),a("div",{key:d.id},[t("div",ot,[t("div",st,[d.users?(o(),a("div",lt,[u(O,{to:"/profile/"+d.users.username},{default:J(()=>[t("img",{class:"avatar",src:f.avatarCoverUrl(d.users.avatar_bucket,d.users.avatar_filename),onError:M[0]||(M[0]=(...q)=>f.imageLoadError&&f.imageLoadError(...q))},null,40,at)]),_:2},1032,["to"]),t("div",it,[u(O,{to:"/profile/"+d.users.username,class:"fullname"},{default:J(()=>[V(r(d.users.name),1)]),_:2},1032,["to"]),nt,u(O,{to:"/profile/"+d.users.username,class:"username hover:underline"},{default:J(()=>[V(" @"+r(d.users.username),1)]),_:2},1032,["to"]),rt,t("span",dt,r(f.formatDate(d.scheduled_post?d.scheduled_post:d.created_at,!0)),1)])])):n("",!0),t("div",ct,[t("p",{id:"feed-text-"+d.id,innerHTML:d.text.split("<br>").length>3&&d.text.length>300?`${d.text.slice(0,300)}...`:d.text},null,8,ut),d.text.split("<br>").length>3&&d.text.length>300?(o(),a("a",{key:0,id:"feed-read-more-"+d.id,class:"href",onClick:Y(q=>H(d.text,d.id,"feed-read-more-","feed-text-"),["prevent"])},r(f.$t("readMore")),9,mt)):n("",!0),d.artworks?(o(),a("div",ft,[d.artworks.users?(o(),a("div",pt,[u(O,{to:"/profile/"+d.artworks.users.username},{default:J(()=>[t("img",{class:"avatar",src:f.avatarCoverUrl(d.artworks.users.avatar_bucket,d.artworks.users.avatar_filename),onError:M[1]||(M[1]=(...q)=>f.imageLoadError&&f.imageLoadError(...q))},null,40,vt)]),_:2},1032,["to"]),t("div",ht,[u(O,{to:"/profile/"+d.artworks.users.username,class:"fullname hover:href"},{default:J(()=>[V(r(d.artworks.users.name),1)]),_:2},1032,["to"]),wt,u(O,{to:"/profile/"+d.artworks.users.username,class:"hover:underline text-xxs"},{default:J(()=>[V(" @"+r(d.artworks.users.username),1)]),_:2},1032,["to"]),gt,u(O,{to:"/a/"+d.artworks.id,class:"hover:underline text-xxs"},{default:J(()=>[V(r(f.formatDate(d.artworks.scheduled_post?d.artworks.scheduled_post:d.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):n("",!0),t("div",bt,[t("span",_t,r(d.artworks.title),1),I(t("p",null,[t("span",{id:"feed-description-"+d.artworks.id},r(d.artworks.description.length>300?`${d.artworks.description.slice(0,300)}...`:d.artworks.description),9,kt),d.artworks.description.length>300?(o(),a("a",{key:0,id:"feed-read-more-"+d.artworks.id,class:"href",onClick:Y(q=>H(d.artworks.description,d.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},r(f.$t("readMore")),9,yt)):n("",!0)],512),[[j,d.artworks.description]])]),t("div",null,[f.isMobile()?n("",!0):(o(),a("div",{key:0,class:P(["p-2",{"cursor-pointer":!d.artworks.apply_explicit_filter}]),onClick:Y(q=>y(d.artworks.id,d.artworks.apply_explicit_filter,D),["prevent"])},[t("div",{class:P(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":d.artworks.apply_explicit_filter}])},[u(Pe,{class:P([{"blur-3xl unclickable":d.artworks.apply_explicit_filter},d.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:d.artworks},null,8,["class","work"]),d.artworks.apply_explicit_filter?(o(),a("div",xt,[t("div",null,r(e(w).loggedIn?f.$t("explicitContentAlert"):f.$t("explicitContentAlertForGuest")),1),t("button",Mt,r(f.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)],10,$t)),f.isMobile()?(o(),N(O,{key:1,to:d.artworks.apply_explicit_filter?null:"/a/"+d.artworks.id,onClick:Y(q=>y(d.artworks.id,d.artworks.apply_explicit_filter,D),["prevent"]),class:"cursor-pointer"},{default:J(()=>[t("div",{class:P(["overflow-hidden relative p-2 rounded-md",{"m-2":d.artworks.apply_explicit_filter}])},[u(Pe,{class:P([{"blur-3xl unclickable":d.artworks.apply_explicit_filter},d.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:d.artworks},null,8,["class","work"]),d.artworks.apply_explicit_filter?(o(),a("div",Ct,[t("div",null,r(e(w).loggedIn?f.$t("explicitContentAlert"):f.$t("explicitContentAlertForGuest")),1),t("button",It,r(f.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)]),_:2},1032,["to","onClick"])):n("",!0)])])):n("",!0)]),t("div",Lt,[e(w).loggedIn?(o(),a("div",Et,[t("span",{class:"leading-8",onClick:q=>e(L).includes(d.id)?z(d.id):l(d.id)},[I(u($,{id:"profileFeedLikeButton-"+d.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[j,e(L).includes(d.id)]]),I(u($,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[j,!e(L).includes(d.id)]]),V(" "+r(f.thousand(d._count.feed_likes)),1)],8,Ft),t("span",{class:"leading-8",onClick:Y(q=>R(d.id),["prevent"])},[u($,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),V(" "+r(f.thousand(d._count.feed_comments)),1)],8,At),t("div",Pt,[t("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:q=>c(d.id,D)},[t("span",null,[u($,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,Tt),t("div",St,[t("div",jt,[t("div",Rt,[u(O,{to:"/feed/"+d.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:J(()=>[u($,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),V(" "+r(f.$t("open")),1)]),_:2},1032,["to"]),u(O,{to:"/feed/"+d.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:J(()=>[u($,{name:"i-ci-external-link",class:"mr-2 text-base"}),V(" "+r(f.$t("openInNewTab")),1)]),_:2},1032,["to"]),e(w).loggedIn&&d.user_id&&e(w).user.id===d.user_id?(o(),a("div",Bt)):n("",!0),e(w).loggedIn&&d.user_id&&e(w).user.id===d.user_id?(o(),a("div",{key:1,to:"/feed/"+d.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:M[2]||(M[2]=q=>f.openModal("profile-feed-deletion-confirm-modal"))},[u($,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),V(" "+r(f.$t("delete")),1)],8,zt)):n("",!0)])])])])])):n("",!0)])])])]))),128)),u(e(He),{load:s},{loading:J(()=>[t("div",Ot,[u($,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":J(()=>[t("div",Vt,[Ut,V(" "+r(f.$t("nothingToShow")),1)])]),"no-more":J(()=>[t("div",Dt,r(f.$t("youHaveReachedTheEnd")),1)]),_:1}),t("div",Nt,[u(et,{ref_key:"chronologicalFeedModalViewRef",ref:g,section:"chronological-feed"},null,512)]),t("div",Ht,[u(xe,{ref_key:"artworkModalViewRef",ref:x,section:"artwork"},null,512)]),u(ve,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${f.$t("alert.areYouSure")} ${f.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:M[3]||(M[3]=d=>K())},null,8,["message"])])}}},Gt=se(qt,[["__scopeId","data-v-fd8d7af4"]]);const Wt={id:"lists"},Kt=["id"],Yt={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(m,{emit:E}){const w=m,{oApiConfiguration:i,fetchOptions:A}=Q(),v=qe(i,A()),h="profile",b=p(!0);Ie(()=>{k()});const k=async()=>{const[O,d]=await _();c.value=O,d.record_total<=B.value.perPage&&R(),d.record_total===0&&l()},c=p([]),B=p({perPage:24,page:0}),_=async()=>{B.value.page===0&&(b.value=!0);const[O,d,D]=await v.getUserArtworks({userId:w.userId,pagination:{page:B.value.page,perPage:B.value.perPage}});if(D)H();else return d.record_total<=B.value.perPage&&R(),d.record_total===0&&l(),B.value.page+=1,s(),[O,d]},s=()=>{b.value=!1,L.value=!1,z.value=!1},g=p(!0),R=()=>{g.value=!1},x=p({delay:!1}),y=async()=>{x.value.delay=!0;const[O,d]=await _();for(let D=0;D<O.length;D++)c.value.push(O[D]);x.value.delay=!1,dataPagination.next_previous.next_page||R(),dataPagination.next_previous.next_page&&dataPagination.current_page===x.maxLoad&&(R(),x.showDiscoveryButton=!0)},L=p(!1),l=()=>{L.value=!0,R(),E("onEmpty")},z=p(!1),H=()=>{b.value=!1,z.value=!0,R()},K=p(null),f=(O,d=!1)=>{K.value.view(O,d),X().openModal(h+"-modal")},M=O=>{E("feedSelectedItems",O)};return(O,d)=>(o(),a("div",Wt,[I(t("div",null,[(o(),N(Le,null,[I(u(Ee,{"section-class":"work-grid",works:e(c),view:f,"manage-mode":m.manageMode,onFeedManageList:M},null,8,["works","manage-mode"]),[[j,!e(L)]])],1024)),I(t("div",{class:P(["primary-button",e(x).delay?"animate-pulse":""]),onClick:y},r(O.$t("loadMore")),3),[[j,e(g)]])],512),[[j,!e(b)]]),u(ce,{loading:e(b),empty:e(L),error:e(z),fetch:_},null,8,["loading","empty","error"]),t("div",{id:h+"-modal",class:"modal work-view"},[I(u(xe,{ref_key:"profileModalViewRef",ref:K,section:h},null,512),[[j,!e(b)]])],8,Kt)]))}},Jt=se(Yt,[["__scopeId","data-v-25a8151f"]]);const Qt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Zt={class:"title"},Xt=["name"],eo=["placeholder"],to=["placeholder"],oo=["for"],so=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),lo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},ao=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),io=[ao],no={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ro=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),co=[ro],uo={class:"flex flex-row gap-x-1"},mo={class:"flex flex-row gap-2 justify-end mt-2"},fo={type:"submit",class:"primary-button"},po={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:E}){const w=m,i=ee(),{t:A}=$e(),{oApiConfiguration:v,fetchOptions:h}=Q(),b=he(v,h()),k="create-album-form",c=p({title:"",description:"",isPublic:1,category:"artwork"}),B=async()=>{Me().validate(k,A);try{let _=!1,s={};if(w.category){const[g,R,x]=await b.createAlbum(w.category,c.value);_=g,s=R}_&&(X().closeModal(w.modalId),E("created",s))}catch{}};return(_,s)=>(o(),a("div",null,[t("div",Qt,[t("div",null,[t("span",Zt,r(_.$t("albums.create.form.title")),1),t("form",{id:k,class:"mt-2",onSubmit:s[4]||(s[4]=Y(g=>B(),["prevent"]))},[t("n-validate",{for:"title",name:_.$t("title")},[I(t("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>e(c).title=g),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:_.$t("title")},null,8,eo),[[de,e(c).title]])],8,Xt),I(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=g=>e(c).description=g),class:"form-input theme-color-secondary",placeholder:_.$t("description"),"data-gramm":"false"},null,8,to),[[de,e(c).description]]),t("label",{for:e(c).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:s[2]||(s[2]=g=>e(i).i502p00r0?e(c).isPublic=!e(c).isPublic:e(c).isPublic=!0)},[so,e(c).isPublic?(o(),a("span",lo,io)):n("",!0),e(c).isPublic?n("",!0):(o(),a("span",no,co))]),t("div",uo,[t("span",{class:P(["ml-2",{"leading-6":!e(i).i502p00r0}])},r(_.$t("private")),3),u(ae)])],8,oo),t("div",mo,[t("button",{class:"cancel-button",onClick:s[3]||(s[3]=Y(g=>_.closeModal(m.modalId),["prevent"]))},r(_.$t("cancel")),1),t("button",fo,r(_.$t("create")),1)])],32)])])]))}};const vo={id:"lists"},ho={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},wo={class:"mb-2 text-base font-bold"},go={class:"mb-2"},bo={class:"italic"},_o=["id"],ko={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(m,{expose:E,emit:w}){const i=m,{oApiConfiguration:A,fetchOptions:v}=Q(),h=he(A,v()),b=p(i.id);je(()=>i.id,(f,M)=>{b.value=f}),fe(async()=>{await B()});const k=p(!0),c=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),B=async()=>{k.value=!0,await _(),await s(),k.value=!1},_=async()=>{const[f,M]=await h.getInfo(b.value);c.value.info=f.data},s=async()=>{const[f,M,O]=await h.listAlbumItems({albumId:b.value,pagination:{page:c.value.pagination.page,perPage:c.value.pagination.page===0?c.value.pagination.firstLoad:c.value.pagination.perPage}});M?c.value.pagination.page===0?c.value.pagination.page=c.value.pagination.firstLoad/c.value.pagination.perPage:c.value.pagination.page+=c.value.pagination.page!==0?1:2:c.value.loadMore=!1,f!==null&&f.length?(f.forEach(d=>{c.value.list.push(d.artworks)}),w("onAlbumEmpty",!1)):(c.value.empty=!0,w("onAlbumEmpty",!0))},g=()=>{c.value.loadMore=!0,c.value.pagination.page=0,c.value.list=[]},R=p([]),x=f=>{R.value=f,w("feedManageList",f)},y=p(!1);let L;const l=async()=>{const[f,M]=await h.removeItems(i.id,R.value);f&&(ge().splash(L,y,"item-removed-alert"),g(),await B())},z=p("album"),H=p(null),K=(f,M=!1)=>{H.value.view(f,M),X().openModal(z.value+"-modal")};return E({fetchInfo:_,removeItems:l}),(f,M)=>(o(),a("div",vo,[t("div",{class:"hidden",onClick:M[0]||(M[0]=O=>_())}),t("div",{class:"hidden",onClick:M[1]||(M[1]=O=>l())}),t("div",ho,[t("div",wo,r(e(c).info.name),1),t("div",go,r(e(c).info.description),1),t("div",null,[t("b",null,r(f.$t("private"))+":",1),V(),t("span",bo,r(e(c).info.is_public?f.$t("no"):f.$t("yes")),1)]),t("div",null,[t("b",null,r(f.$t("createdAt")),1),V(" "+r(f.formatDate(e(c).info.created_at)),1)])]),I(t("div",null,[(o(),N(Le,null,[I(u(Ee,{"section-class":"work-grid",works:e(c).list,view:K,"manage-mode":m.manageMode,onFeedManageList:x},null,8,["works","manage-mode"]),[[j,!e(c).empty]])],1024)),I(t("div",{class:"primary-button",onClick:M[2]||(M[2]=O=>s())},r(f.$t("loadMore")),513),[[j,e(c).loadMore]])],512),[[j,!e(k)]]),u(ce,{loading:e(k),empty:e(c).empty,error:!1,fetch:B},null,8,["loading","empty"]),e(k)?n("",!0):(o(),a("div",{key:0,id:e(z)+"-modal",class:"modal work-view"},[u(xe,{ref_key:"albumModalViewRef",ref:H,section:e(z)},null,8,["section"])],8,_o)),I(u(we,{id:"item-removed-alert",text:f.$t("albums.itemRemoved")},null,8,["text"]),[[j,e(y)]])]))}},yo=se(ko,[["__scopeId","data-v-1e314d46"]]),$o={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},xo={class:"title"},Mo=["name"],Co=["placeholder"],Io=["placeholder"],Lo=["for"],Eo=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Fo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ao=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Po=[Ao],To={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},So=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),jo=[So],Ro={class:"flex flex-row gap-x-1"},Bo={class:"flex flex-row gap-2 justify-end mt-2"},zo={type:"submit",class:"primary-button"},Oo={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:E,emit:w}){const i=m,A=ee(),{oApiConfiguration:v,fetchOptions:h}=Q(),b=he(v,h()),{t:k}=$e(),c=p(!0),B=async x=>{if(x){R(),c.value=!0;const[y,L]=await b.getInfo(x),l=y.data;s.value.id=x,s.value.name=l.name,s.value.description=l.description,s.value.isPublic=!!l.is_public,c.value=!1}},_="update-album-form",s=p({id:0,name:"",description:"",isPublic:!1}),g=async()=>{Me().validate(_,k);const[x,y]=await b.update({id:s.value.id,name:s.value.name,description:s.value.description,isPublic:s.value.isPublic?1:0});y||(X().closeModal(i.modalId),w("updated",s.value),R())},R=()=>{s.value={id:0,name:"",description:"",isPublic:0}};return E({fetch:B}),(x,y)=>(o(),a("div",null,[t("div",$o,[t("div",null,[t("span",xo,r(x.$t("albums.edit.form.title")),1),e(c)?n("",!0):(o(),a("form",{key:0,id:_,class:"mt-2",onSubmit:y[4]||(y[4]=Y(L=>g(),["prevent"]))},[t("n-validate",{for:"title",name:x.$t("title")},[I(t("input",{"onUpdate:modelValue":y[0]||(y[0]=L=>e(s).name=L),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:x.$t("title")},null,8,Co),[[de,e(s).name]])],8,Mo),I(t("textarea",{"onUpdate:modelValue":y[1]||(y[1]=L=>e(s).description=L),class:"form-input theme-color-secondary",placeholder:x.$t("description"),"data-gramm":"false"},null,8,Io),[[de,e(s).description]]),t("label",{for:e(s).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:y[2]||(y[2]=L=>e(A).i502p00r0?e(s).isPublic=!e(s).isPublic:e(s).isPublic=!0)},[Eo,e(s).isPublic?(o(),a("span",Fo,Po)):n("",!0),e(s).isPublic?n("",!0):(o(),a("span",To,jo))]),t("div",Ro,[t("span",{class:P(["ml-2",{"leading-6":!e(A).i502p00r0}])},r(x.$t("private")),3),u(ae)])],8,Lo),t("div",Bo,[t("button",{class:"cancel-button",onClick:y[3]||(y[3]=Y(L=>x.closeModal(m.modalId),["prevent"]))},r(x.$t("cancel")),1),t("button",zo,r(x.$t("save")),1)])],32))])])]))}},Oe=""+new URL("folder.11be08fa.png",import.meta.url).href;const Ve=m=>(ke("data-v-b9b7060a"),m=m(),ye(),m),Vo={class:"mb-2"},Uo={key:0},Do=["src"],No={key:1},Ho={class:"relative text-center"},qo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Go={class:"overflow-hidden rounded-md"},Wo=["src"],Ko={key:2,class:"imgrid"},Yo={class:"relative text-center"},Jo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Qo={class:"overflow-hidden rounded-md"},Zo=["src"],Xo=Ve(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),es=Ve(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),ts={key:3,class:"imgrid"},os={class:"relative text-center"},ss={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ls={class:"overflow-hidden rounded-md"},as=["src"],is={key:4,class:"imgrid"},ns={class:"relative text-center"},rs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ds={class:"overflow-hidden rounded-md"},cs=["src"],us={key:5,class:"imgrid"},ms={key:0,class:"relative text-center"},fs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ps={class:"overflow-hidden rounded-md"},vs=["src"],hs={key:1,class:"relative text-center"},ws={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},gs={class:"overflow-hidden rounded-md"},bs=["src"],_s={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(m){const E=ee(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(i,A)=>(o(),a("div",Vo,[!m.album.album_has_artworks||m.album._count.album_has_artworks===0?(o(),a("div",Uo,[t("img",{src:e(Oe),class:"rounded"},null,8,Do)])):n("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),a("div",No,[t("div",Ho,[i.applyExplicitFilter(e(E),m.album.album_has_artworks[0].artworks.is_explicit)?(o(),a("span",qo,r(i.$t("explicitContent")),1)):n("",!0),t("div",Go,[m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),a("img",{key:0,src:i.artworkThumb(m.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,m.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:P(["object-cover object-top rounded",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),m.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...v)=>i.imageLoadError&&i.imageLoadError(...v))},null,42,Wo)):n("",!0)])])])):n("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===2?(o(),a("div",Ko,[(o(!0),a(te,null,oe(m.album.album_has_artworks,(v,h)=>(o(),a("div",{key:h,class:P(w[2][h])},[t("div",Yo,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",Jo,r(i.$t("explicitContent")),1)):n("",!0),t("div",Qo,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,Zo)])])],2))),128)),Xo,es])):n("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===3?(o(),a("div",ts,[(o(!0),a(te,null,oe(m.album.album_has_artworks,(v,h)=>(o(),a("div",{key:h,class:P(w[3][h])},[t("div",os,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",ss,r(i.$t("explicitContent")),1)):n("",!0),t("div",ls,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,as)])])],2))),128))])):n("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===4?(o(),a("div",is,[(o(!0),a(te,null,oe(m.album.album_has_artworks,(v,h)=>(o(),a("div",{key:h},[t("div",ns,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",rs,r(i.$t("explicitContent")),1)):n("",!0),t("div",ds,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,cs)])])]))),128))])):n("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks>4?(o(),a("div",us,[(o(!0),a(te,null,oe(m.album.album_has_artworks,(v,h)=>(o(),a("div",{key:h},[h<3?(o(),a("div",ms,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",fs,r(i.$t("explicitContent")),1)):n("",!0),t("div",ps,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,vs)])])):(o(),a("div",hs,[t("span",ws,"+"+r(m.album._count.album_has_artworks-4),1),t("div",gs,[t("img",{src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:P(["z-0 brightness-50",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,bs)])]))]))),128))])):n("",!0)]))}},ks=se(_s,[["__scopeId","data-v-b9b7060a"]]);const ys={class:"mb-2 w-full"},$s={key:0,class:"flex flex-row justify-between"},xs={class:"flex flex-row"},Ms={key:0},Cs={key:1,class:"flex flex-row justify-between"},Is={class:"flex flex-row"},Ls={class:"flex flex-row gap-2"},Es={class:"flex flex-row gap-2"},Fs={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},As=["onClick"],Ps={class:"flex flex-row pb-1 mt-4 font-bold"},Ts={class:"text-xs font-normal"},Ss={__name:"Album",props:{userId:{type:Number,default:0}},setup(m){const E=m,w=ee(),{oApiConfiguration:i,fetchOptions:A}=Q(),v=he(i,A());Ie(()=>{B()}),fe(()=>{R()});const h=p(!0),b=p("artwork"),k=p(0),c=p(!1),B=async()=>{if(w.i502p00r0)c.value=!0;else{const[C,T]=await v.proCanCreateAlbum({type:b.value});T?c.value=!1:c.value=C}},_=p([]),s=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),g=p({artwork:0}),R=async()=>{h.value=!0;const[C,T,U]=await v.fetchAlbums(E.userId,b.value,s.value.pagination.page===0?s.value.pagination.firstLoad:s.value.pagination.perPage,s.value.pagination.page);if(U)z();else{C.length||(s.value.manageMode=!1,L()),C.forEach(S=>{_.value.push(S)}),s.value.pagination.page+=s.value.pagination.firstLoad/s.value.pagination.perPage,s.value.showLoadMore=T;const[re]=await v.countArtworkAlbums(E.userId);g.value.artwork=re}h.value=!1},x=async()=>await R(),y=p(!1),L=()=>{y.value=!0,s.value.showLoadMore=!1},l=p(!1),z=()=>{h.value=!1,l.value=!0,s.value.showLoadMore=!1},H=async()=>{h.value=!1,y.value=!1,l.value=!1,s.value.pagination.page=0,_.value=[],await R()},K=p(!1);let f;const M=async()=>{await B(),ge().splash(f,K,"created-alert"),await H()},O=p(null),d=()=>{O.value.fetch(k.value),X().openModal("album-edit-form-modal")},D=p(null),q=C=>{D.value.fetchInfo(),_.value.forEach(T=>{T.id===C.id&&(T.name=C.name,T.description=C.description,T.is_public=C.isPublic)})},ue=()=>{D.value.removeItems()},ie=p([]),W=C=>{ie.value=C},ne=async()=>{if(k.value!==0){const[C,T]=await v.deleteAlbum(k.value);C&&(await B(),k.value=0,H())}},me=C=>{s.value.showManageButton=!C,s.value.manageMode=!1},pe=()=>{k.value=0,s.value.showManageButton=!1,s.value.manageMode=!1};return(C,T)=>(o(),a("div",null,[t("div",ys,[e(k)?n("",!0):(o(),a("div",$s,[t("div",xs,[t("div",{class:P(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(b)==="artwork"}]),onClick:T[0]||(T[0]=U=>b.value="artwork")},[V(r(C.$t("artworks.artwork"))+" ",1),t("span",{class:P(["px-1 ml-2 font-normal rounded",e(b)==="artwork"?"theme-color":"button-color text-white"])},r(e(g).artwork),3)],2)]),e(w).loggedIn&&e(w).user.id===m.userId?(o(),a("div",Ms,[t("div",{class:"flex flex-row icon-button",onClick:T[1]||(T[1]=U=>e(c)?C.openModal("album-form-modal"):null)},[u($,{name:"i-ion-add-outline"}),e(c)?n("",!0):(o(),N(ae,{key:0,class:"ml-1"}))])])):n("",!0)])),e(k)?(o(),a("div",Cs,[t("div",null,[t("div",{class:"ml-0 icon-button",onClick:T[2]||(T[2]=U=>pe())},[u($,{name:"i-ic-baseline-keyboard-arrow-left"})])]),t("div",Is,[I(t("div",Ls,[t("button",{class:"action-button secondary-button",onClick:T[3]||(T[3]=U=>e(s).manageMode=!e(s).manageMode)},[u($,{name:e(s).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+r(e(s).manageMode?C.$t("quit"):C.$t("manage")),1)]),I(t("button",{class:P(["flex flex-row",e(ie).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:T[4]||(T[4]=U=>e(ie).length>0?C.openModal("item-deletion-confirm-modal"):null)},[u($,{name:"i-akar-icons-trash-bin"}),V(" "+r(C.$t("albums.removeSelected")),1)],2),[[j,e(s).manageMode]])],512),[[j,e(w).loggedIn&&e(w).user.id===m.userId&&e(s).showManageButton]]),I(t("div",Es,[t("button",{class:"icon-button",onClick:T[5]||(T[5]=U=>d())},[u($,{name:"i-ph-gear-six"})]),t("button",{class:"danger-button-color b-button",onClick:T[6]||(T[6]=U=>C.openModal("album-deletion-confirm-modal"))},[u($,{name:"i-akar-icons-trash-bin"})])],512),[[j,e(w).loggedIn&&e(w).user.id===m.userId&&!e(s).manageMode]])])])):n("",!0),I(t("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},r(C.$t("albums.manageModeActiveMessage")),513),[[j,e(s).manageMode]])]),e(k)?n("",!0):(o(),a("div",Fs,[(o(!0),a(te,null,oe(e(_),U=>(o(),a("div",{key:U.id,class:P(["p-3 rounded-md cursor-pointer",U.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:re=>k.value=U.id},[U.type==="artwork"?(o(),N(ks,{key:0,album:U},null,8,["album"])):n("",!0),t("div",Ps,[U.is_public?n("",!0):(o(),N($,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),t("span",Ts,r(U.name),1)])],10,As))),128))])),e(s).showLoadMore&&!e(k)?(o(),a("div",{key:1,class:"mt-4 w-full primary-button",onClick:x},r(C.$t("loadMore")),1)):n("",!0),u(ce,{loading:e(h),empty:e(y),error:e(l),fetch:R},null,8,["loading","empty","error"]),!e(h)&&!e(k)?(o(),N(po,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:e(b),class:"modal",onCreated:M},null,8,["category"])):n("",!0),I(u(we,{id:"created-alert",text:C.$t("albums.created")},null,8,["text"]),[[j,e(K)]]),!e(h)&&e(k)?(o(),N(Oo,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:O,"modal-id":"album-edit-form-modal","album-id":e(k),class:"modal",onUpdated:q},null,8,["album-id"])):n("",!0),u(ve,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:ne},null,8,["message"]),u(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:ue},null,8,["message"]),e(k)&&!e(h)?(o(),N(yo,{key:4,id:e(k),ref_key:"albumDetailRef",ref:D,"manage-mode":e(s).manageMode,onOnAlbumEmpty:me,onFeedManageList:W},null,8,["id","manage-mode"])):n("",!0)]))}},js=se(Ss,[["__scopeId","data-v-83f690a7"]]);const Rs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Bs={class:"title"},zs=["placeholder"],Os=["placeholder"],Vs=["for"],Us=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Ds={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ns=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Hs=[Ns],qs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Gs=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ws=[Gs],Ks={class:"flex flex-row gap-x-1"},Ys={class:"flex flex-row gap-2 justify-end mt-2"},Js={type:"submit",class:"primary-button"},Qs={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:E}){const w=m,i=ee(),{oApiConfiguration:A,fetchOptions:v}=Q(),h=be(A,v()),{t:b}=$e(),k="create-collection-form",c=p({title:"",description:"",isPublic:1,category:"artwork"}),B=async()=>{Me().validate(k,b);try{let _=!1,s={};if(w.category){const[g,R,x]=await h.createCollection(w.category,c.value);x||(_=g,s=R)}_&&(X().closeModal(w.modalId),E("created",s))}catch{}};return(_,s)=>(o(),a("div",null,[t("div",Rs,[t("div",null,[t("span",Bs,r(_.$t("collections.create.form.title")),1),t("form",{id:k,class:"mt-2",onSubmit:s[4]||(s[4]=Y(g=>B(),["prevent"]))},[t("n-validate",null,[I(t("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>e(c).title=g),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:_.$t("title")},null,8,zs),[[de,e(c).title]])]),I(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=g=>e(c).description=g),class:"form-input theme-color-secondary",placeholder:_.$t("description"),"data-gramm":"false"},null,8,Os),[[de,e(c).description]]),t("label",{for:e(c).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:s[2]||(s[2]=g=>e(i).i502p00r0?e(c).isPublic=!e(c).isPublic:e(c).isPublic=!0)},[Us,e(c).isPublic?(o(),a("span",Ds,Hs)):n("",!0),e(c).isPublic?n("",!0):(o(),a("span",qs,Ws))]),t("div",Ks,[t("span",{class:P(["ml-2",{"leading-6":!e(i).i502p00r0}])},r(_.$t("private")),3),u(ae)])],8,Vs),t("div",Ys,[t("button",{class:"cancel-button",onClick:s[3]||(s[3]=Y(g=>_.closeModal(m.modalId),["prevent"]))},r(_.$t("cancel")),1),t("button",Js,r(_.$t("create")),1)])],32)])])]))}};const Zs={id:"lists"},Xs={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},el={class:"text-base font-bold mb-2"},tl={class:"mb-2"},ol={class:"italic"},sl=["id"],ll={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(m,{expose:E,emit:w}){const i=m,{oApiConfiguration:A,fetchOptions:v}=Q(),h=be(A,v()),b=p(i.id);je(()=>i.id,(f,M)=>{b.value=f}),fe(async()=>{await B()});const k=p(!0),c=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),B=async()=>{k.value=!0,await _(),await s(),k.value=!1},_=async()=>{const[f,M]=await h.getInfo(b.value);c.value.info=f.data},s=async()=>{const[f,M,O]=await h.listCollectionItems({collectionId:b.value,pagination:{page:c.value.pagination.page,perPage:c.value.pagination.page===0?c.value.pagination.firstLoad:c.value.pagination.perPage}});M?c.value.pagination.page===0?c.value.pagination.page=c.value.pagination.firstLoad/c.value.pagination.perPage:c.value.pagination.page+=c.value.pagination.page!==0?1:2:c.value.loadMore=!1,f!==null&&f.length?(f.forEach(d=>{c.value.list.push(d.artworks)}),w("onCollectionEmpty",!1)):(c.value.empty=!0,w("onCollectionEmpty",!0))},g=()=>{c.value.loadMore=!0,c.value.pagination.page=0,c.value.list=[]},R=p([]),x=f=>{R.value=f,w("feedManageList",f)},y=p(!1);let L;const l=async()=>{const[f,M]=await h.removeItem({collectionId:i.id,type:i.type,workId:R.value});M||(ge().splash(L,y,"item-removed-alert"),g(),await B(),w("feedManageList",[]))},z=p("collection"),H=p(null),K=(f,M=!1)=>{H.value.view(f,M),X().openModal(z.value+"-modal")};return E({fetchInfo:_,removeItem:l}),(f,M)=>(o(),a("div",Zs,[t("div",{class:"hidden",onClick:M[0]||(M[0]=O=>_())}),t("div",{class:"hidden",onClick:M[1]||(M[1]=O=>l())}),t("div",Xs,[t("div",el,r(e(c).info.name),1),t("div",tl,r(e(c).info.description),1),t("div",null,[t("b",null,r(f.$t("private"))+":",1),V(),t("span",ol,r(e(c).info.is_public?f.$t("no"):f.$t("yes")),1)]),t("div",null,[t("b",null,r(f.$t("createdAt")),1),V(" "+r(f.formatDate(e(c).info.created_at)),1)])]),I(t("div",null,[(o(),N(Le,null,[I(u(Ee,{"section-class":"work-grid",works:e(c).list,view:K,"manage-mode":m.manageMode,onFeedManageList:x},null,8,["works","manage-mode"]),[[j,!e(c).empty]])],1024)),I(t("div",{class:"primary-button",onClick:M[2]||(M[2]=O=>s())},r(f.$t("loadMore")),513),[[j,e(c).loadMore]])],512),[[j,!e(k)]]),u(ce,{loading:e(k),empty:e(c).empty,error:!1,fetch:B},null,8,["loading","empty"]),e(k)?n("",!0):(o(),a("div",{key:0,id:e(z)+"-modal",class:"modal work-view"},[u(xe,{ref_key:"collectionModalViewRef",ref:H,section:e(z)},null,8,["section"])],8,sl)),I(u(we,{id:"item-removed-alert",text:f.$t("collections.itemRemoved")},null,8,["text"]),[[j,e(y)]])]))}},al=se(ll,[["__scopeId","data-v-02e62a02"]]),il={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},nl={class:"title"},rl=["placeholder"],dl=["placeholder"],cl=["for"],ul=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ml={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},fl=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),pl=[fl],vl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},hl=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),wl=[hl],gl={class:"flex flex-row gap-x-1"},bl={class:"flex flex-row gap-2 justify-end mt-2"},_l={type:"submit",class:"primary-button"},kl={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:E,emit:w}){const i=m,A=ee(),{oApiConfiguration:v,fetchOptions:h}=Q(),b=be(v,h()),{t:k}=$e(),c=p(!0),B=async x=>{if(x){R(),c.value=!0;const[y,L]=await b.getInfo(x);if(!L){const l=y.data;s.value.id=x,s.value.name=l.name,s.value.description=l.description,s.value.isPublic=!!l.is_public,c.value=!1}}},_="edit-collection-form",s=p({id:0,name:"",description:"",isPublic:!1}),g=async()=>{Me().validate(_,k);const[x,y]=await b.update({id:s.value.id,name:s.value.name,description:s.value.description,isPublic:s.value.isPublic?1:0});y||(X().closeModal(i.modalId),w("updated",s.value),R())},R=()=>{s.value={id:0,name:"",description:"",isPublic:0}};return E({fetch:B}),(x,y)=>(o(),a("div",null,[t("div",{class:"hidden",onClick:y[0]||(y[0]=L=>B(0))}),t("div",il,[t("div",null,[t("span",nl,r(x.$t("collections.edit.form.title")),1),e(c)?n("",!0):(o(),a("form",{key:0,id:_,class:"mt-2",onSubmit:y[5]||(y[5]=Y(L=>g(),["prevent"]))},[t("n-validate",null,[I(t("input",{"onUpdate:modelValue":y[1]||(y[1]=L=>e(s).name=L),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:x.$t("title")},null,8,rl),[[de,e(s).name]])]),I(t("textarea",{"onUpdate:modelValue":y[2]||(y[2]=L=>e(s).description=L),class:"form-input theme-color-secondary",placeholder:x.$t("description"),"data-gramm":"false"},null,8,dl),[[de,e(s).description]]),t("label",{for:e(s).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:y[3]||(y[3]=L=>e(A).i502p00r0?e(s).isPublic=!e(s).isPublic:e(s).isPublic=!0)},[ul,e(s).isPublic?(o(),a("span",ml,pl)):n("",!0),e(s).isPublic?n("",!0):(o(),a("span",vl,wl))]),t("div",gl,[t("span",{class:P(["ml-2",{"leading-6":!e(A).i502p00r0}])},r(x.$t("private")),3),u(ae)])],8,cl),t("div",bl,[t("button",{class:"cancel-button",onClick:y[4]||(y[4]=Y(L=>x.closeModal(m.modalId),["prevent"]))},r(x.$t("cancel")),1),t("button",_l,r(x.$t("save")),1)])],32))])])]))}};const Ue=m=>(ke("data-v-8d6afe3a"),m=m(),ye(),m),yl={class:"mb-2"},$l={key:0},xl=["src"],Ml={key:1},Cl={class:"relative text-center"},Il={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ll={class:"overflow-hidden rounded-md"},El=["src"],Fl={key:2,class:"imgrid"},Al={class:"relative text-center"},Pl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Tl={class:"overflow-hidden rounded-md"},Sl=["src"],jl=Ue(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),Rl=Ue(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),Bl={key:3,class:"imgrid"},zl={class:"relative text-center"},Ol={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Vl={class:"overflow-hidden rounded-md"},Ul=["src"],Dl={key:4,class:"imgrid"},Nl={class:"relative text-center"},Hl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ql={class:"overflow-hidden rounded-md"},Gl=["src"],Wl={key:5,class:"imgrid"},Kl={key:0,class:"relative text-center"},Yl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Jl={class:"overflow-hidden rounded-md"},Ql=["src"],Zl={key:1,class:"relative text-center"},Xl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},ea={class:"overflow-hidden rounded-md"},ta=["src"],oa={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(m){const E=ee(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(i,A)=>(o(),a("div",yl,[!m.collection.collection_has_artworks||m.collection._count.collection_has_artworks===0?(o(),a("div",$l,[t("img",{src:e(Oe),class:"rounded"},null,8,xl)])):n("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),a("div",Ml,[t("div",Cl,[i.applyExplicitFilter(e(E),m.collection.collection_has_artworks[0].artworks.is_explicit)?(o(),a("span",Il,r(i.$t("explicitContent")),1)):n("",!0),t("div",Ll,[m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),a("img",{key:0,src:i.artworkThumb(m.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,m.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:P(["object-cover object-top rounded",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),m.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...v)=>i.imageLoadError&&i.imageLoadError(...v))},null,42,El)):n("",!0)])])])):n("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===2?(o(),a("div",Fl,[(o(!0),a(te,null,oe(m.collection.collection_has_artworks,(v,h)=>(o(),a("div",{key:h,class:P(w[2][h])},[t("div",Al,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",Pl,r(i.$t("explicitContent")),1)):n("",!0),t("div",Tl,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,Sl)])])],2))),128)),jl,Rl])):n("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===3?(o(),a("div",Bl,[(o(!0),a(te,null,oe(m.collection.collection_has_artworks,(v,h)=>(o(),a("div",{key:h,class:P(w[3][h])},[t("div",zl,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",Ol,r(i.$t("explicitContent")),1)):n("",!0),t("div",Vl,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,Ul)])])],2))),128))])):n("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===4?(o(),a("div",Dl,[(o(!0),a(te,null,oe(m.collection.collection_has_artworks,(v,h)=>(o(),a("div",{key:h},[t("div",Nl,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",Hl,r(i.$t("explicitContent")),1)):n("",!0),t("div",ql,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,Gl)])])]))),128))])):n("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks>4?(o(),a("div",Wl,[(o(!0),a(te,null,oe(m.collection.collection_has_artworks,(v,h)=>(o(),a("div",{key:h},[h<3?(o(),a("div",Kl,[i.applyExplicitFilter(e(E),v.artworks.is_explicit)?(o(),a("span",Yl,r(i.$t("explicitContent")),1)):n("",!0),t("div",Jl,[t("img",{class:P(["theme-color",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,Ql)])])):(o(),a("div",Zl,[t("span",Xl,"+"+r(m.collection._count.collection_has_artworks-4),1),t("div",ea,[t("img",{src:i.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:P(["z-0 brightness-50",{"blur-sm brightness-50":i.applyExplicitFilter(e(E),v.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...b)=>i.imageLoadError&&i.imageLoadError(...b))},null,42,ta)])]))]))),128))])):n("",!0)]))}},sa=se(oa,[["__scopeId","data-v-8d6afe3a"]]);const la={class:"mb-2 w-full"},aa={key:0,class:"flex flex-row justify-between"},ia={class:"flex flex-row"},na={key:0},ra={key:1,class:"flex flex-row justify-between"},da={class:"flex flex-row"},ca={class:"flex flex-row gap-2"},ua={class:"flex flex-row gap-2"},ma={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},fa=["onClick"],pa={class:"flex flex-row pb-1 mt-4 font-bold"},va={class:"text-xs font-normal"},ha={__name:"Collection",props:{userId:{type:Number,default:0}},setup(m){const E=m,w=ee();fe(()=>{R()});const{oApiConfiguration:i,fetchOptions:A}=Q(),v=be(i,A());Ie(()=>{B()});const h=p(!0),b=p("artwork"),k=p(0),c=p(!1),B=async()=>{if(w.i502p00r0)c.value=!0;else{const[C,T]=await v.proCanCreateCollection({type:b.value});T?c.value=!1:c.value=C}},_=p([]),s=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),g=p({artwork:0}),R=async()=>{h.value=!0;const[C,T,U]=await v.fetchCollections({userId:E.userId,type:b.value,pagination:{page:s.value.pagination.page,perPage:s.value.pagination.page===0?s.value.pagination.firstLoad:s.value.pagination.perPage}});if(U)z();else{C.length||(s.value.manageMode=!1,L()),C.forEach(S=>{_.value.push(S)}),s.value.pagination.page+=s.value.pagination.firstLoad/s.value.pagination.perPage,s.value.showLoadMore=T;const[re]=await v.countArtworkCollections(E.userId);g.value.artwork=re}h.value=!1},x=async()=>await R(),y=p(!1),L=()=>{y.value=!0,s.value.showLoadMore=!1},l=p(!1),z=()=>{h.value=!1,l.value=!0,s.value.showLoadMore=!1},H=async()=>{h.value=!1,y.value=!1,l.value=!1,s.value.pagination.page=0,_.value=[],await R()},K=C=>{s.value.showManageButton=!0,C&&(s.value.showManageButton=!1)},f=p(!1);let M;const O=async()=>{await B(),ge().splash(M,f,"created-alert"),await H()},d=p(null),D=()=>{d.value.fetch(k.value),X().openModal("collection-edit-form-modal")},q=p(null),ue=C=>{q.value.fetchInfo(),_.value.forEach(T=>{T.id===C.id&&(T.name=C.name,T.description=C.description,T.is_public=C.isPublic)})},ie=p([]),W=C=>{ie.value=C},ne=()=>{q.value.removeItem()},me=async()=>{if(k.value!==0){const[C,T]=await v.deleteCollection(k.value);C&&(await B(),k.value=0,H())}},pe=()=>{k.value=0,s.value.showManageButton=!1,s.value.manageMode=!1};return(C,T)=>(o(),a("div",null,[t("div",la,[e(k)?n("",!0):(o(),a("div",aa,[t("div",ia,[t("div",{class:P(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(b)==="artwork"}]),onClick:T[0]||(T[0]=U=>b.value="artwork")},[V(r(C.$t("artworks.artwork"))+" ",1),t("span",{class:P(["px-1 ml-2 font-normal rounded",e(b)==="artwork"?"theme-color":"button-color text-white"])},r(e(g).artwork),3)],2)]),e(w).loggedIn&&e(w).user.id===m.userId?(o(),a("div",na,[t("div",{class:"flex flex-row icon-button",onClick:T[1]||(T[1]=U=>e(c)?C.openModal("collection-form-modal"):null)},[u($,{name:"i-ion-add-outline"}),e(c)?n("",!0):(o(),N(ae,{key:0,class:"ml-1"}))])])):n("",!0)])),e(k)?(o(),a("div",ra,[t("div",null,[t("div",{class:"ml-0 icon-button",onClick:T[2]||(T[2]=U=>pe())},[u($,{name:"i-ic-baseline-keyboard-arrow-left"})])]),t("div",da,[I(t("div",ca,[t("button",{class:"action-button secondary-button",onClick:T[3]||(T[3]=U=>e(s).manageMode=!e(s).manageMode)},[u($,{name:e(s).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+r(e(s).manageMode?C.$t("quit"):C.$t("manage")),1)]),I(t("button",{class:P(["flex flex-row",e(ie).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:T[4]||(T[4]=U=>e(ie).length>0?C.openModal("item-deletion-confirm-modal"):null)},[u($,{name:"i-akar-icons-trash-bin"}),V(" "+r(C.$t("collections.removeSelected")),1)],2),[[j,e(s).manageMode]])],512),[[j,e(w).loggedIn&&e(w).user.id===m.userId&&e(s).showManageButton]]),I(t("div",ua,[t("button",{class:"icon-button",onClick:T[5]||(T[5]=U=>D())},[u($,{name:"i-ph-gear-six"})]),t("button",{class:"danger-button-color b-button",onClick:T[6]||(T[6]=U=>C.openModal("collection-deletion-confirm-modal"))},[u($,{name:"i-akar-icons-trash-bin"})])],512),[[j,e(w).loggedIn&&e(w).user.id===m.userId&&!e(s).manageMode]])])])):n("",!0),I(t("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},r(C.$t("collections.manageModeActiveMessage")),513),[[j,e(s).manageMode]])]),e(k)?n("",!0):(o(),a("div",ma,[(o(!0),a(te,null,oe(e(_),U=>(o(),a("div",{key:U.id,class:P(["p-3 rounded-md cursor-pointer",U.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:re=>k.value=U.id},[U.type==="artwork"?(o(),N(sa,{key:0,collection:U},null,8,["collection"])):n("",!0),t("div",pa,[U.is_public?n("",!0):(o(),N($,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),t("span",va,r(U.name),1)])],10,fa))),128))])),e(s).showLoadMore&&!e(k)?(o(),a("div",{key:1,class:"mt-4 w-full primary-button",onClick:x},r(C.$t("loadMore")),1)):n("",!0),u(ce,{loading:e(h),empty:e(y),error:e(l),fetch:R},null,8,["loading","empty","error"]),!e(h)&&!e(k)?(o(),N(Qs,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:e(b),class:"modal",onCreated:O},null,8,["category"])):n("",!0),I(u(we,{id:"created-alert",text:C.$t("collections.created")},null,8,["text"]),[[j,e(f)]]),!e(h)&&e(k)?(o(),N(kl,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:d,"modal-id":"collection-edit-form-modal","collection-id":e(k),class:"modal",onUpdated:ue},null,8,["collection-id"])):n("",!0),u(ve,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:me},null,8,["message"]),u(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ne},null,8,["message"]),e(k)&&!e(h)?(o(),N(al,{key:4,id:e(k),ref_key:"collectionDetailRef",ref:q,"manage-mode":e(s).manageMode,type:e(b),onOnCollectionEmpty:K,onFeedManageList:W},null,8,["id","manage-mode","type"])):n("",!0)]))}},wa=se(ha,[["__scopeId","data-v-f334b5ba"]]);const ga={class:"flex flex-row justify-between"},ba={class:"section-title"},_a=["checked","disabled"],ka={class:"ml-2"},ya={key:0},$a={__name:"FollowerList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowerListStatus:{type:Boolean,default:!1}},setup(m){const E=m,w=ee(),{oApiConfiguration:i,fetchOptions:A}=Q(),v=Fe(i,A()),h=p(!1);fe(()=>{h.value=E.userHideFollowerListStatus,E.hide?(k.value=!1,_.value=!0,s.value=Be().tl("followers.followersHidden")):R()});const b=p([]),k=p(!0),c=p({page:0,perPage:12}),B=p(!1),_=p(!1),s=p(""),g=p(!1),R=async()=>{x(),k.value=!0;const[L,l]=await v.getFollowerList({userId:E.userId,pagination:{page:c.value.page,perPage:c.value.perPage}});l?B.value=!0:(L.followers.length||(_.value=!0),L.followers.forEach(z=>{b.value.push(z)}),c.value.page+=1,L.pagination.next_previous.next_page?g.value=!0:g.value=!1),k.value=!1},x=()=>{_.value=!1,B.value=!1},y=async()=>{if(!w.i502p00r0)return null;const[L,l]=await v.toggleFollowerPrivacy();L?h.value=!h.value:console.error("ERROR: can't toggle follower visibility setting.")};return(L,l)=>(o(),a("div",null,[t("div",ga,[t("div",ba,r(L.$t("followers.followers")),1),t("div",null,[e(w).loggedIn&&e(w).i502p00r0&&e(w).user.id===m.userId?(o(),a("label",{key:0,onClick:l[0]||(l[0]=Y(z=>y(),["prevent"])),for:"hide-follower-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer"},[t("input",{id:"hide-follower-toggle",type:"checkbox",class:"sr-only peer",checked:e(h),disabled:!e(w).i502p00r0},null,8,_a),t("div",{class:P(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(w).i502p00r0},e(w).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),t("span",ka,r(L.$t("followers.hideMyFollowers")),1),e(w).i502p00r0?n("",!0):(o(),N(ae,{key:0,class:"ml-1"}))])):n("",!0)])]),!m.hide&&!e(k)&&!e(_)&&!e(B)?(o(),a("div",ya,[u(ze,{class:"mt-4",users:e(b),"column-type":3},null,8,["users"]),I(t("div",{class:"mt-4 primary-button",onClick:l[1]||(l[1]=z=>R())},r(L.$t("loadMore")),513),[[j,e(g)]])])):n("",!0),u(ce,{class:"mt-4",loading:e(k),empty:e(_),"empty-message":e(s),error:e(B),fetch:R,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","error"])]))}},xa=se($a,[["__scopeId","data-v-3bd8471b"]]);const Ma={class:"flex flex-row justify-between"},Ca={class:"section-title"},Ia={class:"inline-flex flex-row gap-4"},La={class:"flex flex-col justify-center align-middle"},Ea={class:"mr-1"},Fa=["checked","disabled"],Aa={class:"ml-2"},Pa={key:0},Ta={__name:"FollowingList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowingListStatus:{type:Boolean,default:!1}},setup(m){const E=m,w=ee(),{oApiConfiguration:i,fetchOptions:A}=Q(),v=Fe(i,A()),h=p(!1);fe(()=>{h.value=E.userHideFollowingListStatus,E.hide?(B.value=!1,g.value=!0,R.value=Be().tl("followings.followingsHidden")):y(!1)});const b=p(!1),k=async z=>{c.value=[],_.value.page=0,b.value=z,await y(z)},c=p([]),B=p(!0),_=p({page:0,perPage:12}),s=p(!1),g=p(!1),R=p(""),x=p(!1),y=async z=>{L(),B.value=!0;const[H,K]=await v.getFollowingList({userId:E.userId,isPrivateOnly:z?1:0,pagination:{page:_.value.page,perPage:_.value.perPage}});K?s.value=!0:(H.followings.length||(g.value=!0),H.followings.forEach(f=>{c.value.push(f)}),_.value.page+=1,H.pagination.next_previous.next_page?x.value=!0:x.value=!1),B.value=!1},L=()=>{g.value=!1,s.value=!1},l=async()=>{if(!w.i502p00r0)return null;const[z,H]=await v.toggleFollowingPrivacy();z?h.value=!h.value:console.error("ERROR: can't toggle following visibility setting.")};return(z,H)=>{const K=Ke("ProBadge");return o(),a("div",null,[t("div",Ma,[t("div",Ca,r(z.$t("followings.followings")),1),t("div",Ia,[t("div",La,[e(w).loggedIn&&e(w).i502p00r0&&e(w).user.id==m.userId?(o(),a("div",{key:0,onClick:H[0]||(H[0]=f=>k(!e(b))),class:P(["flex flex-row cursor-pointer href",{"font-bold":e(b)}])},[I(u($,{name:"i-mdi-eye-check"},null,512),[[j,e(b)]]),t("div",Ea,[I(u($,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[j,!e(b)]]),I(u($,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[j,e(b)]])]),t("span",null,r(z.$t("privateFollow")),1)],2)):n("",!0)]),e(w).loggedIn&&e(w).i502p00r0&&e(w).user.id===m.userId?(o(),a("label",{key:0,onClick:H[1]||(H[1]=Y(f=>l(),["prevent"])),for:"hide-following-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer"},[t("input",{id:"hide-following-toggle",type:"checkbox",class:"inline-block align-middle sr-only peer",checked:e(h),disabled:!e(w).i502p00r0},null,8,Fa),t("div",{class:P(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(w).i502p00r0},e(w).i502p00r0?" after:top-[4px]":" after:top-[6px]"])},null,2),t("span",Aa,r(z.$t("followings.hideMyFollowings")),1),e(w).i502p00r0?n("",!0):(o(),N(K,{key:0,class:"ml-1"}))])):n("",!0)])]),!m.hide&&!e(B)&&!e(g)&&!e(s)?(o(),a("div",Pa,[u(ze,{class:"mt-4",users:e(c),"column-type":3},null,8,["users"]),I(t("div",{class:"mt-4 primary-button",onClick:H[2]||(H[2]=f=>y(!1))},r(z.$t("loadMore")),513),[[j,e(x)]])])):n("",!0),u(ce,{class:"mt-4",loading:e(B),empty:e(g),"empty-message":e(R),error:e(s),fetch:k,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","error"])])}}},Sa=se(Ta,[["__scopeId","data-v-721dae90"]]);const Ae=m=>(ke("data-v-1f5c89aa"),m=m(),ye(),m),ja={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ra={class:"flex-row justify-between hidden-md-flex"},Ba={class:"mr-6 w-1/5"},za={class:"mt-2"},Oa={class:"flex flex-row"},Va={class:"flex flex-row"},Ua={class:"flex flex-row text-center"},Da={class:"w-full"},Na=["checked","disabled"],Ha=Ae(()=>t("span",{class:"ml-2"},"Follow Privately",-1)),qa={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},Ga={class:"flex flex-col w-full"},Wa={class:"flex flex-row w-full"},Ka={class:"w-9/12"},Ya={class:"text-base font-semibold"},Ja={class:"mr-2 italic"},Qa={class:"flex flex-row mt-2"},Za={key:0,class:"mr-1"},Xa={class:"flex flex-row"},ei={class:"mr-1"},ti={key:0,class:"flex flex-row"},oi={key:1,class:"flex flex-row"},si={class:"float-right w-3/12 text-right"},li={class:"flex flex-row shadow-md primary-button"},ai={class:"leading-4"},ii={key:0,class:"flex flex-row gap-3 mt-4 w-full"},ni=["href"],ri=["href"],di=["href"],ci=["href"],ui=["href"],mi=["href"],fi=["href"],pi=["href"],vi=["href"],hi=["href"],wi={key:0,class:"mt-4"},gi=["id","innerHTML"],bi=["id"],_i={class:"flex flex-col text-center md:hidden"},ki={class:"mt-4 text-base font-semibold"},yi={class:"flex flex-row justify-center mt-4"},$i={key:0,class:"flex flex-row mr-1"},xi={class:"mr-1"},Mi={key:0,class:"flex flex-row"},Ci={key:1,class:"flex flex-row"},Ii={key:0,class:"mx-2 mt-4 text-center"},Li=["id","innerHTML"],Ei=["id"],Fi={key:1,class:"flex flex-row justify-center mt-4"},Ai=["href"],Pi=["href"],Ti=["href"],Si=["href"],ji=["href"],Ri={class:"flex flex-row justify-center w-full md:hidden"},Bi={class:"flex flex-row"},zi={class:"flex flex-row"},Oi={class:"flex flex-row text-center"},Vi={class:"w-full"},Ui=["checked","disabled"],Di=Ae(()=>t("span",{class:"ml-2"},"Follow Privately",-1)),Ni={class:"mt-2"},Hi={class:"flex flex-row justify-center md:hidden"},qi={class:"flex flex-row justify-between mt-2 md:mt-6"},Gi={class:"hidden flex-col lg:w-1/5 md:flex"},Wi={class:"profile-navigation_wrapper"},Ki={class:"hidden-lg-flex"},Yi=Ae(()=>t("span",{class:"hidden-lg-flex"},null,-1)),Ji={class:"profile-navigation_wrapper"},Qi={class:"hidden-lg-flex"},Zi={class:"hidden-lg-flex"},Xi={class:"profile-navigation_wrapper"},en={class:"hidden-lg-flex"},tn={class:"hidden-lg-flex"},on={class:"w-full md:ml-6"},sn={key:0},ln={class:"flex flex-row w-full"},an={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},nn={key:1},rn={key:2},dn={key:3},cn={key:4},un={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},emits:["setMeta"],setup(m,{emit:E}){const w=m,i=ee(),{oApiConfiguration:A,fetchOptions:v}=Q(),h=Fe(A,v()),b=he(A,v()),k=be(A,v()),c=Ye(),B=Te(),{o:_}=c.query,s=p(!0),g=_!=null?p(_):p("dashboard"),R=p("artwork"),x=Je(()=>w.userLogon&&i.loggedIn?i.user.id:w.id),y=p({manageMode:!1,showManageMode:!0});fe(async()=>{await H()});const L=S=>{g.value=S,y.value.manageMode=!1,_!=null&&B.push("/profile")},l=p({}),z=p({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),H=async()=>{s.value=!0;try{const[S]=await h.getInfo(x.value);if(l.value=S,i.loggedIn&&i.user.id!==x.value){const[Ce]=await h.isFollowing(x.value);W.value={isFollowing:Ce.is_following,isPrivate:Ce.is_private,followingSince:Ce.following_since}}const[F]=await h.countFeeds(x.value);z.value.feed=F;const[Z]=await h.countArtworks(x.value);z.value.artwork=Z;const[le]=await h.countFollowers(x.value);z.value.followers=le;const[G]=await h.countFollowings(x.value);z.value.followings=G;const[De]=await b.countAlbums(x.value);z.value.album=De;const[Ne]=await k.countCollections(x.value);z.value.collection=Ne,E("setMeta",{title:`(${l.value.username}) ${l.value.name}`})}catch{}s.value=!1},K=p(null),f=p([]),M=S=>{f.value=S},O=()=>{y.value.showManageMode=!1},d=p(null),D=()=>{X().openModal("album-selection-modal")},q=p(!1);let ue;const ie=()=>{ge().splash(ue,q,"item-added-to-album-alert")},W=p({isFollowing:!1,isPrivate:!1,followingSince:""}),ne=p(null),me=p("i-ri-user-follow-fill"),pe=(S,F)=>{me.value=S,ne.value=F},C=async(S,F)=>{let[Z,le]=[null,!1];F?[Z,le]=await h.followPrivately(S):[Z,le]=await h.follow(S),le||(W.value={isFollowing:!0,isPrivate:F!=null?F:!1,followingSince:""})},T=async S=>{const[F,Z]=await h.unfollow(S);Z||(W.value={isFollowing:!1,isPrivate:!1,followingSince:""})},U=p(!0),re=(S,F,Z,le)=>{U.value=!1,Re().readMore(S,F,Z,le)};return(S,F)=>{const Z=Ge,le=Se;return o(),N(Ze,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:J(()=>[t("div",null,[u(Z,{preload:"",loading:"lazy",src:S.avatarCoverUrl(e(l).cover_bucket,e(l).cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:S.defaultCoverImage},null,8,["src","onError"]),e(i).loggedIn&&e(i).user.id===e(l).id?(o(),N(le,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:J(()=>[u($,{name:"i-ph-gear-six"})]),_:1})):n("",!0)]),t("div",ja,[t("div",Ra,[t("div",Ba,[u(Z,{preload:"",loading:"lazy",class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",src:S.avatarCoverUrl(e(l).avatar_bucket,e(l).avatar_filename),onError:S.defaultCoverImage},null,8,["src","onError"]),t("div",za,[t("div",{class:P(["flex-row justify-center border hidden-md-flex",e(l).id==e(i).user.id?"rounded-md":"rounded-t-md"])},[t("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:F[0]||(F[0]=G=>g.value="followerList")},[t("b",null,r(e(z).followers),1),V("\xA0 "),t("i",null,r(S.$t("followers.followers").toLowerCase()),1)]),t("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:F[1]||(F[1]=G=>g.value="followingList")},[t("b",null,r(e(z).followings),1),V("\xA0 "),t("i",null,r(S.$t("followings.followings").toLowerCase()),1)])],2),e(i).loggedIn&&e(l).id!==e(i).user.id?(o(),a("div",{key:0,class:P(["primary-button rounded-t-none hover:rounded-t-none",{"hover:danger-button":e(W).isFollowing}]),onClick:F[2]||(F[2]=G=>e(W).isFollowing?T(e(l).id):C(e(l).id)),onMouseover:F[3]||(F[3]=G=>pe("i-ri-user-unfollow-fill",S.$t("unfollow"))),onMouseleave:F[4]||(F[4]=G=>pe("i-ri-user-follow-fill",S.$t("followings.followings")))},[I(t("div",Oa,[u($,{name:"i-ri-user-add-fill","text-size":"text-base"}),V(" "+r(S.$t("follow")),1)],512),[[j,!e(W).isFollowing]]),I(t("div",Va,[u($,{name:e(me),"text-size":"text-base"},null,8,["name"]),V(" "+r(e(ne)===null?S.$t("followings.followings"):e(ne)),1)],512),[[j,e(W).isFollowing]])],34)):n("",!0),I(t("div",Ua,[t("div",Da,[t("label",{onClick:F[5]||(F[5]=G=>e(i).i502p00r0?e(W).isPrivate?C(e(l).id,!1):C(e(l).id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[t("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:e(W).isPrivate,disabled:!e(i).i502p00r0},null,8,Na),t("div",{class:P(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(i).i502p00r0},e(i).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),Ha,e(i).i502p00r0?n("",!0):(o(),N(ae,{key:0,class:"ml-1"}))])])],512),[[j,e(W).isFollowing]])])]),t("div",qa,[t("div",Ga,[t("div",Wa,[t("div",Ka,[t("div",null,[t("span",Ya,r(e(l).name),1),V("\xA0 "),t("span",Ja,r(e(l).username),1),e(l).is_pro?(o(),N(ae,{key:0})):n("",!0)]),t("div",Qa,[e(l).pen_name&&e(l).pen_name!==""?(o(),a("div",Za,[t("span",Xa,[u($,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),V(" "+r(e(l).pen_name),1)])])):n("",!0),t("div",ei,[e(l).gender==="m"?(o(),a("span",ti,[u($,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" he/his ")])):n("",!0),e(l).gender==="f"?(o(),a("span",oi,[u($,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" she/her ")])):n("",!0)])])]),t("div",si,[e(i).loggedIn&&e(i).user.id===e(l).id?(o(),N(le,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:J(()=>[t("button",li,[u($,{name:"i-ph-gear-six",class:"mr-2"}),t("span",ai,r(S.$t("profile.setting")),1)])]),_:1})):n("",!0)])]),e(l).user_socials?(o(),a("div",ii,[e(l).user_socials.facebook?(o(),a("a",{key:0,href:"https://facebook.com/"+e(l).user_socials.facebook,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-facebook","text-size":"text-xl"})],8,ni)):n("",!0),e(l).user_socials.instagram?(o(),a("a",{key:1,href:"https://instagram.com/"+e(l).user_socials.instagram+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-instagram","text-size":"text-xl"})],8,ri)):n("",!0),e(l).user_socials.twitter?(o(),a("a",{key:2,href:"https://twitter.com/"+e(l).user_socials.twitter,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-twitter","text-size":"text-xl"})],8,di)):n("",!0),e(l).user_socials.youtube?(o(),a("a",{key:3,href:"https://youtube.com/channel/"+e(l).user_socials.youtube,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-youtube","text-size":"text-xl"})],8,ci)):n("",!0),e(l).user_socials.patreon?(o(),a("a",{key:4,href:"https://patreon.com/"+e(l).user_socials.patreon+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-gg-patreon","text-size":"text-xl"})],8,ui)):n("",!0),e(l).user_socials.twitch?(o(),a("a",{key:5,href:"https://twitch.com/"+e(l).user_socials.twitch+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ph-twitch-logo-fill","text-size":"text-xl"})],8,mi)):n("",!0),e(l).user_socials.discord?(o(),a("a",{key:6,href:"https://discord.com/"+e(l).user_socials.discord+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ic-twotone-discord","text-size":"text-xl"})],8,fi)):n("",!0),e(l).user_socials.picarto?(o(),a("a",{key:7,href:"https://picarto.tv/"+e(l).user_socials.picarto+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-cib-picarto-tv","text-size":"text-xl"})],8,pi)):n("",!0),e(l).user_socials.gumroad?(o(),a("a",{key:8,href:"https://"+e(l).user_socials.gumroad+".gumroad.com",target:"blank",class:"cursor-pointer"},[u($,{name:"i-cib-gumroad","text-size":"text-xl"})],8,vi)):n("",!0),e(l).user_socials.personal_website?(o(),a("a",{key:9,href:"https://"+e(l).user_socials.personal_website+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ph-link-simple-break-bold","text-size":"text-xl"})],8,hi)):n("",!0)])):n("",!0),t("div",null,[e(l).bio?(o(),a("p",wi,[t("div",{id:"user-bio-"+e(l).id,innerHTML:e(l).bio.length>300?`${e(l).bio.slice(0,300)}...`:e(l).bio},null,8,gi),e(l).bio.length>300?(o(),a("a",{key:0,id:"user-bio-read-more-"+e(l).id,class:"href",onClick:F[6]||(F[6]=Y(G=>re(e(l).bio,e(l).id,"user-bio-read-more-","user-bio-"),["prevent"]))},r(S.$t("readMore")),9,bi)):n("",!0)])):n("",!0)])])])]),t("div",_i,[u(Z,{preload:"",loading:"lazy",class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",src:S.avatarCoverUrl(e(l).avatar_bucket,e(l).avatar_filename),onError:S.imageLoadError},null,8,["src","onError"]),t("div",ki,r(e(l).name),1),t("div",null,r(e(l).username),1),t("div",yi,[e(l).pen_name?(o(),a("span",$i,[u($,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),V(" "+r(e(l).pen_name&&e(l).pen_name!==""?e(l).pen_name:"-"),1)])):n("",!0),t("div",xi,[e(l).gender==="m"?(o(),a("span",Mi,[u($,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" he/him/his ")])):n("",!0),e(l).gender==="f"?(o(),a("span",Ci,[u($,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" she/her ")])):n("",!0)])]),e(l).bio?(o(),a("div",Ii,[t("div",{id:"mobile__user-bio-"+e(l).id,innerHTML:e(l).bio.length>150?`${e(l).bio.slice(0,300)}...`:e(l).bio},null,8,Li),e(l).bio.length>150?(o(),a("a",{key:0,id:"mobile__user-bio-read-more-"+e(l).id,class:"href",onClick:F[7]||(F[7]=Y(G=>re(e(l).bio,e(l).id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},r(S.$t("readMore")),9,Ei)):n("",!0)])):n("",!0),e(l).user_socials?(o(),a("div",Fi,[e(l).user_socials.facebook?(o(),a("a",{key:0,href:"https://facebook.com/"+e(l).user_socials.facebook,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Ai)):n("",!0),e(l).user_socials.instagram?(o(),a("a",{key:1,href:"https://instagram.com/"+e(l).user_socials.instagram+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Pi)):n("",!0),e(l).user_socials.twitter?(o(),a("a",{key:2,href:"https://twitter.com/"+e(l).user_socials.twitter,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Ti)):n("",!0),e(l).user_socials.youtube?(o(),a("a",{key:3,href:"https://youtube.com/channel/"+e(l).user_socials.youtube,target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Si)):n("",!0),e(l).user_socials.patreon?(o(),a("a",{key:4,href:"https://patreon.com/"+e(l).user_socials.patreon+"/",target:"blank",class:"cursor-pointer"},[u($,{name:"i-ion-heart",class:"text-xl"})],8,ji)):n("",!0)])):n("",!0),t("div",Ri,[t("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:F[8]||(F[8]=G=>g.value="followerList")},[t("b",null,r(e(z).followers),1),V("\xA0 "),t("i",null,r(S.$t("followers.followers")),1)]),t("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:F[9]||(F[9]=G=>g.value="followingList")},[t("b",null,r(e(z).followings),1),V("\xA0 "),t("i",null,r(S.$t("followings.followings")),1)])]),e(i).loggedIn&&e(l).id!==e(i).user.id?(o(),a("div",{key:2,class:P(["mt-2 w-auto",e(W).isFollowing?"danger-button":"primary-button"]),onClick:F[10]||(F[10]=G=>e(W).isFollowing?T(e(l).id):C(e(l).id))},[I(t("div",Bi,[u($,{name:"i-ri-user-add-fill","text-size":"text-base"}),V(" "+r(S.$t("follow")),1)],512),[[j,!e(W).isFollowing]]),I(t("div",zi,[u($,{name:e(me),"text-size":"text-base"},null,8,["name"]),V(" "+r(e(ne)===null?S.$t("followings.followings"):e(ne)),1)],512),[[j,e(W).isFollowing]])],2)):n("",!0),I(t("div",Oi,[t("div",Vi,[t("label",{onClick:F[11]||(F[11]=G=>e(i).i502p00r0?e(W).isPrivate?C(e(l).id,!1):C(e(l).id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[t("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:e(W).isPrivate,disabled:!e(i).i502p00r0},null,8,Ui),t("div",{class:P(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(i).i502p00r0},e(i).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),Di,e(i).i502p00r0?n("",!0):(o(),N(ae,{key:0,class:"ml-1"}))])])],512),[[j,e(W).isFollowing]])]),t("div",Ni,[t("div",Hi,[t("div",{class:P(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(g)=="dashboard"}]),onClick:F[12]||(F[12]=G=>L("dashboard"))},[t("div",null,[I(u($,{name:"i-ion-home-outline",class:"text-white"},null,512),[[j,e(g)=="dashboard"]]),I(u($,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[j,e(g)!="dashboard"]])]),t("span",null,r(S.$t("dashboard")),1)],2),t("div",{class:P(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(g)=="albums"}]),onClick:F[13]||(F[13]=G=>L("albums"))},[t("div",null,[I(u($,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[j,e(g)=="albums"]]),I(u($,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[j,e(g)!="albums"]])]),t("span",null,r(S.$t("albums.album")),1)],2),t("div",{class:P(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(g)=="collections"}]),onClick:F[14]||(F[14]=G=>L("collections"))},[t("div",null,[I(u($,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[j,e(g)=="collections"]]),I(u($,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[j,e(g)!="collections"]])]),t("span",null,r(S.$t("collections.collection")),1)],2)]),t("div",qi,[t("div",Gi,[t("div",{class:P(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(g)==="dashboard"}]),onClick:F[15]||(F[15]=G=>L("dashboard"))},[t("div",Wi,[I(u($,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[j,e(g)==="dashboard"]]),I(u($,{name:"i-humbleicons-dashboard"},null,512),[[j,e(g)!=="dashboard"]]),t("label",Ki,r(S.$t("dashboard")),1)]),Yi],2),t("div",{class:P(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(g)==="albums"}]),onClick:F[16]||(F[16]=G=>L("albums"))},[t("div",Ji,[I(u($,{name:"i-bx-photo-album",class:"text-white"},null,512),[[j,e(g)==="albums"]]),I(u($,{name:"i-bx-photo-album"},null,512),[[j,e(g)!=="albums"]]),t("label",Qi,r(S.$t("albums.album")),1)]),t("span",Zi,r(e(z).album),1)],2),t("div",{class:P(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(g)==="collections"}]),onClick:F[17]||(F[17]=G=>L("collections"))},[t("div",Xi,[I(u($,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[j,e(g)==="collections"]]),I(u($,{name:"i-majesticons-bookmark-line"},null,512),[[j,e(g)!=="collections"]]),t("label",en,r(S.$t("collections.collection")),1)]),t("span",tn,r(e(z).collection),1)],2)]),t("div",on,[e(g)==="dashboard"?(o(),a("div",sn,[t("div",ln,[t("div",{class:P(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(R)==="feed"}]),onClick:F[18]||(F[18]=G=>R.value="feed")},[V(r(S.$t("feed"))+" ",1),t("span",{class:P(["px-1 ml-2 rounded",e(R)==="feed"?"theme-color":"button-color text-white"])},r(e(z).feed),3)],2),t("div",{class:P(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(R)==="artwork"}]),onClick:F[19]||(F[19]=G=>R.value="artwork")},[V(r(S.$t("artworks.artwork"))+" ",1),t("span",{class:P(["px-1 ml-2 rounded",e(R)==="artwork"?"theme-color":"button-color text-white"])},r(e(z).artwork),3)],2)]),I(t("div",an,[t("button",{class:"w-full action-button secondary-button md:w-auto",onClick:F[20]||(F[20]=G=>e(y).manageMode=!e(y).manageMode)},[u($,{name:e(y).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+r(e(y).manageMode?S.$t("quit"):S.$t("manage")),1)]),I(t("button",{class:"w-full primary-button md:w-auto",onClick:F[21]||(F[21]=G=>D())},[u($,{name:"i-ion-add-outline"}),V(" "+r(S.$t("albums.addToAlbum")),1)],512),[[j,e(y).manageMode]])],512),[[j,!e(s)&&e(i).loggedIn&&e(i).user.id===e(l).id&&e(R)==="artwork"&&e(y).showManageMode]]),u(ce,{loading:e(s)},null,8,["loading"]),I(t("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},r(S.$t("profile.manageModeActiveMessage")),513),[[j,e(y).manageMode]]),t("div",null,[e(R)==="feed"?(o(),N(Gt,{key:0,ref:"feedListRef","user-id":e(l).id},null,8,["user-id"])):n("",!0),!e(s)&&e(R)==="artwork"?(o(),N(Jt,{key:1,ref_key:"artworkListRef",ref:K,class:P([{"-mt-2":e(i).user.id!==e(l).id}]),"user-id":e(l).id,"manage-mode":e(y).manageMode,onFeedSelectedItems:M,onOnEmpty:O},null,8,["class","user-id","manage-mode"])):n("",!0)])])):n("",!0),e(g)==="albums"?(o(),a("div",nn,[e(s)?n("",!0):(o(),N(js,{key:0,"user-id":e(l).id},null,8,["user-id"]))])):n("",!0),e(g)==="collections"?(o(),a("div",rn,[e(s)?n("",!0):(o(),N(wa,{key:0,"user-id":e(l).id},null,8,["user-id"]))])):n("",!0),e(g)==="followerList"?(o(),a("div",dn,[e(s)?n("",!0):(o(),N(xa,{key:0,"user-id":e(l).id,hide:e(i).loggedIn?e(l).id!==e(i).user.id:e(l).is_pro&&!!e(l).user_settings.hide_follower_list,"user-hide-follower-list-status":!!e(l).user_settings.hide_follower_list},null,8,["user-id","hide","user-hide-follower-list-status"]))])):n("",!0),e(g)==="followingList"?(o(),a("div",cn,[e(s)?n("",!0):(o(),N(Sa,{key:0,"user-id":e(l).id,hide:e(i).loggedIn?e(l).id!==e(i).user.id:e(l).is_pro&&!!e(l).user_settings.hide_following_list,"user-hide-following-list-status":!!e(l).user_settings.hide_following_list},null,8,["user-id","hide","user-hide-following-list-status"]))])):n("",!0)])])])]),e(s)?n("",!0):(o(),N(Qe,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:d,class:"modal","work-ids":e(f),onAddedToAlbum:ie},null,8,["work-ids"])),I(u(we,{id:"item-added-to-album-alert",text:S.$t("albums.itemAdded")},null,8,["text"]),[[j,e(q)]])]),_:1})}}},xn=se(un,[["__scopeId","data-v-1f5c89aa"]]);export{xn as P};
