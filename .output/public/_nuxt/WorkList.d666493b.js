import{a8 as D,a9 as H,r as _,u as l,D as j,aa as U,m as V,a7 as G,a5 as K,E as S,k as q,l as J,o as v,p as h,P as X,Q as Y,K as E,G as Q,q as x,t as L,x as w,e as I,L as C,c as Z,w as ee,y as te}from"./entry.15cb71bb.js";import{_ as ne}from"./_plugin-vue_export-helper.a1a6add7.js";var W;const O=typeof window<"u",ae=e=>typeof e=="string",se=()=>{};O&&((W=window==null?void 0:window.navigator)==null?void 0:W.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function B(e){return typeof e=="function"?e():l(e)}function ie(e){return e}function P(e){return D()?(H(e),!0):!1}function oe(e){return typeof e=="function"?j(e):_(e)}function le(e,a=!0){U()?V(e):a?e():G(e)}function re(e,a,t={}){const{immediate:i=!0}=t,o=_(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function d(){o.value=!1,c()}function g(...u){c(),o.value=!0,r=setTimeout(()=>{o.value=!1,r=null,e(...u)},B(a))}return i&&(o.value=!0,O&&g()),P(d),{isPending:o,start:g,stop:d}}function ue(e){var a;const t=B(e);return(a=t==null?void 0:t.$el)!=null?a:t}const $=O?window:void 0;O&&window.document;const ce=O?window.navigator:void 0;O&&window.location;function de(...e){let a,t,i,o;if(ae(e[0])||Array.isArray(e[0])?([t,i,o]=e,a=$):[a,t,i,o]=e,!a)return se;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const r=[],c=()=>{r.forEach(p=>p()),r.length=0},d=(p,n,f)=>(p.addEventListener(n,f,o),()=>p.removeEventListener(n,f,o)),g=S(()=>ue(a),p=>{c(),p&&r.push(...t.flatMap(n=>i.map(f=>d(p,n,f))))},{immediate:!0,flush:"post"}),u=()=>{g(),c()};return P(u),u}function z(e,a=!1){const t=_(),i=()=>t.value=Boolean(e());return i(),le(i,a),t}function fe(e,a={}){const{window:t=$}=a,i=z(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let o;const r=_(!1),c=()=>{!o||("removeEventListener"in o?o.removeEventListener("change",d):o.removeListener(d))},d=()=>{!i.value||(c(),o=t.matchMedia(oe(e).value),r.value=o.matches,"addEventListener"in o?o.addEventListener("change",d):o.addListener(d))};return K(d),P(()=>c()),r}function Fe(e={}){const{navigator:a=ce,read:t=!1,source:i,copiedDuring:o=1500,legacy:r=!1}=e,c=["copy","cut"],d=z(()=>a&&"clipboard"in a),g=j(()=>d.value||r),u=_(""),p=_(!1),n=re(()=>p.value=!1,o);function f(){d.value?a.clipboard.readText().then(m=>{u.value=m}):u.value=b()}if(g.value&&t)for(const m of c)de(m,f);async function M(m=B(i)){g.value&&m!=null&&(d.value?await a.clipboard.writeText(m):s(m),u.value=m,p.value=!0,n.start())}function s(m){const y=document.createElement("textarea");y.value=m!=null?m:"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function b(){var m,y,N;return(N=(y=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:y.toString())!=null?N:""}return{isSupported:g,text:u,copied:p,copy:M}}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k="__vueuse_ssr_handlers__";T[k]=T[k]||{};T[k];var A;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(A||(A={}));var pe=Object.defineProperty,F=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,R=(e,a,t)=>a in e?pe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,he=(e,a)=>{for(var t in a||(a={}))me.call(a,t)&&R(e,t,a[t]);if(F)for(var t of F(a))ve.call(a,t)&&R(e,t,a[t]);return e};const ge={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};he({linear:ie},ge);const ye=["href","onClick"],_e={class:"overflow-hidden relative text-center rounded-md"},be={class:"mini-icon"},xe={key:0,class:"regular"},we={key:1,class:"original-character"},Ee={key:2,class:"redraw"},Oe={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},Le=["href"],Ie=["src"],Ce={class:"overflow-hidden relative text-center rounded-md"},Me={class:"mini-icon"},Se={key:0,class:"regular"},Te={key:1,class:"original-character"},ke={key:2,class:"redraw"},Be={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-lg"},Pe=["href"],Ne=["src"],Qe={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0},hideRedrawIcon:{type:Boolean,default:!1},directOpen:{type:Boolean,default:!1}},emits:"feedManageList",setup(e,{emit:a}){const t=e,i=q();S(()=>t.currentWorkId,n=>{c.value=n});const o=J(),r=_(!1),c=_(t.currentWorkId),d=fe("(min-width: 1024px)"),g=n=>{t.directOpen?o.push({path:"/a/"+n}):d.value&&!t.isMiniList||t.isMiniList?(c.value=n,t.view(n)):o.replace({path:"/a/"+n})},u=_([]),p=n=>{if(u.value.includes(n)){const f=u.value.indexOf(n);u.value.splice(f,1)}else u.value.push(n);a("feedManageList",u.value)};return S(()=>t.manageMode,n=>{n===!1&&(u.value=[])}),(n,f)=>{const M=te;return v(),h("section",{class:E(e.sectionClass)},[(v(!0),h(X,null,Y(e.works,s=>(v(),h("span",{key:s.id,class:E(["work-thumbnail theme-color-bg rounded-lg",s._count.artwork_assets>1&&l(c)!=s.id?"work-multiple":"",{"border-4 border-yellow-400":l(u).includes(s.id)||l(c)==s.id}])},[!n.isMobile()&&!e.isHref&&!e.isMiniList?(v(),h("a",{key:0,href:"/a/"+s.id,onClick:Q(b=>e.manageMode?p(s.id):e.view(s.id),["prevent"]),class:"w-full h-full theme-color-bg"},[x("div",_e,[x("div",be,[s._count.artwork_assets>1&&!n.applyExplicitFilter(l(i),s.is_explicit)?(v(),h("p",xe,L(s._count.artwork_assets),1)):w("",!0),s.is_original_character?(v(),h("p",we,[I(C,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):w("",!0),s.redraw_of&&!e.hideRedrawIcon?(v(),h("p",Ee,[I(C,{name:"i-typcn-brush",class:"text-white"})])):w("",!0)]),n.applyExplicitFilter(l(i),s.is_explicit)?(v(),h("span",Oe,L(n.$t("explicitContent")),1)):w("",!0),x("a",{href:"/a/"+s.id,class:E([{"animate-wigglefast":e.manageMode}])},[x("img",{preload:"",loading:"lazy",src:(!l(i).loggedIn||l(i).loggedIn&&l(i).user.user_settings&&!l(i).user.user_settings.show_explicit)&&s.is_explicit?"https://via.placeholder.com/150":n.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",l(r)),class:E(["w-full h-full unselectable",{"object-cover":!l(r)},l(r)?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(l(i),s.is_explicit)}]),onError:f[0]||(f[0]=(...b)=>n.imageLoadError&&n.imageLoadError(...b))},null,42,Ie)],10,Le)])],8,ye)):(v(),Z(M,{key:1,onClick:b=>e.manageMode?p(s.id):g(s.id)},{default:ee(()=>[x("div",Ce,[x("div",Me,[s._count.artwork_assets>1&&!n.applyExplicitFilter(l(i),s.is_explicit)?(v(),h("p",Se,L(s._count.artwork_assets),1)):w("",!0),s.is_original_character?(v(),h("p",Te,[I(C,{name:"i-clarity-cursor-hand-click-line",class:"text-white"})])):w("",!0),s.redraw_of&&!e.hideRedrawIcon?(v(),h("p",ke,[I(C,{name:"i-typcn-brush",class:"text-white"})])):w("",!0)]),n.applyExplicitFilter(l(i),s.is_explicit)?(v(),h("span",Be,L(n.$t("explicitContent")),1)):w("",!0),x("a",{href:"/a/"+s.id,onClick:f[2]||(f[2]=Q(b=>n.void,["prevent"])),class:E([{"animate-wigglefast":e.manageMode}])},[x("img",{preload:"",loading:"lazy",src:(!l(i).loggedIn||l(i).loggedIn&&l(i).user.user_settings&&!l(i).user.user_settings.show_explicit)&&s.is_explicit?"https://via.placeholder.com/150":n.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",l(r)),class:E(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(l(i),s.is_explicit)}]),onError:f[1]||(f[1]=(...b)=>n.imageLoadError&&n.imageLoadError(...b))},null,42,Ne)],10,Pe)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Re=ne(Qe,[["__scopeId","data-v-8c62e294"]]);export{Re as W,Fe as u};
