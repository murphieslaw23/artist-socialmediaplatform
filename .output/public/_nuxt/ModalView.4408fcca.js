import{B as Je,i as Y,j as X,R as Q,a as Ke,o as g,q as b,b as i,f as k,w as G,s as D,t as v,c as se,x as A,e as P,v as L,N as _e,I as Z,U as ce,V as ve,y as $e,k as q,l as Ce,a1 as Ye,r as I,Q as O,u as o,W as Se,M as Re,O as ae,H as je,S as Be,T as Fe,A as Xe,p as Ie,a2 as Ze,a3 as et,a4 as ct,P as We,a5 as dt,m as ut,L as mt,a6 as Ne,a7 as pt}from"./entry.ea93fdf2.js";import{e as Pe,a as De,c as He,S as Ue,b as tt,u as xe,J as st,d as Oe,_ as at}from"./ProBadge.e3dc9c3a.js";import{u as ot}from"./useReport.d0d73bb6.js";import{P as me}from"./index.af539870.js";import{_ as be}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ht,A as Qe}from"./MiniArtworkPreview.a5a5c06c.js";import{_ as Ve}from"./LoadingEmptyErrorMessage.118d4a88.js";import{U as Le}from"./user-counters-api.8980a299.js";import{u as wt}from"./useSetting.33e0bf81.js";import{u as ft}from"./useFeed.53b119c5.js";import{W as rt}from"./WorkList.4a26cf02.js";const de=function(l){return{addWorkToAlbum:async(s,e={})=>{const a="/albums/add-work",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},countUserAlbumsByType:async(s,e={})=>{const a="/albums/count",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},createAlbum:async(s,e={})=>{const a="/albums/create",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteAlbum:async(s,e={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling deleteAlbum.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},p={},d=new URLSearchParams(r.search);for(const w in p)d.set(w,p[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumById:async(s,e={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling getAlbumById.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},u={},p={},d=new URLSearchParams(r.search);for(const w in p)d.set(w,p[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getAlbumItems:async(s,e,a,r={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling getAlbumItems.");if(e==null)throw new Q("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(a==null)throw new Q("page","Required parameter page was null or undefined when calling getAlbumItems.");const t="/albums/list/{id}".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const p={method:"GET",...u,...r},d={},f={};e!==void 0&&(f.per_page=e),a!==void 0&&(f.page=a);const w=new URLSearchParams(n.search);for(const y in f)w.set(y,f[y]);for(const y in r.params)w.set(y,r.params[y]);n.search=new URLSearchParams(w).toString();let h=u&&u.headers?u.headers:{};return p.headers={...d,...h,...r.headers},{url:n.pathname+n.search+n.hash,options:p}},getCurrentAlbumSaveInfo:async(s,e,a={})=>{if(s==null)throw new Q("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(e==null)throw new Q("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const r="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"GET",...n,...a},p={},d={},f=new URLSearchParams(t.search);for(const h in d)f.set(h,d[h]);for(const h in a.params)f.set(h,a.params[h]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return u.headers={...p,...w,...a.headers},{url:t.pathname+t.search+t.hash,options:u}},listUserAlbums:async(s,e,a,r,t={})=>{if(s==null)throw new Q("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(e==null)throw new Q("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(a==null)throw new Q("page","Required parameter page was null or undefined when calling listUserAlbums.");if(r==null)throw new Q("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),u=new URL(n,"https://example.com");let p;l&&(p=l.baseOptions);const d={method:"GET",...p,...t},f={},w={};e!==void 0&&(w.per_page=e),a!==void 0&&(w.page=a),r!==void 0&&(w.type=r);const h=new URLSearchParams(u.search);for(const c in w)h.set(c,w[c]);for(const c in t.params)h.set(c,t.params[c]);u.search=new URLSearchParams(h).toString();let y=p&&p.headers?p.headers:{};return d.headers={...f,...y,...t.headers},{url:u.pathname+u.search+u.hash,options:d}},proLimitIsCanCreateAlbum:async(s,e={})=>{const a="/albums/create/permission",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeWorkFromAlbum:async(s,e={})=>{const a="/albums/work/remove",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},updateAlbum:async(s,e={})=>{const a="/albums",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},ue=function(l){return{async addWorkToAlbum(s,e){const a=await de(l).addWorkToAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async countUserAlbumsByType(s,e){const a=await de(l).countUserAlbumsByType(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async createAlbum(s,e){const a=await de(l).createAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async deleteAlbum(s,e){const a=await de(l).deleteAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getAlbumById(s,e){const a=await de(l).getAlbumById(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getAlbumItems(s,e,a,r){const t=await de(l).getAlbumItems(s,e,a,r);return(n=Y,u=X)=>{const p={...t.options,url:u+t.url};return n.request(p)}},async getCurrentAlbumSaveInfo(s,e,a){const r=await de(l).getCurrentAlbumSaveInfo(s,e,a);return(t=Y,n=X)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async listUserAlbums(s,e,a,r,t){const n=await de(l).listUserAlbums(s,e,a,r,t);return(u=Y,p=X)=>{const d={...n.options,url:p+n.url};return u.request(d)}},async proLimitIsCanCreateAlbum(s,e){const a=await de(l).proLimitIsCanCreateAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async removeWorkFromAlbum(s,e){const a=await de(l).removeWorkFromAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async updateAlbum(s,e){const a=await de(l).updateAlbum(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}}}};class we extends Je{async addWorkToAlbum(s,e){return ue(this.configuration).addWorkToAlbum(s,e).then(a=>a(this.axios,this.basePath))}async countUserAlbumsByType(s,e){return ue(this.configuration).countUserAlbumsByType(s,e).then(a=>a(this.axios,this.basePath))}async createAlbum(s,e){return ue(this.configuration).createAlbum(s,e).then(a=>a(this.axios,this.basePath))}async deleteAlbum(s,e){return ue(this.configuration).deleteAlbum(s,e).then(a=>a(this.axios,this.basePath))}async getAlbumById(s,e){return ue(this.configuration).getAlbumById(s,e).then(a=>a(this.axios,this.basePath))}async getAlbumItems(s,e,a,r){return ue(this.configuration).getAlbumItems(s,e,a,r).then(t=>t(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(s,e,a){return ue(this.configuration).getCurrentAlbumSaveInfo(s,e,a).then(r=>r(this.axios,this.basePath))}async listUserAlbums(s,e,a,r,t){return ue(this.configuration).listUserAlbums(s,e,a,r,t).then(n=>n(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(s,e){return ue(this.configuration).proLimitIsCanCreateAlbum(s,e).then(a=>a(this.axios,this.basePath))}async removeWorkFromAlbum(s,e){return ue(this.configuration).removeWorkFromAlbum(s,e).then(a=>a(this.axios,this.basePath))}async updateAlbum(s,e){return ue(this.configuration).updateAlbum(s,e).then(a=>a(this.axios,this.basePath))}}const le=function(l){return{addItemForLater:async(s,e,a={})=>{if(s==null)throw new Q("type","Required parameter type was null or undefined when calling addItemForLater.");const r="/collections/later",t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"POST",...n,...a},p={},d={};s!==void 0&&(d.type=s),p["Content-Type"]="application/json";const f=new URLSearchParams(t.search);for(const y in d)f.set(y,d[y]);for(const y in a.params)f.set(y,a.params[y]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};u.headers={...p,...w,...a.headers};const h=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=h?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:u}},addItemToCollection:async(s,e,a,r={})=>{if(s==null)throw new Q("type","Required parameter type was null or undefined when calling addItemToCollection.");if(e==null)throw new Q("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const p={method:"POST",...u,...r},d={},f={};s!==void 0&&(f.type=s),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in f)w.set(c,f[c]);for(const c in r.params)w.set(c,r.params[c]);n.search=new URLSearchParams(w).toString();let h=u&&u.headers?u.headers:{};p.headers={...d,...h,...r.headers};const y=typeof a!="string"||p.headers["Content-Type"]==="application/json";return p.data=y?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:p}},countUserCollectionsByType:async(s,e={})=>{const a="/collections/count",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},create:async(s,e={})=>{const a="/collections/create",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},deleteCollection:async(s,e={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling deleteCollection.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"DELETE",...t,...e},u={},p={},d=new URLSearchParams(r.search);for(const w in p)d.set(w,p[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},detail:async(s,e={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling detail.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"GET",...t,...e},u={},p={},d=new URLSearchParams(r.search);for(const w in p)d.set(w,p[w]);for(const w in e.params)d.set(w,e.params[w]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};return n.headers={...u,...f,...e.headers},{url:r.pathname+r.search+r.hash,options:n}},getCurrentSaveInfo:async(s,e,a={})=>{if(s==null)throw new Q("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(e==null)throw new Q("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const r="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(e))),t=new URL(r,"https://example.com");let n;l&&(n=l.baseOptions);const u={method:"GET",...n,...a},p={},d={},f=new URLSearchParams(t.search);for(const h in d)f.set(h,d[h]);for(const h in a.params)f.set(h,a.params[h]);t.search=new URLSearchParams(f).toString();let w=n&&n.headers?n.headers:{};return u.headers={...p,...w,...a.headers},{url:t.pathname+t.search+t.hash,options:u}},listCollectionItems:async(s,e,a,r={})=>{if(s==null)throw new Q("id","Required parameter id was null or undefined when calling listCollectionItems.");if(e==null)throw new Q("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(a==null)throw new Q("page","Required parameter page was null or undefined when calling listCollectionItems.");const t="/collections/{id}/items".replace("{id}",encodeURIComponent(String(s))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const p={method:"GET",...u,...r},d={},f={};e!==void 0&&(f.per_page=e),a!==void 0&&(f.page=a);const w=new URLSearchParams(n.search);for(const y in f)w.set(y,f[y]);for(const y in r.params)w.set(y,r.params[y]);n.search=new URLSearchParams(w).toString();let h=u&&u.headers?u.headers:{};return p.headers={...d,...h,...r.headers},{url:n.pathname+n.search+n.hash,options:p}},listUserCollections:async(s,e,a,r,t,n={})=>{if(s==null)throw new Q("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(e==null)throw new Q("type","Required parameter type was null or undefined when calling listUserCollections.");if(a==null)throw new Q("page","Required parameter page was null or undefined when calling listUserCollections.");if(r==null)throw new Q("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),p=new URL(u,"https://example.com");let d;l&&(d=l.baseOptions);const f={method:"GET",...d,...n},w={},h={};e!==void 0&&(h.type=e),t!==void 0&&(h.name=t),a!==void 0&&(h.page=a),r!==void 0&&(h.per_page=r);const y=new URLSearchParams(p.search);for(const m in h)y.set(m,h[m]);for(const m in n.params)y.set(m,n.params[m]);p.search=new URLSearchParams(y).toString();let c=d&&d.headers?d.headers:{};return f.headers={...w,...c,...n.headers},{url:p.pathname+p.search+p.hash,options:f}},proLimitIsCanCreateCollection:async(s,e={})=>{const a="/collections/create/permission",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"POST",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}},removeItemFromCollection:async(s,e,a,r={})=>{if(s==null)throw new Q("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(e==null)throw new Q("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const t="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(t,"https://example.com");let u;l&&(u=l.baseOptions);const p={method:"DELETE",...u,...r},d={},f={};s!==void 0&&(f.type=s),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in f)w.set(c,f[c]);for(const c in r.params)w.set(c,r.params[c]);n.search=new URLSearchParams(w).toString();let h=u&&u.headers?u.headers:{};p.headers={...d,...h,...r.headers};const y=typeof a!="string"||p.headers["Content-Type"]==="application/json";return p.data=y?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:p}},updateCollection:async(s,e={})=>{const a="/collections",r=new URL(a,"https://example.com");let t;l&&(t=l.baseOptions);const n={method:"PATCH",...t,...e},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const h in p)d.set(h,p[h]);for(const h in e.params)d.set(h,e.params[h]);r.search=new URLSearchParams(d).toString();let f=t&&t.headers?t.headers:{};n.headers={...u,...f,...e.headers};const w=typeof s!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:n}}}},ie=function(l){return{async addItemForLater(s,e,a){const r=await le(l).addItemForLater(s,e,a);return(t=Y,n=X)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async addItemToCollection(s,e,a,r){const t=await le(l).addItemToCollection(s,e,a,r);return(n=Y,u=X)=>{const p={...t.options,url:u+t.url};return n.request(p)}},async countUserCollectionsByType(s,e){const a=await le(l).countUserCollectionsByType(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async create(s,e){const a=await le(l).create(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async deleteCollection(s,e){const a=await le(l).deleteCollection(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async detail(s,e){const a=await le(l).detail(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async getCurrentSaveInfo(s,e,a){const r=await le(l).getCurrentSaveInfo(s,e,a);return(t=Y,n=X)=>{const u={...r.options,url:n+r.url};return t.request(u)}},async listCollectionItems(s,e,a,r){const t=await le(l).listCollectionItems(s,e,a,r);return(n=Y,u=X)=>{const p={...t.options,url:u+t.url};return n.request(p)}},async listUserCollections(s,e,a,r,t,n){const u=await le(l).listUserCollections(s,e,a,r,t,n);return(p=Y,d=X)=>{const f={...u.options,url:d+u.url};return p.request(f)}},async proLimitIsCanCreateCollection(s,e){const a=await le(l).proLimitIsCanCreateCollection(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}},async removeItemFromCollection(s,e,a,r){const t=await le(l).removeItemFromCollection(s,e,a,r);return(n=Y,u=X)=>{const p={...t.options,url:u+t.url};return n.request(p)}},async updateCollection(s,e){const a=await le(l).updateCollection(s,e);return(r=Y,t=X)=>{const n={...a.options,url:t+a.url};return r.request(n)}}}};class fe extends Je{async addItemForLater(s,e,a){return ie(this.configuration).addItemForLater(s,e,a).then(r=>r(this.axios,this.basePath))}async addItemToCollection(s,e,a,r){return ie(this.configuration).addItemToCollection(s,e,a,r).then(t=>t(this.axios,this.basePath))}async countUserCollectionsByType(s,e){return ie(this.configuration).countUserCollectionsByType(s,e).then(a=>a(this.axios,this.basePath))}async create(s,e){return ie(this.configuration).create(s,e).then(a=>a(this.axios,this.basePath))}async deleteCollection(s,e){return ie(this.configuration).deleteCollection(s,e).then(a=>a(this.axios,this.basePath))}async detail(s,e){return ie(this.configuration).detail(s,e).then(a=>a(this.axios,this.basePath))}async getCurrentSaveInfo(s,e,a){return ie(this.configuration).getCurrentSaveInfo(s,e,a).then(r=>r(this.axios,this.basePath))}async listCollectionItems(s,e,a,r){return ie(this.configuration).listCollectionItems(s,e,a,r).then(t=>t(this.axios,this.basePath))}async listUserCollections(s,e,a,r,t,n){return ie(this.configuration).listUserCollections(s,e,a,r,t,n).then(u=>u(this.axios,this.basePath))}async proLimitIsCanCreateCollection(s,e){return ie(this.configuration).proLimitIsCanCreateCollection(s,e).then(a=>a(this.axios,this.basePath))}async removeItemFromCollection(s,e,a,r){return ie(this.configuration).removeItemFromCollection(s,e,a,r).then(t=>t(this.axios,this.basePath))}async updateCollection(s,e){return ie(this.configuration).updateCollection(s,e).then(a=>a(this.axios,this.basePath))}}function ze(){return{animate:e=>{const a=document.getElementById(e);a==null||a.classList.add("animate-bounce"),setInterval(()=>{a==null||a.classList.remove("animate-bounce")},2500)}}}function vt(){return{readMore:(s,e,a,r)=>{const t=document.getElementById(`${r}${e}`);t&&(t.innerHTML=s);const n=document.getElementById(`${a}${e}`);n&&n.classList.add("hidden")}}}const gt={class:"flex-col info"},yt={key:0,class:"user-info"},_t={class:"flex flex-row gap-2 w-full"},kt=["src"],bt={class:"w-full name"},$t={class:"flex flex-row justify-between"},Ct={class:"flex flex-col"},xt={class:"title"},Rt={key:1,class:"mb-4"},It=["id","innerHTML"],At=["id"],St={class:"mb-4"},Pt={key:2,class:"tags"},Ut={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(l){Ke();const s=(e,a,r,t)=>{vt().readMore(e,a,r,t)};return(e,a)=>{const r=$e;return g(),b("section",gt,[l.artworkDetail.users?(g(),b("div",yt,[i("div",_t,[k(r,{to:"/u/"+l.artworkDetail.users.username},{default:G(()=>[i("img",{class:"avatar",src:e.avatarCoverUrl(l.artworkDetail.users.avatar_bucket,l.artworkDetail.users.avatar_filename),onError:a[0]||(a[0]=(...t)=>e.defaultCoverImage&&e.defaultCoverImage(...t))},null,40,kt)]),_:1},8,["to"]),i("div",bt,[i("div",$t,[i("div",Ct,[k(r,{to:"/u/"+l.artworkDetail.users.username,class:"flex flex-row gap-2 fullname"},{default:G(()=>[D(v(l.artworkDetail.users.name)+" ",1),l.artworkDetail.users.is_pro?(g(),se(Pe,{key:0})):A("",!0)]),_:1},8,["to"]),k(r,{to:"/u/"+l.artworkDetail.users.username,class:"username"},{default:G(()=>[D(" @"+v(l.artworkDetail.users.username),1)]),_:1},8,["to"])]),P(i("div",{class:"p-1 h-7 font-bold text-white bg-red-500 rounded-md border-2 border-red-500 cursor-pointer hover:bg-red-600 hover:border-red-600",style:{"font-size":"10px"},onClick:a[1]||(a[1]=t=>e.closeModal(`${l.section}-modal`))}," ESC ",512),[[L,l.isModal]])])])])])):A("",!0),i("div",xt,v(l.artworkDetail.title),1),l.artworkDetail.description?(g(),b("div",Rt,[i("span",{id:"mview-"+l.isDesktop+"-description-"+l.artworkDetail.id,innerHTML:l.artworkDetail.description.length>300?`${l.artworkDetail.description.slice(0,300)}...`:l.artworkDetail.description},null,8,It),l.artworkDetail.description.length>300?(g(),b("a",{key:0,id:"mview-"+l.isDesktop+"-read-more-"+l.artworkDetail.id,class:"href",onClick:a[2]||(a[2]=_e(t=>s(l.artworkDetail.description,l.artworkDetail.id,"mview-"+l.isDesktop+"-read-more-","mview-"+l.isDesktop+"-description-"),["prevent"]))},v(e.$t("readMore")),9,At)):A("",!0)])):A("",!0),i("div",St,[i("span",{class:Z(["italic text-color-secondary",{"font-bold text-red-400":l.previewMode}])},v(l.previewMode?e.$t("willBePublishedIn"):e.$t("publishedIn")),3),D(" "+v(e.formatDate(l.artworkDetail.scheduled_post)),1)]),l.artworkDetail.artwork_has_tags&&l.artworkDetail.artwork_has_tags.length?(g(),b("div",Pt,[(g(!0),b(ce,null,ve(l.artworkDetail.artwork_has_tags,t=>(g(),b("span",{key:t.artwork_tags.id,class:"tag"},[k(r,{to:`/artworks/browse?tags=${t.artwork_tags.tag.replaceAll(" ","+")}`,onClick:a[3]||(a[3]=n=>e.closeModal(`${l.section}-modal`))},{default:G(()=>[D(v(t.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):A("",!0)])}}},Ge=be(Ut,[["__scopeId","data-v-64aacfdc"]]);function Lt(l,s){return{proCanCreateCollection:async c=>{try{const{data:m}=await new fe(l).proLimitIsCanCreateCollection({type:c.type},s);return[m.data.is_can_create,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},createCollection:async(c,m)=>{try{const{data:$}=await new fe(l).create({name:m.title,description:m.description,is_public:m.isPublic?1:0,type:c},s);return[$.success,$.data,null]}catch($){return[null,null,q().consumeReadableStreamError($)]}},getInfo:async c=>{try{return[(await new fe(l).detail(c,s)).data,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},countCollections:async c=>{try{const{data:m}=await new Le(l).countUserCollections(c,s);return[m.data.total,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},countArtworkCollections:async c=>{try{const{data:m}=await new Le(l).countUserArtworkCollections(c,s);return[m.data.total,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},fetchCollections:async c=>{try{const{data:m}=await new fe(l).listUserCollections(c.userId,c.type,c.pagination.page,c.pagination.perPage,c.name,s),$=m.data.collections,U=m.data.pagination;let T=!0;return U.current_page===U.total_page&&(T=!1),[$,T,null]}catch(m){return[null,!1,q().consumeReadableStreamError(m)]}},listCollectionItems:async c=>{try{const{data:m}=await new fe(l).listCollectionItems(c.collectionId,c.pagination.perPage,c.pagination.page,s),$=m.data.pagination;let U=!0;return $.current_page===$.total_page&&(U=!1),[m.data.items,U,null]}catch(m){return[null,!1,q().consumeReadableStreamError(m)]}},getCurrentSaveInfo:async(c,m)=>{try{const{data:$}=await new fe(l).getCurrentSaveInfo(c,m,s);return[$.data,null]}catch($){return[null,q().consumeReadableStreamError($)]}},addItem:async c=>{try{return await new fe(l).addItemToCollection(c.type,c.collectionId,{id:c.workId},s),[!0,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},removeItem:async c=>{try{const{data:m}=await new fe(l).removeItemFromCollection(c.type,c.collectionId,{id:c.workId},s);return[m.success,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},update:async c=>{try{const{data:m}=await new fe(l).updateCollection({id:c.id,name:c.name,description:c.description,is_public:c.isPublic},s);return[m.success,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},deleteCollection:async c=>{try{const{data:m}=await new fe(l).collectionsIdDelete(c,s);return[m.success,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}}}}const Ot={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Vt={class:"flex flex-row justify-between w-full"},Mt={class:"title"},Tt={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Et={class:"list"},qt={class:"overflow-y-scroll pr-2 max-h-60"},jt=["onClick"],Bt={class:"flex flex-row justify-between"},Ft={class:"flex flex-row"},Dt={key:0,class:"flex flex-row mt-2 w-full"},Ht={class:"leading-6"},Wt={class:"flex float-right flex-row gap-2 mt-4 w-full md:w-auto"},Nt=["placeholder"],Qt={class:"flex flex-row justify-between mt-2"},zt={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=q(),u=Lt(t,n());Ye(()=>{d()});const p=I(!1),d=async()=>{if(r.i502p00r0)p.value=!0;else{const[M,V]=await u.proCanCreateCollection({type:me.ARTWORK});V?p.value=!1:p.value=M}},f=I({pagination:{page:0,perPage:10},loading:!1}),w=I(!1),h=I(!1),y=I([]),c=async(M=!1)=>{await d(),M||(y.value=[],f.value.loading=!0);const[V,N,K]=await u.fetchCollections({userId:r.user.id,type:me.ARTWORK,pagination:{page:f.value.pagination.page,perPage:f.value.pagination.perPage}});f.value.loading=!1,K&&(w.value=!0),K||(V&&V.length>0?(N?(f.value.pagination.page+=1,U.value=!0):U.value=!1,V.forEach(ke=>{y.value.push(ke)})):h.value=!0)},m=I([]),$=async()=>{w.value=!1,m.value=[],E.value=[],C.value=[],await setTimeout(async()=>{const[M,V]=await u.getCurrentSaveInfo(me.ARTWORK,a.workId);if(V)w.value=!0;else for(const N of M)E.value.push(N.collection_id),m.value.push(N.collection_id)},300)},U=I(!0),T=async()=>{await c({isLoadMore:!0}),await $()},E=I([]),C=I([]),pe=M=>{if(E.value.includes(M)){C.value.push(M);const V=E.value.indexOf(M);E.value.splice(V,1)}else if(E.value.push(M),C.value.includes(M)){const V=C.value.indexOf(M);C.value.splice(V,1)}},ee=async()=>{try{for(const V of E.value)await u.addItem({collectionId:V,type:me.ARTWORK,workId:a.workId});if(C.value.length)for(const V of C.value)await u.removeItem({collectionId:V,type:me.ARTWORK,workId:a.workId});let M=!1;E.value.length===0&&m.value.length===C.value.length&&(M=!0),await $(),ae().closeModal(a.modalId),e("save",M)}catch{}},W=I(""),J=I(!1),oe=async()=>{J.value=!1;const[M,V,N]=await u.createCollection(me.ARTWORK,{title:W.value,isPublic:1,description:""});M?(y.value=[],z(),f.value.pagination.page=0,await c(),await $(),await d(),W.value="",B()):J.value=!0},re=I(!1);let ge;const B=()=>{re.value=!0,He().splash(ge,re,"collection-created-alert")},z=()=>{E.value=[]},j=()=>{ae().closeModal(a.modalId),z()};return s({fetchCollection:c,fetchCurrentSaved:$}),(M,V)=>(g(),b("div",null,[i("div",Ot,[i("div",null,[i("div",Vt,[i("span",Mt,v(M.$t("collections.addItem.form.title")),1),i("div",Tt,[i("div",{class:"modal-close",onClick:V[0]||(V[0]=N=>j())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),P(i("div",Et,[i("div",qt,[(g(!0),b(ce,null,ve(o(y),(N,K)=>(g(),b("div",{key:N.id,class:Z(["item",{"mt-2":K!==0},o(E).includes(N.id)?"button-color text-white":"theme-color-secondary",N.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:ke=>N.is_can_add_more?pe(N.id):null},[i("div",Bt,[i("span",null,v(N.name),1),i("div",Ft,[i("span",{class:Z(["ml-2 font-bold",o(E).includes(N.id)?"text-white":"text-colored"])},v(N._count.collection_has_artworks),3)])]),N.is_can_add_more?A("",!0):(g(),b("div",Dt,[k(Pe,{class:"mr-1"}),i("p",Ht,v(M.$t("collections.maxItemLimitReached")),1)]))],10,jt))),128))]),P(i("div",{class:"mt-2 text-center href",onClick:V[1]||(V[1]=N=>T())},v(M.$t("loadMore").toLowerCase()),513),[[L,o(U)]]),i("div",Wt,[i("button",{class:"cancel-button w-full",onClick:V[2]||(V[2]=N=>j())},v(M.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:V[3]||(V[3]=N=>ee())},v(M.$t("save")),1)])],512),[[L,!o(f).loading&&!o(w)&&!o(h)]]),P(i("div",null,[P(i("input",{"onUpdate:modelValue":V[4]||(V[4]=N=>Se(W)?W.value=N:null),type:"text",class:Z(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":o(J)}]),placeholder:M.$t("collections.createNewCollection")},null,10,Nt),[[Re,o(W)]]),i("div",Qt,[i("div",null,[P(i("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},v(M.$t("collections.failedToCreateCollection")),513),[[L,o(J)]])]),P(i("button",{class:"flex flex-row primary-button",onClick:V[5]||(V[5]=N=>o(p)?oe():null)},[i("span",{class:Z({"leading-6":!o(p)})},v(M.$t("create")),3),o(p)?A("",!0):(g(),se(Pe,{key:0,class:"ml-1"}))],512),[[L,o(W)&&o(W).length>0]])])],512),[[L,!o(f).loading&&!o(w)&&!o(h)]])]),k(Ve,{loading:o(f).loading,empty:o(h),error:o(w),fetch:c},null,8,["loading","empty","error"])]),P(k(De,{id:"collection-created-alert",text:M.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(re)]])]))}},Gt=be(zt,[["__scopeId","data-v-4426a6f9"]]);function Jt(l,s){return{proCanCreateAlbum:async c=>{try{const{data:m}=await new we(l).proLimitIsCanCreateAlbum({type:c.type},s);return[m.data.is_can_create,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},createAlbum:async(c,m)=>{try{const{data:$}=await new we(l).createAlbum({name:m.title,description:m.description,is_public:m.isPublic?1:0,type:c},s);return[$.success,$.data,null]}catch($){return[null,null,q().consumeReadableStreamError($)]}},getInfo:async c=>{try{return[(await new we(l).getAlbumById(c,s)).data,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},countAlbums:async c=>{try{const{data:m}=await new Le(l).countUserAlbums(c,s);return[m.data.total,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},countArtworkAlbums:async c=>{try{const{data:m}=await new Le(l).countUserArtworkAlbums(c,s);return[m.data.total,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},fetchAlbums:async(c,m,$,U)=>{try{const{data:T}=await new we(l).listUserAlbums(c,$,U,m,s),E=T.data.pagination;let C=!0;return E.current_page===E.total_page&&(C=!1),[T.data.albums,C,null]}catch(T){return[null,!1,q().consumeReadableStreamError(T)]}},listAlbumItems:async c=>{try{const{data:m}=await new we(l).getAlbumItems(c.albumId,c.pagination.perPage,c.pagination.page,s),$=m.data.pagination;let U=!0;return $.current_page===$.total_page&&(U=!1),[m.data.works,U,null]}catch(m){return[null,!1,q().consumeReadableStreamError(m)]}},getCurrentSaveInfo:async(c,m)=>{try{const{data:$}=await new we(l).getCurrentAlbumSaveInfo(c,m,s);return[$.data,null]}catch($){return[null,q().consumeReadableStreamError($)]}},addItems:async c=>{try{for(const m of c.albumIds)await new we(l).addWorkToAlbum({album_id:m,type:c.type,work_ids:c.workIds},s);return[!0,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},removeItems:async(c,m)=>{try{const{data:$}=await new we(l).removeWorkFromAlbum({album_id:c,work_ids:m},s);return[$.success,null]}catch($){return[null,q().consumeReadableStreamError($)]}},update:async c=>{try{const{data:m}=await new we(l).updateAlbum({id:c.id,name:c.name,description:c.description,is_public:c.isPublic?1:0},s);return[m.success,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}},deleteAlbum:async c=>{try{const{data:m}=await new we(l).deleteAlbum(c,s);return[m.success,null]}catch(m){return[null,q().consumeReadableStreamError(m)]}}}}const Kt={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Yt={class:"flex flex-row justify-between w-full"},Xt={class:"title"},Zt={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},es={class:"list"},ts={class:"overflow-y-scroll pr-2 max-h-60"},ss=["onClick"],as={class:"flex flex-row justify-between"},os={key:0,class:"flex flex-row mt-2 w-full"},rs={class:"leading-6"},ns={class:"flex float-right flex-row gap-2 mt-4"},ls={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=q(),u=Jt(t,n()),p=wt(t,n());Ye(async()=>{await f()});const d=I(999),f=async()=>{const[B,z]=await p.getSetting("max_free_album_items");d.value=B},w=async()=>{h.value=[],y.value.pagination.page=0,T(),await U()},h=I([]),y=I({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),c=I(!0),m=I(!1),$=I(!1),U=async()=>{T(),c.value=!0;const[B,z,j]=await u.fetchAlbums(r.user.id,me.ARTWORK,y.value.pagination.page===0?y.value.pagination.firstLoad:y.value.pagination.perPage,y.value.pagination.page);j&&(m.value=!0),B.length?(z?(y.value.pagination.page+=1,y.value.showLoadMore=!0):y.value.showLoadMore=!1,B.forEach(M=>{h.value.push(M)})):$.value=!0,c.value=!1},T=()=>{$.value=!1,m.value=!1},E=I([]),C=async()=>{E.value=[],ee.value=[],W.value=[];const[B,z]=await u.getCurrentSaveInfo(me.ARTWORK,a.workId);for(const j of B)ee.value.push(j.album_id),E.value.push(j.album_id)},pe=async()=>{await U(),await C()},ee=I([]),W=I([]),J=B=>{if(ee.value.includes(B)){W.value.push(B);const z=ee.value.indexOf(B);ee.value.splice(z,1)}else if(ee.value.push(B),W.value.includes(B)){const z=W.value.indexOf(B);W.value.splice(z,1)}},oe=async()=>{const[B,z]=await u.addItems({albumIds:ee.value,type:me.ARTWORK,workIds:a.workIds.length?a.workIds:[a.workId]});if(!a.workIds.length&&W.value.length)for(const j of W.value)await u.removeItems(j,[a.workId]);if(B){let j=!1;a.workIds.length||ee.value.length===0&&E.value.length===W.value.length&&(j=!0),re(),ae().closeModal(a.modalId),e("addedToAlbum",a.workIds.length?!0:j)}},re=()=>{ee.value=[]},ge=()=>{ae().closeModal(a.modalId),re()};return s({fetchTop:w,fetchCurrentSaved:C}),(B,z)=>(g(),b("div",null,[i("div",Kt,[i("div",null,[i("div",Yt,[i("span",Xt,v(B.$t("albums.selectAlbums")),1),i("div",Zt,[i("div",{class:"modal-close",onClick:z[0]||(z[0]=j=>ge())},[k(O,{name:"i-ion-close-outline",class:"text-2xl"})])])]),i("div",es,[P(i("div",null,[i("div",ts,[(g(!0),b(ce,null,ve(o(h),(j,M)=>(g(),b("div",{key:j.id,class:Z(["item",{"mt-2":M!==0},o(ee).includes(j.id)?"button-color text-white":"theme-color-secondary",j.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:V=>j.is_can_add_more?J(j.id):null},[i("div",as,[i("span",null,v(j.name),1),i("span",{class:Z(["ml-2 font-bold",o(ee).includes(j.id)?"text-white":"text-colored"])},v(j._count.album_has_artworks),3)]),!o(r).i502p00r0&&!j.is_can_add_more||!o(r).i502p00r0&&j._count.album_has_artworks>o(d)?(g(),b("div",os,[k(Pe,{class:"mr-1"}),i("p",rs,v(B.$t("albums.maxItemLimitReached")),1)])):A("",!0)],10,ss))),128))]),P(i("div",{class:"mt-2 text-center href",onClick:z[1]||(z[1]=j=>pe())},v(B.$t("loadMore").toLowerCase()),513),[[L,o(y).showLoadMore]]),i("div",ns,[i("button",{class:"cancel-button w-full",onClick:z[2]||(z[2]=j=>ge())},v(B.$t("cancel")),1),i("button",{class:"primary-button w-full",onClick:z[3]||(z[3]=j=>oe())},v(B.$t("save")),1)])],512),[[L,!o(c)&&!o($)&&!o(m)]])])]),k(Ve,{loading:o(c),empty:o($),"empty-message":B.$t("albums.empty"),error:o(m),fetch:w},null,8,["loading","empty","empty-message","error"])])]))}},is=be(ls,[["__scopeId","data-v-3ebf7caa"]]);const cs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ds=["innerHTML"],us={class:"flex flex-row justify-end gap-2"},ms={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(l,{emit:s}){const e=l,a=r=>{r&&s("onAccept",!0),ae().closeModal(e.modalId)};return(r,t)=>(g(),b("div",null,[i("div",cs,[i("p",{class:"mb-4",innerHTML:l.message},null,8,ds),i("div",us,[i("button",{class:"cancel-button",onClick:t[0]||(t[0]=n=>a(!1))},v(r.$t("no")),1),i("button",{class:"danger-button",onClick:t[1]||(t[1]=n=>a(!0))},v(r.$t("yes")),1)])])]))}};const nt=l=>(Be("data-v-eb1275b1"),l=l(),Fe(),l),ps={class:"opt-modal modal-layer"},hs={class:"opt-modal__title"},ws={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},fs={class:"opt-modal__content"},vs={class:"report"},gs={class:"report__reason_opt"},ys={class:"report__title"},_s=["onClick"],ks={class:"report__title"},bs=["placeholder"],$s={class:"report__buttons"},Cs={class:"text-justify"},xs={class:"mt-2"},Rs=nt(()=>i("i",null,"Your report ID:",-1)),Is=nt(()=>i("i",null,"Report date:",-1)),As={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=q(),r=ot(e,a()),t=I(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","terrorism","aiGeneratedArt","somethingElse"]),n=I({selectedReasons:[],reasonDescription:"",enableSubmit:je(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),u=y=>{if(!n.value.selectedReasons.includes(y))n.value.selectedReasons.push(y);else{const c=n.value.selectedReasons.indexOf(y);n.value.selectedReasons.splice(c,1)}},p=I(!1),d=I({}),f=async()=>{p.value=!1,d.value={};const[y,c,m]=await r.createNewReport({type:s.type,postId:s.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});m&&!y||(p.value=!0,d.value=c)},w=()=>{ae().closeModal("report-modal"),h()},h=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",p.value=!1};return(y,c)=>{const m=$e;return g(),b("div",null,[i("div",ps,[i("div",hs,[i("h1",null,v(o(p)?y.$t("reports.reportSubmitted"):l.reportStatus.id?y.$t("reports.alreadyReported"):y.$t("reports.title")),1),i("div",ws,[i("div",{class:"modal-close",onClick:c[0]||(c[0]=$=>w())},[k(O,{name:"i-ion-close",class:"text-2xl"})])])]),i("div",fs,[P(i("div",vs,[i("div",gs,[i("div",ys,v(y.$t("reports.selectReasons")),1),(g(!0),b(ce,null,ve(o(t),$=>(g(),b("span",{key:$,class:Z([o(n).selectedReasons.includes($)?"button-color":"theme-color-secondary"]),onClick:U=>u($)},[i("div",null,[P(k(O,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[L,!o(n).selectedReasons.includes($)]]),P(k(O,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[L,o(n).selectedReasons.includes($)]])]),i("div",{class:Z(["reason",[o(n).selectedReasons.includes($)?"text-white":"text-color-secondary"]])},v(y.$t("reports.reasons."+$)),3)],10,_s))),128))]),i("div",null,[i("div",ks,v(y.$t("reports.describeReason")),1),P(i("textarea",{"onUpdate:modelValue":c[1]||(c[1]=$=>o(n).reasonDescription=$),class:"report__reason_description",placeholder:y.$t("reports.describeText"),cols:"5",rows:"5"},null,8,bs),[[Re,o(n).reasonDescription]])]),i("div",$s,[i("button",{class:"cancel-button",onClick:c[2]||(c[2]=$=>w())},v(y.$t("cancel")),1),i("button",{class:Z(o(n).enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=$=>o(n).enableSubmit?f():null)},v(y.$t("report")),3)])],512),[[L,!o(p)&&!l.reportStatus.id]]),P(i("div",null,[i("div",Cs,v(y.$t("reports.reportSubmittedMessage")),1),i("div",xs,[i("div",null,[Rs,D("  "),i("b",null,"#"+v(o(d).id),1)]),i("div",null,[Is,D("  "),i("b",null,v(y.formatDate(o(d).created_at)),1)])])],512),[[L,o(p)]]),P(i("div",null,[D(v(y.$t("reports.alreadyReportedDescription"))+" ",1),k(m,{class:"underline href",to:"/reports"},{default:G(()=>[D(v(y.$t("reports.reportStatus")),1)]),_:1})],512),[[L,l.reportStatus.id]])])])])}}},Ss=be(As,[["__scopeId","data-v-eb1275b1"]]);const Ps={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Us={class:"title"},Ls={class:"mt-2"},Os={class:"alert-success"},Vs={class:"italic"},Ms={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},Ts=["placeholder"],Es={class:"flex flex-row gap-2 justify-end"},qs={class:"flex flex-row justify-between mt-6"},js=["value"],Bs={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=q(),r=ft(e,a()),t=Xe(),n=()=>{p.value=""},u=()=>{d.value=!1,f.value=!1,w.value=!1,ae().closeModal("share-to-feed-modal"),n()},p=I(""),d=I(!1),f=I(!1),w=I(!1),h=async()=>{d.value=!1,f.value=!0,w.value=!1;const[$,U,T]=await r.shareArtworkToFeed({text:p.value,workId:s.postId});$?(w.value=!0,setTimeout(()=>{u()},500)):d.value=!0,f.value=!1},y=I(!1);let c;const m=$=>{const U=I($),{copy:T}=tt({source:U});T(),He().splash(c,y,"copy-alert")};return($,U)=>(g(),b("div",null,[i("div",Ps,[i("span",Us,v($.$t("feeds.share.artwork.title")),1),i("div",Ls,[P(i("div",Os,[i("span",Vs,v($.$t("feeds.share.artwork.success")),1)],512),[[L,o(w)]]),P(i("div",Ms,[k(Ue,{class:"mr-2"}),D(" "+v($.$t("feeds.form.postingYourUpdate")),1)],512),[[L,o(f)]]),P(i("div",{class:"alert-danger"},v($.$t("feeds.form.postFailure")),513),[[L,o(d)]]),P(i("textarea",{"onUpdate:modelValue":U[0]||(U[0]=T=>Se(p)?p.value=T:null),class:"input form-input textarea",placeholder:$.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,Ts),[[Re,o(p)]]),i("div",Es,[i("button",{class:"cancel-button",onClick:U[1]||(U[1]=T=>u())},v($.$t("cancel")),1),i("button",{class:Z(["primary-button"]),onClick:U[2]||(U[2]=T=>h())},v($.$t("share")),1)]),i("div",qs,[i("input",{readonly:"",value:o(t).public.appUrl+"/a/"+s.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,js),i("button",{class:"icon-button",onClick:U[3]||(U[3]=T=>m(o(t).public.appUrl+"/a/"+l.postId))},[k(O,{name:"i-icon-park-outline-copy"})])])])]),P(k(De,{id:"copy-alert",text:$.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(y)]])]))}},Fs=be(Bs,[["__scopeId","data-v-f7848028"]]),Ds={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Hs={class:"flex flex-row justify-between w-full"},Ws={class:"title"},Ns={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Qs={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},zs=["to"],Gs={class:"mx-auto text-center"},Js={class:"mx-auto text-center"},Ks={class:"mx-auto text-center"},Ys={__name:"UserLiked",props:{modalId:{type:String,default:"user-liked-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=q(),r=xe(e,a()),t=I({pagination:{page:0,perPage:10}}),n=I([]),u=async({loaded:d})=>{const[f,w]=await r.viewWhoLikedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let h=0;h<f.length;h++){const y=f[h];n.value.push(y)}}d(f.length,t.value.pagination.perPage)},p=()=>{ae().closeModal(s.modalId)};return(d,f)=>{const w=Oe,h=$e,y=at;return g(),b("div",null,[i("div",Ds,[i("div",Hs,[i("div",Ws,v(d.$t("artworks.usersLiked")),1),i("div",Ns,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=c=>p())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",Qs,[(g(!0),b(ce,null,ve(o(n),c=>(g(),se(h,{key:c.id,to:"/u/"+c.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:G(()=>[k(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(c.users.avatar_bucket,c.users.avatar_filename),onError:d.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+c.users.username,class:"font-bold leading-10"},v(c.users.name),9,zs)]),_:2},1032,["to"]))),128)),k(y,null,{default:G(()=>[k(o(st),{load:u},{loading:G(()=>[i("div",Gs,[k(O,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":G(()=>[i("div",Js,v(d.$t("users.nothingToShow")),1)]),"no-more":G(()=>[i("div",Ks,v(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}},Xs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Zs={class:"flex flex-row justify-between w-full"},ea={class:"title"},ta={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},sa={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},aa=["to"],oa={class:"mx-auto text-center"},ra={class:"mx-auto text-center"},na={class:"mx-auto text-center"},la={__name:"UserShared",props:{modalId:{type:String,default:"user-shared-modal"},workId:{type:Number,default:0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=q(),r=xe(e,a()),t=I({pagination:{page:0,perPage:10}}),n=I([]),u=async({loaded:d})=>{const[f,w]=await r.viewWhoSharedTheArtwork({workId:s.workId,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.perPage}});if(!w){t.value.pagination.page+=1;for(let h=0;h<f.length;h++){const y=f[h];n.value.push(y)}}d(f.length,t.value.pagination.perPage)},p=()=>{ae().closeModal(s.modalId)};return(d,f)=>{const w=Oe,h=$e,y=at;return g(),b("div",null,[i("div",Xs,[i("div",Zs,[i("div",ea,v(d.$t("artworks.usersShared")),1),i("div",ta,[i("div",{class:"modal-close",onClick:f[0]||(f[0]=c=>p())},[k(O,{name:"i-majesticons-close",class:"text-2xl"})])])]),i("div",sa,[(g(!0),b(ce,null,ve(o(n),c=>(g(),se(h,{key:c.id,to:"/u/"+c.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:G(()=>[k(w,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(c.users.avatar_bucket,c.users.avatar_filename),onError:d.defaultCoverImage},null,8,["src","onError"]),i("span",{to:"/u/"+c.users.username,class:"font-bold leading-10"},v(c.users.name),9,aa)]),_:2},1032,["to"]))),128)),k(y,null,{default:G(()=>[k(o(st),{load:u},{loading:G(()=>[i("div",oa,[k(O,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":G(()=>[i("div",ra,v(d.$t("users.nothingToShow")),1)]),"no-more":G(()=>[i("div",na,v(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}};const ia={id:"lists"},ca={key:0},da={__name:"RelatedArtworks",props:{workId:{type:Number,default:0},view:{type:Function,default:()=>{}},isModal:{type:Boolean,default:!0}},setup(l){const s=l,{oApiConfiguration:e,fetchOptions:a}=q(),r=xe(e,a());Ie(()=>{setTimeout(()=>{n()},2e3)});const t=I({loadings:{first:!0,loading:!0},data:[],options:{isEmpty:!1,isError:!1,paginations:{page:0,perPage:12,showLoadMore:!0}}}),n=async()=>{t.value.loadings.loading=!0,t.value.options.isError=!1,t.value.options.isEmpty=!1;const[p,d,f]=await r.getRelatedArtworks({workId:s.workId,pagination:{page:t.value.options.paginations.page,perPage:t.value.options.paginations.perPage}});if(f)t.value.options.isError=!0;else if(t.value.options.paginations.page==0&&!p.length)t.value.options.isEmpty=!0;else{for(let w=0;w<p.length;w++)t.value.data.push(p[w]);d.next_previous.next_page==null&&(t.value.options.paginations.showLoadMore=!1),t.value.options.paginations.page+=1}t.value.options.paginations.page==1&&(t.value.loadings.first=!1),t.value.loadings.loading=!1},u=()=>{n()};return(p,d)=>(g(),b("div",ia,[k(Ve,{loading:o(t).loadings.loading,empty:o(t).options.isEmpty,error:o(t).options.isError,fetch:n,"background-color":l.isModal?"theme-color-secondary":"theme-color",class:"mt-2"},null,8,["loading","empty","error","background-color"]),o(t).loadings.first?A("",!0):(g(),b("div",ca,[o(t).options.isEmpty?A("",!0):(g(),se(rt,{key:0,"section-class":"work-grid-6",view:l.view,works:o(t).data,"is-href":!l.isModal,"direct-open":!0},null,8,["view","works","is-href"])),P(i("div",{class:Z(["w-full primary-button",o(t).loadings.loading?"animate-pulse":""]),onClick:u},v(p.$t("loadMore")),3),[[L,o(t).options.paginations.showLoadMore]])]))]))}},ua=be(da,[["__scopeId","data-v-b9fd9bfc"]]),ma={key:0,id:"preview-scheduled-artwork-section",class:"p-4 w-full text-center text-black bg-yellow-200 rounded-md"},pa={class:"flex flex-row justify-center mb-2"},ha={class:"font-bold cursor-pointer"},wa={class:"mt-2"},fa={class:"mr-2 font-normal"},va={class:"italic"},ga={__name:"PreviewAlert",props:{isPreview:{type:Boolean,default:!1},artworkId:{type:Number,default:0}},emits:["deleteWork"],setup(l){const s=I(!1);return(e,a)=>{const r=Ze("Icon");return l.isPreview&&!e.deleteSuccess?(g(),b("section",ma,[i("div",pa,[k(r,{name:"i-ion-alert-outline"}),i("div",null,v(e.$t("artworks.previewModeMessage")),1)]),i("div",ha,[i("span",{class:"text-red-500 hover:underline",onClick:a[0]||(a[0]=t=>s.value=!0)},v(e.$t("artworks.deleteArtwork")),1),P(i("div",wa,[i("span",fa,[D(v(e.$t("alert.areYouSure"))+" ",1),i("span",va,"("+v(e.$t("alert.youCannotUndoThisAction"))+")",1)]),i("span",{class:"mr-2 text-red-500 hover:underline",onClick:a[1]||(a[1]=t=>e.$emit("deleteWork",l.artworkId))},v(e.$t("yes")),1),i("span",{class:"hover:underline",onClick:a[2]||(a[2]=t=>s.value=!1)},v(e.$t("no")),1)],512),[[L,o(s)]])])])):A("",!0)}}},ya={key:0,class:"mr-4"},_a={key:1,class:"mr-4"},ka={__name:"MatureContentAlert",props:{show:{type:Boolean,default:!1},isExplicit:{type:Boolean,default:!1},isGore:{type:Boolean,default:!1}},emits:["removeFilter"],setup(l){const s=Ce();return(e,a)=>l.show?(g(),b("section",{key:0,id:"explicit-and-gore-alert-section",class:Z(["flex flex-col md:flex-row justify-between p-3 align-middle rounded",l.isGore?"bg-red-500 text-white":"bg-yellow-300 text-black"])},[l.isExplicit&&!l.isGore?(g(),b("p",ya,v(o(s).loggedIn?e.$t("explicitContentAlert"):e.$t("explicitContentAlertForGuest")),1)):A("",!0),l.isGore?(g(),b("p",_a,v(o(s).loggedIn?e.$t("goreContentAlert"):e.$t("goreContentAlertForGuest")),1)):A("",!0),i("button",{class:"primary-button",onClick:a[0]||(a[0]=_e(r=>e.$emit("removeFilter"),["prevent"]))},v(e.$t("show")),1)],2)):A("",!0)}},ba={id:"artwork-data-section",class:"image-list"},$a={id:"artwork-image-section",class:"flex flex-row gap-2"},Ca={key:0,id:"mini-thumbnail-section",class:"sticky top-0 flex-col gap-2 w-1/6 hidden-md-flex"},xa={class:"sticky top-0"},Ra=["href"],Ia=["src"],Aa={__name:"Images",props:{isModal:{type:Boolean,default:!0},artwork:{type:Object,default:()=>{}},showExplicitAlert:{type:Boolean,default:!1}},setup(l){const s=l,{generateSemiCompressedArtworkUrl:e}=et();Ie(()=>{r()});const a=I([]),r=()=>{a.value=[],s.artwork.artwork_assets&&s.artwork.artwork_assets.forEach(t=>{a.value.push({thumbnail:e(t.bucket,t.filename,!0),source:e(t.bucket,t.filename,!1)})})};return ct().isMobile(),(t,n)=>{const u=Oe,p=Ze("viewer");return g(),b("section",ba,[i("section",$a,[!l.isModal&&!l.showExplicitAlert&&o(a).length?(g(),b("section",Ca,[i("div",xa,[(g(!0),b(ce,null,ve(o(a),(d,f)=>(g(),b("a",{key:f,href:"#image_"+f,class:"cursor-pointer"},[i("img",{preload:"",loading:"lazy",src:d.thumbnail,class:"mb-2 rounded-md hover:shadow-md",onError:n[0]||(n[0]=(...w)=>t.imageLoadError&&t.imageLoadError(...w))},null,40,Ia)],8,Ra))),128))])])):A("",!0),o(a).length?(g(),se(p,{key:1,options:{url:"data-source"},images:o(a),class:"overflow-hidden w-full rounded-md"},{default:G(()=>[(g(!0),b(ce,null,ve(o(a),(d,f)=>(g(),se(u,{key:d.thumbnail,id:"image_"+f,preload:"",loading:"lazy",src:d.thumbnail,"data-source":d.source,class:Z(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable w-full",{"blur-lg unclickable":l.showExplicitAlert},l.showExplicitAlert?"brightness-50":"brightness-100"]),onError:t.imageLoadError},null,8,["id","src","data-source","class","onError"]))),128))]),_:1},8,["images"])):A("",!0)])])}}};const Sa=l=>(Be("data-v-df84a5e1"),l=l(),Fe(),l),Pa={id:"comment-section",class:"comments"},Ua={key:0,class:"comment-box"},La={class:"flex flex-col"},Oa={class:"flex relative flex-col"},Va=["readonly","rows","placeholder"],Ma={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Ta={id:"comment-section",class:"comments__items"},Ea={class:"flex flex-row justify-end mb-2"},qa={key:0},ja=["src"],Ba={class:"comments__item__wrapper"},Fa={class:"comments__item__comment__user-info"},Da={class:"hover:underline"},Ha={class:"time"},Wa={class:"break-words"},Na={class:"comments__item__comment__buttons"},Qa=["onClick"],za={key:0},Ga={key:0,class:"comments__item__comment__buttons__item"},Ja=["onClick"],Ka=["onClick"],Ya={class:"ellipsis-menus dropdown"},Xa={class:"ellipsis-menus__content dropdown-menu"},Za={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},eo={key:0},to=["onClick"],so={id:"replies-section",class:"replies"},ao={key:0,id:"reply-input-section",class:"replies__reply-box"},oo=["id","readonly","rows","placeholder"],ro=["onClick"],no=["id"],lo={key:0,class:"replies__items__hide"},io={class:"italic text-color-secondary"},co=["onClick"],uo={class:"replies__items__item__user-info"},mo=["src"],po={class:"transition-all duration-150 cursor-pointer hover:font-bold"},ho={class:"time"},wo={class:"break-words"},fo={key:0,class:"comments__item__comment__buttons"},vo=Sa(()=>i("div",null,null,-1)),go={class:"comments__item__comment__buttons__item"},yo=["onClick"],_o={class:"ellipsis-menus dropdown"},ko={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},bo={class:"ellipsis-menus__content dropdown-menu"},$o={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Co={key:0},xo=["onClick"],Ro=["onClick"],Io={key:3,class:"comments__no-comment"},Ao={__name:"ArtworkComments",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Ce(),{oApiConfiguration:a,fetchOptions:r}=q(),t=xe(a,r());Ie(()=>{n(),w(s.artwork.id)});const n=()=>{c.value="",u.value=[],J.value=[]},u=I([]),p=We({perPage:3,page:0}),d=I([]),f=async x=>{const[S,F]=await t.getComments({workId:x,pagination:{page:p.page,perPage:p.perPage}});if(S)return S.pagination.current_page===S.pagination.first_last.last_page?h.value=!1:h.value=!0,S.comments.forEach(H=>{H.liked&&C.value.push(H.id),d.value.push(H.id)}),S.comments},w=async x=>{try{(await f(x)).forEach(F=>u.value.push(F))}catch{}},h=I(!1),y=async x=>{try{p.page+=1,(await f(x)).forEach(F=>u.value.push(F))}catch{}},c=I(),m=200,$=je(()=>c.value!=null&&c.value!==""?m-c.value.length:m),U=I(!1),T=async()=>{U.value=!0;try{const[x,S,F]=await t.addComment({workId:s.artwork.id,comment:c.value});x&&(c.value="",u.value.splice(0,0,S),u.value.join(),d.value.splice(0,0,S.id),d.value.join())}catch{}U.value=!1},E=async x=>{const[S,F]=await t.deleteComment({commentId:x});if(S){const H=d.value.indexOf(x);u.value.splice(H,1),d.value.splice(H,1)}},C=I([]),pe=async x=>{const[S,F]=await t.likeComment({commentId:x});if(S){C.value.push(x);const H=document.getElementById(`comment-like-button-${x}`);H.classList.add("animate-bounce"),setInterval(()=>{H.classList.remove("animate-bounce")},2500)}},ee=async x=>{const[S,F]=await t.unlikeComment({commentId:x});if(S){const H=C.value.indexOf(x);C.value.splice(H,1)}},W=We({perPage:2,page:0}),J=I([]),oe=I([]),re=I(!0),ge=async x=>{const[S,F,H]=await t.getCommentReplies({commentId:x,pagination:{page:W.page,perPage:W.perPage}});if(!H)return F.current_page===F.first_last.last_page&&(re.value=!1),S.map(_=>oe.value.push(_.id)),S},B=I(0),z=async x=>{J.value=[],W.page=0,re.value=!0,oe.value=[];try{const S=await ge(x);J.value={[x]:S},S.forEach(H=>{H.liked&&ye.value.push(H.id)}),B.value&&j(B.value);const F=document.getElementById(`comment-replies-${x}`);F.classList.add("flex"),F.classList.remove("hidden"),B.value=x}catch{}},j=x=>{const S=document.getElementById(`comment-replies-${x}`);S.classList.remove("flex"),S.classList.add("hidden"),B.value=0},M=async x=>{W.page+=1;try{(await ge(x)).forEach(F=>{J.value[x].push(F)})}catch{}},V=I(0),N=async x=>{await z(x),V.value=x},K=I(),ke=200,Me=je(()=>K.value!=null&&K.value!==""?ke-K.value.length:ke),he=I(!1),Te=async x=>{he.value=!0;try{const[S,F,H]=await t.addReply({commentId:x,reply:K.value});S&&(z(x),K.value="",J.value[x].splice(0,0,F),J.value[x].join(),V.value=0,oe.value.splice(0,0,F.id),oe.value.join())}catch{}he.value=!1},Ee=async(x,S)=>{const[F,H]=await t.deleteReply({replyId:S});if(F){const _=oe.value.indexOf(S);J.value[x].splice(_,1),oe.value.splice(_,1)}},ye=I([]),Ae=async x=>{const[S,F]=await t.likeReply({replyId:x});if(S){ye.value.push(x);const H=document.getElementById(`reply-like-button-${x}`);H.classList.add("animate-bounce"),setInterval(()=>{H.classList.remove("animate-bounce")},2500)}},qe=async x=>{const[S,F]=await t.unlikeReply({replyId:x});if(S){const H=ye.value.indexOf(x);ye.value.splice(H,1)}};return(x,S)=>{const F=$e,H=dt("auto-animate");return g(),b("section",Pa,[o(e).loggedIn?(g(),b("div",Ua,[i("div",La,[i("div",Oa,[P(i("textarea",{"onUpdate:modelValue":S[0]||(S[0]=_=>Se(c)?c.value=_:null),cols:"30","data-gramm":"false",class:Z(["input form-input",{"cursor-not-allowed":o(U)},{"theme-color-secondary textarea":l.isModal}]),readonly:o(U),rows:o(c)!=null&&o(c)!=""?"4":"0",placeholder:x.$t("comments.inputPlaceholder"),maxlength:m},null,10,Va),[[Re,o(c)]]),P(i("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},v(o($)),513),[[L,o(c)!=null&&o(c)!=""]]),i("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:S[1]||(S[1]=_e(_=>T(),["prevent"]))},[P(k(O,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[L,o(c)!=null&&o(c)!=""&&!o(U)]]),P(k(Ue,null,null,512),[[L,o(U)]])])])])])):A("",!0),o(e).loggedIn?A("",!0):(g(),b("div",Ma,v(x.$t("comments.loginOrRegisterToLeaveComment")),1)),i("section",Ta,[i("div",Ea,[l.artwork._count&&l.artwork._count.artwork_comments?(g(),b("div",qa,[i("b",null,v(x.thousand(l.artwork._count.artwork_comments)),1),D(" "+v(l.artwork._count.artwork_comments>1?x.$t("count.comments"):x.$t("count.comment")),1)])):A("",!0)]),(g(!0),b(ce,null,ve(o(u),_=>P((g(),b("div",{key:_.id,class:"comments__item"},[k(F,{class:"comments__item__user-avatar",to:"/u/"+_.users.username},{default:G(()=>[i("img",{src:x.avatarCoverUrl(_.users.avatar_bucket,_.users.avatar_filename),onError:S[2]||(S[2]=(...R)=>x.defaultCoverImage&&x.defaultCoverImage(...R))},null,40,ja)]),_:2},1032,["to"]),i("div",Ba,[i("div",{class:Z(["comments__item__comment",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",Fa,[k(F,{to:"/u/"+_.users.username},{default:G(()=>[i("b",null,v(_.users.name),1),D("  "),i("span",Da,"@"+v(_.users.username),1)]),_:2},1032,["to"]),i("div",Ha,v(x.formatDate(_.created_at,!0)),1)]),i("p",Wa,v(_.comment),1),i("div",Na,[i("div",{class:"cursor-pointer hover:underline",onClick:R=>o(B)==_.id?j(_.id):z(_.id)},[_._count.artwork_comment_has_replies>0?(g(),b("span",za,[i("b",null,v(x.shortNumber(_._count.artwork_comment_has_replies)),1),D(" "+v(_._count.artwork_comment_has_replies>1?x.$t("comments.replies.replies").toLowerCase():x.$t("comments.replies.reply").toLowerCase()),1)])):A("",!0)],8,Qa),o(e).loggedIn?(g(),b("div",Ga,[i("button",{onClick:R=>o(C).includes(_.id)?ee(_.id):pe(_.id)},[P(k(O,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[L,!o(C).includes(_.id)]]),P(k(O,{id:"comment-like-button-"+_.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[L,o(C).includes(_.id)]]),D(" "+v(x.shortNumber(_._count.artwork_comment_has_likes)),1)],8,Ja),i("button",{onClick:R=>N(_.id)},[k(O,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Ka),i("div",Ya,[i("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus",onClick:S[3]||(S[3]=R=>V.value=0)},[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",Xa,[i("div",Za,[k(F,{to:"/u/"+_.users.username},{default:G(()=>[k(O,{name:"i-fluent-person-32-regular"}),D(" "+v(x.$t("viewProfile")),1)]),_:2},1032,["to"]),o(e).loggedIn&&o(e).user.id===_.users.id?(g(),b("div",eo,[i("a",{onClick:R=>E(_.id)},[k(O,{name:"i-akar-icons-trash-bin"}),D(" "+v(x.$t("delete")),1)],8,to)])):A("",!0)])])])])):A("",!0)])],2),i("section",so,[o(e).loggedIn?P((g(),b("section",ao,[P(i("textarea",{id:"reply-"+_.id,"onUpdate:modelValue":S[4]||(S[4]=R=>Se(K)?K.value=R:null),cols:"30","data-gramm":"false",class:Z([{"!cursor-not-allowed":o(he)},{"theme-color-secondary textarea":l.isModal}]),readonly:o(he),rows:o(K)!=null&&o(K)!=""?"4":"0",placeholder:x.$t("comments.replies.write"),maxlength:ke},null,10,oo),[[Re,o(K)]]),P(i("div",{class:"replies__reply-box__str-left-counter"},v(o(Me)),513),[[L,o(K)!=null&&o(K)!=""]]),i("button",{onClick:_e(R=>Te(_.id),["prevent"])},[P(k(O,{name:"i-carbon-send-filled"},null,512),[[L,o(K)!=null&&o(K)!=""&&!o(he)]]),P(k(Ue,null,null,512),[[L,o(he)]])],8,ro)],512)),[[L,o(V)===_.id]]):A("",!0),i("section",{id:"comment-replies-"+_.id,class:"hidden replies__items"},[o(J)[_.id]&&o(J)[_.id].length?(g(),b("div",lo,[i("span",io,v(x.$t("comments.replies.replies")),1),i("span",{class:"cursor-pointer hover:font-semibold",onClick:R=>j(_.id)},v(x.$t("hide")),9,co)])):A("",!0),(g(!0),b(ce,null,ve(o(J)[_.id],R=>(g(),b("div",{key:R.id,class:Z(["replies__items__item",l.isModal?"theme-color-secondary":"theme-color"])},[i("div",uo,[k(F,{to:"/u/"+R.users.username,class:"replies__items__item__avatar"},{default:G(()=>[i("img",{class:"!w-6 !h-6",src:x.avatarCoverUrl(R.users.avatar_bucket,R.users.avatar_filename),onError:S[5]||(S[5]=(...te)=>x.defaultCoverImage&&x.defaultCoverImage(...te))},null,40,mo),i("span",po,v(R.users.name),1)]),_:2},1032,["to"]),i("span",ho,v(x.formatDate(R.created_at,!0)),1)]),i("p",wo,v(R.content),1),o(e).loggedIn?(g(),b("div",fo,[vo,i("div",go,[i("button",{onClick:te=>o(ye).includes(R.id)?qe(R.id):Ae(R.id)},[P(k(O,{id:"reply-like-button-"+R.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[L,o(ye).includes(R.id)]]),P(k(O,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[L,!o(ye).includes(R.id)]]),D(" "+v(x.shortNumber(R._count.artwork_comment_reply_has_likes)),1)],8,yo),i("div",_o,[i("button",ko,[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",bo,[i("div",$o,[k(F,{to:"/u/"+R.users.username,onClick:S[6]||(S[6]=_e(()=>{},["prevent"]))},{default:G(()=>[k(O,{name:"i-fluent-person-32-regular"}),D(" "+v(x.$t("viewProfile")),1)]),_:2},1032,["to"]),o(e).loggedIn&&o(e).user.id===R.users.id?(g(),b("div",Co,[i("a",{onClick:te=>Ee(_.id,R.id)},[k(O,{name:"i-akar-icons-trash-bin"}),D(" "+v(x.$t("delete")),1)],8,xo)])):A("",!0)])])])])])):A("",!0)],2))),128)),o(J)[_.id]&&o(re)?(g(),b("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:R=>M(_.id)},v(x.$t("comments.replies.loadMore")),9,Ro)):A("",!0)],8,no)])])])),[[H]])),128))]),l.artwork._count?P((g(),b("div",{key:2,class:"comments__load-more-button",onClick:S[7]||(S[7]=_e(_=>y(l.artwork.id),["prevent"]))},v(x.$t("comments.loadOlder")),513)),[[L,l.artwork._count.artwork_comments>3&&o(h)]]):A("",!0),P(i("div",{class:"comments__no-more-item"},v(x.$t("comments.reachedTheEnd")),513),[[L,o(u).length&&!o(h)]]),o(e).loggedIn&&!o(u).length?(g(),b("div",Io,v(x.$t("comments.noCommentYet")),1)):A("",!0)])}}},So=be(Ao,[["__scopeId","data-v-df84a5e1"]]),Po={key:0,id:"original-artwork-info-section"},Uo={class:"title"},Lo={key:0,class:"flex flex-row gap-2"},Oo={key:1,class:"custom-divider"},Vo={key:2,id:"redrawable-section",class:"flex flex-col gap-4"},Mo={class:"title"},To={key:0,id:"redraw-list-section"},Eo={key:1,class:"flex flex-row gap-2 justify-between w-full"},qo={key:2,id:"my-redraw-section"},jo={class:"title-tiny"},Bo={key:0,class:"w-1/3"},Fo={class:"w-2/3"},Do={class:"title"},Ho=["innerHTML"],Wo={class:"italic"},No={__name:"Redraws",props:{artwork:{type:Object,default:()=>{}},isModal:{type:Boolean,default:!1}},setup(l){const s=l,e=Ce(),{oApiConfiguration:a,fetchOptions:r}=q(),t=xe(a,r());Ie(async()=>{await f(),s.artwork.redraw_of&&p(s.artwork.redraw_of)});const n=I({}),u=I(!0),p=async m=>{u.value=!0;const[$,U]=await t.getWorkById(m);U||(n.value=$),u.value=!1},d=I(0),f=async()=>{const[m,$]=await t.countRedraws(s.artwork.id);d.value=m,m&&(await h(s.artwork.id),e.loggedIn&&await c(s.artwork.id))},w=I({data:[],pagination:{}}),h=async m=>{const[$,U,T]=await t.getRedraws({workId:m,pagination:{page:0,perPage:8}});T||(w.value.data=$,w.value.pagination=U)},y=I(null),c=async m=>{const[$,U]=await t.getMyRedraw({workId:m});U?y.value=null:y.value=$};return(m,$)=>{const U=$e,T=Oe;return g(),b(ce,null,[l.artwork.redraw_of?(g(),b("section",Po,[i("h2",Uo,v(m.$t("artworks.originalArtwork")),1),o(u)?(g(),b("div",Lo,[k(Ue),D(" "+v(m.$t("artworks.redrawOriginalLoading")),1)])):(g(),se(ht,{key:1,data:o(n),"work-id":l.artwork.redraw_of},null,8,["data","work-id"]))])):A("",!0),l.artwork.allow_redraw?(g(),b("div",Oo)):A("",!0),l.artwork.allow_redraw||o(w).data&&o(w).data.length?(g(),b("section",Vo,[i("h2",Mo,v(m.$t("artworks.redraws"))+" ("+v(o(w).pagination&&o(w).pagination.record_total?o(w).pagination.record_total:0)+") ",1),o(w).data&&o(w).data.length?(g(),b("section",To,[k(rt,{"section-class":"redraw-works",works:o(w).data,view:m.view,"is-href":m.isHref,"is-mini-list":!0,"current-work-id":l.artwork.id,"direct-open":!0,"hide-redraw-icon":!0},null,8,["works","view","is-href","current-work-id"]),o(w).pagination.next_previous.next_page?(g(),se(U,{key:0,to:"/a/"+l.artwork.id+"/redraws",class:"mt-2 primary-button"},{default:G(()=>[k(O,{name:"i-fluent-arrow-enter-20-filled",class:"mr-1 text-white hover:text-white"}),D(" "+v(m.$t("seeMore")),1)]),_:1},8,["to"])):A("",!0)])):A("",!0),o(e).loggedIn&&!o(y)?(g(),b("div",Eo,[k(U,{to:"/post?redrawWorkId="+l.artwork.id,class:Z([l.isModal?"secondary-button":"light-button"])},{default:G(()=>[k(O,{name:"i-typcn-brush"}),D(" "+v(m.$t("artworks.redrawThisArtwork")),1)]),_:1},8,["to","class"])])):A("",!0),o(e).loggedIn&&o(y)&&o(y).id?(g(),b("section",qo,[i("h2",jo,v(m.$t("artworks.myRedraw")),1),k(U,{to:"/a/"+o(y).id,class:"flex flex-row gap-2 w-full"},{default:G(()=>[o(y).artwork_assets?(g(),b("div",Bo,[k(T,{preload:"",loading:"lazy",class:"w-40 rounded-md",src:m.artworkThumb(o(y).artwork_assets[0].bucket,o(y).artwork_assets[0].filename,"thumbnail",!1),onError:m.imageLoadError},null,8,["src","onError"])])):A("",!0),i("div",Fo,[i("span",Do,v(o(y).title),1),i("p",{class:"mb-2",innerHTML:o(y).description?o(y).description.length>100?o(y).description.slice(0,100)+"..":o(n).description:m.$t("artworks.noDescription")},null,8,Ho),i("span",Wo,v(m.formatDate(o(y).scheduled_post)),1)])]),_:1},8,["to"])])):A("",!0)])):A("",!0)],64)}}};const lt=l=>(Be("data-v-1440f4eb"),l=l(),Fe(),l),Qo={class:"mx-auto w-full align-middle md:w-1/2"},zo={class:"flex flex-col w-full lg:flex-row"},Go={id:"left-side-section",class:"left-side"},Jo={key:0,class:"text-right"},Ko={key:1,class:"alert-success"},Yo={key:3,id:"mini-badge-info-section",class:"flex flex-row gap-2 mb-4"},Xo={key:1,class:Z(["py-2 px-3 font-bold rounded-md bg-red-400 text-white"])},Zo={key:2,class:"flex flex-row gap-2 p-2 px-4 rounded-xl theme-colored"},er={id:"interaction-button-section",class:"interactions"},tr={id:"interaction-counter-section",class:"interactions__left"},sr={class:"interactions__left__item"},ar={key:0,id:"reaction-button-section",class:"interactions__items"},or={key:0,class:"interactions__item"},rr={key:0},nr={key:3,class:"interactions__item"},lr={id:"ellipsis-menu-section",class:"ellipsis-menus dropdown"},ir={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menus"},cr={class:"ellipsis-menus__content dropdown-menu"},dr={id:"ellipsis-menus",class:"ellipsis-menus__content__wrapper","aria-labelledby":"headlessui-menu-button-1",role:"menu"},ur={key:2,class:"custom-divider"},mr={key:4,class:"custom-divider"},pr=["href"],hr={key:6},wr={id:"right-side-section",class:"right-side"},fr=lt(()=>i("div",{class:"custom-divider"},null,-1)),vr=lt(()=>i("div",{class:"custom-divider"},null,-1)),gr={key:0,id:"related-artworks-section",class:"mt-4 w-full"},yr={class:"title"},_r={__name:"ModalView",props:{id:{type:Number,default:0},section:{type:String,default:""}},emits:["setMeta","stopLoading","showEmpty","showError"],setup(l,{expose:s,emit:e}){const a=l,r=Ce(),{oApiConfiguration:t,fetchOptions:n}=q(),{applyExplicitFilter:u,removeExplicitFilter:p}=et(),d=xe(t,n()),f=ot(t,n()),w=Xe(),h=ut(),y=Ke();mt(()=>y.query,()=>{setTimeout(()=>{H(),ae().closeModal("collection-selection-modal"),ae().closeModal("album-selection-modal"),ae().closeModal("report-modal")},1)}),Ie(()=>{a.id!==0&&oe(a.id),window.addEventListener("keydown",_=>{const R=document.getElementById("collection-selection-modal"),te=document.getElementById("album-selection-modal"),ne=document.getElementById("report-modal"),it=document.querySelectorAll(".viewer-in");_.key==="Escape"&&(!R||R.style.display!="flex")&&(!te||te.style.display!="flex")&&(!ne||ne.style.display!="flex")&&!it.length&&H()})});const c=a.id===0,m=I(!1),$=()=>{m.value=!1,p()},U=async _=>{await d.incraseViewCount(_)},T=I(!1),E=I(!0),C=I({}),pe=I(!1),ee=I(!1),W=I(!1),J=I(!1),oe=async _=>{T.value=!1,E.value=!0;const[R,te]=await d.getWorkById(_);te?te=="Work not found"?e("showEmpty"):e("showError"):(C.value=R,!r.loggedIn&&R.is_explicit||R.is_explicit&&!r.user.user_settings.show_explicit||R.is_gore&&!r.user.user_settings.show_gore?(m.value=!0,u()):m.value=!1,ee.value=R.liked,W.value=R.saved,J.value=R.in_album,pe.value=Ne().formatApiToWeb(R.scheduled_post)<Ne().currentUtcTime(),pe.value?((!r.loggedIn||r.user.id!==R.users.id)&&await U(_),r.loggedIn&&await ge(_)):r.user.id!==R.users.id?h.push("/"):T.value=!0,c||e("setMeta",{title:C.value.title})),E.value=!1,e("stopLoading")},re=I({}),ge=async _=>{const[R,te]=await f.getReportStatus({type:me.ARTWORK,postId:_});te||(R.length?re.value=R[0]:re.value={})},B=async()=>{const[_,R]=await d.like({workId:C.value.id});if(_){ee.value=!0;const te=document.getElementById("like-button");te.classList.add("animate-bounce"),setInterval(()=>{te.classList.remove("animate-bounce")},2500)}},z=()=>{ae().openModal("user-liked-modal")},j=()=>{ae().openModal("user-shared-modal")},M=async()=>{const[_,R]=await d.unlike({workId:C.value.id});_&&(ee.value=!1)},V=I(!1),N=async _=>{const[R,te]=await d.deleteWork({workId:[_]});R&&(V.value=!0,setTimeout(()=>{h.push({path:"/",replace:!0,force:!0})},1e3))},K=I(null),ke=()=>{ae().openModal("collection-selection-modal"),K.value.fetchCollection(),K.value.fetchCurrentSaved()},Me=_=>{_?W.value=!1:W.value=!0,ze().animate("save-to-collection-button")},he=I(null),Te=()=>{ae().openModal("album-selection-modal"),he.value.fetchTop(),he.value.fetchCurrentSaved()},Ee=_=>{_?J.value=!1:J.value=!0,ze().animate("save-to-album-button")},ye=()=>{ae().openModal("share-to-feed-modal")},Ae=I(!1);let qe;const x=_=>{const R=I(w.public.appUrl+_),{copy:te}=tt({source:R});te(),He().splash(qe,Ae,"copy-alert")},S=I(null),F=()=>{ae().openModal("report-modal")},H=()=>{ae().closeModal(`${a.section}-modal`)};return s({view:oe}),(_,R)=>{const te=$e;return g(),b(ce,null,[i("button",{class:"hidden",onClick:oe}),P(i("div",Qo,[k(Ve,{loading:o(E)},null,8,["loading"])],512),[[L,o(E)&&c]]),P(i("div",{class:Z(["work-container work-view",{"2xl:w-4/6 2xl:mx-auto p-2 md:p-6 overflow-y-scroll theme-color":c}])},[i("main",zo,[i("section",Go,[c&&_.isMobileDevice()?(g(),b("div",Jo,[k(O,{name:"i-ion-close-outline","text-size":"text-3xl",onClick:R[0]||(R[0]=ne=>_.closeModal(l.section+"-modal"))})])):A("",!0),k(ga,{"is-preview":o(T),"artwork-id":o(C).id,onDeleteWork:N},null,8,["is-preview","artwork-id"]),o(V)?(g(),b("div",Ko,v(_.$t("artworks.successDelete")),1)):A("",!0),k(ka,{show:o(m),"is-explicit":o(C).is_explicit,"is-gore":o(C).is_gore,onRemoveFilter:$},null,8,["show","is-explicit","is-gore"]),o(E)?A("",!0):(g(),se(Aa,{key:2,"is-modal":c,artwork:o(C),"show-explicit-alert":o(m),"original-artwork":_.originalArtwork},null,8,["artwork","show-explicit-alert","original-artwork"])),o(C).is_explicit||o(C).is_gore||o(C).is_original_character?(g(),b("section",Yo,[o(C).is_explicit?(g(),b("div",{key:0,class:Z(["py-2 px-3 font-bold rounded-md",c?"theme-color-secondary":"bg-tag"])}," E ",2)):A("",!0),o(C).is_gore?(g(),b("div",Xo," G ")):A("",!0),o(C).is_original_character?(g(),b("div",Zo,[k(O,{name:"i-clarity-cursor-hand-click-line","text-size":"text-sm"}),D(" "+v(_.$t("artworks.originalCharacter")),1)])):A("",!0)])):A("",!0),i("section",er,[i("section",tr,[P(i("span",sr,[k(O,{name:"i-mi-eye"}),i("b",null,v(_.shortNumber(o(C).views)),1)],512),[[L,o(C).views>0]]),o(C)._count?P((g(),b("span",{key:0,class:"interactions__left__item hover:href hover:underline",onClick:R[1]||(R[1]=ne=>z())},[i("b",null,v(_.thousand(o(C)._count.artwork_likes)),1),D(" "+v(o(C)._count.artwork_likes>1?_.$t("count.likes"):_.$t("count.like")),1)],512)),[[L,o(C)._count.artwork_likes>0]]):A("",!0),o(C)._count?P((g(),b("span",{key:1,class:"interactions__left__item hover:href hover:underline",onClick:R[2]||(R[2]=ne=>j())},[i("b",null,v(_.thousand(o(C)._count.feeds)),1),D(" "+v(_.$t("count.share")),1)],512)),[[L,o(C)._count.feeds>0]]):A("",!0)]),o(T)?A("",!0):(g(),b("section",ar,[o(r).loggedIn?(g(),b("span",or,[i("span",{onClick:R[3]||(R[3]=ne=>o(ee)?M():B())},[P(k(O,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[L,o(ee)]]),P(k(O,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[L,!o(ee)]])])])):A("",!0),o(r).loggedIn?(g(),b("span",{key:1,class:"interactions__item",onClick:R[4]||(R[4]=ne=>ke())},[P(k(O,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[L,o(W)]]),P(k(O,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[L,!o(W)]]),o(C)._count&&o(C)._count.collection_has_artworks?(g(),b("span",rr,v(_.thousand(o(C)._count.collection_has_artworks)),1)):A("",!0)])):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("span",{key:2,class:"interactions__item",onClick:R[5]||(R[5]=ne=>Te())},[P(k(O,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[L,o(J)]]),P(k(O,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[L,!o(J)]])])):A("",!0),o(r).loggedIn?(g(),b("span",nr,[k(O,{name:"i-uil-share",class:"hover:text-blue-500",onClick:R[6]||(R[6]=ne=>ye())})])):A("",!0),i("section",lr,[i("button",ir,[i("span",null,[k(O,{name:"i-uit-ellipsis-v"})])]),i("div",cr,[i("div",dr,[c?(g(),se(te,{key:0,to:"/a/"+o(C).id},{default:G(()=>[k(O,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),D(" "+v(_.$t("open")),1)]),_:1},8,["to"])):A("",!0),c?(g(),se(te,{key:1,to:"/a/"+o(C).id,target:"_blank"},{default:G(()=>[k(O,{name:"i-ci-external-link",class:"mr-2 text-base"}),D(" "+v(_.$t("openInNewTab")),1)]),_:1},8,["to"])):A("",!0),c?(g(),b("div",ur)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id!=o(C).users.id&&!o(r).user.is_admin&&!o(r).user.is_moderator?(g(),b("div",{key:3,class:Z({"rounded-t-md":!c})},[i("a",{onClick:R[7]||(R[7]=_e(ne=>F(),["prevent"]))},[k(O,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),D(" "+v(_.$t("report")),1)])],2)):A("",!0),i("div",null,[i("a",{onClick:R[8]||(R[8]=_e(ne=>x("/a/"+o(C).id),["prevent"]))},[k(O,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),D(" "+v(_.$t("copySharableLink")),1)])]),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("div",mr)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("a",{key:5,href:"/artworks/update/"+o(C).id},[k(O,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),D(" "+v(_.$t("update")),1)],8,pr)):A("",!0),o(r).loggedIn&&o(C).users&&o(r).user.id===o(C).users.id?(g(),b("div",hr,[i("a",{onClick:R[9]||(R[9]=_e(ne=>_.openModal("work-deletion-confirm-modal"),["prevent"]))},[k(O,{name:"i-akar-icons-trash-bin",class:"mr-2 text-base"}),D(" "+v(_.$t("delete")),1)])])):A("",!0)])])])]))]),k(Ge,{section:l.section,class:"flex-md-hidden","is-modal":c,"artwork-detail":o(C),"preview-mode":o(T),"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(g(),se(pt,null,[o(E)?A("",!0):(g(),se(Qe,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":o(C),view:oe,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(_.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))]),i("section",wr,[k(Ge,{section:l.section,class:"hidden-md-flex","is-modal":c,"artwork-detail":o(C),"preview-mode":o(T),"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),o(E)?A("",!0):(g(),se(Qe,{key:0,class:"flex-md-hidden","artwork-detail":o(C),view:oe,"is-href":!c,"keep-artist-page-number":!0,"pagination-per-page":(_.isMobile(),4)},null,8,["artwork-detail","is-href","pagination-per-page"])),!o(T)&&!o(E)?(g(),se(No,{key:1,artwork:o(C)},null,8,["artwork"])):A("",!0),fr,!o(T)&&!o(E)?(g(),se(So,{key:2,artwork:o(C),"is-modal":c},null,8,["artwork"])):A("",!0)])]),vr,o(pe)?(g(),b("section",gr,[i("div",yr,v(_.$t("artworks.similarArtworks")),1),!o(E)&&o(pe)?(g(),se(ua,{key:0,"work-id":o(C).id,"is-modal":c,view:oe},null,8,["work-id"])):A("",!0)])):A("",!0),o(E)?A("",!0):(g(),se(Gt,{key:1,id:"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:K,"modal-id":"collection-selection-modal","work-id":o(C).id,class:"modal",onSave:Me},null,8,["work-id"])),!o(E)&&o(r).loggedIn&&o(C).users&&o(r).user.id==o(C).users.id?(g(),se(o(is),{key:2,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:he,class:"modal","modal-id":"album-selection-modal","work-id":o(C).id,onAddedToAlbum:Ee},null,8,["work-id"])):A("",!0),k(ms,{id:"work-deletion-confirm-modal",class:"modal","modal-id":"work-deletion-confirm-modal",message:`${_.$t("alert.areYouSure")} ${_.$t("alert.youCannotUndoThisAction")}`,onOnAccept:R[10]||(R[10]=ne=>N(o(C).id))},null,8,["message"]),k(Ss,{id:"report-modal",ref_key:"reportModalRef",ref:S,class:"modal",type:o(me).ARTWORK,"post-id":o(C).id,"report-status":o(re)},null,8,["type","post-id","report-status"]),k(Fs,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":o(C).id},null,8,["post-id"]),k(Ys,{id:"user-liked-modal",class:"modal","work-id":o(C).id},null,8,["work-id"]),k(la,{id:"user-shared-modal",class:"modal","work-id":o(C).id},null,8,["work-id"]),P(k(De,{id:"copy-alert",text:_.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[L,o(Ae)]])],2),[[L,!o(E)]])],64)}}},Lr=be(_r,[["__scopeId","data-v-1440f4eb"]]);export{Lr as M,ms as _,Gt as a,ze as b,Jt as c,Lt as d,is as e,vt as u};
