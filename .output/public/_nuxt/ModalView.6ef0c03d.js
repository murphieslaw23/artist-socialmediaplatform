import{B as vt,f as z,h as W,R as D,$ as Jt,a0 as Yt,r as b,u as L,C as Ue,a1 as Kt,l as Se,Q as Xt,N as Zt,D as Ve,S as ft,o as y,m as x,p as r,e as k,w as K,q as T,t as g,b as $,v as A,s as R,F as pe,J as j,T as he,U as ve,x as Pe,i as qe,k as ea,c as ie,j as _e,I as Je,E as Re,G as X,K as wt,L as gt,a2 as ta,H as aa,a as sa,a3 as nt,a4 as oa,a5 as la,a6 as rt}from"./entry.9eddce5d.js";import{u as yt,_ as O}from"./Icon.9f8b52fb.js";import{_ as Me,u as bt}from"./LoadingEmptyErrorMessage.bbf36557.js";import{_ as fe}from"./_plugin-vue_export-helper.a1a6add7.js";import{S as Ye}from"./Spinner.700b56ed.js";import{U as Ee}from"./user-counters-api.ad426c4c.js";import{u as na}from"./useFeed.75605a47.js";const ce=function(o){return{addWorkToAlbum:async(t,e={})=>{const s="/albums/add-work",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}},createAlbum:async(t,e={})=>{const s="/albums/create",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}},deleteAlbum:async(t,e={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling deleteAlbum.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...e},u={},m={},h=new URLSearchParams(a.search);for(const w in m)h.set(w,m[w]);for(const w in e.params)h.set(w,e.params[w]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};return n.headers={...u,...d,...e.headers},{url:a.pathname+a.search+a.hash,options:n}},getAlbumById:async(t,e={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumById.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"GET",...l,...e},u={},m={},h=new URLSearchParams(a.search);for(const w in m)h.set(w,m[w]);for(const w in e.params)h.set(w,e.params[w]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};return n.headers={...u,...d,...e.headers},{url:a.pathname+a.search+a.hash,options:n}},getAlbumItems:async(t,e,s,a={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumItems.");if(e==null)throw new D("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let u;o&&(u=o.baseOptions);const m={method:"GET",...u,...a},h={},d={};e!==void 0&&(d.per_page=e),s!==void 0&&(d.page=s);const w=new URLSearchParams(n.search);for(const i in d)w.set(i,d[i]);for(const i in a.params)w.set(i,a.params[i]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};return m.headers={...h,...f,...a.headers},{url:n.pathname+n.search+n.hash,options:m}},getCurrentAlbumSaveInfo:async(t,e,s={})=>{if(t==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(e==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const a="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(e))),l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const u={method:"GET",...n,...s},m={},h={},d=new URLSearchParams(l.search);for(const f in h)d.set(f,h[f]);for(const f in s.params)d.set(f,s.params[f]);l.search=new URLSearchParams(d).toString();let w=n&&n.headers?n.headers:{};return u.headers={...m,...w,...s.headers},{url:l.pathname+l.search+l.hash,options:u}},listUserAlbums:async(t,e,s,a,l={})=>{if(t==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(e==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserAlbums.");if(a==null)throw new D("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),u=new URL(n,"https://example.com");let m;o&&(m=o.baseOptions);const h={method:"GET",...m,...l},d={},w={};e!==void 0&&(w.per_page=e),s!==void 0&&(w.page=s),a!==void 0&&(w.type=a);const f=new URLSearchParams(u.search);for(const c in w)f.set(c,w[c]);for(const c in l.params)f.set(c,l.params[c]);u.search=new URLSearchParams(f).toString();let i=m&&m.headers?m.headers:{};return h.headers={...d,...i,...l.headers},{url:u.pathname+u.search+u.hash,options:h}},removeWorkFromAlbum:async(t,e={})=>{const s="/albums/work/remove",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}},updateAlbum:async(t,e={})=>{const s="/albums",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"PATCH",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}}}},ue=function(o){return{async addWorkToAlbum(t,e){const s=await ce(o).addWorkToAlbum(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async createAlbum(t,e){const s=await ce(o).createAlbum(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async deleteAlbum(t,e){const s=await ce(o).deleteAlbum(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getAlbumById(t,e){const s=await ce(o).getAlbumById(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getAlbumItems(t,e,s,a){const l=await ce(o).getAlbumItems(t,e,s,a);return(n=z,u=W)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async getCurrentAlbumSaveInfo(t,e,s){const a=await ce(o).getCurrentAlbumSaveInfo(t,e,s);return(l=z,n=W)=>{const u={...a.options,url:n+a.url};return l.request(u)}},async listUserAlbums(t,e,s,a,l){const n=await ce(o).listUserAlbums(t,e,s,a,l);return(u=z,m=W)=>{const h={...n.options,url:m+n.url};return u.request(h)}},async removeWorkFromAlbum(t,e){const s=await ce(o).removeWorkFromAlbum(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async updateAlbum(t,e){const s=await ce(o).updateAlbum(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}}}};class de extends vt{async addWorkToAlbum(t,e){return ue(this.configuration).addWorkToAlbum(t,e).then(s=>s(this.axios,this.basePath))}async createAlbum(t,e){return ue(this.configuration).createAlbum(t,e).then(s=>s(this.axios,this.basePath))}async deleteAlbum(t,e){return ue(this.configuration).deleteAlbum(t,e).then(s=>s(this.axios,this.basePath))}async getAlbumById(t,e){return ue(this.configuration).getAlbumById(t,e).then(s=>s(this.axios,this.basePath))}async getAlbumItems(t,e,s,a){return ue(this.configuration).getAlbumItems(t,e,s,a).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(t,e,s){return ue(this.configuration).getCurrentAlbumSaveInfo(t,e,s).then(a=>a(this.axios,this.basePath))}async listUserAlbums(t,e,s,a,l){return ue(this.configuration).listUserAlbums(t,e,s,a,l).then(n=>n(this.axios,this.basePath))}async removeWorkFromAlbum(t,e){return ue(this.configuration).removeWorkFromAlbum(t,e).then(s=>s(this.axios,this.basePath))}async updateAlbum(t,e){return ue(this.configuration).updateAlbum(t,e).then(s=>s(this.axios,this.basePath))}}const ne=function(o){return{addItemForLater:async(t,e,s={})=>{if(t==null)throw new D("type","Required parameter type was null or undefined when calling addItemForLater.");const a="/collections/later",l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const u={method:"POST",...n,...s},m={},h={};t!==void 0&&(h.type=t),m["Content-Type"]="application/json";const d=new URLSearchParams(l.search);for(const i in h)d.set(i,h[i]);for(const i in s.params)d.set(i,s.params[i]);l.search=new URLSearchParams(d).toString();let w=n&&n.headers?n.headers:{};u.headers={...m,...w,...s.headers};const f=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=f?JSON.stringify(e!==void 0?e:{}):e||"",{url:l.pathname+l.search+l.hash,options:u}},addItemToCollection:async(t,e,s,a={})=>{if(t==null)throw new D("type","Required parameter type was null or undefined when calling addItemToCollection.");if(e==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(l,"https://example.com");let u;o&&(u=o.baseOptions);const m={method:"POST",...u,...a},h={},d={};t!==void 0&&(d.type=t),h["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in d)w.set(c,d[c]);for(const c in a.params)w.set(c,a.params[c]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};m.headers={...h,...f,...a.headers};const i=typeof s!="string"||m.headers["Content-Type"]==="application/json";return m.data=i?JSON.stringify(s!==void 0?s:{}):s||"",{url:n.pathname+n.search+n.hash,options:m}},collectionsIdDelete:async(t,e={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...e},u={},m={},h=new URLSearchParams(a.search);for(const w in m)h.set(w,m[w]);for(const w in e.params)h.set(w,e.params[w]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};return n.headers={...u,...d,...e.headers},{url:a.pathname+a.search+a.hash,options:n}},create:async(t,e={})=>{const s="/collections/create",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}},detail:async(t,e={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling detail.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"GET",...l,...e},u={},m={},h=new URLSearchParams(a.search);for(const w in m)h.set(w,m[w]);for(const w in e.params)h.set(w,e.params[w]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};return n.headers={...u,...d,...e.headers},{url:a.pathname+a.search+a.hash,options:n}},getCurrentSaveInfo:async(t,e,s={})=>{if(t==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(e==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const a="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(e))),l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const u={method:"GET",...n,...s},m={},h={},d=new URLSearchParams(l.search);for(const f in h)d.set(f,h[f]);for(const f in s.params)d.set(f,s.params[f]);l.search=new URLSearchParams(d).toString();let w=n&&n.headers?n.headers:{};return u.headers={...m,...w,...s.headers},{url:l.pathname+l.search+l.hash,options:u}},listCollectionItems:async(t,e,s,a={})=>{if(t==null)throw new D("id","Required parameter id was null or undefined when calling listCollectionItems.");if(e==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let u;o&&(u=o.baseOptions);const m={method:"GET",...u,...a},h={},d={};e!==void 0&&(d.per_page=e),s!==void 0&&(d.page=s);const w=new URLSearchParams(n.search);for(const i in d)w.set(i,d[i]);for(const i in a.params)w.set(i,a.params[i]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};return m.headers={...h,...f,...a.headers},{url:n.pathname+n.search+n.hash,options:m}},listUserCollections:async(t,e,s,a,l,n={})=>{if(t==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(e==null)throw new D("type","Required parameter type was null or undefined when calling listUserCollections.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserCollections.");if(a==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),m=new URL(u,"https://example.com");let h;o&&(h=o.baseOptions);const d={method:"GET",...h,...n},w={},f={};e!==void 0&&(f.type=e),l!==void 0&&(f.name=l),s!==void 0&&(f.page=s),a!==void 0&&(f.per_page=a);const i=new URLSearchParams(m.search);for(const _ in f)i.set(_,f[_]);for(const _ in n.params)i.set(_,n.params[_]);m.search=new URLSearchParams(i).toString();let c=h&&h.headers?h.headers:{};return d.headers={...w,...c,...n.headers},{url:m.pathname+m.search+m.hash,options:d}},removeItemFromCollection:async(t,e,s,a={})=>{if(t==null)throw new D("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(e==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(e))),n=new URL(l,"https://example.com");let u;o&&(u=o.baseOptions);const m={method:"DELETE",...u,...a},h={},d={};t!==void 0&&(d.type=t),h["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in d)w.set(c,d[c]);for(const c in a.params)w.set(c,a.params[c]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};m.headers={...h,...f,...a.headers};const i=typeof s!="string"||m.headers["Content-Type"]==="application/json";return m.data=i?JSON.stringify(s!==void 0?s:{}):s||"",{url:n.pathname+n.search+n.hash,options:m}},updateCollection:async(t,e={})=>{const s="/collections",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"PATCH",...l,...e},u={},m={};u["Content-Type"]="application/json";const h=new URLSearchParams(a.search);for(const f in m)h.set(f,m[f]);for(const f in e.params)h.set(f,e.params[f]);a.search=new URLSearchParams(h).toString();let d=l&&l.headers?l.headers:{};n.headers={...u,...d,...e.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:a.pathname+a.search+a.hash,options:n}}}},re=function(o){return{async addItemForLater(t,e,s){const a=await ne(o).addItemForLater(t,e,s);return(l=z,n=W)=>{const u={...a.options,url:n+a.url};return l.request(u)}},async addItemToCollection(t,e,s,a){const l=await ne(o).addItemToCollection(t,e,s,a);return(n=z,u=W)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async collectionsIdDelete(t,e){const s=await ne(o).collectionsIdDelete(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async create(t,e){const s=await ne(o).create(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async detail(t,e){const s=await ne(o).detail(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getCurrentSaveInfo(t,e,s){const a=await ne(o).getCurrentSaveInfo(t,e,s);return(l=z,n=W)=>{const u={...a.options,url:n+a.url};return l.request(u)}},async listCollectionItems(t,e,s,a){const l=await ne(o).listCollectionItems(t,e,s,a);return(n=z,u=W)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async listUserCollections(t,e,s,a,l,n){const u=await ne(o).listUserCollections(t,e,s,a,l,n);return(m=z,h=W)=>{const d={...u.options,url:h+u.url};return m.request(d)}},async removeItemFromCollection(t,e,s,a){const l=await ne(o).removeItemFromCollection(t,e,s,a);return(n=z,u=W)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async updateCollection(t,e){const s=await ne(o).updateCollection(t,e);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}}}};class me extends vt{async addItemForLater(t,e,s){return re(this.configuration).addItemForLater(t,e,s).then(a=>a(this.axios,this.basePath))}async addItemToCollection(t,e,s,a){return re(this.configuration).addItemToCollection(t,e,s,a).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(t,e){return re(this.configuration).collectionsIdDelete(t,e).then(s=>s(this.axios,this.basePath))}async create(t,e){return re(this.configuration).create(t,e).then(s=>s(this.axios,this.basePath))}async detail(t,e){return re(this.configuration).detail(t,e).then(s=>s(this.axios,this.basePath))}async getCurrentSaveInfo(t,e,s){return re(this.configuration).getCurrentSaveInfo(t,e,s).then(a=>a(this.axios,this.basePath))}async listCollectionItems(t,e,s,a){return re(this.configuration).listCollectionItems(t,e,s,a).then(l=>l(this.axios,this.basePath))}async listUserCollections(t,e,s,a,l,n){return re(this.configuration).listUserCollections(t,e,s,a,l,n).then(u=>u(this.axios,this.basePath))}async removeItemFromCollection(t,e,s,a){return re(this.configuration).removeItemFromCollection(t,e,s,a).then(l=>l(this.axios,this.basePath))}async updateCollection(t,e){return re(this.configuration).updateCollection(t,e).then(s=>s(this.axios,this.basePath))}}function it(){return{animate:e=>{const s=document.getElementById(e);s==null||s.classList.add("animate-bounce"),setInterval(()=>{s==null||s.classList.remove("animate-bounce")},2500)}}}function ra(){const o=(e,s,a)=>{s.value=!1,clearTimeout(e),s.value=!0,e=setTimeout(()=>{s.value=!1,t(a)},2e3)},t=e=>{const s=document.getElementById(e);s==null||s.classList.add("fade"),s==null||s.classList.add("fade-out")};return{splash:o,hide:t}}var ct;const Ce=typeof window<"u",ia=o=>typeof o=="string",Ge=()=>{};Ce&&((ct=window==null?void 0:window.navigator)==null?void 0:ct.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ze(o){return typeof o=="function"?o():L(o)}function ca(o){return o}function et(o){return Jt()?(Yt(o),!0):!1}function ua(o){return typeof o=="function"?Ue(o):b(o)}function da(o,t=!0){Kt()?Se(o):t?o():Xt(o)}function ma(o,t,e={}){const{immediate:s=!0}=e,a=b(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function u(){a.value=!1,n()}function m(...h){n(),a.value=!0,l=setTimeout(()=>{a.value=!1,l=null,o(...h)},Ze(t))}return s&&(a.value=!0,Ce&&m()),et(u),{isPending:a,start:m,stop:u}}function pa(o){var t;const e=Ze(o);return(t=e==null?void 0:e.$el)!=null?t:e}const kt=Ce?window:void 0;Ce&&window.document;const ha=Ce?window.navigator:void 0;Ce&&window.location;function va(...o){let t,e,s,a;if(ia(o[0])?([e,s,a]=o,t=kt):[t,e,s,a]=o,!t)return Ge;let l=Ge;const n=Ve(()=>pa(t),m=>{l(),m&&(m.addEventListener(e,s,a),l=()=>{m.removeEventListener(e,s,a),l=Ge})},{immediate:!0,flush:"post"}),u=()=>{n(),l()};return et(u),u}function xt(o,t=!1){const e=b(),s=()=>e.value=Boolean(o());return s(),da(s,t),e}function fa(o,t={}){const{window:e=kt}=t,s=xt(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let a;const l=b(!1),n=()=>{!a||("removeEventListener"in a?a.removeEventListener("change",u):a.removeListener(u))},u=()=>{!s.value||(n(),a=e.matchMedia(ua(o).value),l.value=a.matches,"addEventListener"in a?a.addEventListener("change",u):a.addListener(u))};return Zt(u),et(()=>n()),l}function wa(o={}){const{navigator:t=ha,read:e=!1,source:s,copiedDuring:a=1500}=o,l=["copy","cut"],n=xt(()=>t&&"clipboard"in t),u=b(""),m=b(!1),h=ma(()=>m.value=!1,a);function d(){t.clipboard.readText().then(f=>{u.value=f})}if(n.value&&e)for(const f of l)va(f,d);async function w(f=Ze(s)){n.value&&f!=null&&(await t.clipboard.writeText(f),u.value=f,m.value=!0,h.start())}return{isSupported:n,text:u,copied:m,copy:w}}const Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xe="__vueuse_ssr_handlers__";Ke[Xe]=Ke[Xe]||{};Ke[Xe];var ut;(function(o){o.UP="UP",o.RIGHT="RIGHT",o.DOWN="DOWN",o.LEFT="LEFT",o.NONE="NONE"})(ut||(ut={}));var ga=Object.defineProperty,dt=Object.getOwnPropertySymbols,ya=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable,mt=(o,t,e)=>t in o?ga(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,ka=(o,t)=>{for(var e in t||(t={}))ya.call(t,e)&&mt(o,e,t[e]);if(dt)for(var e of dt(t))ba.call(t,e)&&mt(o,e,t[e]);return o};const xa={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ka({linear:ca},xa);function _a(){return{readMore:(t,e,s,a)=>{const l=document.getElementById(`${a}${e}`);l!==null&&(l.innerHTML=t);const n=document.getElementById(`${s}${e}`);n==null||n.remove()}}}const Ca={class:"flex-col info"},$a={key:0,class:"user-info"},Ia={class:"flex flex-row w-full"},Aa=["src"],Ra={class:"w-full name"},Sa={class:"flex flex-row justify-between"},Pa={class:"flex flex-col"},La={class:"mb-2 text-base font-bold"},Oa={key:1,class:"mb-4"},Ua=["id","innerHTML"],Va=["id"],Ea={class:"mb-4"},qa={key:2,class:"tags"},Ma={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(o){ft();const t=(e,s,a,l)=>{_a().readMore(e,s,a,l)};return(e,s)=>{const a=Pe;return y(),x("section",Ca,[o.artworkDetail.users?(y(),x("div",$a,[r("div",Ia,[k(a,{to:"/profile/"+o.artworkDetail.users.username},{default:K(()=>[r("img",{class:"avatar",src:e.avatarCoverUrl(o.artworkDetail.users.avatar_bucket,o.artworkDetail.users.avatar_filename),onError:s[0]||(s[0]=(...l)=>e.imageLoadError&&e.imageLoadError(...l))},null,40,Aa)]),_:1},8,["to"]),r("div",Ra,[r("div",Sa,[r("div",Pa,[k(a,{to:"/profile/"+o.artworkDetail.users.username,class:"fullname"},{default:K(()=>[T(g(o.artworkDetail.users.name),1)]),_:1},8,["to"]),k(a,{to:"/profile/"+o.artworkDetail.users.username,class:"username"},{default:K(()=>[T(" @"+g(o.artworkDetail.users.username),1)]),_:1},8,["to"])]),$(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:s[1]||(s[1]=l=>e.closeModal(o.section+"-modal"))}," ESC ",512),[[A,o.isModal]])])])])])):R("",!0),r("div",La,g(o.artworkDetail.title),1),o.artworkDetail.description?(y(),x("div",Oa,[r("span",{id:"mview-"+o.isDesktop+"-description-"+o.artworkDetail.id,innerHTML:o.artworkDetail.description.length>300?`${o.artworkDetail.description.slice(0,300)}...`:o.artworkDetail.description},null,8,Ua),o.artworkDetail.description.length>300?(y(),x("a",{key:0,id:"mview-"+o.isDesktop+"-read-more-"+o.artworkDetail.id,class:"href",onClick:s[2]||(s[2]=pe(l=>t(o.artworkDetail.description,o.artworkDetail.id,"mview-"+o.isDesktop+"-read-more-","mview-"+o.isDesktop+"-description-"),["prevent"]))},g(e.$t("readMore")),9,Va)):R("",!0)])):R("",!0),r("div",Ea,[r("span",{class:j(["italic text-color-secondary",{"font-bold text-red-400":o.previewMode}])},g(o.previewMode?e.$t("willBePublishedOn"):e.$t("publishedOn")),3),T(" "+g(e.formatDate(o.artworkDetail.scheduled_post)),1)]),o.artworkDetail.artwork_has_tags&&o.artworkDetail.artwork_has_tags.length?(y(),x("div",qa,[(y(!0),x(he,null,ve(o.artworkDetail.artwork_has_tags,l=>(y(),x("span",{key:l.artwork_tags.id,class:"tag"},[k(a,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:K(()=>[T(g(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):R("",!0)])}}},pt=fe(Ma,[["__scopeId","data-v-35c1316f"]]),Ta=["href","onClick"],Ba={class:"overflow-hidden relative text-center rounded-md"},Fa={key:0},Da={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ja=["href"],Na=["src"],Ha={class:"overflow-hidden relative text-center rounded-md"},Qa={key:0},za={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Wa=["href"],Ga=["src"],Ja={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(o,{emit:t}){const e=o,s=qe();Ve(()=>e.currentWorkId,d=>{l.value=d});const a=ea(),l=b(e.currentWorkId),n=fa("(min-width: 1024px)"),u=d=>{n.value&&!e.isMiniList||e.isMiniList?(l.value=d,e.view(d)):a.replace({path:"/a/"+d})},m=b([]),h=d=>{if(m.value.includes(d)){const w=m.value.indexOf(d);m.value.splice(w,1)}else m.value.push(d);t("feedManageList",m.value)};return Ve(()=>e.manageMode,d=>{d===!1&&(m.value=[])}),(d,w)=>{const f=Pe;return y(),x("section",{class:j(o.sectionClass)},[(y(!0),x(he,null,ve(o.works,i=>(y(),x("span",{key:i.id,class:j(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&l.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":m.value.includes(i.id)||l.value==i.id}])},[!d.isMobile()&&!o.isHref&&!o.isMiniList?(y(),x("a",{key:0,href:"/a/"+i.id,onClick:pe(c=>o.manageMode?h(i.id):o.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Ba,[i._count.artwork_assets>1&&!d.applyExplicitFilter(L(s),i.is_explicit)?(y(),x("p",Fa,g(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(L(s),i.is_explicit)?(y(),x("span",Da,g(d.$t("explicitContent")),1)):R("",!0),r("a",{href:"/a/"+i.id,class:j([{"animate-wigglefast":o.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(L(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[0]||(w[0]=(...c)=>d.imageLoadError&&d.imageLoadError(...c))},null,42,Na)],10,ja)])],8,Ta)):(y(),ie(f,{key:1,onClick:c=>o.manageMode?h(i.id):u(i.id)},{default:K(()=>[r("div",Ha,[i._count.artwork_assets>1&&!d.applyExplicitFilter(L(s),i.is_explicit)?(y(),x("p",Qa,g(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(L(s),i.is_explicit)?(y(),x("span",za,g(d.$t("explicitContent")),1)):R("",!0),r("a",{href:"/a/"+i.id,onClick:w[2]||(w[2]=pe(c=>d.void,["prevent"])),class:j([{"animate-wigglefast":o.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(L(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[1]||(w[1]=(...c)=>d.imageLoadError&&d.imageLoadError(...c))},null,42,Ga)],10,Wa)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ya=fe(Ja,[["__scopeId","data-v-a0a41970"]]),Ka={class:"artist-works"},Xa={class:"heading"},Za={key:0,class:"pagination-controller"},es={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(o){const t=o,e=t.artworkDetail,{oApiConfiguration:s,fetchOptions:a}=_e(),l=yt(s,a()),n=b(null);Se(()=>{t.keepArtistPageNumber||(h.page=-1),d(e.users.id)});const u=b(!0),m=b([]),h=Je({page:0,perPage:t.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),d=async(i,c)=>{u.value=!0,h.options.nextPrevLoading=!0,i!==n.value&&(n.value=i,h.page=-1),c==="prev"?h.page-=1:h.page+=1;const[_,S,B]=await l.getUserArtworks({userId:i,pagination:{page:h.page,perPage:h.perPage}});B?(u.value=!1,f()):(S.next_previous.prev_page===null||S.next_previous.prev_page===void 0?h.options.disableArtistPrevButton=!0:h.options.disableArtistPrevButton=!1,S.next_previous.next_page===null||S.next_previous.next_page===void 0?h.options.disableArtistNextButton=!0:h.options.disableArtistNextButton=!1,m.value=_),h.options.nextPrevLoading=!1,u.value=!1},w=b(!1),f=()=>{w.value=!0};return(i,c)=>{const _=Pe;return y(),x("div",Ka,[r("div",Xa,[r("span",null,[T(g(i.$t("artworks.moreArtworkBy"))+" ",1),o.artworkDetail.users?(y(),ie(_,{key:0,to:"/profile/"+o.artworkDetail.users.username,class:"text-colored"},{default:K(()=>[T(g(o.artworkDetail.users.username)+" <"+g(o.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):R("",!0)]),k(_,{to:"/profile/"+o.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:K(()=>[k(O,{name:"i-ci-external-link"})]),_:1},8,["to"])]),k(Me,{loading:u.value,error:w.value,class:"mt-2"},null,8,["loading","error"]),$(k(Ya,{class:j(["gap-2 md:gap-4",[h.options.nextPrevLoading?"animate-pulse":"",o.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:m.value,view:o.view,"is-href":o.isHref,"is-mini-list":!0,"current-work-id":o.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[A,!u.value&&!w.value]]),o.artworkDetail.users?$((y(),x("div",Za,[r("span",{onClick:c[0]||(c[0]=S=>h.options.disableArtistPrevButton?null:d(o.artworkDetail.users.id,"prev"))},[k(O,{name:"i-ion-chevron-back"})]),r("span",{onClick:c[1]||(c[1]=S=>h.options.disableArtistNextButton?null:d(o.artworkDetail.users.id,"next"))},[k(O,{name:"i-ion-chevron-forward"})])],512)),[[A,!u.value]]):R("",!0)])}}},ht=fe(es,[["__scopeId","data-v-a626d965"]]);function ts(o,t){return{createCollection:async(i,c)=>{try{const{data:_}=await new me(o).create({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},t);return[_.success,_.data,null]}catch(_){return[null,null,_]}},getInfo:async i=>{try{return[(await new me(o).detail(i,t)).data,null]}catch(c){return[null,c]}},countCollections:async i=>{try{const{data:c}=await new Ee(o).countUserCollections(i,t);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkCollections:async i=>{try{const{data:c}=await new Ee(o).countUserArtworkCollections(i,t);return[c.data.total,null]}catch(c){return[null,c]}},fetchCollections:async i=>{try{const{data:c}=await new me(o).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,t),_=c.data.collections,S=c.data.pagination;let B=!0;return S.current_page===S.total_page&&(B=!1),[_,B,null]}catch(c){return[null,!1,c]}},listCollectionItems:async i=>{try{const{data:c}=await new me(o).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,t),_=c.data.pagination;let S=!0;return _.current_page===_.total_page&&(S=!1),[c.data.items,S,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:_}=await new me(o).getCurrentSaveInfo(i,c,t);return[_.data,null]}catch(_){return[null,_]}},addItem:async i=>{try{return await new me(o).addItemToCollection(i.type,i.collectionId,{id:i.workId},t),[!0,null]}catch(c){return[null,c]}},removeItem:async i=>{try{const{data:c}=await new me(o).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},t);return[c.success,null]}catch(c){return[null,c]}},update:async i=>{try{const{data:c}=await new me(o).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[c.success,null]}catch(c){return[null,c]}},deleteCollection:async i=>{try{const{data:c}=await new me(o).collectionsIdDelete(i,t);return[c.success,null]}catch(c){return[null,c]}}}}const as={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},ss={class:"flex flex-row justify-between w-full"},os={class:"title"},ls={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ns={class:"list"},rs={class:"overflow-y-scroll pr-2 max-h-60"},is=["onClick"],cs={class:"flex flex-row justify-between"},us={class:"flex float-right flex-row gap-2 mt-4"},ds=["placeholder"],ms={class:"flex flex-row justify-between mt-2"},ps={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(o,{expose:t,emit:e}){const s=o,a=qe(),{oApiConfiguration:l,fetchOptions:n}=_e(),u=ts(l,n());Se(()=>{f(),c()});const m=b({pagination:{page:0,perPage:10},loading:!1}),h=b(!1),d=b(!1),w=b([]),f=async(E=!1)=>{w.value=[],E||(m.value.loading=!0);const[q,Q,ye]=await u.fetchCollections({userId:a.user.id,type:"artwork",pagination:{page:m.value.pagination.page,perPage:m.value.pagination.perPage}});m.value.loading=!1,ye&&(h.value=!0),ye||(q&&q.length>0?(Q?(m.value.pagination.page+=1,_.value=!0):_.value=!1,q.forEach(se=>{w.value.push(se)})):d.value=!0)},i=b([]),c=async()=>{h.value=!1,i.value=[],B.value=[],V.value=[],await setTimeout(async()=>{const[E,q]=await u.getCurrentSaveInfo("artwork",s.workId);if(q)h.value=!0;else for(const Q of E)B.value.push(Q.collection_id),i.value.push(Q.collection_id)},300)},_=b(!0),S=async()=>{await f({isLoadMore:!0}),await c()},B=b([]),V=b([]),G=E=>{if(B.value.includes(E)){V.value.push(E);const q=B.value.indexOf(E);B.value.splice(q,1)}else if(B.value.push(E),V.value.includes(E)){const q=V.value.indexOf(E);V.value.splice(q,1)}},J=async()=>{try{for(const q of B.value)await u.addItem({collectionId:q,type:"artwork",workId:s.workId});if(V.value.length)for(const q of V.value)await u.removeItem({collectionId:q,type:"artwork",workId:s.workId});let E=!1;B.value.length===0&&i.value.length===V.value.length&&(E=!0),await c(),X().closeModal(s.modalId),e("save",E)}catch{}},Y=b(""),I=b(!1),oe=async()=>{I.value=!1;const[E,q,Q]=await u.createCollection("artwork",{title:Y.value,isPublic:1,description:""});E?(w.value=[],H(),m.value.pagination.page=0,await f(),await c(),Y.value="",N()):I.value=!0},ae=b(!1),N=()=>{ae.value=!0,setInterval(()=>{ae.value=!1},5e3)},H=()=>{B.value=[]},F=()=>{X().closeModal(s.modalId),H()};return t({fetchCollection:f,fetchCurrentSaved:c}),(E,q)=>(y(),x("div",null,[r("div",as,[r("div",null,[r("div",ss,[r("span",os,g(E.$t("collections.addItem.form.title")),1),r("div",ls,[r("div",{class:"modal-close",onClick:q[0]||(q[0]=Q=>F())},[k(O,{name:"close",class:"text-2xl"})])])]),$(r("div",ns,[r("div",rs,[(y(!0),x(he,null,ve(w.value,(Q,ye)=>(y(),x("div",{key:Q.id,class:j(["item",[{"mt-2":ye!==0},B.value.includes(Q.id)?"button-color text-white":"theme-color-secondary"]]),onClick:se=>G(Q.id)},[r("div",cs,[r("span",null,g(Q.name),1),r("span",{class:j(["ml-2 font-bold",B.value.includes(Q.id)?"text-white":"text-colored"])},g(Q._count.collection_has_artworks),3)])],10,is))),128))]),$(r("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=Q=>S())},[k(O,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[A,_.value]]),r("div",us,[r("button",{class:"cancel-button",onClick:q[2]||(q[2]=Q=>F())},g(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:q[3]||(q[3]=Q=>J())},g(E.$t("save")),1)])],512),[[A,!m.value.loading&&!h.value&&!d.value]]),$(r("div",null,[$(r("input",{"onUpdate:modelValue":q[4]||(q[4]=Q=>Y.value=Q),type:"text",class:j(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":I.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,ds),[[Re,Y.value]]),r("div",ms,[r("div",null,[$(r("span",{class:"font-bold text-green-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.collectionCreated")),513),[[A,ae.value]]),$(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[A,I.value]])]),$(r("button",{class:"primary-button",onClick:q[5]||(q[5]=Q=>oe())},g(E.$t("create")),513),[[A,Y.value&&Y.value.length>0]])])],512),[[A,!m.value.loading&&!h.value&&!d.value]])]),k(Me,{loading:m.value.loading,empty:d.value,error:h.value,fetch:f},null,8,["loading","empty","error"])])]))}},hs=fe(ps,[["__scopeId","data-v-61879341"]]);function vs(o,t){return{createAlbum:async(i,c)=>{try{const{data:_}=await new de(o).createAlbum({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},t);return[_.success,_.data,null]}catch(_){return[null,null,_]}},getInfo:async i=>{try{return[(await new de(o).getAlbumById(i,t)).data,null]}catch(c){return[null,c]}},countAlbums:async i=>{try{const{data:c}=await new Ee(o).countUserAlbums(i,t);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkAlbums:async i=>{try{const{data:c}=await new Ee(o).countUserArtworkAlbums(i,t);return[c.data.total,null]}catch(c){return[null,c]}},fetchAlbums:async(i,c,_,S)=>{try{const{data:B}=await new de(o).listUserAlbums(i,_,S,c,t),V=B.data.pagination;let G=!0;return V.current_page===V.total_page&&(G=!1),[B.data.albums,G,null]}catch(B){return[null,!1,B]}},listAlbumItems:async i=>{try{const{data:c}=await new de(o).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,t),_=c.data.pagination;let S=!0;return _.current_page===_.total_page&&(S=!1),[c.data.works,S,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:_}=await new de(o).getCurrentAlbumSaveInfo(i,c,t);return[_.data,null]}catch(_){return[null,_]}},addItems:async(i,c)=>{try{for(const _ of i)await new de(o).addWorkToAlbum({album_id:_,work_ids:c},t);return[!0,null]}catch(_){return[null,_]}},removeItems:async(i,c)=>{try{const{data:_}=await new de(o).removeWorkFromAlbum({album_id:i,work_ids:c},t);return[_.success,null]}catch(_){return[null,_]}},update:async i=>{try{const{data:c}=await new de(o).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[c.success,null]}catch(c){return[null,c]}},deleteAlbum:async i=>{try{const{data:c}=await new de(o).deleteAlbum(i,t);return[c.success,null]}catch(c){return[null,c]}}}}const fs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},ws={class:"flex flex-row justify-between w-full"},gs={class:"title"},ys={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},bs={class:"list"},ks={class:"overflow-y-scroll pr-2 max-h-60"},xs=["onClick"],_s={class:"flex float-right flex-row gap-2 mt-4"},Cs={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(o,{expose:t,emit:e}){const s=o;Se(()=>{c(),s.workIds.length||B()});const a=qe(),{oApiConfiguration:l,fetchOptions:n}=_e(),u=vs(l,n()),m=async()=>{h.value=[],d.value.pagination.page=0,_(),await c()},h=b([]),d=b({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=b(!0),f=b(!1),i=b(!1),c=async()=>{_(),w.value=!0;const[N,H,F]=await u.fetchAlbums(a.user.id,"artwork",d.value.pagination.page===0?d.value.pagination.firstLoad:d.value.pagination.perPage,d.value.pagination.page);F&&(f.value=!0),N.length?(H?(d.value.pagination.page+=1,d.value.showLoadMore=!0):d.value.showLoadMore=!1,N.forEach(E=>{h.value.push(E)})):i.value=!0,w.value=!1},_=()=>{i.value=!1,f.value=!1},S=b([]),B=async()=>{S.value=[],G.value=[],J.value=[];const[N,H]=await u.getCurrentSaveInfo("artwork",s.workId);for(const F of N)G.value.push(F.album_id),S.value.push(F.album_id)},V=async()=>{await c(),await B()},G=b([]),J=b([]),Y=N=>{if(G.value.includes(N)){J.value.push(N);const H=G.value.indexOf(N);G.value.splice(H,1)}else if(G.value.push(N),J.value.includes(N)){const H=J.value.indexOf(N);J.value.splice(H,1)}},I=async()=>{const[N,H]=await u.addItems(G.value,s.workIds.length?s.workIds:[s.workId]);if(!s.workIds.length&&J.value.length)for(const F of J.value)await u.removeItems(F,[s.workId]);if(N){let F=!1;s.workIds.length||G.value.length===0&&S.value.length===J.value.length&&(F=!0),oe(),X().closeModal(s.modalId),e("addedToAlbum",s.workIds.length?!0:F)}},oe=()=>{G.value=[]},ae=()=>{X().closeModal(s.modalId),oe()};return t({fetchCurrentSaved:B,fetchAlbums:c}),(N,H)=>(y(),x("div",null,[r("div",fs,[r("div",null,[r("div",ws,[r("span",gs,g(N.$t("albums.selectAlbums")),1),r("div",ys,[r("div",{class:"modal-close",onClick:H[0]||(H[0]=F=>ae())},[k(O,{name:"close",class:"text-2xl"})])])]),r("div",bs,[$(r("div",null,[r("div",ks,[(y(!0),x(he,null,ve(h.value,(F,E)=>(y(),x("div",{key:F.id,class:j(["item",[{"mt-2":E!==0},G.value.includes(F.id)?"button-color text-white":"theme-color-secondary"]]),onClick:q=>Y(F.id)},[r("span",null,g(F.name),1),r("span",{class:j(["ml-2 font-bold",G.value.includes(F.id)?"text-white":"text-colored"])},g(F._count.album_has_artworks),3)],10,xs))),128))]),$(r("div",{class:"mt-2 primary-button",onClick:H[1]||(H[1]=F=>V())}," Load More ",512),[[A,d.value.showLoadMore]]),r("div",_s,[r("button",{class:"cancel-button",onClick:H[2]||(H[2]=F=>ae())},g(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:H[3]||(H[3]=F=>I())},g(N.$t("save")),1)])],512),[[A,!w.value&&!i.value&&!f.value]])])]),k(Me,{loading:w.value,empty:i.value,error:f.value,fetch:m},null,8,["loading","empty","error"])])]))}},$s=fe(Cs,[["__scopeId","data-v-92721f88"]]),Is={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},As={class:"mb-4"},Rs={class:"flex flex-row justify-end gap-2"},Ss={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(o,{emit:t}){const e=o,s=a=>{a&&t("onAccept",!0),X().closeModal(e.modalId)};return(a,l)=>(y(),x("div",null,[r("div",Is,[r("p",As,g(o.message),1),r("div",Rs,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>s(!1))},g(a.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>s(!0))},g(a.$t("yes")),1)])])]))}},Ps={class:"splash"},Ls={class:"flex flex-row"},Os={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(o){return(t,e)=>(y(),x("div",Ps,[r("div",Ls,[k(O,{name:o.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,g(o.text),1)])]))}},Us=fe(Os,[["__scopeId","data-v-86e964a1"]]),_t=o=>(wt("data-v-93d8d761"),o=o(),gt(),o),Vs={class:"opt-modal modal-layer"},Es={class:"opt-modal__title"},qs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ms={class:"opt-modal__content"},Ts={class:"report"},Bs={class:"report__reason_opt"},Fs={class:"report__title"},Ds=["onClick"],js={class:"report__title"},Ns=["placeholder"],Hs={class:"report__buttons"},Qs={class:"text-justify"},zs={class:"mt-2"},Ws=_t(()=>r("i",null,"Your report ID:",-1)),Gs=T("\xA0 "),Js=_t(()=>r("i",null,"Report date:",-1)),Ys=T("\xA0 "),Ks={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(o){const t=o,{oApiConfiguration:e,fetchOptions:s}=_e(),a=bt(e,s()),l=b(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=b({selectedReasons:[],reasonDescription:"",enableSubmit:Ue(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),u=i=>{if(!n.value.selectedReasons.includes(i))n.value.selectedReasons.push(i);else{const c=n.value.selectedReasons.indexOf(i);n.value.selectedReasons.splice(c,1)}},m=b(!1),h=b({}),d=async()=>{m.value=!1,h.value={};const[i,c,_]=await a.createNewReport({type:t.type,postId:t.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});_&&!i||(m.value=!0,h.value=c)},w=()=>{X().closeModal("report-modal"),f()},f=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",m.value=!1};return(i,c)=>{const _=Pe;return y(),x("div",null,[r("div",Vs,[r("div",Es,[r("h1",null,g(m.value?i.$t("reports.reportSubmitted"):o.reportStatus.id?i.$t("reports.alreadyReported"):i.$t("reports.title")),1),r("div",qs,[r("div",{class:"modal-close",onClick:c[0]||(c[0]=S=>w())},[k(O,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",Ms,[$(r("div",Ts,[r("div",Bs,[r("div",Fs,g(i.$t("reports.selectReasons")),1),(y(!0),x(he,null,ve(l.value,S=>(y(),x("span",{key:S,class:j([n.value.selectedReasons.includes(S)?"button-color":"theme-color-secondary"]),onClick:B=>u(S)},[r("div",null,[$(k(O,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[A,!n.value.selectedReasons.includes(S)]]),$(k(O,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[A,n.value.selectedReasons.includes(S)]])]),r("div",{class:j(["reason",[n.value.selectedReasons.includes(S)?"text-white":"text-color-secondary"]])},g(i.$t("reports.reasons."+S)),3)],10,Ds))),128))]),r("div",null,[r("div",js,g(i.$t("reports.describeReason")),1),$(r("textarea",{"onUpdate:modelValue":c[1]||(c[1]=S=>n.value.reasonDescription=S),class:"report__reason_description",placeholder:i.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Ns),[[Re,n.value.reasonDescription]])]),r("div",Hs,[r("button",{class:"cancel-button",onClick:c[2]||(c[2]=S=>w())},g(i.$t("cancel")),1),r("button",{class:j(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=S=>n.value.enableSubmit?d():null)},g(i.$t("report")),3)])],512),[[A,!m.value&&!o.reportStatus.id]]),$(r("div",null,[r("div",Qs,g(i.$t("reports.reportSubmittedMessage")),1),r("div",zs,[r("div",null,[Ws,Gs,r("b",null,"#"+g(h.value.id),1)]),r("div",null,[Js,Ys,r("b",null,g(i.formatDate(h.value.created_at)),1)])])],512),[[A,m.value]]),$(r("div",null,[T(g(i.$t("reports.alreadyReportedDescription"))+" ",1),k(_,{class:"underline href",to:"/reports"},{default:K(()=>[T(g(i.$t("reports.reportStatus")),1)]),_:1})],512),[[A,o.reportStatus.id]])])])])}}},Xs=fe(Ks,[["__scopeId","data-v-93d8d761"]]),Zs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},eo={class:"title"},to={class:"mt-2"},ao={class:"alert-success"},so={class:"italic"},oo={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},lo=["placeholder"],no={class:"flex float-right flex-row gap-2"},ro={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(o){const t=o,{oApiConfiguration:e,fetchOptions:s}=_e(),a=na(e,s()),l=()=>{u.value=""},n=()=>{m.value=!1,h.value=!1,d.value=!1,X().closeModal("share-to-feed-modal"),l()},u=b(""),m=b(!1),h=b(!1),d=b(!1),w=async()=>{m.value=!1,h.value=!0,d.value=!1;const[f,i,c]=await a.shareArtworkToFeed({text:u.value,workId:t.postId});f?(d.value=!0,setTimeout(()=>{n()},500)):m.value=!0,h.value=!1};return(f,i)=>(y(),x("div",null,[r("div",Zs,[r("span",eo,g(f.$t("feeds.share.artwork.title")),1),r("div",to,[$(r("div",ao,[r("span",so,g(f.$t("feeds.share.artwork.success")),1)],512),[[A,d.value]]),$(r("div",oo,[k(Ye,{class:"mr-2"}),T(" "+g(f.$t("feeds.form.postingYourUpdate")),1)],512),[[A,h.value]]),$(r("div",{class:"alert-danger"},g(f.$t("feeds.form.postFailure")),513),[[A,m.value]]),$(r("textarea",{"onUpdate:modelValue":i[0]||(i[0]=c=>u.value=c),class:"input form-input textarea",placeholder:f.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,lo),[[Re,u.value]]),r("div",no,[r("button",{class:"cancel-button",onClick:i[1]||(i[1]=c=>n())},g(f.$t("cancel")),1),r("button",{class:j(["primary-button"]),onClick:i[2]||(i[2]=c=>w())},g(f.$t("share")),1)])])])]))}},Ct=o=>(wt("data-v-33a38eae"),o=o(),gt(),o),io={class:"mx-auto w-full align-middle work-view md:w-1/2"},co={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},uo={class:"flex flex-row justify-center mb-2"},mo=Ct(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),po={class:"font-bold cursor-pointer"},ho={class:"mr-2 font-normal"},vo={class:"italic"},fo={key:1,class:"alert-success"},wo={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},go={class:"mr-4"},yo={class:"image-list"},bo=["src","data-source"],ko={class:"interactions"},xo={class:"reaction-counters"},_o={class:"counter"},Co={key:1,class:"counter"},$o={key:2,class:"counter"},Io={key:3,class:"counter"},Ao={key:0,class:"reactions"},Ro={class:"inline-block relative z-30 dropdown"},So={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Po={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Lo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Oo={key:2,class:"custom-divider"},Uo={key:4,class:"custom-divider"},Vo=["to"],Eo={class:"comments"},qo={key:0,class:"comment-box"},Mo={class:"flex flex-col"},To={class:"flex relative flex-col"},Bo=["readonly","rows","placeholder"],Fo={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Do={class:"comment-content"},jo=["src"],No={class:"w-full"},Ho={class:"flex justify-between"},Qo={class:"comment-time"},zo={class:"mt-4 reactions"},Wo=["onClick"],Go={key:0},Jo={key:0,class:"flex flex-row"},Yo=["onClick"],Ko=["onClick"],Xo={class:"inline-block relative ml-2 dropdown"},Zo={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},el={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},tl=["onClick"],al={key:0,class:"-mb-4 comment-box"},sl={class:"flex flex-col"},ol={class:"flex relative flex-col"},ll=["id","readonly","rows","placeholder"],nl=["onClick"],rl=["id"],il={key:0,class:"w-full"},cl={class:"float-left mb-2 text-xs italic text-color-secondary"},ul=["onClick"],dl={class:"flex flex-row justify-between"},ml=["src"],pl={class:"transition-all duration-150 cursor-pointer hover:font-bold"},hl={class:"leading-6 comment-time"},vl={class:"mt-2"},fl={key:0,class:"mt-2 reactions"},wl=Ct(()=>r("span",null,null,-1)),gl={class:"flex flex-row"},yl=["onClick"],bl={class:"inline-block relative ml-2 dropdown"},kl={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},xl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},_l={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Cl=["onClick"],$l=["onClick"],Il={key:3,class:"mt-4 w-full text-xs italic text-center"},Al={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},emits:["stopLoading","showEmpty","showError"],setup(o,{expose:t,emit:e}){const s=o,a=qe(),{oApiConfiguration:l,fetchOptions:n}=_e(),{applyExplicitFilter:u,removeExplicitFilter:m,generateSemiCompressedArtworkUrl:h}=ta(),d=yt(l,n()),w=bt(l,n()),f=aa(),{$router:i}=sa(),c=ft();Ve(()=>c.query,()=>{_(),X().closeModal("collection-selection-modal"),X().closeModal("album-selection-modal"),X().closeModal("report-modal")}),Se(()=>{s.id!==""&&F(s.id),window.addEventListener("keydown",p=>{const v=document.getElementById("collection-selection-modal"),P=document.getElementById("album-selection-modal"),U=document.getElementById("report-modal"),te=document.querySelectorAll(".viewer-in");p.key==="Escape"&&(!v||v.style.display!="flex")&&(!P||P.style.display!="flex")&&(!U||U.style.display!="flex")&&!te.length&&_()})});const _=()=>{X().closeModal(`${s.section}-modal`)},S=b(!1),B=()=>{S.value=!1,m()},V=s.id==="",G=async p=>{await d.incraseViewCount(p)},J=b(!1),Y=b(!0),I=b({}),oe=b(!1),ae=b(!1),N=b(!1),H=b([]),F=async p=>{Z.value="",se.value=[],le.value=[],Y.value=!0;const[v,P]=await d.getWorkById(p);P?P=="Work not found"?e("showEmpty"):e("showError"):(I.value=v,H.value=[],v.artwork_assets.forEach(te=>{H.value.push({thumbnail:h(te.bucket,te.filename,!0),source:h(te.bucket,te.filename,!1)})}),!a.loggedIn&&v.is_explicit||v.is_explicit&&!a.user.user_settings.show_explicit?(S.value=!0,u()):S.value=!1,oe.value=v.liked,ae.value=v.saved,N.value=v.in_album,nt().formatApiToWeb(v.scheduled_post)<nt().currentUtcTime()?(await $t(p),a.loggedIn&&await q(p),(!a.loggedIn||a.user.id!==v.users.id)&&await G(p)):a.user.id!==v.users.id?i.push("/"):J.value=!0),Y.value=!1,e("stopLoading")},E=b({}),q=async p=>{const[v,P]=await w.getReportStatus({type:"artwork",postId:p});P||(v.length?E.value=v[0]:E.value={})},Q=async()=>{const[p,v]=await d.like({workId:I.value.id});if(p){oe.value=!0;const P=document.getElementById("like-button");P.classList.add("animate-bounce"),setInterval(()=>{P.classList.remove("animate-bounce")},2500)}},ye=async()=>{const[p,v]=await d.unlike({workId:I.value.id});p&&(oe.value=!1)},se=b([]),Te=Je({perPage:3,page:0}),$e=b([]),tt=async p=>{const[v,P]=await d.getComments({workId:p,pagination:{page:Te.page,perPage:Te.perPage}});if(v)return v.pagination.current_page===v.pagination.first_last.last_page?Le.value=!1:Le.value=!0,v.comments.forEach(U=>{U.liked&&we.value.push(U.id),$e.value.push(U.id)}),v.comments},$t=async p=>{try{(await tt(p)).forEach(P=>se.value.push(P))}catch{}},Le=b(!1),It=async p=>{try{Te.page+=1,(await tt(p)).forEach(P=>se.value.push(P))}catch{}},Z=b(),Be=200,At=Ue(()=>Z.value!=null&&Z.value!==""?Be-Z.value.length:Be),be=b(!1),Rt=async()=>{be.value=!0;try{const[p,v,P]=await d.addComment({workId:I.value.id,comment:Z.value});p&&(Z.value="",se.value.splice(0,0,v),se.value.join(),$e.value.splice(0,0,v.id),$e.value.join())}catch{}be.value=!1},St=async p=>{const[v,P]=await d.deleteComment({commentId:p});if(v){const U=$e.value.indexOf(p);se.value.splice(U,1),$e.value.splice(U,1)}},we=b([]),Pt=async p=>{const[v,P]=await d.likeComment({commentId:p});if(v){we.value.push(p);const U=document.getElementById(`comment-like-button-${p}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Lt=async p=>{const[v,P]=await d.unlikeComment({commentId:p});if(v){const U=we.value.indexOf(p);we.value.splice(U,1)}},Fe=Je({perPage:2,page:0}),le=b([]),ke=b([]),De=b(!0),at=async p=>{const[v,P,U]=await d.getCommentReplies({commentId:p,pagination:{page:Fe.page,perPage:Fe.perPage}});if(!U)return P.current_page===P.first_last.last_page&&(De.value=!1),v.map(te=>ke.value.push(te.id)),v},Ie=b(0),je=async p=>{De.value=!0,ke.value=[];try{const v=await at(p);le.value={[p]:v},v.forEach(U=>{U.liked&&ge.value.push(U.id)}),Ie.value&&Ne(Ie.value);const P=document.getElementById(`comment-replies-${p}`);P.classList.add("flex"),P.classList.remove("hidden"),Ie.value=p}catch{}},Ne=p=>{const v=document.getElementById(`comment-replies-${p}`);v.classList.remove("flex"),v.classList.add("hidden"),Ie.value=0},Ot=async p=>{Fe.page+=1;try{(await at(p)).forEach(P=>{le.value[p].push(P)})}catch{}},Oe=b(0),Ut=async p=>{await je(p),Oe.value=p},ee=b(),He=200,Vt=Ue(()=>ee.value!=null&&ee.value!==""?He-ee.value.length:He),xe=b(!1),Et=async p=>{xe.value=!0;try{const[v,P,U]=await d.addReply({commentId:p,reply:ee.value});v&&(je(p),ee.value="",le.value[p].splice(0,0,P),le.value[p].join(),Oe.value=0,ke.value.splice(0,0,P.id),ke.value.join())}catch{}xe.value=!1},qt=async(p,v)=>{const[P,U]=await d.deleteReply({replyId:v});if(P){const te=ke.value.indexOf(v);le.value[p].splice(te,1),ke.value.splice(te,1)}},ge=b([]),Mt=async p=>{const[v,P]=await d.likeReply({replyId:p});if(v){ge.value.push(p);const U=document.getElementById(`reply-like-button-${p}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Tt=async p=>{const[v,P]=await d.unlikeReply({replyId:p});if(v){const U=ge.value.indexOf(p);ge.value.splice(U,1)}},Qe=b(!1),ze=b(!1),st=async p=>{const[v,P]=await d.deleteWork({workId:[p]});v&&(ze.value=!0,setTimeout(()=>{i.push("/")},1500))},We=b(null),Bt=()=>{X().openModal("collection-selection-modal"),We.value.fetchCollection(),We.value.fetchCurrentSaved()},Ft=p=>{p?ae.value=!1:ae.value=!0,it().animate("save-to-collection-button")},ot=b(null),Dt=()=>{X().openModal("album-selection-modal"),ot.value.fetchCurrentSaved()},jt=p=>{p?N.value=!1:N.value=!0,it().animate("save-to-album-button")},Nt=()=>{X().openModal("share-to-feed-modal")},lt=b(!1);let Ht;const Qt=p=>{const v=b(f.public.appUrl+p),{copy:P}=wa({source:v});P(),ra().splash(Ht,lt,"copy-alert")},zt=b(null),Wt=()=>{X().openModal("report-modal")};return t({view:F}),(p,v)=>{const P=la("viewer"),U=Pe,te=rt("lazy"),Gt=rt("auto-animate");return y(),x(he,null,[$(r("div",io,[k(Me,{loading:Y.value},null,8,["loading"])],512),[[A,Y.value&&!p.isMobile()&&V]]),$(r("div",{class:j(["work-container work-view",V?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:j(["left-side",{"overflow-y-scroll mr-6":V}])},[J.value&&!ze.value?(y(),x("div",co,[r("div",uo,[k(O,{name:"i-ion-alert-outline"}),mo]),r("div",po,[r("span",{class:"text-red-500",onClick:v[0]||(v[0]=C=>Qe.value=!0)},g(p.$t("artworks.deleteArtwork")),1),$(r("div",null,[r("span",ho,[T(g(p.$t("alert.areYouSure"))+" ",1),r("span",vo,"("+g(p.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:v[1]||(v[1]=C=>st(I.value.id))},g(p.$t("yes")),1),r("span",{class:"hover:underline",onClick:v[2]||(v[2]=C=>Qe.value=!1)},g(p.$t("no")),1)],512),[[A,Qe.value]])])])):R("",!0),ze.value?(y(),x("div",fo,g(p.$t("artworks.successDelete")),1)):R("",!0),$(r("div",wo,[r("span",go,g(L(a).loggedIn?p.$t("explicitContentAlert"):p.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:v[3]||(v[3]=pe(C=>B(),["prevent"]))},g(p.$t("show")),1)],512),[[A,S.value]]),r("div",yo,[k(P,{options:{url:"data-source"},images:H.value,class:"overflow-hidden rounded-md"},{default:K(()=>[(y(!0),x(he,null,ve(H.value,(C,M)=>$((y(),x("img",{key:C.thumbnail,loading:"lazy",src:C.thumbnail,"data-source":C.source,class:j(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":S.value},S.value?"brightness-50":"brightness-100"]),onError:v[4]||(v[4]=(...Ae)=>p.imageLoadError&&p.imageLoadError(...Ae))},null,42,bo)),[[te,C.thumbnail]])),128))]),_:1},8,["images"])]),r("div",ko,[r("div",xo,[I.value.is_explicit?(y(),x("span",{key:0,class:j(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",V?"theme-color-secondary":"bg-tag"])},"E",2)):R("",!0),$(r("span",_o,[r("b",null,g(p.shortNumber(I.value.views)),1),T(" "+g(p.$t("count.views")),1)],512),[[A,I.value.views>0]]),I.value._count?$((y(),x("span",Co,[r("b",null,g(p.thousand(I.value._count.artwork_likes)),1),T(" "+g(p.$t("count.likes")),1)],512)),[[A,I.value._count.artwork_likes>0]]):R("",!0),I.value._count?$((y(),x("span",$o,[r("b",null,g(p.thousand(I.value._count.artwork_comments)),1),T(" "+g(p.$t("count.comments")),1)],512)),[[A,I.value._count.artwork_comments>0]]):R("",!0),I.value._count?$((y(),x("span",Io,[r("b",null,g(p.thousand(I.value._count.artwork_collection_has_works)),1)],512)),[[A,I.value._count.artwork_collection_has_works]]):R("",!0)]),J.value?R("",!0):(y(),x("div",Ao,[L(a).loggedIn?(y(),x("span",{key:0,onClick:v[5]||(v[5]=C=>oe.value?ye():Q())},[$(k(O,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[A,oe.value]]),$(k(O,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[A,!oe.value]])])):R("",!0),L(a).loggedIn?(y(),x("span",{key:1,onClick:v[6]||(v[6]=C=>Bt())},[$(k(O,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[A,ae.value]]),$(k(O,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[A,!ae.value]])])):R("",!0),L(a).loggedIn&&I.value.users&&L(a).user.id===I.value.users.id?(y(),x("span",{key:2,onClick:v[7]||(v[7]=C=>Dt())},[$(k(O,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[A,N.value]]),$(k(O,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[A,!N.value]])])):R("",!0),L(a).loggedIn?(y(),x("span",{key:3,onClick:v[8]||(v[8]=C=>Nt())},[k(O,{name:"i-uil-share",class:"hover:text-blue-500"})])):R("",!0),r("div",Ro,[r("button",So,[r("span",null,[k(O,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Po,[r("div",Lo,[V?(y(),ie(U,{key:0,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[k(O,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(p.$t("open")),1)]),_:1},8,["to"])):R("",!0),V?(y(),ie(U,{key:1,to:"/a/"+I.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[k(O,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(p.$t("openInNewTab")),1)]),_:1},8,["to"])):R("",!0),V?(y(),x("div",Oo)):R("",!0),L(a).loggedIn&&I.value.users&&L(a).user.id!=I.value.users.id&&!L(a).user.is_admin&&!L(a).user.is_moderator?(y(),x("div",{key:3,to:"#",class:j(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!V}]),onClick:v[9]||(v[9]=C=>Wt())},[k(O,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(p.$t("report")),1)],2)):R("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:v[10]||(v[10]=C=>Qt("/a/"+I.value.id))},[k(O,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(p.$t("copySharableLink")),1)]),L(a).loggedIn&&I.value.users&&L(a).user.id===I.value.users.id?(y(),x("div",Uo)):R("",!0),L(a).loggedIn&&I.value.users&&L(a).user.id===I.value.users.id?(y(),ie(U,{key:5,to:"/works/update/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[k(O,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("update")),1)]),_:1},8,["to"])):R("",!0),L(a).loggedIn&&I.value.users&&L(a).user.id===I.value.users.id?(y(),x("div",{key:6,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:v[11]||(v[11]=C=>p.openModal("work-deletion-confirm-modal"))},[k(O,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,Vo)):R("",!0)])])])]))]),k(pt,{section:o.section,class:"flex-md-hidden","is-modal":V,"artwork-detail":I.value,"preview-mode":J.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(y(),ie(oa,null,[Y.value?R("",!0):(y(),ie(ht,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":I.value,view:F,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:j(["right-side",{"pr-3 overflow-y-scroll":V}])},[k(pt,{section:o.section,class:"hidden-md-flex","is-modal":V,"artwork-detail":I.value,"preview-mode":J.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),Y.value?R("",!0):(y(),ie(ht,{key:0,class:"flex-md-hidden","artwork-detail":I.value,view:F,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),r("section",Eo,[L(a).loggedIn&&!J.value?(y(),x("div",qo,[r("div",Mo,[r("div",To,[$(r("textarea",{"onUpdate:modelValue":v[12]||(v[12]=C=>Z.value=C),class:j(["input form-input",[{"cursor-not-allowed":be.value},{"theme-color-secondary textarea":V}]]),readonly:be.value,cols:"30",rows:Z.value!=null&&Z.value!=""?"8":"0",placeholder:p.$t("comments.inputPlaceholder"),maxlength:Be,"data-gramm":"false"},null,10,Bo),[[Re,Z.value]]),$(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(L(At)),513),[[A,Z.value!=null&&Z.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:v[13]||(v[13]=pe(C=>Rt(),["prevent"]))},[$(k(O,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,Z.value!=null&&Z.value!=""&&!be.value]]),$(k(Ye,null,null,512),[[A,be.value]])])])])])):R("",!0),L(a).loggedIn?R("",!0):(y(),x("div",Fo,g(p.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",Do,[(y(!0),x(he,null,ve(se.value,C=>$((y(),x("div",{key:C.id,class:"flex flex-row w-full comment-item"},[k(U,{class:"mr-2",to:"/profile/"+C.users.username},{default:K(()=>[r("img",{class:"w-10 h-10 avatar",src:p.avatarCoverUrl(C.users.avatar_bucket,C.users.avatar_filename),onError:v[14]||(v[14]=(...M)=>p.imageLoadError&&p.imageLoadError(...M))},null,40,jo)]),_:2},1032,["to"]),r("div",No,[r("div",{class:j(["p-3 w-full rounded-md",V?"theme-color-secondary":"theme-color"])},[r("div",Ho,[k(U,{to:"/profile/"+C.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:K(()=>[T(g(C.users.name),1)]),_:2},1032,["to"]),r("div",Qo,g(p.formatDate(C.created_at,!0)),1)]),r("div",null,g(C.comment),1),r("div",zo,[r("div",{class:"cursor-pointer hover:underline",onClick:M=>Ie.value==C.id?Ne(C.id):je(C.id)},[C._count.artwork_comment_has_replies>0?(y(),x("span",Go,[r("b",null,g(p.shortNumber(C._count.artwork_comment_has_replies)),1),T(" "+g(C._count.artwork_comment_has_replies>1?p.$t("comments.replies.replies").toLowerCase():p.$t("comments.replies.reply").toLowerCase()),1)])):R("",!0)],8,Wo),L(a).loggedIn?(y(),x("div",Jo,[r("span",{class:"reaction",onClick:M=>we.value.includes(C.id)?Lt(C.id):Pt(C.id)},[$(k(O,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!we.value.includes(C.id)]]),$(k(O,{id:"comment-like-button-"+C.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,we.value.includes(C.id)]]),T(" "+g(p.shortNumber(C._count.artwork_comment_has_likes)),1)],8,Yo),r("span",{class:"reaction",onClick:M=>Ut(C.id)},[k(O,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Ko),r("div",Xo,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:v[15]||(v[15]=M=>Oe.value=0)},[r("span",null,[k(O,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Zo,[r("div",el,[k(U,{to:"/profile/"+C.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:v[16]||(v[16]=pe(()=>{},["prevent"]))},{default:K(()=>[k(O,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(p.$t("viewProfile")),1)]),_:2},1032,["to"]),L(a).loggedIn&&L(a).user.id===C.users.id?(y(),x("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>St(C.id)},[k(O,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,tl)):R("",!0)])])])])):R("",!0)])],2),L(a).loggedIn?$((y(),x("div",al,[r("div",sl,[r("div",ol,[$(r("textarea",{id:"reply-"+C.id,"onUpdate:modelValue":v[17]||(v[17]=M=>ee.value=M),class:j(["mt-2 w-full input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":V}]]),readonly:xe.value,cols:"30",rows:ee.value!=null&&ee.value!=""?"5":"0",placeholder:p.$t("comments.replies.write"),maxlength:He,"data-gramm":"false"},null,10,ll),[[Re,ee.value]]),$(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(L(Vt)),513),[[A,ee.value!=null&&ee.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:pe(M=>Et(C.id),["prevent"])},[$(k(O,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,ee.value!=null&&ee.value!=""&&!xe.value]]),$(k(Ye,null,null,512),[[A,xe.value]])],8,nl)])])],512)),[[A,Oe.value===C.id]]):R("",!0),r("div",{id:"comment-replies-"+C.id,class:"hidden flex-col mt-2"},[le.value[C.id]&&le.value[C.id].length?(y(),x("div",il,[r("span",cl,g(p.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>Ne(C.id)},g(p.$t("hide")),9,ul)])):R("",!0),(y(!0),x(he,null,ve(le.value[C.id],M=>(y(),x("div",{key:M.id,class:j(["p-3 mb-2 w-full rounded-md border-l-4",V?"theme-color-secondary":"theme-color"])},[r("div",dl,[k(U,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:K(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:p.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:v[18]||(v[18]=(...Ae)=>p.imageLoadError&&p.imageLoadError(...Ae))},null,40,ml),r("span",pl,g(M.users.name),1)]),_:2},1032,["to"]),r("span",hl,g(p.formatDate(M.created_at,!0)),1)]),r("div",vl,g(M.content),1),L(a).loggedIn?(y(),x("div",fl,[wl,r("div",gl,[r("span",{class:"reaction",onClick:Ae=>ge.value.includes(M.id)?Tt(M.id):Mt(M.id)},[$(k(O,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,ge.value.includes(M.id)]]),$(k(O,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!ge.value.includes(M.id)]]),T(" "+g(p.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,yl),r("div",bl,[r("button",kl,[r("span",null,[k(O,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",xl,[r("div",_l,[k(U,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:v[19]||(v[19]=pe(()=>{},["prevent"]))},{default:K(()=>[k(O,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(p.$t("viewProfile")),1)]),_:2},1032,["to"]),L(a).loggedIn&&L(a).user.id===M.users.id?(y(),x("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ae=>qt(C.id,M.id)},[k(O,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,Cl)):R("",!0)])])])])])):R("",!0)],2))),128)),le.value[C.id]&&De.value?(y(),x("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Ot(C.id)},g(p.$t("comments.replies.loadMore")),9,$l)):R("",!0)],8,rl)])])),[[Gt]])),128))]),I.value._count?$((y(),x("div",{key:2,class:"text-center capitalize href",onClick:v[20]||(v[20]=pe(C=>It(I.value.id),["prevent"]))},g(p.$t("comments.loadOlder")),513)),[[A,I.value._count.artwork_comments>3&&Le.value]]):R("",!0),$(r("div",{class:"w-full text-xs italic text-center"},g(p.$t("comments.reachedTheEnd")),513),[[A,se.value.length&&!Le.value]]),L(a).loggedIn&&!se.value.length&&!J.value?(y(),x("div",Il,g(p.$t("comments.noCommentYet")),1)):R("",!0)])],2),Y.value?R("",!0):(y(),ie(hs,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:We,"work-id":I.value.id,class:"modal",onSave:Ft},null,8,["work-id"])),!Y.value&&L(a).loggedIn&&I.value.users&&L(a).user.id==I.value.users.id?(y(),ie(L($s),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:ot,"modal-id":"album-selection-modal","work-id":I.value.id,class:"modal",onAddedToAlbum:jt},null,8,["work-id"])):R("",!0),k(Ss,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${p.$t("alert.areYouSure")} ${p.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:v[21]||(v[21]=C=>st(I.value.id))},null,8,["message"]),k(Xs,{id:"report-modal",ref_key:"reportModalRef",ref:zt,class:"modal",type:"artwork","post-id":I.value.id,"report-status":E.value},null,8,["post-id","report-status"]),k(ro,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":I.value.id},null,8,["post-id"]),$(k(Us,{id:"copy-alert",text:p.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[A,lt.value]])],2),[[A,!Y.value]])],64)}}},El=fe(Al,[["__scopeId","data-v-33a38eae"]]);export{El as M,Us as S,Ya as W,Ss as _,hs as a,_a as b,wa as c,ra as d,vs as e,ts as f,$s as g,it as u};
