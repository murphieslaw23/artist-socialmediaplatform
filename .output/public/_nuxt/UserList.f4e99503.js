import{a as F}from"./nuxt-img.978eb1b8.js";import{j as S,k as B,D,a as I,r as T,o as t,p as r,P as k,Q as U,e as n,w as C,q as l,t as g,u as a,b as p,G as E,L as h,v as m,x as j,aC as V,bU as q,K as u,y as G}from"./entry.e86746f3.js";import{u as K}from"./useUser.ed68435a.js";import{_ as O}from"./_plugin-vue_export-helper.a1a6add7.js";const P={class:"flex flex-row w-full"},Q={class:"flex flex-col justify-between p-3 w-full text-white"},W={class:"flex flex-col"},H={class:"font-bold"},J={class:"text-xxs"},R={class:"flex flex-row w-full"},X={key:0,class:"flex flex-row"},Y=["onClick"],Z=["onMouseover","onClick"],A={class:"work-grid"},ee={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},oe=["href"],se={__name:"UserList",props:{users:{type:Array,default:()=>{}},columnType:{type:Number,default:4}},setup(b){const z=b,f=S(),{oApiConfiguration:L,fetchOptions:$}=B(),w=K(L,$()),v=D(()=>z.users);I();const d=T(0),M=async(o,i)=>{const[_,c]=await w.follow(i);c||(v.value[o].is_following=!0)},N=async(o,i)=>{const[_,c]=await w.unfollow(i);c||(v.value[o].is_following=!1)};return(o,i)=>{const _=F,c=G;return t(),r("div",{class:u(["grid grid-cols-1 gap-4 mb-4 w-full md:grid-cols-2",b.columnType==3?"lg:grid-cols-3":"lg:grid-cols-4"])},[(t(!0),r(k,null,U(a(v),(e,x)=>(t(),r("div",{key:e.id,class:"flex flex-col w-full"},[n(c,{to:"/profile/"+e.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:V(e.cover_bucket&&e.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+o.avatarCoverUrl(e.cover_bucket,e.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+a(q)+");background-size:cover;")},{default:C(()=>[l("div",P,[n(_,{preload:"",loading:"lazy",class:"avatar",src:o.avatarCoverUrl(e.avatar_bucket,e.avatar_filename),onError:o.imageLoadError},null,8,["src","onError"]),l("div",Q,[l("div",W,[l("span",H,g(e.name),1),l("span",J,g(e.pen_name),1)]),l("div",R,[a(f).loggedIn&&e.id!==a(f).user.id?(t(),r("div",X,[p(l("div",{class:"flex flex-row",onClick:E(s=>M(x,e.id),["prevent"])},[n(h,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Y),[[m,!e.is_following]]),p(l("div",{class:"flex flex-row",onMouseover:s=>d.value=e.id,onMouseout:i[0]||(i[0]=s=>d.value=0),onClick:E(s=>N(x,e.id),["prevent"])},[p(n(h,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[m,a(d)!==e.id]]),p(n(h,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[m,a(d)&&a(d)===e.id]])],40,Z),[[m,e.is_following]])])):j("",!0)])])])]),_:2},1032,["to","style"]),l("div",A,[(t(!0),r(k,null,U(e.artworks,(s,y)=>(t(),r("div",{key:s.id,class:u(["work-thumbnail theme-color-bg",s._count.artwork_assets>1&&o.currentWorkId!=s.id?"work-multiple":""])},[n(c,{to:"/a/"+s.id,target:"_blank",class:"w-full h-full theme-color-bg"},{default:C(()=>[l("div",{class:u(["overflow-hidden relative text-center",{"rounded-bl-md":y==0},{"rounded-br-md":y==2}])},[o.applyExplicitFilter(a(f),s.is_explicit)?(t(),r("span",ee,g(o.$t("explicitContent")),1)):j("",!0),l("a",{href:"/a/"+s.id,class:u([{"animate-wigglefast":o.manageMode}])},[n(_,{preload:"",loading:"lazy",class:u(["w-full h-full unselectable",{"object-cover":!o.isUncropped},o.isUncropped?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":o.applyExplicitFilter(a(f),s.is_explicit)}]),src:o.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",!1),onError:o.imageLoadError},null,8,["class","src","onError"])],10,oe)],2)]),_:2},1032,["to"])],2))),128))])]))),128))],2)}}},ne=O(se,[["__scopeId","data-v-ae053e9b"]]);export{ne as U};
