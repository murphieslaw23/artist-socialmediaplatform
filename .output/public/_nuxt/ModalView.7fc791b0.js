import{B as vt,h as G,i as Y,R as H,O as gt,o as k,p as $,q as n,e as _,w as D,s as T,t as g,c as se,x as A,b as P,v as U,G as $e,K as z,P as ye,Q as ke,y as Pe,j as M,r as R,m as Ee,J as st,L,u as e,k as ot,Y as yt,T as He,F as Oe,H as X,D as at,M as bt,N as kt,I as _t,Z as ss,a as as,E as os,$ as pt,a0 as rs,a1 as ns,a2 as ls}from"./entry.ae51314b.js";import{P as Ne,u as Te,J as xt,_ as Ct}from"./ProBadge.de1f3ff6.js";import{u as $t}from"./useReport.9e4f9eb9.js";import{W as rt,u as Rt}from"./WorkList.3a9e5f28.js";import{_ as _e}from"./_plugin-vue_export-helper.a1a6add7.js";import{_ as Me}from"./LoadingEmptyErrorMessage.b2b53b6c.js";import{S as Fe}from"./Spinner.96f551a8.js";import{U as ze}from"./user-counters-api.7503204d.js";import{u as is}from"./useSetting.f194dec2.js";import{u as cs}from"./useFeed.607ee023.js";const he=function(i){return{addWorkToAlbum:async(s,a={})=>{const o="/albums/add-work",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},countUserAlbumsByType:async(s,a={})=>{const o="/albums/count",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},createAlbum:async(s,a={})=>{const o="/albums/create",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},deleteAlbum:async(s,a={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling deleteAlbum.");const o="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"DELETE",...r,...a},u={},h={},d=new URLSearchParams(t.search);for(const y in h)d.set(y,h[y]);for(const y in a.params)d.set(y,a.params[y]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};return l.headers={...u,...p,...a.headers},{url:t.pathname+t.search+t.hash,options:l}},getAlbumById:async(s,a={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling getAlbumById.");const o="/albums/{id}".replace("{id}",encodeURIComponent(String(s))),t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"GET",...r,...a},u={},h={},d=new URLSearchParams(t.search);for(const y in h)d.set(y,h[y]);for(const y in a.params)d.set(y,a.params[y]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};return l.headers={...u,...p,...a.headers},{url:t.pathname+t.search+t.hash,options:l}},getAlbumItems:async(s,a,o,t={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling getAlbumItems.");if(a==null)throw new H("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(o==null)throw new H("page","Required parameter page was null or undefined when calling getAlbumItems.");const r="/albums/list/{id}".replace("{id}",encodeURIComponent(String(s))),l=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const h={method:"GET",...u,...t},d={},p={};a!==void 0&&(p.per_page=a),o!==void 0&&(p.page=o);const y=new URLSearchParams(l.search);for(const b in p)y.set(b,p[b]);for(const b in t.params)y.set(b,t.params[b]);l.search=new URLSearchParams(y).toString();let f=u&&u.headers?u.headers:{};return h.headers={...d,...f,...t.headers},{url:l.pathname+l.search+l.hash,options:h}},getCurrentAlbumSaveInfo:async(s,a,o={})=>{if(s==null)throw new H("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(a==null)throw new H("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const t="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(a))),r=new URL(t,"https://example.com");let l;i&&(l=i.baseOptions);const u={method:"GET",...l,...o},h={},d={},p=new URLSearchParams(r.search);for(const f in d)p.set(f,d[f]);for(const f in o.params)p.set(f,o.params[f]);r.search=new URLSearchParams(p).toString();let y=l&&l.headers?l.headers:{};return u.headers={...h,...y,...o.headers},{url:r.pathname+r.search+r.hash,options:u}},listUserAlbums:async(s,a,o,t,r={})=>{if(s==null)throw new H("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(a==null)throw new H("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(o==null)throw new H("page","Required parameter page was null or undefined when calling listUserAlbums.");if(t==null)throw new H("type","Required parameter type was null or undefined when calling listUserAlbums.");const l="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),u=new URL(l,"https://example.com");let h;i&&(h=i.baseOptions);const d={method:"GET",...h,...r},p={},y={};a!==void 0&&(y.per_page=a),o!==void 0&&(y.page=o),t!==void 0&&(y.type=t);const f=new URLSearchParams(u.search);for(const w in y)f.set(w,y[w]);for(const w in r.params)f.set(w,r.params[w]);u.search=new URLSearchParams(f).toString();let b=h&&h.headers?h.headers:{};return d.headers={...p,...b,...r.headers},{url:u.pathname+u.search+u.hash,options:d}},proLimitIsCanCreateAlbum:async(s,a={})=>{const o="/albums/create/permission",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},removeWorkFromAlbum:async(s,a={})=>{const o="/albums/work/remove",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"DELETE",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},updateAlbum:async(s,a={})=>{const o="/albums",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"PATCH",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}}}},we=function(i){return{async addWorkToAlbum(s,a){const o=await he(i).addWorkToAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async countUserAlbumsByType(s,a){const o=await he(i).countUserAlbumsByType(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async createAlbum(s,a){const o=await he(i).createAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async deleteAlbum(s,a){const o=await he(i).deleteAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async getAlbumById(s,a){const o=await he(i).getAlbumById(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async getAlbumItems(s,a,o,t){const r=await he(i).getAlbumItems(s,a,o,t);return(l=G,u=Y)=>{const h={...r.options,url:u+r.url};return l.request(h)}},async getCurrentAlbumSaveInfo(s,a,o){const t=await he(i).getCurrentAlbumSaveInfo(s,a,o);return(r=G,l=Y)=>{const u={...t.options,url:l+t.url};return r.request(u)}},async listUserAlbums(s,a,o,t,r){const l=await he(i).listUserAlbums(s,a,o,t,r);return(u=G,h=Y)=>{const d={...l.options,url:h+l.url};return u.request(d)}},async proLimitIsCanCreateAlbum(s,a){const o=await he(i).proLimitIsCanCreateAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async removeWorkFromAlbum(s,a){const o=await he(i).removeWorkFromAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async updateAlbum(s,a){const o=await he(i).updateAlbum(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}}}};class ve extends vt{async addWorkToAlbum(s,a){return we(this.configuration).addWorkToAlbum(s,a).then(o=>o(this.axios,this.basePath))}async countUserAlbumsByType(s,a){return we(this.configuration).countUserAlbumsByType(s,a).then(o=>o(this.axios,this.basePath))}async createAlbum(s,a){return we(this.configuration).createAlbum(s,a).then(o=>o(this.axios,this.basePath))}async deleteAlbum(s,a){return we(this.configuration).deleteAlbum(s,a).then(o=>o(this.axios,this.basePath))}async getAlbumById(s,a){return we(this.configuration).getAlbumById(s,a).then(o=>o(this.axios,this.basePath))}async getAlbumItems(s,a,o,t){return we(this.configuration).getAlbumItems(s,a,o,t).then(r=>r(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(s,a,o){return we(this.configuration).getCurrentAlbumSaveInfo(s,a,o).then(t=>t(this.axios,this.basePath))}async listUserAlbums(s,a,o,t,r){return we(this.configuration).listUserAlbums(s,a,o,t,r).then(l=>l(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(s,a){return we(this.configuration).proLimitIsCanCreateAlbum(s,a).then(o=>o(this.axios,this.basePath))}async removeWorkFromAlbum(s,a){return we(this.configuration).removeWorkFromAlbum(s,a).then(o=>o(this.axios,this.basePath))}async updateAlbum(s,a){return we(this.configuration).updateAlbum(s,a).then(o=>o(this.axios,this.basePath))}}const ce=function(i){return{addItemForLater:async(s,a,o={})=>{if(s==null)throw new H("type","Required parameter type was null or undefined when calling addItemForLater.");const t="/collections/later",r=new URL(t,"https://example.com");let l;i&&(l=i.baseOptions);const u={method:"POST",...l,...o},h={},d={};s!==void 0&&(d.type=s),h["Content-Type"]="application/json";const p=new URLSearchParams(r.search);for(const b in d)p.set(b,d[b]);for(const b in o.params)p.set(b,o.params[b]);r.search=new URLSearchParams(p).toString();let y=l&&l.headers?l.headers:{};u.headers={...h,...y,...o.headers};const f=typeof a!="string"||u.headers["Content-Type"]==="application/json";return u.data=f?JSON.stringify(a!==void 0?a:{}):a||"",{url:r.pathname+r.search+r.hash,options:u}},addItemToCollection:async(s,a,o,t={})=>{if(s==null)throw new H("type","Required parameter type was null or undefined when calling addItemToCollection.");if(a==null)throw new H("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const r="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),l=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const h={method:"POST",...u,...t},d={},p={};s!==void 0&&(p.type=s),d["Content-Type"]="application/json";const y=new URLSearchParams(l.search);for(const w in p)y.set(w,p[w]);for(const w in t.params)y.set(w,t.params[w]);l.search=new URLSearchParams(y).toString();let f=u&&u.headers?u.headers:{};h.headers={...d,...f,...t.headers};const b=typeof o!="string"||h.headers["Content-Type"]==="application/json";return h.data=b?JSON.stringify(o!==void 0?o:{}):o||"",{url:l.pathname+l.search+l.hash,options:h}},collectionsIdDelete:async(s,a={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const o="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"DELETE",...r,...a},u={},h={},d=new URLSearchParams(t.search);for(const y in h)d.set(y,h[y]);for(const y in a.params)d.set(y,a.params[y]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};return l.headers={...u,...p,...a.headers},{url:t.pathname+t.search+t.hash,options:l}},countUserCollectionsByType:async(s,a={})=>{const o="/collections/count",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},create:async(s,a={})=>{const o="/collections/create",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},detail:async(s,a={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling detail.");const o="/collections/{id}".replace("{id}",encodeURIComponent(String(s))),t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"GET",...r,...a},u={},h={},d=new URLSearchParams(t.search);for(const y in h)d.set(y,h[y]);for(const y in a.params)d.set(y,a.params[y]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};return l.headers={...u,...p,...a.headers},{url:t.pathname+t.search+t.hash,options:l}},getCurrentSaveInfo:async(s,a,o={})=>{if(s==null)throw new H("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(a==null)throw new H("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const t="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(s))).replace("{work_id}",encodeURIComponent(String(a))),r=new URL(t,"https://example.com");let l;i&&(l=i.baseOptions);const u={method:"GET",...l,...o},h={},d={},p=new URLSearchParams(r.search);for(const f in d)p.set(f,d[f]);for(const f in o.params)p.set(f,o.params[f]);r.search=new URLSearchParams(p).toString();let y=l&&l.headers?l.headers:{};return u.headers={...h,...y,...o.headers},{url:r.pathname+r.search+r.hash,options:u}},listCollectionItems:async(s,a,o,t={})=>{if(s==null)throw new H("id","Required parameter id was null or undefined when calling listCollectionItems.");if(a==null)throw new H("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(o==null)throw new H("page","Required parameter page was null or undefined when calling listCollectionItems.");const r="/collections/{id}/items".replace("{id}",encodeURIComponent(String(s))),l=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const h={method:"GET",...u,...t},d={},p={};a!==void 0&&(p.per_page=a),o!==void 0&&(p.page=o);const y=new URLSearchParams(l.search);for(const b in p)y.set(b,p[b]);for(const b in t.params)y.set(b,t.params[b]);l.search=new URLSearchParams(y).toString();let f=u&&u.headers?u.headers:{};return h.headers={...d,...f,...t.headers},{url:l.pathname+l.search+l.hash,options:h}},listUserCollections:async(s,a,o,t,r,l={})=>{if(s==null)throw new H("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(a==null)throw new H("type","Required parameter type was null or undefined when calling listUserCollections.");if(o==null)throw new H("page","Required parameter page was null or undefined when calling listUserCollections.");if(t==null)throw new H("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(s))),h=new URL(u,"https://example.com");let d;i&&(d=i.baseOptions);const p={method:"GET",...d,...l},y={},f={};a!==void 0&&(f.type=a),r!==void 0&&(f.name=r),o!==void 0&&(f.page=o),t!==void 0&&(f.per_page=t);const b=new URLSearchParams(h.search);for(const v in f)b.set(v,f[v]);for(const v in l.params)b.set(v,l.params[v]);h.search=new URLSearchParams(b).toString();let w=d&&d.headers?d.headers:{};return p.headers={...y,...w,...l.headers},{url:h.pathname+h.search+h.hash,options:p}},proLimitIsCanCreateCollection:async(s,a={})=>{const o="/collections/create/permission",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"POST",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}},removeItemFromCollection:async(s,a,o,t={})=>{if(s==null)throw new H("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(a==null)throw new H("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const r="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),l=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const h={method:"DELETE",...u,...t},d={},p={};s!==void 0&&(p.type=s),d["Content-Type"]="application/json";const y=new URLSearchParams(l.search);for(const w in p)y.set(w,p[w]);for(const w in t.params)y.set(w,t.params[w]);l.search=new URLSearchParams(y).toString();let f=u&&u.headers?u.headers:{};h.headers={...d,...f,...t.headers};const b=typeof o!="string"||h.headers["Content-Type"]==="application/json";return h.data=b?JSON.stringify(o!==void 0?o:{}):o||"",{url:l.pathname+l.search+l.hash,options:h}},updateCollection:async(s,a={})=>{const o="/collections",t=new URL(o,"https://example.com");let r;i&&(r=i.baseOptions);const l={method:"PATCH",...r,...a},u={},h={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const f in h)d.set(f,h[f]);for(const f in a.params)d.set(f,a.params[f]);t.search=new URLSearchParams(d).toString();let p=r&&r.headers?r.headers:{};l.headers={...u,...p,...a.headers};const y=typeof s!="string"||l.headers["Content-Type"]==="application/json";return l.data=y?JSON.stringify(s!==void 0?s:{}):s||"",{url:t.pathname+t.search+t.hash,options:l}}}},de=function(i){return{async addItemForLater(s,a,o){const t=await ce(i).addItemForLater(s,a,o);return(r=G,l=Y)=>{const u={...t.options,url:l+t.url};return r.request(u)}},async addItemToCollection(s,a,o,t){const r=await ce(i).addItemToCollection(s,a,o,t);return(l=G,u=Y)=>{const h={...r.options,url:u+r.url};return l.request(h)}},async collectionsIdDelete(s,a){const o=await ce(i).collectionsIdDelete(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async countUserCollectionsByType(s,a){const o=await ce(i).countUserCollectionsByType(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async create(s,a){const o=await ce(i).create(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async detail(s,a){const o=await ce(i).detail(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async getCurrentSaveInfo(s,a,o){const t=await ce(i).getCurrentSaveInfo(s,a,o);return(r=G,l=Y)=>{const u={...t.options,url:l+t.url};return r.request(u)}},async listCollectionItems(s,a,o,t){const r=await ce(i).listCollectionItems(s,a,o,t);return(l=G,u=Y)=>{const h={...r.options,url:u+r.url};return l.request(h)}},async listUserCollections(s,a,o,t,r,l){const u=await ce(i).listUserCollections(s,a,o,t,r,l);return(h=G,d=Y)=>{const p={...u.options,url:d+u.url};return h.request(p)}},async proLimitIsCanCreateCollection(s,a){const o=await ce(i).proLimitIsCanCreateCollection(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}},async removeItemFromCollection(s,a,o,t){const r=await ce(i).removeItemFromCollection(s,a,o,t);return(l=G,u=Y)=>{const h={...r.options,url:u+r.url};return l.request(h)}},async updateCollection(s,a){const o=await ce(i).updateCollection(s,a);return(t=G,r=Y)=>{const l={...o.options,url:r+o.url};return t.request(l)}}}};class ge extends vt{async addItemForLater(s,a,o){return de(this.configuration).addItemForLater(s,a,o).then(t=>t(this.axios,this.basePath))}async addItemToCollection(s,a,o,t){return de(this.configuration).addItemToCollection(s,a,o,t).then(r=>r(this.axios,this.basePath))}async collectionsIdDelete(s,a){return de(this.configuration).collectionsIdDelete(s,a).then(o=>o(this.axios,this.basePath))}async countUserCollectionsByType(s,a){return de(this.configuration).countUserCollectionsByType(s,a).then(o=>o(this.axios,this.basePath))}async create(s,a){return de(this.configuration).create(s,a).then(o=>o(this.axios,this.basePath))}async detail(s,a){return de(this.configuration).detail(s,a).then(o=>o(this.axios,this.basePath))}async getCurrentSaveInfo(s,a,o){return de(this.configuration).getCurrentSaveInfo(s,a,o).then(t=>t(this.axios,this.basePath))}async listCollectionItems(s,a,o,t){return de(this.configuration).listCollectionItems(s,a,o,t).then(r=>r(this.axios,this.basePath))}async listUserCollections(s,a,o,t,r,l){return de(this.configuration).listUserCollections(s,a,o,t,r,l).then(u=>u(this.axios,this.basePath))}async proLimitIsCanCreateCollection(s,a){return de(this.configuration).proLimitIsCanCreateCollection(s,a).then(o=>o(this.axios,this.basePath))}async removeItemFromCollection(s,a,o,t){return de(this.configuration).removeItemFromCollection(s,a,o,t).then(r=>r(this.axios,this.basePath))}async updateCollection(s,a){return de(this.configuration).updateCollection(s,a).then(o=>o(this.axios,this.basePath))}}function ht(){return{animate:a=>{const o=document.getElementById(a);o==null||o.classList.add("animate-bounce"),setInterval(()=>{o==null||o.classList.remove("animate-bounce")},2500)}}}function nt(){const i=(a,o,t)=>{o.value=!1,clearTimeout(a),o.value=!0,a=setTimeout(()=>{o.value=!1,s(t)},2e3)},s=a=>{const o=document.getElementById(a);o==null||o.classList.add("fade"),o==null||o.classList.add("fade-out")};return{splash:i,hide:s}}function ds(){return{readMore:(s,a,o,t)=>{const r=document.getElementById(`${t}${a}`);r!==null&&(r.innerHTML=s);const l=document.getElementById(`${o}${a}`);l==null||l.remove()}}}const us={class:"flex-col info"},ms={key:0,class:"user-info"},ps={class:"flex flex-row w-full"},hs=["src"],ws={class:"w-full name"},fs={class:"flex flex-row justify-between"},vs={class:"flex flex-col"},gs={class:"mb-2 section-title"},ys={key:1,class:"mb-4"},bs=["id","innerHTML"],ks=["id"],_s={class:"mb-4"},xs={key:2,class:"tags"},Cs={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(i){gt();const s=(a,o,t,r)=>{ds().readMore(a,o,t,r)};return(a,o)=>{const t=Pe;return k(),$("section",us,[i.artworkDetail.users?(k(),$("div",ms,[n("div",ps,[_(t,{to:"/profile/"+i.artworkDetail.users.username},{default:D(()=>[n("img",{class:"avatar",src:a.avatarCoverUrl(i.artworkDetail.users.avatar_bucket,i.artworkDetail.users.avatar_filename),onError:o[0]||(o[0]=(...r)=>a.imageLoadError&&a.imageLoadError(...r))},null,40,hs)]),_:1},8,["to"]),n("div",ws,[n("div",fs,[n("div",vs,[_(t,{to:"/profile/"+i.artworkDetail.users.username,class:"fullname"},{default:D(()=>[T(g(i.artworkDetail.users.name)+" ",1),i.artworkDetail.users.isPro?(k(),se(Ne,{key:0})):A("",!0)]),_:1},8,["to"]),_(t,{to:"/profile/"+i.artworkDetail.users.username,class:"username"},{default:D(()=>[T(" @"+g(i.artworkDetail.users.username),1)]),_:1},8,["to"])]),P(n("div",{class:"p-1 h-7 font-bold text-white bg-red-500 rounded-md border-2 border-red-500 cursor-pointer hover:bg-red-600 hover:border-red-600",style:{"font-size":"10px"},onClick:o[1]||(o[1]=r=>a.closeModal(i.section+"-modal"))}," ESC ",512),[[U,i.isModal]])])])])])):A("",!0),n("div",gs,g(i.artworkDetail.title),1),i.artworkDetail.description?(k(),$("div",ys,[n("span",{id:"mview-"+i.isDesktop+"-description-"+i.artworkDetail.id,innerHTML:i.artworkDetail.description.length>300?`${i.artworkDetail.description.slice(0,300)}...`:i.artworkDetail.description},null,8,bs),i.artworkDetail.description.length>300?(k(),$("a",{key:0,id:"mview-"+i.isDesktop+"-read-more-"+i.artworkDetail.id,class:"href",onClick:o[2]||(o[2]=$e(r=>s(i.artworkDetail.description,i.artworkDetail.id,"mview-"+i.isDesktop+"-read-more-","mview-"+i.isDesktop+"-description-"),["prevent"]))},g(a.$t("readMore")),9,ks)):A("",!0)])):A("",!0),n("div",_s,[n("span",{class:z(["italic text-color-secondary",{"font-bold text-red-400":i.previewMode}])},g(i.previewMode?a.$t("willBePublishedOn"):a.$t("publishedOn")),3),T(" "+g(a.formatDate(i.artworkDetail.scheduled_post)),1)]),i.artworkDetail.artwork_has_tags&&i.artworkDetail.artwork_has_tags.length?(k(),$("div",xs,[(k(!0),$(ye,null,ke(i.artworkDetail.artwork_has_tags,r=>(k(),$("span",{key:r.artwork_tags.id,class:"tag"},[_(t,{to:"/works/browse?tags="+r.artwork_tags.tag.replaceAll(" ","+")},{default:D(()=>[T(g(r.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):A("",!0)])}}},wt=_e(Cs,[["__scopeId","data-v-85941382"]]);const $s={class:"artist-works"},Rs={class:"heading"},Is={key:0,class:"pagination-controller"},As={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(i){const s=i,a=s.artworkDetail,{oApiConfiguration:o,fetchOptions:t}=M(),r=Te(o,t()),l=R(null);Ee(()=>{s.keepArtistPageNumber||(d.page=-1),p(a.users.id)});const u=R(!0),h=R([]),d=st({page:0,perPage:s.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),p=async(b,w)=>{u.value=!0,d.options.nextPrevLoading=!0,b!==l.value&&(l.value=b,d.page=-1),w==="prev"?d.page-=1:d.page+=1;const[v,C,O]=await r.getUserArtworks({userId:b,pagination:{page:d.page,perPage:d.perPage}});O?(u.value=!1,f()):(C.next_previous.prev_page===null||C.next_previous.prev_page===void 0?d.options.disableArtistPrevButton=!0:d.options.disableArtistPrevButton=!1,C.next_previous.next_page===null||C.next_previous.next_page===void 0?d.options.disableArtistNextButton=!0:d.options.disableArtistNextButton=!1,h.value=v),d.options.nextPrevLoading=!1,u.value=!1},y=R(!1),f=()=>{y.value=!0};return(b,w)=>{const v=Pe;return k(),$("div",$s,[n("div",Rs,[n("span",null,[T(g(b.$t("artworks.moreArtworkBy"))+" ",1),i.artworkDetail.users?(k(),se(v,{key:0,to:"/profile/"+i.artworkDetail.users.username,class:"text-colored"},{default:D(()=>[T(g(i.artworkDetail.users.username)+" <"+g(i.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):A("",!0)]),_(v,{to:"/profile/"+i.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:D(()=>[_(L,{name:"i-ci-external-link"})]),_:1},8,["to"])]),_(Me,{loading:e(u),error:e(y),class:"mt-2"},null,8,["loading","error"]),P(_(rt,{class:z(["gap-2 md:gap-4",[e(d).options.nextPrevLoading?"animate-pulse":"",i.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:e(h),view:i.view,"is-href":i.isHref,"is-mini-list":!0,"current-work-id":i.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[U,!e(u)&&!e(y)]]),i.artworkDetail.users?P((k(),$("div",Is,[n("span",{onClick:w[0]||(w[0]=C=>e(d).options.disableArtistPrevButton?null:p(i.artworkDetail.users.id,"prev"))},[_(L,{name:"i-ion-chevron-back"})]),n("span",{onClick:w[1]||(w[1]=C=>e(d).options.disableArtistNextButton?null:p(i.artworkDetail.users.id,"next"))},[_(L,{name:"i-ion-chevron-forward"})])],512)),[[U,!e(u)]]):A("",!0)])}}},ft=_e(As,[["__scopeId","data-v-d964edff"]]);const Ss={class:"splash"},Ps={class:"flex flex-row"},Ls={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(i){return(s,a)=>(k(),$("div",Ss,[n("div",Ps,[_(L,{name:i.icon,class:"mr-2 text-base"},null,8,["name"]),n("span",null,g(i.text),1)])]))}},lt=_e(Ls,[["__scopeId","data-v-73f47f7a"]]);function Us(i,s){return{proCanCreateCollection:async w=>{try{const{data:v}=await new ge(i).proLimitIsCanCreateCollection({type:w.type},s);return[v.data.is_can_create,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},createCollection:async(w,v)=>{try{const{data:C}=await new ge(i).create({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:w},s);return[C.success,C.data,null]}catch(C){return[null,null,M().consumeReadableStreamError(C)]}},getInfo:async w=>{try{return[(await new ge(i).detail(w,s)).data,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},countCollections:async w=>{try{const{data:v}=await new ze(i).countUserCollections(w,s);return[v.data.total,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},countArtworkCollections:async w=>{try{const{data:v}=await new ze(i).countUserArtworkCollections(w,s);return[v.data.total,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},fetchCollections:async w=>{try{const{data:v}=await new ge(i).listUserCollections(w.userId,w.type,w.pagination.page,w.pagination.perPage,w.name,s),C=v.data.collections,O=v.data.pagination;let V=!0;return O.current_page===O.total_page&&(V=!1),[C,V,null]}catch(v){return[null,!1,M().consumeReadableStreamError(v)]}},listCollectionItems:async w=>{try{const{data:v}=await new ge(i).listCollectionItems(w.collectionId,w.pagination.perPage,w.pagination.page,s),C=v.data.pagination;let O=!0;return C.current_page===C.total_page&&(O=!1),[v.data.items,O,null]}catch(v){return[null,!1,M().consumeReadableStreamError(v)]}},getCurrentSaveInfo:async(w,v)=>{try{const{data:C}=await new ge(i).getCurrentSaveInfo(w,v,s);return[C.data,null]}catch(C){return[null,M().consumeReadableStreamError(C)]}},addItem:async w=>{try{return await new ge(i).addItemToCollection(w.type,w.collectionId,{id:w.workId},s),[!0,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},removeItem:async w=>{try{const{data:v}=await new ge(i).removeItemFromCollection(w.type,w.collectionId,{id:w.workId},s);return[v.success,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},update:async w=>{try{const{data:v}=await new ge(i).updateCollection({id:w.id,name:w.name,description:w.description,is_public:w.isPublic},s);return[v.success,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},deleteCollection:async w=>{try{const{data:v}=await new ge(i).collectionsIdDelete(w,s);return[v.success,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}}}}const Vs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Os={class:"flex flex-row justify-between w-full"},Es={class:"title"},Ts={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ms={class:"list"},qs={class:"overflow-y-scroll pr-2 max-h-60"},Bs=["onClick"],js={class:"flex flex-row justify-between"},Ds={class:"flex flex-row"},Fs={key:0,class:"flex flex-row mt-2 w-full"},Hs={class:"leading-6"},Ns={class:"flex float-right flex-row gap-2 mt-4"},zs=["placeholder"],Qs={class:"flex flex-row justify-between mt-2"},Ws={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(i,{expose:s,emit:a}){const o=i,t=ot(),{oApiConfiguration:r,fetchOptions:l}=M(),u=Us(r,l());yt(()=>{d()}),Ee(()=>{w(),C()});const h=R(!1),d=async()=>{if(t.i502p00r0)h.value=!0;else{const[E,q]=await u.proCanCreateCollection({type:"artwork"});q?h.value=!1:h.value=E}},p=R({pagination:{page:0,perPage:10},loading:!1}),y=R(!1),f=R(!1),b=R([]),w=async(E=!1)=>{await d(),b.value=[],E||(p.value.loading=!0);const[q,Q,oe]=await u.fetchCollections({userId:t.user.id,type:"artwork",pagination:{page:p.value.pagination.page,perPage:p.value.pagination.perPage}});p.value.loading=!1,oe&&(y.value=!0),oe||(q&&q.length>0?(Q?(p.value.pagination.page+=1,O.value=!0):O.value=!1,q.forEach(Re=>{b.value.push(Re)})):f.value=!0)},v=R([]),C=async()=>{y.value=!1,v.value=[],Z.value=[],W.value=[],await setTimeout(async()=>{const[E,q]=await u.getCurrentSaveInfo("artwork",o.workId);if(q)y.value=!0;else for(const Q of E)Z.value.push(Q.collection_id),v.value.push(Q.collection_id)},300)},O=R(!0),V=async()=>{await w({isLoadMore:!0}),await C()},Z=R([]),W=R([]),ae=E=>{if(Z.value.includes(E)){W.value.push(E);const q=Z.value.indexOf(E);Z.value.splice(q,1)}else if(Z.value.push(E),W.value.includes(E)){const q=W.value.indexOf(E);W.value.splice(q,1)}},x=async()=>{try{for(const q of Z.value)await u.addItem({collectionId:q,type:"artwork",workId:o.workId});if(W.value.length)for(const q of W.value)await u.removeItem({collectionId:q,type:"artwork",workId:o.workId});let E=!1;Z.value.length===0&&v.value.length===W.value.length&&(E=!0),await C(),X().closeModal(o.modalId),a("save",E)}catch{}},J=R(""),le=R(!1),be=async()=>{le.value=!1;const[E,q,Q]=await u.createCollection("artwork",{title:J.value,isPublic:1,description:""});E?(b.value=[],K(),p.value.pagination.page=0,await w(),await C(),await d(),J.value="",N()):le.value=!0},ue=R(!1);let me;const N=()=>{ue.value=!0,nt().splash(me,ue,"collection-created-alert")},K=()=>{Z.value=[]},F=()=>{X().closeModal(o.modalId),K()};return s({fetchCollection:w,fetchCurrentSaved:C}),(E,q)=>(k(),$("div",null,[n("div",Vs,[n("div",null,[n("div",Os,[n("span",Es,g(E.$t("collections.addItem.form.title")),1),n("div",Ts,[n("div",{class:"modal-close",onClick:q[0]||(q[0]=Q=>F())},[_(L,{name:"i-majesticons-close",class:"text-2xl"})])])]),P(n("div",Ms,[n("div",qs,[(k(!0),$(ye,null,ke(e(b),(Q,oe)=>(k(),$("div",{key:Q.id,class:z(["item",{"mt-2":oe!==0},e(Z).includes(Q.id)?"button-color text-white":"theme-color-secondary",Q.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:Re=>Q.is_can_add_more?ae(Q.id):null},[n("div",js,[n("span",null,g(Q.name),1),n("div",Ds,[n("span",{class:z(["ml-2 font-bold",e(Z).includes(Q.id)?"text-white":"text-colored"])},g(Q._count.collection_has_artworks),3)])]),Q.is_can_add_more?A("",!0):(k(),$("div",Fs,[_(Ne,{class:"mr-1"}),n("p",Hs,g(E.$t("collections.maxItemLimitReached")),1)]))],10,Bs))),128))]),P(n("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=Q=>V())},[_(L,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[U,e(O)]]),n("div",Ns,[n("button",{class:"cancel-button",onClick:q[2]||(q[2]=Q=>F())},g(E.$t("cancel")),1),n("button",{class:"primary-button",onClick:q[3]||(q[3]=Q=>x())},g(E.$t("save")),1)])],512),[[U,!e(p).loading&&!e(y)&&!e(f)]]),P(n("div",null,[P(n("input",{"onUpdate:modelValue":q[4]||(q[4]=Q=>He(J)?J.value=Q:null),type:"text",class:z(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":e(le)}]),placeholder:E.$t("collections.createNewCollection")},null,10,zs),[[Oe,e(J)]]),n("div",Qs,[n("div",null,[P(n("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[U,e(le)]])]),P(n("button",{class:"flex flex-row primary-button",onClick:q[5]||(q[5]=Q=>e(h)?be():null)},[n("span",{class:z({"leading-6":!e(h)})},g(E.$t("create")),3),e(h)?A("",!0):(k(),se(Ne,{key:0,class:"ml-1"}))],512),[[U,e(J)&&e(J).length>0]])])],512),[[U,!e(p).loading&&!e(y)&&!e(f)]])]),_(Me,{loading:e(p).loading,empty:e(f),error:e(y),fetch:w},null,8,["loading","empty","error"])]),P(_(lt,{id:"collection-created-alert",text:E.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[U,e(ue)]])]))}},Js=_e(Ws,[["__scopeId","data-v-cd7c0e9d"]]);function Gs(i,s){return{proCanCreateAlbum:async w=>{try{const{data:v}=await new ve(i).proLimitIsCanCreateAlbum({type:w.type},s);return[v.data.is_can_create,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},createAlbum:async(w,v)=>{try{const{data:C}=await new ve(i).createAlbum({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:w},s);return[C.success,C.data,null]}catch(C){return[null,null,M().consumeReadableStreamError(C)]}},getInfo:async w=>{try{return[(await new ve(i).getAlbumById(w,s)).data,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},countAlbums:async w=>{try{const{data:v}=await new ze(i).countUserAlbums(w,s);return[v.data.total,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},countArtworkAlbums:async w=>{try{const{data:v}=await new ze(i).countUserArtworkAlbums(w,s);return[v.data.total,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},fetchAlbums:async(w,v,C,O)=>{try{const{data:V}=await new ve(i).listUserAlbums(w,C,O,v,s),Z=V.data.pagination;let W=!0;return Z.current_page===Z.total_page&&(W=!1),[V.data.albums,W,null]}catch(V){return[null,!1,M().consumeReadableStreamError(V)]}},listAlbumItems:async w=>{try{const{data:v}=await new ve(i).getAlbumItems(w.albumId,w.pagination.perPage,w.pagination.page,s),C=v.data.pagination;let O=!0;return C.current_page===C.total_page&&(O=!1),[v.data.works,O,null]}catch(v){return[null,!1,M().consumeReadableStreamError(v)]}},getCurrentSaveInfo:async(w,v)=>{try{const{data:C}=await new ve(i).getCurrentAlbumSaveInfo(w,v,s);return[C.data,null]}catch(C){return[null,M().consumeReadableStreamError(C)]}},addItems:async w=>{try{for(const v of w.albumIds)await new ve(i).addWorkToAlbum({album_id:v,type:w.type,work_ids:w.workIds},s);return[!0,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},removeItems:async(w,v)=>{try{const{data:C}=await new ve(i).removeWorkFromAlbum({album_id:w,work_ids:v},s);return[C.success,null]}catch(C){return[null,M().consumeReadableStreamError(C)]}},update:async w=>{try{const{data:v}=await new ve(i).updateAlbum({id:w.id,name:w.name,description:w.description,is_public:w.isPublic},s);return[v.success,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}},deleteAlbum:async w=>{try{const{data:v}=await new ve(i).deleteAlbum(w,s);return[v.success,null]}catch(v){return[null,M().consumeReadableStreamError(v)]}}}}const Ys={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Ks={class:"flex flex-row justify-between w-full"},Zs={class:"title"},Xs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ea={class:"list"},ta={class:"overflow-y-scroll pr-2 max-h-60"},sa=["onClick"],aa={class:"flex flex-row justify-between"},oa={key:0,class:"flex flex-row mt-2 w-full"},ra={class:"leading-6"},na={class:"flex float-right flex-row gap-2 mt-4"},la={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(i,{expose:s,emit:a}){const o=i,t=ot(),{oApiConfiguration:r,fetchOptions:l}=M(),u=Gs(r,l()),h=is(r,l());yt(async()=>{await p()}),Ee(()=>{O(),o.workIds.length||W()});const d=R(999),p=async()=>{const N=await h.getSetting("max_free_album_items");d.value=N},y=async()=>{f.value=[],b.value.pagination.page=0,V(),await O()},f=R([]),b=R({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=R(!0),v=R(!1),C=R(!1),O=async()=>{V(),w.value=!0;const[N,K,F]=await u.fetchAlbums(t.user.id,"artwork",b.value.pagination.page===0?b.value.pagination.firstLoad:b.value.pagination.perPage,b.value.pagination.page);F&&(v.value=!0),N.length?(K?(b.value.pagination.page+=1,b.value.showLoadMore=!0):b.value.showLoadMore=!1,N.forEach(E=>{f.value.push(E)})):C.value=!0,w.value=!1},V=()=>{C.value=!1,v.value=!1},Z=R([]),W=async()=>{Z.value=[],x.value=[],J.value=[];const[N,K]=await u.getCurrentSaveInfo("artwork",o.workId);for(const F of N)x.value.push(F.album_id),Z.value.push(F.album_id)},ae=async()=>{await O(),await W()},x=R([]),J=R([]),le=N=>{if(x.value.includes(N)){J.value.push(N);const K=x.value.indexOf(N);x.value.splice(K,1)}else if(x.value.push(N),J.value.includes(N)){const K=J.value.indexOf(N);J.value.splice(K,1)}},be=async()=>{const[N,K]=await u.addItems({albumIds:x.value,type:"artwork",workIds:o.workIds.length?o.workIds:[o.workId]});if(!o.workIds.length&&J.value.length)for(const F of J.value)await u.removeItems(F,[o.workId]);if(N){let F=!1;o.workIds.length||x.value.length===0&&Z.value.length===J.value.length&&(F=!0),ue(),X().closeModal(o.modalId),a("addedToAlbum",o.workIds.length?!0:F)}},ue=()=>{x.value=[]},me=()=>{X().closeModal(o.modalId),ue()};return s({fetchCurrentSaved:W,fetchAlbums:O}),(N,K)=>(k(),$("div",null,[n("div",Ys,[n("div",null,[n("div",Ks,[n("span",Zs,g(N.$t("albums.selectAlbums")),1),n("div",Xs,[n("div",{class:"modal-close",onClick:K[0]||(K[0]=F=>me())},[_(L,{name:"close",class:"text-2xl"})])])]),n("div",ea,[P(n("div",null,[n("div",ta,[(k(!0),$(ye,null,ke(e(f),(F,E)=>(k(),$("div",{key:F.id,class:z(["item",{"mt-2":E!==0},e(x).includes(F.id)?"button-color text-white":"theme-color-secondary",F.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:q=>F.is_can_add_more?le(F.id):null},[n("div",aa,[n("span",null,g(F.name),1),n("span",{class:z(["ml-2 font-bold",e(x).includes(F.id)?"text-white":"text-colored"])},g(F._count.album_has_artworks),3)]),!F.is_can_add_more||!e(t).i502p00r0&&F._count.album_has_artworks+o.workIds.length>e(d)?(k(),$("div",oa,[_(Ne,{class:"mr-1"}),n("p",ra,g(N.$t("albums.maxItemLimitReached")),1)])):A("",!0)],10,sa))),128))]),P(n("div",{class:"mt-2 primary-button",onClick:K[1]||(K[1]=F=>ae())}," Load More ",512),[[U,e(b).showLoadMore]]),n("div",na,[n("button",{class:"cancel-button",onClick:K[2]||(K[2]=F=>me())},g(N.$t("cancel")),1),n("button",{class:"primary-button",onClick:K[3]||(K[3]=F=>be())},g(N.$t("save")),1)])],512),[[U,!e(w)&&!e(C)&&!e(v)]])])]),_(Me,{loading:e(w),empty:e(C),error:e(v),fetch:y},null,8,["loading","empty","error"])])]))}},ia=_e(la,[["__scopeId","data-v-956ee988"]]),ca={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},da=["innerHTML"],ua={class:"flex flex-row justify-end gap-2"},ma={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(i,{emit:s}){const a=i,o=t=>{t&&s("onAccept",!0),X().closeModal(a.modalId)};return(t,r)=>(k(),$("div",null,[n("div",ca,[n("p",{innerHTML:i.message,class:"mb-4"},null,8,da),n("div",ua,[n("button",{class:"cancel-button",onClick:r[0]||(r[0]=l=>o(!1))},g(t.$t("no")),1),n("button",{class:"danger-button",onClick:r[1]||(r[1]=l=>o(!0))},g(t.$t("yes")),1)])])]))}};const It=i=>(bt("data-v-e6660637"),i=i(),kt(),i),pa={class:"opt-modal modal-layer"},ha={class:"opt-modal__title"},wa={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},fa={class:"opt-modal__content"},va={class:"report"},ga={class:"report__reason_opt"},ya={class:"report__title"},ba=["onClick"],ka={class:"report__title"},_a=["placeholder"],xa={class:"report__buttons"},Ca={class:"text-justify"},$a={class:"mt-2"},Ra=It(()=>n("i",null,"Your report ID:",-1)),Ia=It(()=>n("i",null,"Report date:",-1)),Aa={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(i){const s=i,{oApiConfiguration:a,fetchOptions:o}=M(),t=$t(a,o()),r=R(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","terrorism","aiGeneratedArt","somethingElse"]),l=R({selectedReasons:[],reasonDescription:"",enableSubmit:at(()=>l.value.selectedReasons.length>0&&l.value.reasonDescription!=="")}),u=b=>{if(!l.value.selectedReasons.includes(b))l.value.selectedReasons.push(b);else{const w=l.value.selectedReasons.indexOf(b);l.value.selectedReasons.splice(w,1)}},h=R(!1),d=R({}),p=async()=>{h.value=!1,d.value={};const[b,w,v]=await t.createNewReport({type:s.type,postId:s.postId,reasons:l.value.selectedReasons.join(","),description:l.value.reasonDescription});v&&!b||(h.value=!0,d.value=w)},y=()=>{X().closeModal("report-modal"),f()},f=()=>{l.value.selectedReasons=[],l.value.reasonDescription="",h.value=!1};return(b,w)=>{const v=Pe;return k(),$("div",null,[n("div",pa,[n("div",ha,[n("h1",null,g(e(h)?b.$t("reports.reportSubmitted"):i.reportStatus.id?b.$t("reports.alreadyReported"):b.$t("reports.title")),1),n("div",wa,[n("div",{class:"modal-close",onClick:w[0]||(w[0]=C=>y())},[_(L,{name:"i-ion-close",class:"text-2xl"})])])]),n("div",fa,[P(n("div",va,[n("div",ga,[n("div",ya,g(b.$t("reports.selectReasons")),1),(k(!0),$(ye,null,ke(e(r),C=>(k(),$("span",{key:C,class:z([e(l).selectedReasons.includes(C)?"button-color":"theme-color-secondary"]),onClick:O=>u(C)},[n("div",null,[P(_(L,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[U,!e(l).selectedReasons.includes(C)]]),P(_(L,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[U,e(l).selectedReasons.includes(C)]])]),n("div",{class:z(["reason",[e(l).selectedReasons.includes(C)?"text-white":"text-color-secondary"]])},g(b.$t("reports.reasons."+C)),3)],10,ba))),128))]),n("div",null,[n("div",ka,g(b.$t("reports.describeReason")),1),P(n("textarea",{"onUpdate:modelValue":w[1]||(w[1]=C=>e(l).reasonDescription=C),class:"report__reason_description",placeholder:b.$t("reports.describeText"),cols:"5",rows:"5"},null,8,_a),[[Oe,e(l).reasonDescription]])]),n("div",xa,[n("button",{class:"cancel-button",onClick:w[2]||(w[2]=C=>y())},g(b.$t("cancel")),1),n("button",{class:z(e(l).enableSubmit?"primary-button":"disabled-button"),onClick:w[3]||(w[3]=C=>e(l).enableSubmit?p():null)},g(b.$t("report")),3)])],512),[[U,!e(h)&&!i.reportStatus.id]]),P(n("div",null,[n("div",Ca,g(b.$t("reports.reportSubmittedMessage")),1),n("div",$a,[n("div",null,[Ra,T("\xA0 "),n("b",null,"#"+g(e(d).id),1)]),n("div",null,[Ia,T("\xA0 "),n("b",null,g(b.formatDate(e(d).created_at)),1)])])],512),[[U,e(h)]]),P(n("div",null,[T(g(b.$t("reports.alreadyReportedDescription"))+" ",1),_(v,{class:"underline href",to:"/reports"},{default:D(()=>[T(g(b.$t("reports.reportStatus")),1)]),_:1})],512),[[U,i.reportStatus.id]])])])])}}},Sa=_e(Aa,[["__scopeId","data-v-e6660637"]]),Pa={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},La={class:"title"},Ua={class:"mt-2"},Va={class:"alert-success"},Oa={class:"italic"},Ea={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},Ta=["placeholder"],Ma={class:"flex flex-row gap-2 justify-end"},qa={class:"flex flex-row justify-between mt-6"},Ba=["value"],ja={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(i){const s=i,{oApiConfiguration:a,fetchOptions:o}=M(),t=cs(a,o()),r=_t(),l=()=>{h.value=""},u=()=>{d.value=!1,p.value=!1,y.value=!1,X().closeModal("share-to-feed-modal"),l()},h=R(""),d=R(!1),p=R(!1),y=R(!1),f=async()=>{d.value=!1,p.value=!0,y.value=!1;const[C,O,V]=await t.shareArtworkToFeed({text:h.value,workId:s.postId});C?(y.value=!0,setTimeout(()=>{u()},500)):d.value=!0,p.value=!1},b=R(!1);let w;const v=C=>{const O=R(C),{copy:V}=Rt({source:O});V(),nt().splash(w,b,"copy-alert")};return(C,O)=>(k(),$("div",null,[n("div",Pa,[n("span",La,g(C.$t("feeds.share.artwork.title")),1),n("div",Ua,[P(n("div",Va,[n("span",Oa,g(C.$t("feeds.share.artwork.success")),1)],512),[[U,e(y)]]),P(n("div",Ea,[_(Fe,{class:"mr-2"}),T(" "+g(C.$t("feeds.form.postingYourUpdate")),1)],512),[[U,e(p)]]),P(n("div",{class:"alert-danger"},g(C.$t("feeds.form.postFailure")),513),[[U,e(d)]]),P(n("textarea",{"onUpdate:modelValue":O[0]||(O[0]=V=>He(h)?h.value=V:null),class:"input form-input textarea",placeholder:C.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,Ta),[[Oe,e(h)]]),n("div",Ma,[n("button",{class:"cancel-button",onClick:O[1]||(O[1]=V=>u())},g(C.$t("cancel")),1),n("button",{class:z(["primary-button"]),onClick:O[2]||(O[2]=V=>f())},g(C.$t("share")),1)]),n("div",qa,[n("input",{readonly:"",value:e(r).public.appUrl+"/a/"+s.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,Ba),n("button",{class:"icon-button",onClick:O[3]||(O[3]=V=>v(e(r).public.appUrl+"/a/"+i.postId))},[_(L,{name:"i-icon-park-outline-copy"})])])])]),P(_(lt,{id:"copy-alert",text:C.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[U,e(b)]])]))}},Da={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Fa={class:"flex flex-row justify-between w-full"},Ha={class:"title"},Na={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},za={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},Qa=["src"],Wa=["to"],Ja={class:"mx-auto text-center"},Ga={class:"mx-auto text-center"},Ya={class:"mx-auto text-center"},Ka={__name:"UserLiked",props:{modalId:{type:String,default:"user-liked-modal"},workId:{type:Number,default:0}},setup(i){const s=i,{oApiConfiguration:a,fetchOptions:o}=M(),t=Te(a,o()),r=R({pagination:{page:0,perPage:10}}),l=R([]),u=async({loaded:d})=>{const[p,y]=await t.viewWhoLikedTheArtwork({workId:s.workId,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.perPage}});if(!y){r.value.pagination.page+=1;for(let f=0;f<p.length;f++){const b=p[f];l.value.push(b)}}d(p.length,r.value.pagination.perPage)},h=()=>{X().closeModal(s.modalId)};return(d,p)=>{const y=Pe,f=Ct;return k(),$("div",null,[n("div",Da,[n("div",Fa,[n("div",Ha,g(d.$t("artworks.usersLiked")),1),n("div",Na,[n("div",{class:"modal-close",onClick:p[0]||(p[0]=b=>h())},[_(L,{name:"i-majesticons-close",class:"text-2xl"})])])]),n("div",za,[(k(!0),$(ye,null,ke(e(l),(b,w)=>(k(),se(y,{key:b.id,to:"/profile/"+b.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:D(()=>[n("img",{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(b.users.avatar_bucket,b.users.avatar_filename),onError:p[1]||(p[1]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,40,Qa),n("span",{to:"/profile/"+b.users.username,class:"font-bold leading-10"},g(b.users.name),9,Wa)]),_:2},1032,["to"]))),128)),_(f,null,{default:D(()=>[_(e(xt),{load:u},{loading:D(()=>[n("div",Ja,[_(L,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":D(()=>[n("div",Ga,g(d.$t("users.nothingToShow")),1)]),"no-more":D(()=>[n("div",Ya,g(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}},Za={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Xa={class:"flex flex-row justify-between w-full"},eo={class:"title"},to={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},so={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},ao=["src"],oo=["to"],ro={class:"mx-auto text-center"},no={class:"mx-auto text-center"},lo={class:"mx-auto text-center"},io={__name:"UserShared",props:{modalId:{type:String,default:"user-shared-modal"},workId:{type:Number,default:0}},setup(i){const s=i,{oApiConfiguration:a,fetchOptions:o}=M(),t=Te(a,o()),r=R({pagination:{page:0,perPage:10}}),l=R([]),u=async({loaded:d})=>{const[p,y]=await t.viewWhoSharedTheArtwork({workId:s.workId,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.perPage}});if(!y){r.value.pagination.page+=1;for(let f=0;f<p.length;f++){const b=p[f];l.value.push(b)}}d(p.length,r.value.pagination.perPage)},h=()=>{X().closeModal(s.modalId)};return(d,p)=>{const y=Pe,f=Ct;return k(),$("div",null,[n("div",Za,[n("div",Xa,[n("div",eo,g(d.$t("artworks.usersShared")),1),n("div",to,[n("div",{class:"modal-close",onClick:p[0]||(p[0]=b=>h())},[_(L,{name:"i-majesticons-close",class:"text-2xl"})])])]),n("div",so,[(k(!0),$(ye,null,ke(e(l),(b,w)=>(k(),se(y,{key:b.id,to:"/profile/"+b.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:D(()=>[n("img",{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(b.users.avatar_bucket,b.users.avatar_filename),onError:p[1]||(p[1]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,40,ao),n("span",{to:"/profile/"+b.users.username,class:"font-bold leading-10"},g(b.users.name),9,oo)]),_:2},1032,["to"]))),128)),_(f,null,{default:D(()=>[_(e(xt),{load:u},{loading:D(()=>[n("div",ro,[_(L,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":D(()=>[n("div",no,g(d.$t("users.nothingToShow")),1)]),"no-more":D(()=>[n("div",lo,g(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}};const co={id:"lists"},uo={key:0},mo={__name:"RelatedArtworks",props:{workId:{type:Number,default:0},view:{type:Function,default:()=>{}},isModal:{type:Boolean,default:!0}},setup(i){const s=i,{oApiConfiguration:a,fetchOptions:o}=M(),t=Te(a,o());Ee(()=>{setTimeout(()=>{l()},2e3)});const r=R({loadings:{first:!0,loading:!0},data:[],options:{isEmpty:!1,isError:!1,paginations:{page:0,perPage:12,showLoadMore:!0}}}),l=async()=>{r.value.loadings.loading=!0,r.value.options.isError=!1,r.value.options.isEmpty=!1;const[h,d,p]=await t.getRelatedArtworks({workId:s.workId,pagination:{page:r.value.options.paginations.page,perPage:r.value.options.paginations.perPage}});if(p)r.value.options.isError=!0;else if(r.value.options.paginations.page==0&&!h.length)r.value.options.isEmpty=!0;else{for(let y=0;y<h.length;y++)r.value.data.push(h[y]);d.next_previous.next_page==null&&(r.value.options.paginations.showLoadMore=!1),r.value.options.paginations.page+=1}r.value.options.paginations.page==1&&(r.value.loadings.first=!1),r.value.loadings.loading=!1},u=()=>{l()};return(h,d)=>(k(),$("div",co,[_(Me,{loading:e(r).loadings.first,empty:e(r).options.isEmpty,error:e(r).options.isError,fetch:l,"background-color":i.isModal?"theme-color-secondary":"theme-color",class:"mt-2"},null,8,["loading","empty","error","background-color"]),e(r).loadings.first?A("",!0):(k(),$("div",uo,[e(r).options.isEmpty?A("",!0):(k(),se(rt,{key:0,"section-class":"work-grid",view:i.view,works:e(r).data,"is-href":!i.isModal,"direct-open":!0},null,8,["view","works","is-href"])),P(n("div",{class:z(["primary-button",e(r).loadings.loading?"animate-pulse":""]),onClick:u},g(h.$t("loadMore")),3),[[U,e(r).options.paginations.showLoadMore]])]))]))}},po=_e(mo,[["__scopeId","data-v-1e285ebc"]]);const Qe=i=>(bt("data-v-858df5cf"),i=i(),kt(),i),ho={class:"mx-auto w-full align-middle work-view md:w-1/2"},wo={class:"flex flex-col w-full lg:flex-row"},fo={class:"left-side"},vo={key:0,class:"text-right"},go={key:1,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},yo={class:"flex flex-row justify-center mb-2"},bo={class:"font-bold cursor-pointer"},ko={class:"mr-2 font-normal"},_o={class:"italic"},xo={key:2,class:"alert-success"},Co={key:0,class:"mr-4"},$o={key:1,class:"mr-4"},Ro={class:"image-list"},Io={key:0,class:"flex flex-row mb-2"},Ao=["src"],So={class:"font-bold"},Po=["src"],Lo={class:"font-bold"},Uo=["src","data-source"],Vo={class:"flex flex-row gap-2 mb-4"},Oo={key:1,class:z(["py-2 px-3 font-bold rounded-md bg-red-400 text-white"])},Eo={key:2,class:"flex flex-row p-2 rounded-full theme-colored"},To={class:"interactions"},Mo={class:"reaction-counters"},qo={class:"counter"},Bo={key:0,class:"reactions"},jo={key:0},Do={key:0},Fo={key:3},Ho={class:"inline-block relative z-30 dropdown"},No={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},zo={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Qo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Wo={key:2,class:"custom-divider"},Jo={key:4,class:"custom-divider"},Go=["to"],Yo={class:"right-side"},Ko={key:1},Zo={class:"mb-2 italic title"},Xo={key:0,class:"flex flex-row gap-2"},er=["href"],tr={key:0},sr=["src"],ar={class:"w-2/3"},or={class:"title"},rr=["innerHTML"],nr={key:2,class:"custom-divider"},lr={key:3,class:"flex flex-col gap-4"},ir={class:"section-title"},cr={key:0,class:"flex flex-row gap-2 justify-between w-full"},dr={key:1},ur={key:2},mr={class:"title"},pr={key:0,class:"w-1/3"},hr=["src"],wr={class:"w-2/3"},fr={class:"title"},vr=["innerHTML"],gr={class:"italic"},yr=Qe(()=>n("div",{class:"custom-divider"},null,-1)),br={class:"comments"},kr={key:0,class:"comment-box"},_r={class:"flex flex-col"},xr={class:"flex relative flex-col"},Cr=["readonly","rows","placeholder"],$r={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Rr={id:"comments",class:"comment-content"},Ir={class:"flex flex-row justify-end mb-2"},Ar={key:0},Sr=["src"],Pr={class:"w-full"},Lr={class:"flex justify-between"},Ur={class:"comment-time"},Vr={class:"mt-4 reactions"},Or=["onClick"],Er={key:0},Tr={key:0,class:"flex flex-row"},Mr=["onClick"],qr=["onClick"],Br={class:"inline-block relative ml-2 dropdown"},jr={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Dr={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Fr=["onClick"],Hr={key:0,class:"-mb-4 comment-box"},Nr={class:"flex flex-col"},zr={class:"flex relative flex-col"},Qr=["id","readonly","rows","placeholder"],Wr=["onClick"],Jr=["id"],Gr={key:0,class:"w-full"},Yr={class:"float-left mb-2 text-xs italic text-color-secondary"},Kr=["onClick"],Zr={class:"flex flex-row justify-between"},Xr=["src"],en={class:"transition-all duration-150 cursor-pointer hover:font-bold"},tn={class:"leading-6 comment-time"},sn={class:"mt-2"},an={key:0,class:"mt-2 reactions"},on=Qe(()=>n("span",null,null,-1)),rn={class:"flex flex-row"},nn=["onClick"],ln={class:"inline-block relative ml-2 dropdown"},cn={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},dn={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},un={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},mn=["onClick"],pn=["onClick"],hn={key:3,class:"mt-4 w-full text-xs italic text-center"},wn=Qe(()=>n("div",{class:"custom-divider"},null,-1)),fn={class:"mt-4 w-full"},vn=Qe(()=>n("div",{class:"section-title"},"Similar Artworks",-1)),gn={__name:"ModalView",props:{id:{type:Number,default:0},section:{type:String,default:""}},emits:["setMeta","stopLoading","showEmpty","showError"],setup(i,{expose:s,emit:a}){const o=i,t=ot(),{oApiConfiguration:r,fetchOptions:l}=M(),{applyExplicitFilter:u,removeExplicitFilter:h,generateSemiCompressedArtworkUrl:d}=ss(),p=Te(r,l()),y=$t(r,l()),f=_t(),{$router:b}=as(),w=gt();os(()=>w.query,()=>{v(),X().closeModal("collection-selection-modal"),X().closeModal("album-selection-modal"),X().closeModal("report-modal")}),Ee(()=>{o.id!==0&&me(o.id),window.addEventListener("keydown",c=>{const m=document.getElementById("collection-selection-modal"),S=document.getElementById("album-selection-modal"),B=document.getElementById("report-modal"),ne=document.querySelectorAll(".viewer-in");c.key==="Escape"&&(!m||m.style.display!="flex")&&(!S||S.style.display!="flex")&&(!B||B.style.display!="flex")&&!ne.length&&v()})});const v=()=>{X().closeModal(`${o.section}-modal`)},C=R(!1),O=()=>{C.value=!1,h()},V=o.id===0,Z=async c=>{await p.incraseViewCount(c)},W=R(!1),ae=R(!0),x=R({}),J=R(!1),le=R(!1),be=R(!1),ue=R([]),me=async c=>{ee.value="",oe.value=[],fe.value=[],ae.value=!0;const[m,S]=await p.getWorkById(c);S?S=="Work not found"?a("showEmpty"):a("showError"):(x.value=m,ue.value=[],m.artwork_assets.forEach(ne=>{ue.value.push({thumbnail:d(ne.bucket,ne.filename,!0),source:d(ne.bucket,ne.filename,!1)})}),!t.loggedIn&&m.is_explicit||m.is_explicit&&!t.user.user_settings.show_explicit||m.is_gore&&!t.user.user_settings.show_gore?(C.value=!0,u()):C.value=!1,J.value=m.liked,le.value=m.saved,be.value=m.in_album,pt().formatApiToWeb(m.scheduled_post)<pt().currentUtcTime()?(await At(c),t.loggedIn&&await K(c),(!t.loggedIn||t.user.id!==m.users.id)&&await Z(c),m.redraw_of&&ts(m.redraw_of),await Zt(),await Xt(m.id),t.loggedIn&&await es(m.id)):t.user.id!==m.users.id?b.push("/"):W.value=!0,o.id!==0&&a("setMeta",{title:x.value.title})),ae.value=!1,a("stopLoading")},N=R({}),K=async c=>{const[m,S]=await y.getReportStatus({type:"artwork",postId:c});S||(m.length?N.value=m[0]:N.value={})},F=async()=>{const[c,m]=await p.like({workId:x.value.id});if(c){J.value=!0;const S=document.getElementById("like-button");S.classList.add("animate-bounce"),setInterval(()=>{S.classList.remove("animate-bounce")},2500)}},E=()=>{X().openModal("user-liked-modal")},q=()=>{X().openModal("user-shared-modal")},Q=async()=>{const[c,m]=await p.unlike({workId:x.value.id});c&&(J.value=!1)},oe=R([]),Re=st({perPage:3,page:0}),Le=R([]),it=async c=>{const[m,S]=await p.getComments({workId:c,pagination:{page:Re.page,perPage:Re.perPage}});if(m)return m.pagination.current_page===m.pagination.first_last.last_page?qe.value=!1:qe.value=!0,m.comments.forEach(B=>{B.liked&&xe.value.push(B.id),Le.value.push(B.id)}),m.comments},At=async c=>{try{(await it(c)).forEach(S=>oe.value.push(S))}catch{}},qe=R(!1),St=async c=>{try{Re.page+=1,(await it(c)).forEach(S=>oe.value.push(S))}catch{}},ee=R(),We=200,Pt=at(()=>ee.value!=null&&ee.value!==""?We-ee.value.length:We),Ie=R(!1),Lt=async()=>{Ie.value=!0;try{const[c,m,S]=await p.addComment({workId:x.value.id,comment:ee.value});c&&(ee.value="",oe.value.splice(0,0,m),oe.value.join(),Le.value.splice(0,0,m.id),Le.value.join())}catch{}Ie.value=!1},Ut=async c=>{const[m,S]=await p.deleteComment({commentId:c});if(m){const B=Le.value.indexOf(c);oe.value.splice(B,1),Le.value.splice(B,1)}},xe=R([]),Vt=async c=>{const[m,S]=await p.likeComment({commentId:c});if(m){xe.value.push(c);const B=document.getElementById(`comment-like-button-${c}`);B.classList.add("animate-bounce"),setInterval(()=>{B.classList.remove("animate-bounce")},2500)}},Ot=async c=>{const[m,S]=await p.unlikeComment({commentId:c});if(m){const B=xe.value.indexOf(c);xe.value.splice(B,1)}},Je=st({perPage:2,page:0}),fe=R([]),Ae=R([]),Ge=R(!0),ct=async c=>{const[m,S,B]=await p.getCommentReplies({commentId:c,pagination:{page:Je.page,perPage:Je.perPage}});if(!B)return S.current_page===S.first_last.last_page&&(Ge.value=!1),m.map(ne=>Ae.value.push(ne.id)),m},Ue=R(0),Ye=async c=>{Ge.value=!0,Ae.value=[];try{const m=await ct(c);fe.value={[c]:m},m.forEach(B=>{B.liked&&Ce.value.push(B.id)}),Ue.value&&Ke(Ue.value);const S=document.getElementById(`comment-replies-${c}`);S.classList.add("flex"),S.classList.remove("hidden"),Ue.value=c}catch{}},Ke=c=>{const m=document.getElementById(`comment-replies-${c}`);m.classList.remove("flex"),m.classList.add("hidden"),Ue.value=0},Et=async c=>{Je.page+=1;try{(await ct(c)).forEach(S=>{fe.value[c].push(S)})}catch{}},Be=R(0),Tt=async c=>{await Ye(c),Be.value=c},re=R(),Ze=200,Mt=at(()=>re.value!=null&&re.value!==""?Ze-re.value.length:Ze),Se=R(!1),qt=async c=>{Se.value=!0;try{const[m,S,B]=await p.addReply({commentId:c,reply:re.value});m&&(Ye(c),re.value="",fe.value[c].splice(0,0,S),fe.value[c].join(),Be.value=0,Ae.value.splice(0,0,S.id),Ae.value.join())}catch{}Se.value=!1},Bt=async(c,m)=>{const[S,B]=await p.deleteReply({replyId:m});if(S){const ne=Ae.value.indexOf(m);fe.value[c].splice(ne,1),Ae.value.splice(ne,1)}},Ce=R([]),jt=async c=>{const[m,S]=await p.likeReply({replyId:c});if(m){Ce.value.push(c);const B=document.getElementById(`reply-like-button-${c}`);B.classList.add("animate-bounce"),setInterval(()=>{B.classList.remove("animate-bounce")},2500)}},Dt=async c=>{const[m,S]=await p.unlikeReply({replyId:c});if(m){const B=Ce.value.indexOf(c);Ce.value.splice(B,1)}},Xe=R(!1),et=R(!1),dt=async c=>{const[m,S]=await p.deleteWork({workId:[c]});m&&(et.value=!0,setTimeout(()=>{b.push("/")},1500))},tt=R(null),Ft=()=>{X().openModal("collection-selection-modal"),tt.value.fetchCollection(),tt.value.fetchCurrentSaved()},Ht=c=>{c?le.value=!1:le.value=!0,ht().animate("save-to-collection-button")},ut=R(null),Nt=()=>{X().openModal("album-selection-modal"),ut.value.fetchCurrentSaved()},zt=c=>{c?be.value=!1:be.value=!0,ht().animate("save-to-album-button")},Qt=()=>{X().openModal("share-to-feed-modal")},mt=R(!1);let Wt;const Jt=c=>{const m=R(f.public.appUrl+c),{copy:S}=Rt({source:m});S(),nt().splash(Wt,mt,"copy-alert")},Gt=R(null),Yt=()=>{X().openModal("report-modal")},je=rs().isMobile()?19:25,Kt=R(0),Zt=async()=>{const[c,m]=await p.countRedraws(x.value.id);Kt.value=c},pe=R({data:[],pagination:{}}),Xt=async c=>{const[m,S,B]=await p.getRedraws({workId:c,pagination:{page:0,perPage:8}});B||(pe.value.data=m,pe.value.pagination=S)},ie=R({}),es=async c=>{const[m,S]=await p.getMyRedraw({workId:c});S||(ie.value=m)},te=R({}),De=R(!0),ts=async c=>{De.value=!0;const[m,S]=await p.getWorkById(c);S||(te.value=m),De.value=!1};return s({view:me}),(c,m)=>{const S=Pe,B=ns("viewer"),ne=ls("auto-animate");return k(),$(ye,null,[P(n("div",ho,[_(Me,{loading:e(ae)},null,8,["loading"])],512),[[U,e(ae)&&!c.isMobile()&&V]]),P(n("div",{class:z(["work-container work-view",{"2xl:w-4/6 2xl:mx-auto p-2 md:p-6 overflow-y-scroll theme-color":V}])},[n("div",wo,[n("div",fo,[V&&c.isMobileDevice()?(k(),$("div",vo,[_(L,{name:"i-ion-close-outline","text-size":"text-3xl",onClick:m[0]||(m[0]=I=>c.closeModal(i.section+"-modal"))})])):A("",!0),e(W)&&!e(et)?(k(),$("div",go,[n("div",yo,[_(L,{name:"i-ion-alert-outline"}),n("div",null,g(c.$t("artworks.previewModeMessage")),1)]),n("div",bo,[n("span",{class:"text-red-500",onClick:m[1]||(m[1]=I=>Xe.value=!0)},g(c.$t("artworks.deleteArtwork")),1),P(n("div",null,[n("span",ko,[T(g(c.$t("alert.areYouSure"))+" ",1),n("span",_o,"("+g(c.$t("alert.youCannotUndoThisAction"))+")",1)]),n("span",{class:"mr-2 text-red-500 hover:underline",onClick:m[2]||(m[2]=I=>dt(e(x).id))},g(c.$t("yes")),1),n("span",{class:"hover:underline",onClick:m[3]||(m[3]=I=>Xe.value=!1)},g(c.$t("no")),1)],512),[[U,e(Xe)]])])])):A("",!0),e(et)?(k(),$("div",xo,g(c.$t("artworks.successDelete")),1)):A("",!0),P(n("div",{class:z(["flex flex-row justify-between p-3 mb-2 text-black align-middle rounded",e(x).is_gore?"bg-red-200":"bg-yellow-200"])},[e(x).is_explicit&&!e(x).is_gore?(k(),$("span",Co,g(e(t).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1)):A("",!0),e(x).is_gore?(k(),$("span",$o,g(e(t).loggedIn?c.$t("goreContentAlert"):c.$t("goreContentAlertForGuest")),1)):A("",!0),n("button",{class:"light-bordered-button",onClick:m[4]||(m[4]=$e(I=>O(),["prevent"]))},g(c.$t("show")),1)],2),[[U,e(C)]]),n("div",Ro,[e(x).redraw_of&&!e(De)?(k(),$("div",Io,[_(S,{to:"/a/"+e(te).id,class:"inline-block z-10 flex-row gap-2 p-1 pr-6 rounded-l-md rounded-r-full theme-colored hover:cursor-pointer"},{default:D(()=>[n("img",{preload:"",loading:"lazy",class:"inline-block mr-2 w-8 rounded-md",src:c.artworkThumb(e(te).artwork_assets[0].bucket,e(te).artwork_assets[0].filename,"thumbnail",!1),onError:m[5]||(m[5]=(...I)=>c.imageLoadError&&c.imageLoadError(...I))},null,40,Ao),n("span",So,g(e(te).title.length>e(je)?e(te).title.slice(0,e(je))+"..":e(te).title),1)]),_:1},8,["to"]),n("div",{class:z(["inline-block flex-row gap-2 p-1 pr-2 pl-6 -ml-4 rounded-md",V?"theme-color-secondary":"theme-color"])},[n("img",{preload:"",loading:"lazy",class:"inline-block mr-2 w-8 rounded-md",src:c.artworkThumb(e(x).artwork_assets[0].bucket,e(x).artwork_assets[0].filename,"thumbnail",!1),onError:m[6]||(m[6]=(...I)=>c.imageLoadError&&c.imageLoadError(...I))},null,40,Po),n("span",Lo,g(e(x).title.length>e(je)?e(x).title.slice(0,e(je))+"..":e(x).title),1)],2)])):A("",!0),_(B,{options:{url:"data-source"},images:e(ue),class:"overflow-hidden rounded-md"},{default:D(()=>[(k(!0),$(ye,null,ke(e(ue),(I,j)=>(k(),$("img",{key:I.thumbnail,preload:"",loading:"lazy",src:I.thumbnail,"data-source":I.source,class:z(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":e(C)},e(C)?"brightness-50":"brightness-100"]),onError:m[7]||(m[7]=(...Ve)=>c.imageLoadError&&c.imageLoadError(...Ve))},null,42,Uo))),128))]),_:1},8,["images"])]),n("div",Vo,[e(x).is_explicit?(k(),$("div",{key:0,class:z(["py-2 px-3 font-bold rounded-md",V?"theme-color-secondary":"bg-tag"])}," E ",2)):A("",!0),e(x).is_gore?(k(),$("div",Oo," G ")):A("",!0),e(x).is_original_character?(k(),$("div",Eo,[_(L,{name:"i-clarity-cursor-hand-click-line","text-size":"text-sm"}),T("\xA0 "+g(c.$t("artworks.originalCharacter")),1)])):A("",!0)]),n("div",To,[n("div",Mo,[P(n("span",qo,[_(L,{name:"i-mi-eye"}),n("b",null,g(c.shortNumber(e(x).views)),1)],512),[[U,e(x).views>0]]),e(x)._count?P((k(),$("span",{key:0,onClick:m[8]||(m[8]=I=>E()),class:"counter hover:href hover:underline"},[n("b",null,g(c.thousand(e(x)._count.artwork_likes)),1),T(" "+g(e(x)._count.artwork_likes>1?c.$t("count.likes"):c.$t("count.like")),1)],512)),[[U,e(x)._count.artwork_likes>0]]):A("",!0),e(x)._count?P((k(),$("span",{key:1,onClick:m[9]||(m[9]=I=>q()),class:"counter hover:href hover:underline"},[n("b",null,g(c.thousand(e(x)._count.feeds)),1),T(" "+g(c.$t("count.share")),1)],512)),[[U,e(x)._count.feeds>0]]):A("",!0)]),e(W)?A("",!0):(k(),$("div",Bo,[e(t).loggedIn?(k(),$("span",jo,[n("span",{onClick:m[10]||(m[10]=I=>e(J)?Q():F())},[P(_(L,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[U,e(J)]]),P(_(L,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[U,!e(J)]])])])):A("",!0),e(t).loggedIn?(k(),$("span",{key:1,onClick:m[11]||(m[11]=I=>Ft())},[P(_(L,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[U,e(le)]]),P(_(L,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[U,!e(le)]]),e(x)._count&&e(x)._count.collection_has_artworks?(k(),$("span",Do,g(c.thousand(e(x)._count.collection_has_artworks)),1)):A("",!0)])):A("",!0),e(t).loggedIn&&e(x).users&&e(t).user.id===e(x).users.id?(k(),$("span",{key:2,onClick:m[12]||(m[12]=I=>Nt())},[P(_(L,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[U,e(be)]]),P(_(L,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[U,!e(be)]])])):A("",!0),e(t).loggedIn?(k(),$("span",Fo,[_(L,{name:"i-uil-share",onClick:m[13]||(m[13]=I=>Qt()),class:"hover:text-blue-500"})])):A("",!0),n("div",Ho,[n("button",No,[n("span",null,[_(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",zo,[n("div",Qo,[V?(k(),se(S,{key:0,to:"/a/"+e(x).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:D(()=>[_(L,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(c.$t("open")),1)]),_:1},8,["to"])):A("",!0),V?(k(),se(S,{key:1,to:"/a/"+e(x).id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:D(()=>[_(L,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(c.$t("openInNewTab")),1)]),_:1},8,["to"])):A("",!0),V?(k(),$("div",Wo)):A("",!0),e(t).loggedIn&&e(x).users&&e(t).user.id!=e(x).users.id&&!e(t).user.is_admin&&!e(t).user.is_moderator?(k(),$("div",{key:3,to:"#",class:z(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!V}]),onClick:m[14]||(m[14]=I=>Yt())},[_(L,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(c.$t("report")),1)],2)):A("",!0),n("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:m[15]||(m[15]=I=>Jt("/a/"+e(x).id))},[_(L,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(c.$t("copySharableLink")),1)]),e(t).loggedIn&&e(x).users&&e(t).user.id===e(x).users.id?(k(),$("div",Jo)):A("",!0),e(t).loggedIn&&e(x).users&&e(t).user.id===e(x).users.id?(k(),se(S,{key:5,to:"/works/update/"+e(x).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:D(()=>[_(L,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("update")),1)]),_:1},8,["to"])):A("",!0),e(t).loggedIn&&e(x).users&&e(t).user.id===e(x).users.id?(k(),$("div",{key:6,to:"/a/"+e(x).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:m[16]||(m[16]=I=>c.openModal("work-deletion-confirm-modal"))},[_(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,Go)):A("",!0)])])])]))]),_(wt,{section:i.section,class:"flex-md-hidden","is-modal":V,"artwork-detail":e(x),"preview-mode":e(W),"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),e(ae)?A("",!0):(k(),se(ft,{key:3,class:"mb-6 hidden-md-flex","artwork-detail":e(x),view:me,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))]),n("div",Yo,[_(wt,{section:i.section,class:"hidden-md-flex","is-modal":V,"artwork-detail":e(x),"preview-mode":e(W),"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),e(ae)?A("",!0):(k(),se(ft,{key:0,class:"flex-md-hidden","artwork-detail":e(x),view:me,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),e(x).redraw_of?(k(),$("div",Ko,[n("div",Zo,g(c.$t("artworks.originalArtwork")),1),e(De)?(k(),$("div",Xo,[_(Fe),T(" "+g(c.$t("artworks.redrawOriginalLoading")),1)])):(k(),$("a",{key:1,href:"/a/"+e(x).redraw_of,target:"_blank",class:"flex flex-row gap-2 w-full"},[e(te).artwork_assets?(k(),$("div",tr,[n("img",{preload:"",loading:"lazy",class:"w-40 rounded-md",src:c.artworkThumb(e(te).artwork_assets[0].bucket,e(te).artwork_assets[0].filename,"thumbnail",!1),onError:m[17]||(m[17]=(...I)=>c.imageLoadError&&c.imageLoadError(...I))},null,40,sr)])):A("",!0),n("div",ar,[n("span",or,g(e(te).title),1),n("p",{innerHTML:e(te).description.length>200?e(te).description.slice(0,200)+"..":e(te).description},null,8,rr)])],8,er))])):A("",!0),e(x).allow_redraw?(k(),$("div",nr)):A("",!0),e(x).allow_redraw||e(pe).data&&e(pe).data.length?(k(),$("div",lr,[n("span",ir,g(c.$t("artworks.redraws"))+" ("+g(e(pe).pagination&&e(pe).pagination.record_total?e(pe).pagination.record_total:0)+") ",1),e(t).loggedIn&&!e(ie)?(k(),$("div",cr,[_(S,{to:"/post?redrawWorkId="+e(x).id,class:z([V?"secondary-button":"light-button"])},{default:D(()=>[_(L,{name:"i-typcn-brush"}),T(" "+g(c.$t("artworks.redrawThisArtwork")),1)]),_:1},8,["to","class"])])):A("",!0),e(pe).data&&e(pe).data.length?(k(),$("div",dr,[_(rt,{"section-class":"redraw-works",works:e(pe).data,view:me,"is-href":c.isHref,"is-mini-list":!0,"current-work-id":e(x).id,"direct-open":!0,"hide-redraw-icon":!0},null,8,["works","is-href","current-work-id"]),e(pe).pagination.next_previous.next_page?(k(),se(S,{key:0,to:"/a/"+e(x).id+"/redraws",class:"mt-2 primary-button"},{default:D(()=>[_(L,{name:"i-fluent-arrow-enter-20-filled",class:"mr-1 text-white hover:text-white"}),T(" "+g(c.$t("seeMore")),1)]),_:1},8,["to"])):A("",!0)])):A("",!0),e(t).loggedIn&&e(ie)?(k(),$("div",ur,[n("span",mr,g(c.$t("artworks.myRedraw")),1),_(S,{to:"/a/"+e(ie).id,class:"flex flex-row gap-2 mt-2 w-full"},{default:D(()=>[e(ie).artwork_assets?(k(),$("div",pr,[n("img",{preload:"",loading:"lazy",class:"w-40 rounded-md",src:c.artworkThumb(e(ie).artwork_assets[0].bucket,e(ie).artwork_assets[0].filename,"thumbnail",!1),onError:m[18]||(m[18]=(...I)=>c.imageLoadError&&c.imageLoadError(...I))},null,40,hr)])):A("",!0),n("div",wr,[n("span",fr,g(e(ie).title),1),n("p",{innerHTML:e(ie).description?e(ie).description.length>100?e(ie).description.slice(0,100)+"..":e(te).description:c.$t("artworks.noDescription"),class:"mb-2"},null,8,vr),n("span",gr,g(c.formatDate(e(ie).scheduled_post)),1)])]),_:1},8,["to"])])):A("",!0)])):A("",!0),yr,n("section",br,[e(t).loggedIn&&!e(W)?(k(),$("div",kr,[n("div",_r,[n("div",xr,[P(n("textarea",{"onUpdate:modelValue":m[19]||(m[19]=I=>He(ee)?ee.value=I:null),cols:"30","data-gramm":"false",class:z(["input form-input",{"cursor-not-allowed":e(Ie)},{"theme-color-secondary textarea":V}]),readonly:e(Ie),rows:e(ee)!=null&&e(ee)!=""?"4":"0",placeholder:c.$t("comments.inputPlaceholder"),maxlength:We},null,10,Cr),[[Oe,e(ee)]]),P(n("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(e(Pt)),513),[[U,e(ee)!=null&&e(ee)!=""]]),n("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:m[20]||(m[20]=$e(I=>Lt(),["prevent"]))},[P(_(L,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[U,e(ee)!=null&&e(ee)!=""&&!e(Ie)]]),P(_(Fe,null,null,512),[[U,e(Ie)]])])])])])):A("",!0),e(t).loggedIn?A("",!0):(k(),$("div",$r,g(c.$t("comments.loginOrRegisterToLeaveComment")),1)),n("div",Rr,[n("div",Ir,[e(x)._count&&e(x)._count.artwork_comments?(k(),$("div",Ar,[n("b",null,g(c.thousand(e(x)._count.artwork_comments)),1),T(" "+g(e(x)._count.artwork_comments>1?c.$t("count.comments"):c.$t("count.comment")),1)])):A("",!0)]),(k(!0),$(ye,null,ke(e(oe),I=>P((k(),$("div",{key:I.id,class:"flex flex-row w-full comment-item"},[_(S,{class:"mr-2",to:"/profile/"+I.users.username},{default:D(()=>[n("img",{class:"w-10 h-10 avatar",src:c.avatarCoverUrl(I.users.avatar_bucket,I.users.avatar_filename),onError:m[21]||(m[21]=(...j)=>c.imageLoadError&&c.imageLoadError(...j))},null,40,Sr)]),_:2},1032,["to"]),n("div",Pr,[n("div",{class:z(["p-3 w-full rounded-md",V?"theme-color-secondary":"theme-color"])},[n("div",Lr,[_(S,{to:"/profile/"+I.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:D(()=>[T(g(I.users.name),1)]),_:2},1032,["to"]),n("div",Ur,g(c.formatDate(I.created_at,!0)),1)]),n("div",null,g(I.comment),1),n("div",Vr,[n("div",{class:"cursor-pointer hover:underline",onClick:j=>e(Ue)==I.id?Ke(I.id):Ye(I.id)},[I._count.artwork_comment_has_replies>0?(k(),$("span",Er,[n("b",null,g(c.shortNumber(I._count.artwork_comment_has_replies)),1),T(" "+g(I._count.artwork_comment_has_replies>1?c.$t("comments.replies.replies").toLowerCase():c.$t("comments.replies.reply").toLowerCase()),1)])):A("",!0)],8,Or),e(t).loggedIn?(k(),$("div",Tr,[n("span",{class:"reaction",onClick:j=>e(xe).includes(I.id)?Ot(I.id):Vt(I.id)},[P(_(L,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[U,!e(xe).includes(I.id)]]),P(_(L,{id:"comment-like-button-"+I.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[U,e(xe).includes(I.id)]]),T(" "+g(c.shortNumber(I._count.artwork_comment_has_likes)),1)],8,Mr),n("span",{class:"reaction",onClick:j=>Tt(I.id)},[_(L,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,qr),n("div",Br,[n("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:m[22]||(m[22]=j=>Be.value=0)},[n("span",null,[_(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",jr,[n("div",Dr,[_(S,{to:"/profile/"+I.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:m[23]||(m[23]=$e(()=>{},["prevent"]))},{default:D(()=>[_(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(c.$t("viewProfile")),1)]),_:2},1032,["to"]),e(t).loggedIn&&e(t).user.id===I.users.id?(k(),$("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:j=>Ut(I.id)},[_(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,Fr)):A("",!0)])])])])):A("",!0)])],2),e(t).loggedIn?P((k(),$("div",Hr,[n("div",Nr,[n("div",zr,[P(n("textarea",{id:"reply-"+I.id,"onUpdate:modelValue":m[24]||(m[24]=j=>He(re)?re.value=j:null),class:z(["mt-2 w-full input form-input",[{"cursor-not-allowed":e(Se)},{"theme-color-secondary textarea":V}]]),readonly:e(Se),cols:"30",rows:e(re)!=null&&e(re)!=""?"4":"0",placeholder:c.$t("comments.replies.write"),maxlength:Ze,"data-gramm":"false"},null,10,Qr),[[Oe,e(re)]]),P(n("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(e(Mt)),513),[[U,e(re)!=null&&e(re)!=""]]),n("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:$e(j=>qt(I.id),["prevent"])},[P(_(L,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[U,e(re)!=null&&e(re)!=""&&!e(Se)]]),P(_(Fe,null,null,512),[[U,e(Se)]])],8,Wr)])])],512)),[[U,e(Be)===I.id]]):A("",!0),n("div",{id:"comment-replies-"+I.id,class:"hidden flex-col mt-2"},[e(fe)[I.id]&&e(fe)[I.id].length?(k(),$("div",Gr,[n("span",Yr,g(c.$t("comments.replies.replies")),1),n("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:j=>Ke(I.id)},g(c.$t("hide")),9,Kr)])):A("",!0),(k(!0),$(ye,null,ke(e(fe)[I.id],j=>(k(),$("div",{key:j.id,class:z(["p-3 mb-2 w-full rounded-md border-l-4",V?"theme-color-secondary":"theme-color"])},[n("div",Zr,[_(S,{to:"/profile/"+j.users.username,class:"flex flex-row leading-6"},{default:D(()=>[n("img",{class:"mr-2 w-6 h-6 rounded-full",src:c.avatarCoverUrl(j.users.avatar_bucket,j.users.avatar_filename),onError:m[25]||(m[25]=(...Ve)=>c.imageLoadError&&c.imageLoadError(...Ve))},null,40,Xr),n("span",en,g(j.users.name),1)]),_:2},1032,["to"]),n("span",tn,g(c.formatDate(j.created_at,!0)),1)]),n("div",sn,g(j.content),1),e(t).loggedIn?(k(),$("div",an,[on,n("div",rn,[n("span",{class:"reaction",onClick:Ve=>e(Ce).includes(j.id)?Dt(j.id):jt(j.id)},[P(_(L,{id:"reply-like-button-"+j.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[U,e(Ce).includes(j.id)]]),P(_(L,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[U,!e(Ce).includes(j.id)]]),T(" "+g(c.shortNumber(j._count.artwork_comment_reply_has_likes)),1)],8,nn),n("div",ln,[n("button",cn,[n("span",null,[_(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",dn,[n("div",un,[_(S,{to:"/profile/"+j.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:m[26]||(m[26]=$e(()=>{},["prevent"]))},{default:D(()=>[_(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(c.$t("viewProfile")),1)]),_:2},1032,["to"]),e(t).loggedIn&&e(t).user.id===j.users.id?(k(),$("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ve=>Bt(I.id,j.id)},[_(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,mn)):A("",!0)])])])])])):A("",!0)],2))),128)),e(fe)[I.id]&&e(Ge)?(k(),$("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:j=>Et(I.id)},g(c.$t("comments.replies.loadMore")),9,pn)):A("",!0)],8,Jr)])])),[[ne]])),128))]),e(x)._count?P((k(),$("div",{key:2,class:"text-center capitalize href",onClick:m[27]||(m[27]=$e(I=>St(e(x).id),["prevent"]))},g(c.$t("comments.loadOlder")),513)),[[U,e(x)._count.artwork_comments>3&&e(qe)]]):A("",!0),P(n("div",{class:"w-full text-xs italic text-center"},g(c.$t("comments.reachedTheEnd")),513),[[U,e(oe).length&&!e(qe)]]),e(t).loggedIn&&!e(oe).length&&!e(W)?(k(),$("div",hn,g(c.$t("comments.noCommentYet")),1)):A("",!0)])])]),wn,n("div",fn,[vn,e(ae)?A("",!0):(k(),se(po,{key:0,"work-id":e(x).id,"is-modal":V,view:me},null,8,["work-id"]))]),e(ae)?A("",!0):(k(),se(Js,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:tt,"work-id":e(x).id,class:"modal",onSave:Ht},null,8,["work-id"])),!e(ae)&&e(t).loggedIn&&e(x).users&&e(t).user.id==e(x).users.id?(k(),se(e(ia),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:ut,class:"modal","modal-id":"album-selection-modal","work-id":e(x).id,onAddedToAlbum:zt},null,8,["work-id"])):A("",!0),_(ma,{id:"work-deletion-confirm-modal",class:"modal","modal-id":"work-deletion-confirm-modal",message:`${c.$t("alert.areYouSure")} ${c.$t("alert.youCannotUndoThisAction")}`,onOnAccept:m[28]||(m[28]=I=>dt(e(x).id))},null,8,["message"]),_(Sa,{id:"report-modal",ref_key:"reportModalRef",ref:Gt,class:"modal",type:"artwork","post-id":e(x).id,"report-status":e(N)},null,8,["post-id","report-status"]),_(ja,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":e(x).id},null,8,["post-id"]),_(Ka,{id:"user-liked-modal",class:"modal","work-id":e(x).id},null,8,["work-id"]),_(io,{id:"user-shared-modal",class:"modal","work-id":e(x).id},null,8,["work-id"]),P(_(lt,{id:"copy-alert",text:c.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[U,e(mt)]])],2),[[U,!e(ae)]])],64)}}},Sn=_e(gn,[["__scopeId","data-v-858df5cf"]]);export{Sn as M,lt as S,ma as _,Js as a,ds as b,nt as c,Gs as d,Us as e,ia as f,ht as u};
