import{B as vt,f as z,h as W,R as D,a0 as Te,r as x,O as Xt,a1 as ft,a2 as Zt,a3 as ea,a4 as Je,D as Ve,a5 as ta,a6 as aa,a7 as wt,a8 as sa,T as yt,o as k,m as C,p as n,e as _,w as K,q as B,t as y,b as A,v as S,s as R,F as fe,J as F,U as we,V as ye,x as Ie,i as Le,k as oa,u as O,c as re,j as $e,l as Ee,I as Ge,K as U,a9 as gt,E as Pe,G as X,C as Ye,L as bt,M as kt,H as xt,aa as la,a as ra,ab as it,ac as na,ad as ia,ae as ca}from"./entry.0330daa5.js";import{u as _t}from"./useArtwork.3ef797ef.js";import{_ as Me,u as Ct}from"./LoadingEmptyErrorMessage.265d2132.js";import{_ as ge}from"./_plugin-vue_export-helper.a1a6add7.js";import{S as Ke}from"./Spinner.bde24df9.js";import{U as qe}from"./user-counters-api.f82a6d2e.js";import{u as ua,a as da}from"./useFeed.e06a7783.js";const ie=function(l){return{addWorkToAlbum:async(e,t={})=>{const s="/albums/add-work",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},countUserAlbumsByType:async(e,t={})=>{const s="/albums/count",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},createAlbum:async(e,t={})=>{const s="/albums/create",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},deleteAlbum:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling deleteAlbum.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"DELETE",...o,...t},c={},h={},u=new URLSearchParams(a.search);for(const d in h)u.set(d,h[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};return r.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:r}},getAlbumById:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumById.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"GET",...o,...t},c={},h={},u=new URLSearchParams(a.search);for(const d in h)u.set(d,h[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};return r.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:r}},getAlbumItems:async(e,t,s,a={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumItems.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling getAlbumItems.");const o="/albums/list/{id}".replace("{id}",encodeURIComponent(String(e))),r=new URL(o,"https://example.com");let c;l&&(c=l.baseOptions);const h={method:"GET",...c,...a},u={},f={};t!==void 0&&(f.per_page=t),s!==void 0&&(f.page=s);const d=new URLSearchParams(r.search);for(const b in f)d.set(b,f[b]);for(const b in a.params)d.set(b,a.params[b]);r.search=new URLSearchParams(d).toString();let m=c&&c.headers?c.headers:{};return h.headers={...u,...m,...a.headers},{url:r.pathname+r.search+r.hash,options:h}},getCurrentAlbumSaveInfo:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(t==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const a="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(t))),o=new URL(a,"https://example.com");let r;l&&(r=l.baseOptions);const c={method:"GET",...r,...s},h={},u={},f=new URLSearchParams(o.search);for(const m in u)f.set(m,u[m]);for(const m in s.params)f.set(m,s.params[m]);o.search=new URLSearchParams(f).toString();let d=r&&r.headers?r.headers:{};return c.headers={...h,...d,...s.headers},{url:o.pathname+o.search+o.hash,options:c}},listUserAlbums:async(e,t,s,a,o={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserAlbums.");if(a==null)throw new D("type","Required parameter type was null or undefined when calling listUserAlbums.");const r="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),c=new URL(r,"https://example.com");let h;l&&(h=l.baseOptions);const u={method:"GET",...h,...o},f={},d={};t!==void 0&&(d.per_page=t),s!==void 0&&(d.page=s),a!==void 0&&(d.type=a);const m=new URLSearchParams(c.search);for(const i in d)m.set(i,d[i]);for(const i in o.params)m.set(i,o.params[i]);c.search=new URLSearchParams(m).toString();let b=h&&h.headers?h.headers:{};return u.headers={...f,...b,...o.headers},{url:c.pathname+c.search+c.hash,options:u}},proLimitIsCanCreateAlbum:async(e,t={})=>{const s="/albums/create/permission",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},removeWorkFromAlbum:async(e,t={})=>{const s="/albums/work/remove",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"DELETE",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},updateAlbum:async(e,t={})=>{const s="/albums",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"PATCH",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}}}},ce=function(l){return{async addWorkToAlbum(e,t){const s=await ie(l).addWorkToAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async countUserAlbumsByType(e,t){const s=await ie(l).countUserAlbumsByType(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async createAlbum(e,t){const s=await ie(l).createAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async deleteAlbum(e,t){const s=await ie(l).deleteAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async getAlbumById(e,t){const s=await ie(l).getAlbumById(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async getAlbumItems(e,t,s,a){const o=await ie(l).getAlbumItems(e,t,s,a);return(r=z,c=W)=>{const h={...o.options,url:c+o.url};return r.request(h)}},async getCurrentAlbumSaveInfo(e,t,s){const a=await ie(l).getCurrentAlbumSaveInfo(e,t,s);return(o=z,r=W)=>{const c={...a.options,url:r+a.url};return o.request(c)}},async listUserAlbums(e,t,s,a,o){const r=await ie(l).listUserAlbums(e,t,s,a,o);return(c=z,h=W)=>{const u={...r.options,url:h+r.url};return c.request(u)}},async proLimitIsCanCreateAlbum(e,t){const s=await ie(l).proLimitIsCanCreateAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async removeWorkFromAlbum(e,t){const s=await ie(l).removeWorkFromAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async updateAlbum(e,t){const s=await ie(l).updateAlbum(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}}}};class me extends vt{async addWorkToAlbum(e,t){return ce(this.configuration).addWorkToAlbum(e,t).then(s=>s(this.axios,this.basePath))}async countUserAlbumsByType(e,t){return ce(this.configuration).countUserAlbumsByType(e,t).then(s=>s(this.axios,this.basePath))}async createAlbum(e,t){return ce(this.configuration).createAlbum(e,t).then(s=>s(this.axios,this.basePath))}async deleteAlbum(e,t){return ce(this.configuration).deleteAlbum(e,t).then(s=>s(this.axios,this.basePath))}async getAlbumById(e,t){return ce(this.configuration).getAlbumById(e,t).then(s=>s(this.axios,this.basePath))}async getAlbumItems(e,t,s,a){return ce(this.configuration).getAlbumItems(e,t,s,a).then(o=>o(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(e,t,s){return ce(this.configuration).getCurrentAlbumSaveInfo(e,t,s).then(a=>a(this.axios,this.basePath))}async listUserAlbums(e,t,s,a,o){return ce(this.configuration).listUserAlbums(e,t,s,a,o).then(r=>r(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(e,t){return ce(this.configuration).proLimitIsCanCreateAlbum(e,t).then(s=>s(this.axios,this.basePath))}async removeWorkFromAlbum(e,t){return ce(this.configuration).removeWorkFromAlbum(e,t).then(s=>s(this.axios,this.basePath))}async updateAlbum(e,t){return ce(this.configuration).updateAlbum(e,t).then(s=>s(this.axios,this.basePath))}}const oe=function(l){return{addItemForLater:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemForLater.");const a="/collections/later",o=new URL(a,"https://example.com");let r;l&&(r=l.baseOptions);const c={method:"POST",...r,...s},h={},u={};e!==void 0&&(u.type=e),h["Content-Type"]="application/json";const f=new URLSearchParams(o.search);for(const b in u)f.set(b,u[b]);for(const b in s.params)f.set(b,s.params[b]);o.search=new URLSearchParams(f).toString();let d=r&&r.headers?r.headers:{};c.headers={...h,...d,...s.headers};const m=typeof t!="string"||c.headers["Content-Type"]==="application/json";return c.data=m?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:c}},addItemToCollection:async(e,t,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemToCollection.");if(t==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const o="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),r=new URL(o,"https://example.com");let c;l&&(c=l.baseOptions);const h={method:"POST",...c,...a},u={},f={};e!==void 0&&(f.type=e),u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const i in f)d.set(i,f[i]);for(const i in a.params)d.set(i,a.params[i]);r.search=new URLSearchParams(d).toString();let m=c&&c.headers?c.headers:{};h.headers={...u,...m,...a.headers};const b=typeof s!="string"||h.headers["Content-Type"]==="application/json";return h.data=b?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:h}},collectionsIdDelete:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"DELETE",...o,...t},c={},h={},u=new URLSearchParams(a.search);for(const d in h)u.set(d,h[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};return r.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:r}},countUserCollectionsByType:async(e,t={})=>{const s="/collections/count",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},create:async(e,t={})=>{const s="/collections/create",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},detail:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling detail.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"GET",...o,...t},c={},h={},u=new URLSearchParams(a.search);for(const d in h)u.set(d,h[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};return r.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:r}},getCurrentSaveInfo:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(t==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const a="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(t))),o=new URL(a,"https://example.com");let r;l&&(r=l.baseOptions);const c={method:"GET",...r,...s},h={},u={},f=new URLSearchParams(o.search);for(const m in u)f.set(m,u[m]);for(const m in s.params)f.set(m,s.params[m]);o.search=new URLSearchParams(f).toString();let d=r&&r.headers?r.headers:{};return c.headers={...h,...d,...s.headers},{url:o.pathname+o.search+o.hash,options:c}},listCollectionItems:async(e,t,s,a={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling listCollectionItems.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listCollectionItems.");const o="/collections/{id}/items".replace("{id}",encodeURIComponent(String(e))),r=new URL(o,"https://example.com");let c;l&&(c=l.baseOptions);const h={method:"GET",...c,...a},u={},f={};t!==void 0&&(f.per_page=t),s!==void 0&&(f.page=s);const d=new URLSearchParams(r.search);for(const b in f)d.set(b,f[b]);for(const b in a.params)d.set(b,a.params[b]);r.search=new URLSearchParams(d).toString();let m=c&&c.headers?c.headers:{};return h.headers={...u,...m,...a.headers},{url:r.pathname+r.search+r.hash,options:h}},listUserCollections:async(e,t,s,a,o,r={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(t==null)throw new D("type","Required parameter type was null or undefined when calling listUserCollections.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserCollections.");if(a==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const c="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),h=new URL(c,"https://example.com");let u;l&&(u=l.baseOptions);const f={method:"GET",...u,...r},d={},m={};t!==void 0&&(m.type=t),o!==void 0&&(m.name=o),s!==void 0&&(m.page=s),a!==void 0&&(m.per_page=a);const b=new URLSearchParams(h.search);for(const v in m)b.set(v,m[v]);for(const v in r.params)b.set(v,r.params[v]);h.search=new URLSearchParams(b).toString();let i=u&&u.headers?u.headers:{};return f.headers={...d,...i,...r.headers},{url:h.pathname+h.search+h.hash,options:f}},proLimitIsCanCreateCollection:async(e,t={})=>{const s="/collections/create/permission",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"POST",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}},removeItemFromCollection:async(e,t,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(t==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const o="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),r=new URL(o,"https://example.com");let c;l&&(c=l.baseOptions);const h={method:"DELETE",...c,...a},u={},f={};e!==void 0&&(f.type=e),u["Content-Type"]="application/json";const d=new URLSearchParams(r.search);for(const i in f)d.set(i,f[i]);for(const i in a.params)d.set(i,a.params[i]);r.search=new URLSearchParams(d).toString();let m=c&&c.headers?c.headers:{};h.headers={...u,...m,...a.headers};const b=typeof s!="string"||h.headers["Content-Type"]==="application/json";return h.data=b?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:h}},updateCollection:async(e,t={})=>{const s="/collections",a=new URL(s,"https://example.com");let o;l&&(o=l.baseOptions);const r={method:"PATCH",...o,...t},c={},h={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const m in h)u.set(m,h[m]);for(const m in t.params)u.set(m,t.params[m]);a.search=new URLSearchParams(u).toString();let f=o&&o.headers?o.headers:{};r.headers={...c,...f,...t.headers};const d=typeof e!="string"||r.headers["Content-Type"]==="application/json";return r.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:r}}}},le=function(l){return{async addItemForLater(e,t,s){const a=await oe(l).addItemForLater(e,t,s);return(o=z,r=W)=>{const c={...a.options,url:r+a.url};return o.request(c)}},async addItemToCollection(e,t,s,a){const o=await oe(l).addItemToCollection(e,t,s,a);return(r=z,c=W)=>{const h={...o.options,url:c+o.url};return r.request(h)}},async collectionsIdDelete(e,t){const s=await oe(l).collectionsIdDelete(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async countUserCollectionsByType(e,t){const s=await oe(l).countUserCollectionsByType(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async create(e,t){const s=await oe(l).create(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async detail(e,t){const s=await oe(l).detail(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async getCurrentSaveInfo(e,t,s){const a=await oe(l).getCurrentSaveInfo(e,t,s);return(o=z,r=W)=>{const c={...a.options,url:r+a.url};return o.request(c)}},async listCollectionItems(e,t,s,a){const o=await oe(l).listCollectionItems(e,t,s,a);return(r=z,c=W)=>{const h={...o.options,url:c+o.url};return r.request(h)}},async listUserCollections(e,t,s,a,o,r){const c=await oe(l).listUserCollections(e,t,s,a,o,r);return(h=z,u=W)=>{const f={...c.options,url:u+c.url};return h.request(f)}},async proLimitIsCanCreateCollection(e,t){const s=await oe(l).proLimitIsCanCreateCollection(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}},async removeItemFromCollection(e,t,s,a){const o=await oe(l).removeItemFromCollection(e,t,s,a);return(r=z,c=W)=>{const h={...o.options,url:c+o.url};return r.request(h)}},async updateCollection(e,t){const s=await oe(l).updateCollection(e,t);return(a=z,o=W)=>{const r={...s.options,url:o+s.url};return a.request(r)}}}};class pe extends vt{async addItemForLater(e,t,s){return le(this.configuration).addItemForLater(e,t,s).then(a=>a(this.axios,this.basePath))}async addItemToCollection(e,t,s,a){return le(this.configuration).addItemToCollection(e,t,s,a).then(o=>o(this.axios,this.basePath))}async collectionsIdDelete(e,t){return le(this.configuration).collectionsIdDelete(e,t).then(s=>s(this.axios,this.basePath))}async countUserCollectionsByType(e,t){return le(this.configuration).countUserCollectionsByType(e,t).then(s=>s(this.axios,this.basePath))}async create(e,t){return le(this.configuration).create(e,t).then(s=>s(this.axios,this.basePath))}async detail(e,t){return le(this.configuration).detail(e,t).then(s=>s(this.axios,this.basePath))}async getCurrentSaveInfo(e,t,s){return le(this.configuration).getCurrentSaveInfo(e,t,s).then(a=>a(this.axios,this.basePath))}async listCollectionItems(e,t,s,a){return le(this.configuration).listCollectionItems(e,t,s,a).then(o=>o(this.axios,this.basePath))}async listUserCollections(e,t,s,a,o,r){return le(this.configuration).listUserCollections(e,t,s,a,o,r).then(c=>c(this.axios,this.basePath))}async proLimitIsCanCreateCollection(e,t){return le(this.configuration).proLimitIsCanCreateCollection(e,t).then(s=>s(this.axios,this.basePath))}async removeItemFromCollection(e,t,s,a){return le(this.configuration).removeItemFromCollection(e,t,s,a).then(o=>o(this.axios,this.basePath))}async updateCollection(e,t){return le(this.configuration).updateCollection(e,t).then(s=>s(this.axios,this.basePath))}}function ct(){return{animate:t=>{const s=document.getElementById(t);s==null||s.classList.add("animate-bounce"),setInterval(()=>{s==null||s.classList.remove("animate-bounce")},2500)}}}function tt(){const l=(t,s,a)=>{s.value=!1,clearTimeout(t),s.value=!0,t=setTimeout(()=>{s.value=!1,e(a)},2e3)},e=t=>{const s=document.getElementById(t);s==null||s.classList.add("fade"),s==null||s.classList.add("fade-out")};return{splash:l,hide:e}}function ma(l){var e;const t=wt(l);return(e=t==null?void 0:t.$el)!=null?e:t}const It=Te?window:void 0;Te&&window.document;const pa=Te?window.navigator:void 0;Te&&window.location;function ha(...l){let e,t,s,a;if(ea(l[0])?([t,s,a]=l,e=It):[e,t,s,a]=l,!e)return Je;let o=Je;const r=Ve(()=>ma(e),h=>{o(),h&&(h.addEventListener(t,s,a),o=()=>{h.removeEventListener(t,s,a),o=Je})},{immediate:!0,flush:"post"}),c=()=>{r(),o()};return ft(c),c}function $t(l,e=!1){const t=x(),s=()=>t.value=Boolean(l());return s(),ta(s,e),t}function va(l,e={}){const{window:t=It}=e,s=$t(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const o=x(!1),r=()=>{!a||("removeEventListener"in a?a.removeEventListener("change",c):a.removeListener(c))},c=()=>{!s.value||(r(),a=t.matchMedia(aa(l).value),o.value=a.matches,"addEventListener"in a?a.addEventListener("change",c):a.addListener(c))};return Xt(c),ft(()=>r()),o}function At(l={}){const{navigator:e=pa,read:t=!1,source:s,copiedDuring:a=1500}=l,o=["copy","cut"],r=$t(()=>e&&"clipboard"in e),c=x(""),h=x(!1),u=Zt(()=>h.value=!1,a);function f(){e.clipboard.readText().then(m=>{c.value=m})}if(r.value&&t)for(const m of o)ha(m,f);async function d(m=wt(s)){r.value&&m!=null&&(await e.clipboard.writeText(m),c.value=m,h.value=!0,u.start())}return{isSupported:r,text:c,copied:h,copy:d}}const Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ze="__vueuse_ssr_handlers__";Xe[Ze]=Xe[Ze]||{};Xe[Ze];var ut;(function(l){l.UP="UP",l.RIGHT="RIGHT",l.DOWN="DOWN",l.LEFT="LEFT",l.NONE="NONE"})(ut||(ut={}));var fa=Object.defineProperty,dt=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,mt=(l,e,t)=>e in l?fa(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,ga=(l,e)=>{for(var t in e||(e={}))wa.call(e,t)&&mt(l,t,e[t]);if(dt)for(var t of dt(e))ya.call(e,t)&&mt(l,t,e[t]);return l};const ba={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ga({linear:sa},ba);function ka(){return{readMore:(e,t,s,a)=>{const o=document.getElementById(`${a}${t}`);o!==null&&(o.innerHTML=e);const r=document.getElementById(`${s}${t}`);r==null||r.remove()}}}const xa={class:"flex-col info"},_a={key:0,class:"user-info"},Ca={class:"flex flex-row w-full"},Ia=["src"],$a={class:"w-full name"},Aa={class:"flex flex-row justify-between"},Ra={class:"flex flex-col"},Sa={class:"mb-2 text-base font-bold"},Pa={key:1,class:"mb-4"},La=["id","innerHTML"],Oa=["id"],Ua={class:"mb-4"},Va={key:2,class:"tags"},qa={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(l){yt();const e=(t,s,a,o)=>{ka().readMore(t,s,a,o)};return(t,s)=>{const a=Ie;return k(),C("section",xa,[l.artworkDetail.users?(k(),C("div",_a,[n("div",Ca,[_(a,{to:"/profile/"+l.artworkDetail.users.username},{default:K(()=>[n("img",{class:"avatar",src:t.avatarCoverUrl(l.artworkDetail.users.avatar_bucket,l.artworkDetail.users.avatar_filename),onError:s[0]||(s[0]=(...o)=>t.imageLoadError&&t.imageLoadError(...o))},null,40,Ia)]),_:1},8,["to"]),n("div",$a,[n("div",Aa,[n("div",Ra,[_(a,{to:"/profile/"+l.artworkDetail.users.username,class:"fullname"},{default:K(()=>[B(y(l.artworkDetail.users.name),1)]),_:1},8,["to"]),_(a,{to:"/profile/"+l.artworkDetail.users.username,class:"username"},{default:K(()=>[B(" @"+y(l.artworkDetail.users.username),1)]),_:1},8,["to"])]),A(n("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:s[1]||(s[1]=o=>t.closeModal(l.section+"-modal"))}," ESC ",512),[[S,l.isModal]])])])])])):R("",!0),n("div",Sa,y(l.artworkDetail.title),1),l.artworkDetail.description?(k(),C("div",Pa,[n("span",{id:"mview-"+l.isDesktop+"-description-"+l.artworkDetail.id,innerHTML:l.artworkDetail.description.length>300?`${l.artworkDetail.description.slice(0,300)}...`:l.artworkDetail.description},null,8,La),l.artworkDetail.description.length>300?(k(),C("a",{key:0,id:"mview-"+l.isDesktop+"-read-more-"+l.artworkDetail.id,class:"href",onClick:s[2]||(s[2]=fe(o=>e(l.artworkDetail.description,l.artworkDetail.id,"mview-"+l.isDesktop+"-read-more-","mview-"+l.isDesktop+"-description-"),["prevent"]))},y(t.$t("readMore")),9,Oa)):R("",!0)])):R("",!0),n("div",Ua,[n("span",{class:F(["italic text-color-secondary",{"font-bold text-red-400":l.previewMode}])},y(l.previewMode?t.$t("willBePublishedOn"):t.$t("publishedOn")),3),B(" "+y(t.formatDate(l.artworkDetail.scheduled_post)),1)]),l.artworkDetail.artwork_has_tags&&l.artworkDetail.artwork_has_tags.length?(k(),C("div",Va,[(k(!0),C(we,null,ye(l.artworkDetail.artwork_has_tags,o=>(k(),C("span",{key:o.artwork_tags.id,class:"tag"},[_(a,{to:"/works/browse?tags="+o.artwork_tags.tag.replaceAll(" ","+")},{default:K(()=>[B(y(o.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):R("",!0)])}}},pt=ge(qa,[["__scopeId","data-v-35c1316f"]]),Ta=["href","onClick"],Ea={class:"overflow-hidden relative text-center rounded-md"},Ma={key:0},Ba={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ja=["href"],Fa=["src"],Da={class:"overflow-hidden relative text-center rounded-md"},Na={key:0},Ha={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Qa=["href"],za=["src"],Wa={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(l,{emit:e}){const t=l,s=Le();Ve(()=>t.currentWorkId,d=>{r.value=d});const a=oa(),o=x(!1),r=x(t.currentWorkId),c=va("(min-width: 1024px)"),h=d=>{c.value&&!t.isMiniList||t.isMiniList?(r.value=d,t.view(d)):a.replace({path:"/a/"+d})},u=x([]),f=d=>{if(u.value.includes(d)){const m=u.value.indexOf(d);u.value.splice(m,1)}else u.value.push(d);e("feedManageList",u.value)};return Ve(()=>t.manageMode,d=>{d===!1&&(u.value=[])}),(d,m)=>{const b=Ie;return k(),C("section",{class:F(l.sectionClass)},[(k(!0),C(we,null,ye(l.works,i=>(k(),C("span",{key:i.id,class:F(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&r.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":u.value.includes(i.id)||r.value==i.id}])},[!d.isMobile()&&!l.isHref&&!l.isMiniList?(k(),C("a",{key:0,href:"/a/"+i.id,onClick:fe(v=>l.manageMode?f(i.id):l.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[n("div",Ea,[i._count.artwork_assets>1&&!d.applyExplicitFilter(O(s),i.is_explicit)?(k(),C("p",Ma,y(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(O(s),i.is_explicit)?(k(),C("span",Ba,y(d.$t("explicitContent")),1)):R("",!0),n("a",{href:"/a/"+i.id,class:F([{"animate-wigglefast":l.manageMode}])},[n("img",{class:F(["w-full h-full unselectable",{"object-cover":!o.value},o.value?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(O(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail",o.value),onError:m[0]||(m[0]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,Fa)],10,ja)])],8,Ta)):(k(),re(b,{key:1,onClick:v=>l.manageMode?f(i.id):h(i.id)},{default:K(()=>[n("div",Da,[i._count.artwork_assets>1&&!d.applyExplicitFilter(O(s),i.is_explicit)?(k(),C("p",Na,y(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(O(s),i.is_explicit)?(k(),C("span",Ha,y(d.$t("explicitContent")),1)):R("",!0),n("a",{href:"/a/"+i.id,onClick:m[2]||(m[2]=fe(v=>d.void,["prevent"])),class:F([{"animate-wigglefast":l.manageMode}])},[n("img",{class:F(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(O(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail",o.value),onError:m[1]||(m[1]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,za)],10,Qa)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ja=ge(Wa,[["__scopeId","data-v-9442f5f1"]]),Ga={class:"artist-works"},Ya={class:"heading"},Ka={key:0,class:"pagination-controller"},Xa={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(l){const e=l,t=e.artworkDetail,{oApiConfiguration:s,fetchOptions:a}=$e(),o=_t(s,a()),r=x(null);Ee(()=>{e.keepArtistPageNumber||(u.page=-1),f(t.users.id)});const c=x(!0),h=x([]),u=Ge({page:0,perPage:e.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),f=async(b,i)=>{c.value=!0,u.options.nextPrevLoading=!0,b!==r.value&&(r.value=b,u.page=-1),i==="prev"?u.page-=1:u.page+=1;const[v,g,q]=await o.getUserArtworks({userId:b,pagination:{page:u.page,perPage:u.perPage}});q?(c.value=!1,m()):(g.next_previous.prev_page===null||g.next_previous.prev_page===void 0?u.options.disableArtistPrevButton=!0:u.options.disableArtistPrevButton=!1,g.next_previous.next_page===null||g.next_previous.next_page===void 0?u.options.disableArtistNextButton=!0:u.options.disableArtistNextButton=!1,h.value=v),u.options.nextPrevLoading=!1,c.value=!1},d=x(!1),m=()=>{d.value=!0};return(b,i)=>{const v=Ie;return k(),C("div",Ga,[n("div",Ya,[n("span",null,[B(y(b.$t("artworks.moreArtworkBy"))+" ",1),l.artworkDetail.users?(k(),re(v,{key:0,to:"/profile/"+l.artworkDetail.users.username,class:"text-colored"},{default:K(()=>[B(y(l.artworkDetail.users.username)+" <"+y(l.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):R("",!0)]),_(v,{to:"/profile/"+l.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:K(()=>[_(U,{name:"i-ci-external-link"})]),_:1},8,["to"])]),_(Me,{loading:c.value,error:d.value,class:"mt-2"},null,8,["loading","error"]),A(_(Ja,{class:F(["gap-2 md:gap-4",[u.options.nextPrevLoading?"animate-pulse":"",l.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:h.value,view:l.view,"is-href":l.isHref,"is-mini-list":!0,"current-work-id":l.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[S,!c.value&&!d.value]]),l.artworkDetail.users?A((k(),C("div",Ka,[n("span",{onClick:i[0]||(i[0]=g=>u.options.disableArtistPrevButton?null:f(l.artworkDetail.users.id,"prev"))},[_(U,{name:"i-ion-chevron-back"})]),n("span",{onClick:i[1]||(i[1]=g=>u.options.disableArtistNextButton?null:f(l.artworkDetail.users.id,"next"))},[_(U,{name:"i-ion-chevron-forward"})])],512)),[[S,!c.value]]):R("",!0)])}}},ht=ge(Xa,[["__scopeId","data-v-a626d965"]]),et={__name:"ProBadge",props:{forceShow:{type:Boolean,default:!1}},setup(l){return Le(),(e,t)=>{const s=Ie;return l.forceShow?(k(),re(s,{key:0,to:"/pro",class:"py-1 px-2 font-bold text-black align-middle bg-yellow-200 rounded-md text-xxs hover:text-black"},{default:K(()=>[B(" PRO ")]),_:1})):R("",!0)}}},Za={class:"splash"},es={class:"flex flex-row"},ts={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(l){return(e,t)=>(k(),C("div",Za,[n("div",es,[_(U,{name:l.icon,class:"mr-2 text-base"},null,8,["name"]),n("span",null,y(l.text),1)])]))}},at=ge(ts,[["__scopeId","data-v-86e964a1"]]);function as(l,e){return{proCanCreateCollection:async i=>{try{const{data:v}=await new pe(l).proLimitIsCanCreateCollection({type:i.type},e);return[v.data.is_can_create,null]}catch(v){return[null,v]}},createCollection:async(i,v)=>{try{const{data:g}=await new pe(l).create({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:i},e);return[g.success,g.data,null]}catch(g){return[null,null,g]}},getInfo:async i=>{try{return[(await new pe(l).detail(i,e)).data,null]}catch(v){return[null,v]}},countCollections:async i=>{try{const{data:v}=await new qe(l).countUserCollections(i,e);return[v.data.total,null]}catch(v){return[null,v]}},countArtworkCollections:async i=>{try{const{data:v}=await new qe(l).countUserArtworkCollections(i,e);return[v.data.total,null]}catch(v){return[null,v]}},fetchCollections:async i=>{try{const{data:v}=await new pe(l).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,e),g=v.data.collections,q=v.data.pagination;let P=!0;return q.current_page===q.total_page&&(P=!1),[g,P,null]}catch(v){return[null,!1,v]}},listCollectionItems:async i=>{try{const{data:v}=await new pe(l).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,e),g=v.data.pagination;let q=!0;return g.current_page===g.total_page&&(q=!1),[v.data.items,q,null]}catch(v){return[null,!1,v]}},getCurrentSaveInfo:async(i,v)=>{try{const{data:g}=await new pe(l).getCurrentSaveInfo(i,v,e);return[g.data,null]}catch(g){return[null,g]}},addItem:async i=>{try{return await new pe(l).addItemToCollection(i.type,i.collectionId,{id:i.workId},e),[!0,null]}catch(v){return[null,v]}},removeItem:async i=>{try{const{data:v}=await new pe(l).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},e);return[v.success,null]}catch(v){return[null,v]}},update:async i=>{try{const{data:v}=await new pe(l).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},e);return[v.success,null]}catch(v){return[null,v]}},deleteCollection:async i=>{try{const{data:v}=await new pe(l).collectionsIdDelete(i,e);return[v.success,null]}catch(v){return[null,v]}}}}const ss={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},os={class:"flex flex-row justify-between w-full"},ls={class:"title"},rs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ns={class:"list"},is={class:"overflow-y-scroll pr-2 max-h-60"},cs=["onClick"],us={class:"flex flex-row justify-between"},ds={class:"flex flex-row"},ms={key:0,class:"flex flex-row mt-2 w-full"},ps={class:"leading-6"},hs={class:"flex float-right flex-row gap-2 mt-4"},vs=["placeholder"],fs={class:"flex flex-row justify-between mt-2"},ws={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(l,{expose:e,emit:t}){const s=l,a=Le(),{oApiConfiguration:o,fetchOptions:r}=$e(),c=as(o,r());gt(()=>{u()}),Ee(()=>{i(),g()});const h=x(!1),u=async()=>{if(a.i502p00r0)h.value=!0;else{const[E,L]=await c.proCanCreateCollection({type:"artwork"});L?h.value=!1:h.value=E}},f=x({pagination:{page:0,perPage:10},loading:!1}),d=x(!1),m=x(!1),b=x([]),i=async(E=!1)=>{await u(),b.value=[],E||(f.value.loading=!0);const[L,H,ue]=await c.fetchCollections({userId:a.user.id,type:"artwork",pagination:{page:f.value.pagination.page,perPage:f.value.pagination.perPage}});f.value.loading=!1,ue&&(d.value=!0),ue||(L&&L.length>0?(H?(f.value.pagination.page+=1,q.value=!0):q.value=!1,L.forEach(Ae=>{b.value.push(Ae)})):m.value=!0)},v=x([]),g=async()=>{d.value=!1,v.value=[],Y.value=[],Q.value=[],await setTimeout(async()=>{const[E,L]=await c.getCurrentSaveInfo("artwork",s.workId);if(L)d.value=!0;else for(const H of E)Y.value.push(H.collection_id),v.value.push(H.collection_id)},300)},q=x(!0),P=async()=>{await i({isLoadMore:!0}),await g()},Y=x([]),Q=x([]),ee=E=>{if(Y.value.includes(E)){Q.value.push(E);const L=Y.value.indexOf(E);Y.value.splice(L,1)}else if(Y.value.push(E),Q.value.includes(E)){const L=Q.value.indexOf(E);Q.value.splice(L,1)}},I=async()=>{try{for(const L of Y.value)await c.addItem({collectionId:L,type:"artwork",workId:s.workId});if(Q.value.length)for(const L of Q.value)await c.removeItem({collectionId:L,type:"artwork",workId:s.workId});let E=!1;Y.value.length===0&&v.value.length===Q.value.length&&(E=!0),await g(),X().closeModal(s.modalId),t("save",E)}catch{}},J=x(""),se=x(!1),he=async()=>{se.value=!1;const[E,L,H]=await c.createCollection("artwork",{title:J.value,isPublic:1,description:""});E?(b.value=[],G(),f.value.pagination.page=0,await i(),await g(),await u(),J.value="",N()):se.value=!0},ne=x(!1);let ve;const N=()=>{ne.value=!0,tt().splash(ve,ne,"collection-created-alert")},G=()=>{Y.value=[]},j=()=>{X().closeModal(s.modalId),G()};return e({fetchCollection:i,fetchCurrentSaved:g}),(E,L)=>(k(),C("div",null,[n("div",ss,[n("div",null,[n("div",os,[n("span",ls,y(E.$t("collections.addItem.form.title")),1),n("div",rs,[n("div",{class:"modal-close",onClick:L[0]||(L[0]=H=>j())},[_(U,{name:"close",class:"text-2xl"})])])]),A(n("div",ns,[n("div",is,[(k(!0),C(we,null,ye(b.value,(H,ue)=>(k(),C("div",{key:H.id,class:F(["item",{"mt-2":ue!==0},Y.value.includes(H.id)?"button-color text-white":"theme-color-secondary",H.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:Ae=>H.is_can_add_more?ee(H.id):null},[n("div",us,[n("span",null,y(H.name),1),n("div",ds,[n("span",{class:F(["ml-2 font-bold",Y.value.includes(H.id)?"text-white":"text-colored"])},y(H._count.collection_has_artworks),3)])]),H.is_can_add_more?R("",!0):(k(),C("div",ms,[_(et,{class:"mr-1"}),n("p",ps,y(E.$t("collections.maxItemLimitReached")),1)]))],10,cs))),128))]),A(n("div",{class:"mt-2 primary-button",onClick:L[1]||(L[1]=H=>P())},[_(U,{name:"chevron-down-outline",class:"mr-2"}),B(" "+y(E.$t("loadMore")),1)],512),[[S,q.value]]),n("div",hs,[n("button",{class:"cancel-button",onClick:L[2]||(L[2]=H=>j())},y(E.$t("cancel")),1),n("button",{class:"primary-button",onClick:L[3]||(L[3]=H=>I())},y(E.$t("save")),1)])],512),[[S,!f.value.loading&&!d.value&&!m.value]]),A(n("div",null,[A(n("input",{"onUpdate:modelValue":L[4]||(L[4]=H=>J.value=H),type:"text",class:F(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":se.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,vs),[[Pe,J.value]]),n("div",fs,[n("div",null,[A(n("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},y(E.$t("collections.failedToCreateCollection")),513),[[S,se.value]])]),A(n("button",{class:"flex flex-row primary-button",onClick:L[5]||(L[5]=H=>h.value?he():null)},[n("span",{class:F({"leading-6":!h.value})},y(E.$t("create")),3),h.value?R("",!0):(k(),re(et,{key:0,class:"ml-1"}))],512),[[S,J.value&&J.value.length>0]])])],512),[[S,!f.value.loading&&!d.value&&!m.value]])]),_(Me,{loading:f.value.loading,empty:m.value,error:d.value,fetch:i},null,8,["loading","empty","error"])]),A(_(at,{id:"collection-created-alert",text:E.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[S,ne.value]])]))}},ys=ge(ws,[["__scopeId","data-v-32166aca"]]);function gs(l,e){return{proCanCreateAlbum:async i=>{try{const{data:v}=await new me(l).proLimitIsCanCreateAlbum({type:i.type},e);return[v.data.is_can_create,null]}catch(v){return[null,v]}},createAlbum:async(i,v)=>{try{const{data:g}=await new me(l).createAlbum({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:i},e);return[g.success,g.data,null]}catch(g){return[null,null,g]}},getInfo:async i=>{try{return[(await new me(l).getAlbumById(i,e)).data,null]}catch(v){return[null,v]}},countAlbums:async i=>{try{const{data:v}=await new qe(l).countUserAlbums(i,e);return[v.data.total,null]}catch(v){return[null,v]}},countArtworkAlbums:async i=>{try{const{data:v}=await new qe(l).countUserArtworkAlbums(i,e);return[v.data.total,null]}catch(v){return[null,v]}},fetchAlbums:async(i,v,g,q)=>{try{const{data:P}=await new me(l).listUserAlbums(i,g,q,v,e),Y=P.data.pagination;let Q=!0;return Y.current_page===Y.total_page&&(Q=!1),[P.data.albums,Q,null]}catch(P){return[null,!1,P]}},listAlbumItems:async i=>{try{const{data:v}=await new me(l).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,e),g=v.data.pagination;let q=!0;return g.current_page===g.total_page&&(q=!1),[v.data.works,q,null]}catch(v){return[null,!1,v]}},getCurrentSaveInfo:async(i,v)=>{try{const{data:g}=await new me(l).getCurrentAlbumSaveInfo(i,v,e);return[g.data,null]}catch(g){return[null,g]}},addItems:async i=>{try{for(const v of i.albumIds)await new me(l).addWorkToAlbum({album_id:v,type:i.type,work_ids:i.workIds},e);return[!0,null]}catch(v){return[null,v]}},removeItems:async(i,v)=>{try{const{data:g}=await new me(l).removeWorkFromAlbum({album_id:i,work_ids:v},e);return[g.success,null]}catch(g){return[null,g]}},update:async i=>{try{const{data:v}=await new me(l).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},e);return[v.success,null]}catch(v){return[null,v]}},deleteAlbum:async i=>{try{const{data:v}=await new me(l).deleteAlbum(i,e);return[v.success,null]}catch(v){return[null,v]}}}}const bs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},ks={class:"flex flex-row justify-between w-full"},xs={class:"title"},_s={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Cs={class:"list"},Is={class:"overflow-y-scroll pr-2 max-h-60"},$s=["onClick"],As={class:"flex flex-row justify-between"},Rs={key:0,class:"flex flex-row mt-2 w-full"},Ss={class:"leading-6"},Ps={class:"flex float-right flex-row gap-2 mt-4"},Ls={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(l,{expose:e,emit:t}){const s=l,a=Le(),{oApiConfiguration:o,fetchOptions:r}=$e(),c=gs(o,r()),h=ua(o,r());gt(async()=>{await f()}),Ee(()=>{q(),s.workIds.length||Q()});const u=x(999),f=async()=>{const N=await h.getSetting("max_free_album_items");u.value=N},d=async()=>{m.value=[],b.value.pagination.page=0,P(),await q()},m=x([]),b=x({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),i=x(!0),v=x(!1),g=x(!1),q=async()=>{P(),i.value=!0;const[N,G,j]=await c.fetchAlbums(a.user.id,"artwork",b.value.pagination.page===0?b.value.pagination.firstLoad:b.value.pagination.perPage,b.value.pagination.page);j&&(v.value=!0),N.length?(G?(b.value.pagination.page+=1,b.value.showLoadMore=!0):b.value.showLoadMore=!1,N.forEach(E=>{m.value.push(E)})):g.value=!0,i.value=!1},P=()=>{g.value=!1,v.value=!1},Y=x([]),Q=async()=>{Y.value=[],I.value=[],J.value=[];const[N,G]=await c.getCurrentSaveInfo("artwork",s.workId);for(const j of N)I.value.push(j.album_id),Y.value.push(j.album_id)},ee=async()=>{await q(),await Q()},I=x([]),J=x([]),se=N=>{if(I.value.includes(N)){J.value.push(N);const G=I.value.indexOf(N);I.value.splice(G,1)}else if(I.value.push(N),J.value.includes(N)){const G=J.value.indexOf(N);J.value.splice(G,1)}},he=async()=>{const[N,G]=await c.addItems({albumIds:I.value,type:"artwork",workIds:s.workIds.length?s.workIds:[s.workId]});if(!s.workIds.length&&J.value.length)for(const j of J.value)await c.removeItems(j,[s.workId]);if(N){let j=!1;s.workIds.length||I.value.length===0&&Y.value.length===J.value.length&&(j=!0),ne(),X().closeModal(s.modalId),t("addedToAlbum",s.workIds.length?!0:j)}},ne=()=>{I.value=[]},ve=()=>{X().closeModal(s.modalId),ne()};return e({fetchCurrentSaved:Q,fetchAlbums:q}),(N,G)=>(k(),C("div",null,[n("div",bs,[n("div",null,[n("div",ks,[n("span",xs,y(N.$t("albums.selectAlbums")),1),n("div",_s,[n("div",{class:"modal-close",onClick:G[0]||(G[0]=j=>ve())},[_(U,{name:"close",class:"text-2xl"})])])]),n("div",Cs,[A(n("div",null,[n("div",Is,[(k(!0),C(we,null,ye(m.value,(j,E)=>(k(),C("div",{key:j.id,class:F(["item",{"mt-2":E!==0},I.value.includes(j.id)?"button-color text-white":"theme-color-secondary",j.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:L=>j.is_can_add_more?se(j.id):null},[n("div",As,[n("span",null,y(j.name),1),n("span",{class:F(["ml-2 font-bold",I.value.includes(j.id)?"text-white":"text-colored"])},y(j._count.album_has_artworks),3)]),!j.is_can_add_more||!O(a).i502p00r0&&j._count.album_has_artworks+s.workIds.length>u.value?(k(),C("div",Rs,[_(et,{class:"mr-1"}),n("p",Ss,y(N.$t("albums.maxItemLimitReached")),1)])):R("",!0)],10,$s))),128))]),A(n("div",{class:"mt-2 primary-button",onClick:G[1]||(G[1]=j=>ee())}," Load More ",512),[[S,b.value.showLoadMore]]),n("div",Ps,[n("button",{class:"cancel-button",onClick:G[2]||(G[2]=j=>ve())},y(N.$t("cancel")),1),n("button",{class:"primary-button",onClick:G[3]||(G[3]=j=>he())},y(N.$t("save")),1)])],512),[[S,!i.value&&!g.value&&!v.value]])])]),_(Me,{loading:i.value,empty:g.value,error:v.value,fetch:d},null,8,["loading","empty","error"])])]))}},Os=ge(Ls,[["__scopeId","data-v-454370a5"]]),Us={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Vs={class:"mb-4"},qs={class:"flex flex-row justify-end gap-2"},Ts={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(l,{emit:e}){const t=l,s=a=>{a&&e("onAccept",!0),X().closeModal(t.modalId)};return(a,o)=>(k(),C("div",null,[n("div",Us,[n("p",Vs,y(l.message),1),n("div",qs,[n("button",{class:"cancel-button",onClick:o[0]||(o[0]=r=>s(!1))},y(a.$t("no")),1),n("button",{class:"danger-button",onClick:o[1]||(o[1]=r=>s(!0))},y(a.$t("yes")),1)])])]))}},Rt=l=>(bt("data-v-93d8d761"),l=l(),kt(),l),Es={class:"opt-modal modal-layer"},Ms={class:"opt-modal__title"},Bs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},js={class:"opt-modal__content"},Fs={class:"report"},Ds={class:"report__reason_opt"},Ns={class:"report__title"},Hs=["onClick"],Qs={class:"report__title"},zs=["placeholder"],Ws={class:"report__buttons"},Js={class:"text-justify"},Gs={class:"mt-2"},Ys=Rt(()=>n("i",null,"Your report ID:",-1)),Ks=Rt(()=>n("i",null,"Report date:",-1)),Xs={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(l){const e=l,{oApiConfiguration:t,fetchOptions:s}=$e(),a=Ct(t,s()),o=x(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),r=x({selectedReasons:[],reasonDescription:"",enableSubmit:Ye(()=>r.value.selectedReasons.length>0&&r.value.reasonDescription!=="")}),c=b=>{if(!r.value.selectedReasons.includes(b))r.value.selectedReasons.push(b);else{const i=r.value.selectedReasons.indexOf(b);r.value.selectedReasons.splice(i,1)}},h=x(!1),u=x({}),f=async()=>{h.value=!1,u.value={};const[b,i,v]=await a.createNewReport({type:e.type,postId:e.postId,reasons:r.value.selectedReasons.join(","),description:r.value.reasonDescription});v&&!b||(h.value=!0,u.value=i)},d=()=>{X().closeModal("report-modal"),m()},m=()=>{r.value.selectedReasons=[],r.value.reasonDescription="",h.value=!1};return(b,i)=>{const v=Ie;return k(),C("div",null,[n("div",Es,[n("div",Ms,[n("h1",null,y(h.value?b.$t("reports.reportSubmitted"):l.reportStatus.id?b.$t("reports.alreadyReported"):b.$t("reports.title")),1),n("div",Bs,[n("div",{class:"modal-close",onClick:i[0]||(i[0]=g=>d())},[_(U,{name:"i-ion-close",class:"text-2xl"})])])]),n("div",js,[A(n("div",Fs,[n("div",Ds,[n("div",Ns,y(b.$t("reports.selectReasons")),1),(k(!0),C(we,null,ye(o.value,g=>(k(),C("span",{key:g,class:F([r.value.selectedReasons.includes(g)?"button-color":"theme-color-secondary"]),onClick:q=>c(g)},[n("div",null,[A(_(U,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[S,!r.value.selectedReasons.includes(g)]]),A(_(U,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[S,r.value.selectedReasons.includes(g)]])]),n("div",{class:F(["reason",[r.value.selectedReasons.includes(g)?"text-white":"text-color-secondary"]])},y(b.$t("reports.reasons."+g)),3)],10,Hs))),128))]),n("div",null,[n("div",Qs,y(b.$t("reports.describeReason")),1),A(n("textarea",{"onUpdate:modelValue":i[1]||(i[1]=g=>r.value.reasonDescription=g),class:"report__reason_description",placeholder:b.$t("reports.describeText"),cols:"5",rows:"5"},null,8,zs),[[Pe,r.value.reasonDescription]])]),n("div",Ws,[n("button",{class:"cancel-button",onClick:i[2]||(i[2]=g=>d())},y(b.$t("cancel")),1),n("button",{class:F(r.value.enableSubmit?"primary-button":"disabled-button"),onClick:i[3]||(i[3]=g=>r.value.enableSubmit?f():null)},y(b.$t("report")),3)])],512),[[S,!h.value&&!l.reportStatus.id]]),A(n("div",null,[n("div",Js,y(b.$t("reports.reportSubmittedMessage")),1),n("div",Gs,[n("div",null,[Ys,B("\xA0 "),n("b",null,"#"+y(u.value.id),1)]),n("div",null,[Ks,B("\xA0 "),n("b",null,y(b.formatDate(u.value.created_at)),1)])])],512),[[S,h.value]]),A(n("div",null,[B(y(b.$t("reports.alreadyReportedDescription"))+" ",1),_(v,{class:"underline href",to:"/reports"},{default:K(()=>[B(y(b.$t("reports.reportStatus")),1)]),_:1})],512),[[S,l.reportStatus.id]])])])])}}},Zs=ge(Xs,[["__scopeId","data-v-93d8d761"]]),eo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},to={class:"title"},ao={class:"mt-2"},so={class:"alert-success"},oo={class:"italic"},lo={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},ro=["placeholder"],no={class:"flex flex-row gap-2 justify-end"},io={class:"flex flex-row justify-between mt-6"},co=["value"],uo={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(l){const e=l,{oApiConfiguration:t,fetchOptions:s}=$e(),a=da(t,s()),o=xt(),r=()=>{h.value=""},c=()=>{u.value=!1,f.value=!1,d.value=!1,X().closeModal("share-to-feed-modal"),r()},h=x(""),u=x(!1),f=x(!1),d=x(!1),m=async()=>{u.value=!1,f.value=!0,d.value=!1;const[g,q,P]=await a.shareArtworkToFeed({text:h.value,workId:e.postId});g?(d.value=!0,setTimeout(()=>{c()},500)):u.value=!0,f.value=!1},b=x(!1);let i;const v=g=>{const q=x(g),{copy:P}=At({source:q});P(),tt().splash(i,b,"copy-alert")};return(g,q)=>(k(),C("div",null,[n("div",eo,[n("span",to,y(g.$t("feeds.share.artwork.title")),1),n("div",ao,[A(n("div",so,[n("span",oo,y(g.$t("feeds.share.artwork.success")),1)],512),[[S,d.value]]),A(n("div",lo,[_(Ke,{class:"mr-2"}),B(" "+y(g.$t("feeds.form.postingYourUpdate")),1)],512),[[S,f.value]]),A(n("div",{class:"alert-danger"},y(g.$t("feeds.form.postFailure")),513),[[S,u.value]]),A(n("textarea",{"onUpdate:modelValue":q[0]||(q[0]=P=>h.value=P),class:"input form-input textarea",placeholder:g.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,ro),[[Pe,h.value]]),n("div",no,[n("button",{class:"cancel-button",onClick:q[1]||(q[1]=P=>c())},y(g.$t("cancel")),1),n("button",{class:F(["primary-button"]),onClick:q[2]||(q[2]=P=>m())},y(g.$t("share")),1)]),n("div",io,[n("input",{readonly:"",value:O(o).public.appUrl+"/a/"+e.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,co),n("button",{class:"icon-button",onClick:q[3]||(q[3]=P=>v(O(o).public.appUrl+"/a/"+l.postId))},[_(U,{name:"i-icon-park-outline-copy"})])])])]),A(_(at,{id:"copy-alert",text:g.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[S,b.value]])]))}},st=l=>(bt("data-v-20a9b038"),l=l(),kt(),l),mo={class:"mx-auto w-full align-middle work-view md:w-1/2"},po={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},ho={class:"flex flex-row justify-center mb-2"},vo=st(()=>n("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),fo={class:"font-bold cursor-pointer"},wo={class:"mr-2 font-normal"},yo={class:"italic"},go={key:1,class:"alert-success"},bo={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},ko={class:"mr-4"},xo={class:"image-list"},_o=["src","data-source"],Co={class:"interactions"},Io={class:"reaction-counters"},$o={class:"counter"},Ao={key:0,class:"reactions"},Ro={key:0},So={key:0},Po={class:"inline-block relative z-30 dropdown"},Lo={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Oo={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Uo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Vo={key:2,class:"custom-divider"},qo={key:4,class:"custom-divider"},To=["to"],Eo=st(()=>n("div",{class:"custom-divider"},null,-1)),Mo={class:"comments"},Bo={key:0,class:"comment-box"},jo={class:"flex flex-col"},Fo={class:"flex relative flex-col"},Do=["readonly","rows","placeholder"],No={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Ho={id:"comments",class:"comment-content"},Qo={class:"flex flex-row justify-end mb-2"},zo={key:0},Wo=["src"],Jo={class:"w-full"},Go={class:"flex justify-between"},Yo={class:"comment-time"},Ko={class:"mt-4 reactions"},Xo=["onClick"],Zo={key:0},el={key:0,class:"flex flex-row"},tl=["onClick"],al=["onClick"],sl={class:"inline-block relative ml-2 dropdown"},ol={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},ll={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},rl=["onClick"],nl={key:0,class:"-mb-4 comment-box"},il={class:"flex flex-col"},cl={class:"flex relative flex-col"},ul=["id","readonly","rows","placeholder"],dl=["onClick"],ml=["id"],pl={key:0,class:"w-full"},hl={class:"float-left mb-2 text-xs italic text-color-secondary"},vl=["onClick"],fl={class:"flex flex-row justify-between"},wl=["src"],yl={class:"transition-all duration-150 cursor-pointer hover:font-bold"},gl={class:"leading-6 comment-time"},bl={class:"mt-2"},kl={key:0,class:"mt-2 reactions"},xl=st(()=>n("span",null,null,-1)),_l={class:"flex flex-row"},Cl=["onClick"],Il={class:"inline-block relative ml-2 dropdown"},$l={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Al={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Rl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Sl=["onClick"],Pl=["onClick"],Ll={key:3,class:"mt-4 w-full text-xs italic text-center"},Ol={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},emits:["stopLoading","showEmpty","showError"],setup(l,{expose:e,emit:t}){const s=l,a=Le(),{oApiConfiguration:o,fetchOptions:r}=$e(),{applyExplicitFilter:c,removeExplicitFilter:h,generateSemiCompressedArtworkUrl:u}=la(),f=_t(o,r()),d=Ct(o,r()),m=xt(),{$router:b}=ra(),i=yt();Ve(()=>i.query,()=>{v(),X().closeModal("collection-selection-modal"),X().closeModal("album-selection-modal"),X().closeModal("report-modal")}),Ee(()=>{s.id!==""&&ve(s.id),window.addEventListener("keydown",p=>{const w=document.getElementById("collection-selection-modal"),V=document.getElementById("album-selection-modal"),T=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");p.key==="Escape"&&(!w||w.style.display!="flex")&&(!V||V.style.display!="flex")&&(!T||T.style.display!="flex")&&!ae.length&&v()})});const v=()=>{X().closeModal(`${s.section}-modal`)},g=x(!1),q=()=>{g.value=!1,h()},P=s.id==="",Y=async p=>{await f.incraseViewCount(p)},Q=x(!1),ee=x(!0),I=x({}),J=x(!1),se=x(!1),he=x(!1),ne=x([]),ve=async p=>{Z.value="",L.value=[],de.value=[],ee.value=!0;const[w,V]=await f.getWorkById(p);V?V=="Work not found"?t("showEmpty"):t("showError"):(I.value=w,ne.value=[],w.artwork_assets.forEach(ae=>{ne.value.push({thumbnail:u(ae.bucket,ae.filename,!0),source:u(ae.bucket,ae.filename,!1)})}),!a.loggedIn&&w.is_explicit||w.is_explicit&&!a.user.user_settings.show_explicit?(g.value=!0,c()):g.value=!1,J.value=w.liked,se.value=w.saved,he.value=w.in_album,it().formatApiToWeb(w.scheduled_post)<it().currentUtcTime()?(await St(p),a.loggedIn&&await G(p),(!a.loggedIn||a.user.id!==w.users.id)&&await Y(p)):a.user.id!==w.users.id?b.push("/"):Q.value=!0),ee.value=!1,t("stopLoading")},N=x({}),G=async p=>{const[w,V]=await d.getReportStatus({type:"artwork",postId:p});V||(w.length?N.value=w[0]:N.value={})},j=async()=>{const[p,w]=await f.like({workId:I.value.id});if(p){J.value=!0;const V=document.getElementById("like-button");V.classList.add("animate-bounce"),setInterval(()=>{V.classList.remove("animate-bounce")},2500)}},E=async()=>{const[p,w]=await f.unlike({workId:I.value.id});p&&(J.value=!1)},L=x([]),H=Ge({perPage:3,page:0}),ue=x([]),Ae=async p=>{const[w,V]=await f.getComments({workId:p,pagination:{page:H.page,perPage:H.perPage}});if(w)return w.pagination.current_page===w.pagination.first_last.last_page?Oe.value=!1:Oe.value=!0,w.comments.forEach(T=>{T.liked&&be.value.push(T.id),ue.value.push(T.id)}),w.comments},St=async p=>{try{(await Ae(p)).forEach(V=>L.value.push(V))}catch{}},Oe=x(!1),Pt=async p=>{try{H.page+=1,(await Ae(p)).forEach(V=>L.value.push(V))}catch{}},Z=x(),Be=200,Lt=Ye(()=>Z.value!=null&&Z.value!==""?Be-Z.value.length:Be),xe=x(!1),Ot=async()=>{xe.value=!0;try{const[p,w,V]=await f.addComment({workId:I.value.id,comment:Z.value});p&&(Z.value="",L.value.splice(0,0,w),L.value.join(),ue.value.splice(0,0,w.id),ue.value.join())}catch{}xe.value=!1},Ut=async p=>{const[w,V]=await f.deleteComment({commentId:p});if(w){const T=ue.value.indexOf(p);L.value.splice(T,1),ue.value.splice(T,1)}},be=x([]),Vt=async p=>{const[w,V]=await f.likeComment({commentId:p});if(w){be.value.push(p);const T=document.getElementById(`comment-like-button-${p}`);T.classList.add("animate-bounce"),setInterval(()=>{T.classList.remove("animate-bounce")},2500)}},qt=async p=>{const[w,V]=await f.unlikeComment({commentId:p});if(w){const T=be.value.indexOf(p);be.value.splice(T,1)}},je=Ge({perPage:2,page:0}),de=x([]),_e=x([]),Fe=x(!0),ot=async p=>{const[w,V,T]=await f.getCommentReplies({commentId:p,pagination:{page:je.page,perPage:je.perPage}});if(!T)return V.current_page===V.first_last.last_page&&(Fe.value=!1),w.map(ae=>_e.value.push(ae.id)),w},Re=x(0),De=async p=>{Fe.value=!0,_e.value=[];try{const w=await ot(p);de.value={[p]:w},w.forEach(T=>{T.liked&&ke.value.push(T.id)}),Re.value&&Ne(Re.value);const V=document.getElementById(`comment-replies-${p}`);V.classList.add("flex"),V.classList.remove("hidden"),Re.value=p}catch{}},Ne=p=>{const w=document.getElementById(`comment-replies-${p}`);w.classList.remove("flex"),w.classList.add("hidden"),Re.value=0},Tt=async p=>{je.page+=1;try{(await ot(p)).forEach(V=>{de.value[p].push(V)})}catch{}},Ue=x(0),Et=async p=>{await De(p),Ue.value=p},te=x(),He=200,Mt=Ye(()=>te.value!=null&&te.value!==""?He-te.value.length:He),Ce=x(!1),Bt=async p=>{Ce.value=!0;try{const[w,V,T]=await f.addReply({commentId:p,reply:te.value});w&&(De(p),te.value="",de.value[p].splice(0,0,V),de.value[p].join(),Ue.value=0,_e.value.splice(0,0,V.id),_e.value.join())}catch{}Ce.value=!1},jt=async(p,w)=>{const[V,T]=await f.deleteReply({replyId:w});if(V){const ae=_e.value.indexOf(w);de.value[p].splice(ae,1),_e.value.splice(ae,1)}},ke=x([]),Ft=async p=>{const[w,V]=await f.likeReply({replyId:p});if(w){ke.value.push(p);const T=document.getElementById(`reply-like-button-${p}`);T.classList.add("animate-bounce"),setInterval(()=>{T.classList.remove("animate-bounce")},2500)}},Dt=async p=>{const[w,V]=await f.unlikeReply({replyId:p});if(w){const T=ke.value.indexOf(p);ke.value.splice(T,1)}},Qe=x(!1),ze=x(!1),lt=async p=>{const[w,V]=await f.deleteWork({workId:[p]});w&&(ze.value=!0,setTimeout(()=>{b.push("/")},1500))},We=x(null),Nt=()=>{X().openModal("collection-selection-modal"),We.value.fetchCollection(),We.value.fetchCurrentSaved()},Ht=p=>{p?se.value=!1:se.value=!0,ct().animate("save-to-collection-button")},rt=x(null),Qt=()=>{X().openModal("album-selection-modal"),rt.value.fetchCurrentSaved()},zt=p=>{p?he.value=!1:he.value=!0,ct().animate("save-to-album-button")},Wt=()=>{X().openModal("share-to-feed-modal")},nt=x(!1);let Jt;const Gt=p=>{const w=x(m.public.appUrl+p),{copy:V}=At({source:w});V(),tt().splash(Jt,nt,"copy-alert")},Yt=x(null),Kt=()=>{X().openModal("report-modal")};return e({view:ve}),(p,w)=>{const V=ia("viewer"),T=Ie,ae=ca("auto-animate");return k(),C(we,null,[A(n("div",mo,[_(Me,{loading:ee.value},null,8,["loading"])],512),[[S,ee.value&&!p.isMobile()&&P]]),A(n("div",{class:F(["work-container work-view",P?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[n("div",{class:F(["left-side",{"overflow-y-scroll mr-6":P}])},[Q.value&&!ze.value?(k(),C("div",po,[n("div",ho,[_(U,{name:"i-ion-alert-outline"}),vo]),n("div",fo,[n("span",{class:"text-red-500",onClick:w[0]||(w[0]=$=>Qe.value=!0)},y(p.$t("artworks.deleteArtwork")),1),A(n("div",null,[n("span",wo,[B(y(p.$t("alert.areYouSure"))+" ",1),n("span",yo,"("+y(p.$t("alert.youCannotUndoThisAction"))+")",1)]),n("span",{class:"mr-2 text-red-500 hover:underline",onClick:w[1]||(w[1]=$=>lt(I.value.id))},y(p.$t("yes")),1),n("span",{class:"hover:underline",onClick:w[2]||(w[2]=$=>Qe.value=!1)},y(p.$t("no")),1)],512),[[S,Qe.value]])])])):R("",!0),ze.value?(k(),C("div",go,y(p.$t("artworks.successDelete")),1)):R("",!0),A(n("div",bo,[n("span",ko,y(O(a).loggedIn?p.$t("explicitContentAlert"):p.$t("explicitContentAlertForGuest")),1),n("button",{class:"primary-button",onClick:w[3]||(w[3]=fe($=>q(),["prevent"]))},y(p.$t("show")),1)],512),[[S,g.value]]),n("div",xo,[_(V,{options:{url:"data-source"},images:ne.value,class:"overflow-hidden rounded-md"},{default:K(()=>[(k(!0),C(we,null,ye(ne.value,($,M)=>(k(),C("img",{key:$.thumbnail,src:$.thumbnail,"data-source":$.source,class:F(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":g.value},g.value?"brightness-50":"brightness-100"]),onError:w[4]||(w[4]=(...Se)=>p.imageLoadError&&p.imageLoadError(...Se))},null,42,_o))),128))]),_:1},8,["images"])]),n("div",Co,[n("div",Io,[I.value.is_explicit?(k(),C("span",{key:0,class:F(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",P?"theme-color-secondary":"bg-tag"])},"E",2)):R("",!0),A(n("span",$o,[_(U,{name:"i-mi-eye"}),n("b",null,y(p.shortNumber(I.value.views)),1),B(" "+y(I.value.views>1?p.$t("count.views"):p.$t("count.view")),1)],512),[[S,I.value.views>0]])]),Q.value?R("",!0):(k(),C("div",Ao,[O(a).loggedIn?(k(),C("span",{key:0,onClick:w[5]||(w[5]=$=>J.value?E():j())},[A(_(U,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[S,J.value]]),A(_(U,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[S,!J.value]]),I.value._count&&I.value._count.artwork_likes?(k(),C("span",Ro,y(p.thousand(I.value._count.artwork_likes)),1)):R("",!0)])):R("",!0),O(a).loggedIn?(k(),C("span",{key:1,onClick:w[6]||(w[6]=$=>Nt())},[A(_(U,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[S,se.value]]),A(_(U,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[S,!se.value]]),I.value._count&&I.value._count.collection_has_artworks?(k(),C("span",So,y(p.thousand(I.value._count.collection_has_artworks)),1)):R("",!0)])):R("",!0),O(a).loggedIn&&I.value.users&&O(a).user.id===I.value.users.id?(k(),C("span",{key:2,onClick:w[7]||(w[7]=$=>Qt())},[A(_(U,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[S,he.value]]),A(_(U,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[S,!he.value]])])):R("",!0),O(a).loggedIn?(k(),C("span",{key:3,onClick:w[8]||(w[8]=$=>Wt())},[_(U,{name:"i-uil-share",class:"hover:text-blue-500"})])):R("",!0),n("div",Po,[n("button",Lo,[n("span",null,[_(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",Oo,[n("div",Uo,[P?(k(),re(T,{key:0,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(U,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),B(" "+y(p.$t("open")),1)]),_:1},8,["to"])):R("",!0),P?(k(),re(T,{key:1,to:"/a/"+I.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(U,{name:"i-ci-external-link",class:"mr-2 text-base"}),B(" "+y(p.$t("openInNewTab")),1)]),_:1},8,["to"])):R("",!0),P?(k(),C("div",Vo)):R("",!0),O(a).loggedIn&&I.value.users&&O(a).user.id!=I.value.users.id&&!O(a).user.is_admin&&!O(a).user.is_moderator?(k(),C("div",{key:3,to:"#",class:F(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!P}]),onClick:w[9]||(w[9]=$=>Kt())},[_(U,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),B(" "+y(p.$t("report")),1)],2)):R("",!0),n("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:w[10]||(w[10]=$=>Gt("/a/"+I.value.id))},[_(U,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),B(" "+y(p.$t("copySharableLink")),1)]),O(a).loggedIn&&I.value.users&&O(a).user.id===I.value.users.id?(k(),C("div",qo)):R("",!0),O(a).loggedIn&&I.value.users&&O(a).user.id===I.value.users.id?(k(),re(T,{key:5,to:"/works/update/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(U,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),B(" "+y(p.$t("update")),1)]),_:1},8,["to"])):R("",!0),O(a).loggedIn&&I.value.users&&O(a).user.id===I.value.users.id?(k(),C("div",{key:6,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:w[11]||(w[11]=$=>p.openModal("work-deletion-confirm-modal"))},[_(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),B(" "+y(p.$t("delete")),1)],8,To)):R("",!0)])])])]))]),_(pt,{section:l.section,class:"flex-md-hidden","is-modal":P,"artwork-detail":I.value,"preview-mode":Q.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(k(),re(na,null,[ee.value?R("",!0):(k(),re(ht,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":I.value,view:ve,"is-href":!P,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),n("div",{class:F(["right-side",{"pr-3 overflow-y-scroll":P}])},[_(pt,{section:l.section,class:"hidden-md-flex","is-modal":P,"artwork-detail":I.value,"preview-mode":Q.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),ee.value?R("",!0):(k(),re(ht,{key:0,class:"flex-md-hidden","artwork-detail":I.value,view:ve,"is-href":!P,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),Eo,n("section",Mo,[O(a).loggedIn&&!Q.value?(k(),C("div",Bo,[n("div",jo,[n("div",Fo,[A(n("textarea",{"onUpdate:modelValue":w[12]||(w[12]=$=>Z.value=$),class:F(["input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":P}]]),readonly:xe.value,cols:"30",rows:Z.value!=null&&Z.value!=""?"5":"0",placeholder:p.$t("comments.inputPlaceholder"),maxlength:Be,"data-gramm":"false"},null,10,Do),[[Pe,Z.value]]),A(n("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},y(O(Lt)),513),[[S,Z.value!=null&&Z.value!=""]]),n("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:w[13]||(w[13]=fe($=>Ot(),["prevent"]))},[A(_(U,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[S,Z.value!=null&&Z.value!=""&&!xe.value]]),A(_(Ke,null,null,512),[[S,xe.value]])])])])])):R("",!0),O(a).loggedIn?R("",!0):(k(),C("div",No,y(p.$t("comments.loginOrRegisterToLeaveComment")),1)),n("div",Ho,[n("div",Qo,[I.value._count&&I.value._count.artwork_comments?(k(),C("div",zo,[n("b",null,y(p.thousand(I.value._count.artwork_comments)),1),B(" "+y(I.value._count.artwork_comments>1?p.$t("count.comments"):p.$t("count.comment")),1)])):R("",!0)]),(k(!0),C(we,null,ye(L.value,$=>A((k(),C("div",{key:$.id,class:"flex flex-row w-full comment-item"},[_(T,{class:"mr-2",to:"/profile/"+$.users.username},{default:K(()=>[n("img",{class:"w-10 h-10 avatar",src:p.avatarCoverUrl($.users.avatar_bucket,$.users.avatar_filename),onError:w[14]||(w[14]=(...M)=>p.imageLoadError&&p.imageLoadError(...M))},null,40,Wo)]),_:2},1032,["to"]),n("div",Jo,[n("div",{class:F(["p-3 w-full rounded-md",P?"theme-color-secondary":"theme-color"])},[n("div",Go,[_(T,{to:"/profile/"+$.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:K(()=>[B(y($.users.name),1)]),_:2},1032,["to"]),n("div",Yo,y(p.formatDate($.created_at,!0)),1)]),n("div",null,y($.comment),1),n("div",Ko,[n("div",{class:"cursor-pointer hover:underline",onClick:M=>Re.value==$.id?Ne($.id):De($.id)},[$._count.artwork_comment_has_replies>0?(k(),C("span",Zo,[n("b",null,y(p.shortNumber($._count.artwork_comment_has_replies)),1),B(" "+y($._count.artwork_comment_has_replies>1?p.$t("comments.replies.replies").toLowerCase():p.$t("comments.replies.reply").toLowerCase()),1)])):R("",!0)],8,Xo),O(a).loggedIn?(k(),C("div",el,[n("span",{class:"reaction",onClick:M=>be.value.includes($.id)?qt($.id):Vt($.id)},[A(_(U,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[S,!be.value.includes($.id)]]),A(_(U,{id:"comment-like-button-"+$.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[S,be.value.includes($.id)]]),B(" "+y(p.shortNumber($._count.artwork_comment_has_likes)),1)],8,tl),n("span",{class:"reaction",onClick:M=>Et($.id)},[_(U,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,al),n("div",sl,[n("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:w[15]||(w[15]=M=>Ue.value=0)},[n("span",null,[_(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",ol,[n("div",ll,[_(T,{to:"/profile/"+$.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:w[16]||(w[16]=fe(()=>{},["prevent"]))},{default:K(()=>[_(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),B(" "+y(p.$t("viewProfile")),1)]),_:2},1032,["to"]),O(a).loggedIn&&O(a).user.id===$.users.id?(k(),C("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>Ut($.id)},[_(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),B(" "+y(p.$t("delete")),1)],8,rl)):R("",!0)])])])])):R("",!0)])],2),O(a).loggedIn?A((k(),C("div",nl,[n("div",il,[n("div",cl,[A(n("textarea",{id:"reply-"+$.id,"onUpdate:modelValue":w[17]||(w[17]=M=>te.value=M),class:F(["mt-2 w-full input form-input",[{"cursor-not-allowed":Ce.value},{"theme-color-secondary textarea":P}]]),readonly:Ce.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:p.$t("comments.replies.write"),maxlength:He,"data-gramm":"false"},null,10,ul),[[Pe,te.value]]),A(n("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},y(O(Mt)),513),[[S,te.value!=null&&te.value!=""]]),n("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:fe(M=>Bt($.id),["prevent"])},[A(_(U,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[S,te.value!=null&&te.value!=""&&!Ce.value]]),A(_(Ke,null,null,512),[[S,Ce.value]])],8,dl)])])],512)),[[S,Ue.value===$.id]]):R("",!0),n("div",{id:"comment-replies-"+$.id,class:"hidden flex-col mt-2"},[de.value[$.id]&&de.value[$.id].length?(k(),C("div",pl,[n("span",hl,y(p.$t("comments.replies.replies")),1),n("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>Ne($.id)},y(p.$t("hide")),9,vl)])):R("",!0),(k(!0),C(we,null,ye(de.value[$.id],M=>(k(),C("div",{key:M.id,class:F(["p-3 mb-2 w-full rounded-md border-l-4",P?"theme-color-secondary":"theme-color"])},[n("div",fl,[_(T,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:K(()=>[n("img",{class:"mr-2 w-6 h-6 rounded-full",src:p.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:w[18]||(w[18]=(...Se)=>p.imageLoadError&&p.imageLoadError(...Se))},null,40,wl),n("span",yl,y(M.users.name),1)]),_:2},1032,["to"]),n("span",gl,y(p.formatDate(M.created_at,!0)),1)]),n("div",bl,y(M.content),1),O(a).loggedIn?(k(),C("div",kl,[xl,n("div",_l,[n("span",{class:"reaction",onClick:Se=>ke.value.includes(M.id)?Dt(M.id):Ft(M.id)},[A(_(U,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[S,ke.value.includes(M.id)]]),A(_(U,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[S,!ke.value.includes(M.id)]]),B(" "+y(p.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,Cl),n("div",Il,[n("button",$l,[n("span",null,[_(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),n("div",Al,[n("div",Rl,[_(T,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:w[19]||(w[19]=fe(()=>{},["prevent"]))},{default:K(()=>[_(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),B(" "+y(p.$t("viewProfile")),1)]),_:2},1032,["to"]),O(a).loggedIn&&O(a).user.id===M.users.id?(k(),C("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Se=>jt($.id,M.id)},[_(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),B(" "+y(p.$t("delete")),1)],8,Sl)):R("",!0)])])])])])):R("",!0)],2))),128)),de.value[$.id]&&Fe.value?(k(),C("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Tt($.id)},y(p.$t("comments.replies.loadMore")),9,Pl)):R("",!0)],8,ml)])])),[[ae]])),128))]),I.value._count?A((k(),C("div",{key:2,class:"text-center capitalize href",onClick:w[20]||(w[20]=fe($=>Pt(I.value.id),["prevent"]))},y(p.$t("comments.loadOlder")),513)),[[S,I.value._count.artwork_comments>3&&Oe.value]]):R("",!0),A(n("div",{class:"w-full text-xs italic text-center"},y(p.$t("comments.reachedTheEnd")),513),[[S,L.value.length&&!Oe.value]]),O(a).loggedIn&&!L.value.length&&!Q.value?(k(),C("div",Ll,y(p.$t("comments.noCommentYet")),1)):R("",!0)])],2),ee.value?R("",!0):(k(),re(ys,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:We,"work-id":I.value.id,class:"modal",onSave:Ht},null,8,["work-id"])),!ee.value&&O(a).loggedIn&&I.value.users&&O(a).user.id==I.value.users.id?(k(),re(O(Os),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:rt,"modal-id":"album-selection-modal","work-id":I.value.id,class:"modal",onAddedToAlbum:zt},null,8,["work-id"])):R("",!0),_(Ts,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${p.$t("alert.areYouSure")} ${p.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:w[21]||(w[21]=$=>lt(I.value.id))},null,8,["message"]),_(Zs,{id:"report-modal",ref_key:"reportModalRef",ref:Yt,class:"modal",type:"artwork","post-id":I.value.id,"report-status":N.value},null,8,["post-id","report-status"]),_(uo,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":I.value.id},null,8,["post-id"]),A(_(at,{id:"copy-alert",text:p.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[S,nt.value]])],2),[[S,!ee.value]])],64)}}},jl=ge(Ol,[["__scopeId","data-v-20a9b038"]]);export{jl as M,at as S,Ja as W,Ts as _,ys as a,ka as b,At as c,tt as d,gs as e,et as f,as as g,Os as h,ct as u};
