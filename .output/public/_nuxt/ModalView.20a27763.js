import{B as yt,f as z,h as W,R as D,a0 as Zt,a1 as ea,r as x,u as P,C as qe,a2 as ta,l as Oe,S as aa,O as sa,D as Ee,T as gt,o as k,m as C,p as r,e as _,w as K,q as M,t as y,b as A,v as S,s as R,F as fe,J as F,U as we,V as ye,x as Ie,i as Ue,k as oa,c as ne,j as $e,I as Ye,K as V,a3 as bt,E as Le,G as X,L as kt,M as xt,H as _t,a4 as la,a as na,a5 as ut,a6 as ra,a7 as ia,a8 as ca}from"./entry.879fa290.js";import{u as Ct}from"./useArtwork.23f2471a.js";import{_ as Be,u as It}from"./LoadingEmptyErrorMessage.c774b096.js";import{_ as ge}from"./_plugin-vue_export-helper.a1a6add7.js";import{S as Ke}from"./Spinner.cf543d74.js";import{U as Me}from"./user-counters-api.55343b8b.js";import{u as ua,a as da}from"./useFeed.ea08ed29.js";const ie=function(o){return{addWorkToAlbum:async(e,t={})=>{const s="/albums/add-work",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},countUserAlbumsByType:async(e,t={})=>{const s="/albums/count",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},createAlbum:async(e,t={})=>{const s="/albums/create",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},deleteAlbum:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling deleteAlbum.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...t},c={},m={},u=new URLSearchParams(a.search);for(const d in m)u.set(d,m[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};return n.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:n}},getAlbumById:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumById.");const s="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"GET",...l,...t},c={},m={},u=new URLSearchParams(a.search);for(const d in m)u.set(d,m[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};return n.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:n}},getAlbumItems:async(e,t,s,a={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumItems.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(e))),n=new URL(l,"https://example.com");let c;o&&(c=o.baseOptions);const m={method:"GET",...c,...a},u={},f={};t!==void 0&&(f.per_page=t),s!==void 0&&(f.page=s);const d=new URLSearchParams(n.search);for(const b in f)d.set(b,f[b]);for(const b in a.params)d.set(b,a.params[b]);n.search=new URLSearchParams(d).toString();let p=c&&c.headers?c.headers:{};return m.headers={...u,...p,...a.headers},{url:n.pathname+n.search+n.hash,options:m}},getCurrentAlbumSaveInfo:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(t==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const a="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const c={method:"GET",...n,...s},m={},u={},f=new URLSearchParams(l.search);for(const p in u)f.set(p,u[p]);for(const p in s.params)f.set(p,s.params[p]);l.search=new URLSearchParams(f).toString();let d=n&&n.headers?n.headers:{};return c.headers={...m,...d,...s.headers},{url:l.pathname+l.search+l.hash,options:c}},listUserAlbums:async(e,t,s,a,l={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserAlbums.");if(a==null)throw new D("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),c=new URL(n,"https://example.com");let m;o&&(m=o.baseOptions);const u={method:"GET",...m,...l},f={},d={};t!==void 0&&(d.per_page=t),s!==void 0&&(d.page=s),a!==void 0&&(d.type=a);const p=new URLSearchParams(c.search);for(const i in d)p.set(i,d[i]);for(const i in l.params)p.set(i,l.params[i]);c.search=new URLSearchParams(p).toString();let b=m&&m.headers?m.headers:{};return u.headers={...f,...b,...l.headers},{url:c.pathname+c.search+c.hash,options:u}},proLimitIsCanCreateAlbum:async(e,t={})=>{const s="/albums/create/permission",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},removeWorkFromAlbum:async(e,t={})=>{const s="/albums/work/remove",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},updateAlbum:async(e,t={})=>{const s="/albums",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"PATCH",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}}}},ce=function(o){return{async addWorkToAlbum(e,t){const s=await ie(o).addWorkToAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async countUserAlbumsByType(e,t){const s=await ie(o).countUserAlbumsByType(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async createAlbum(e,t){const s=await ie(o).createAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async deleteAlbum(e,t){const s=await ie(o).deleteAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getAlbumById(e,t){const s=await ie(o).getAlbumById(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getAlbumItems(e,t,s,a){const l=await ie(o).getAlbumItems(e,t,s,a);return(n=z,c=W)=>{const m={...l.options,url:c+l.url};return n.request(m)}},async getCurrentAlbumSaveInfo(e,t,s){const a=await ie(o).getCurrentAlbumSaveInfo(e,t,s);return(l=z,n=W)=>{const c={...a.options,url:n+a.url};return l.request(c)}},async listUserAlbums(e,t,s,a,l){const n=await ie(o).listUserAlbums(e,t,s,a,l);return(c=z,m=W)=>{const u={...n.options,url:m+n.url};return c.request(u)}},async proLimitIsCanCreateAlbum(e,t){const s=await ie(o).proLimitIsCanCreateAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async removeWorkFromAlbum(e,t){const s=await ie(o).removeWorkFromAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async updateAlbum(e,t){const s=await ie(o).updateAlbum(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}}}};class me extends yt{async addWorkToAlbum(e,t){return ce(this.configuration).addWorkToAlbum(e,t).then(s=>s(this.axios,this.basePath))}async countUserAlbumsByType(e,t){return ce(this.configuration).countUserAlbumsByType(e,t).then(s=>s(this.axios,this.basePath))}async createAlbum(e,t){return ce(this.configuration).createAlbum(e,t).then(s=>s(this.axios,this.basePath))}async deleteAlbum(e,t){return ce(this.configuration).deleteAlbum(e,t).then(s=>s(this.axios,this.basePath))}async getAlbumById(e,t){return ce(this.configuration).getAlbumById(e,t).then(s=>s(this.axios,this.basePath))}async getAlbumItems(e,t,s,a){return ce(this.configuration).getAlbumItems(e,t,s,a).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(e,t,s){return ce(this.configuration).getCurrentAlbumSaveInfo(e,t,s).then(a=>a(this.axios,this.basePath))}async listUserAlbums(e,t,s,a,l){return ce(this.configuration).listUserAlbums(e,t,s,a,l).then(n=>n(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(e,t){return ce(this.configuration).proLimitIsCanCreateAlbum(e,t).then(s=>s(this.axios,this.basePath))}async removeWorkFromAlbum(e,t){return ce(this.configuration).removeWorkFromAlbum(e,t).then(s=>s(this.axios,this.basePath))}async updateAlbum(e,t){return ce(this.configuration).updateAlbum(e,t).then(s=>s(this.axios,this.basePath))}}const oe=function(o){return{addItemForLater:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemForLater.");const a="/collections/later",l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const c={method:"POST",...n,...s},m={},u={};e!==void 0&&(u.type=e),m["Content-Type"]="application/json";const f=new URLSearchParams(l.search);for(const b in u)f.set(b,u[b]);for(const b in s.params)f.set(b,s.params[b]);l.search=new URLSearchParams(f).toString();let d=n&&n.headers?n.headers:{};c.headers={...m,...d,...s.headers};const p=typeof t!="string"||c.headers["Content-Type"]==="application/json";return c.data=p?JSON.stringify(t!==void 0?t:{}):t||"",{url:l.pathname+l.search+l.hash,options:c}},addItemToCollection:async(e,t,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemToCollection.");if(t==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let c;o&&(c=o.baseOptions);const m={method:"POST",...c,...a},u={},f={};e!==void 0&&(f.type=e),u["Content-Type"]="application/json";const d=new URLSearchParams(n.search);for(const i in f)d.set(i,f[i]);for(const i in a.params)d.set(i,a.params[i]);n.search=new URLSearchParams(d).toString();let p=c&&c.headers?c.headers:{};m.headers={...u,...p,...a.headers};const b=typeof s!="string"||m.headers["Content-Type"]==="application/json";return m.data=b?JSON.stringify(s!==void 0?s:{}):s||"",{url:n.pathname+n.search+n.hash,options:m}},collectionsIdDelete:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"DELETE",...l,...t},c={},m={},u=new URLSearchParams(a.search);for(const d in m)u.set(d,m[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};return n.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:n}},countUserCollectionsByType:async(e,t={})=>{const s="/collections/count",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},create:async(e,t={})=>{const s="/collections/create",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},detail:async(e,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling detail.");const s="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"GET",...l,...t},c={},m={},u=new URLSearchParams(a.search);for(const d in m)u.set(d,m[d]);for(const d in t.params)u.set(d,t.params[d]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};return n.headers={...c,...f,...t.headers},{url:a.pathname+a.search+a.hash,options:n}},getCurrentSaveInfo:async(e,t,s={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(t==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const a="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(a,"https://example.com");let n;o&&(n=o.baseOptions);const c={method:"GET",...n,...s},m={},u={},f=new URLSearchParams(l.search);for(const p in u)f.set(p,u[p]);for(const p in s.params)f.set(p,s.params[p]);l.search=new URLSearchParams(f).toString();let d=n&&n.headers?n.headers:{};return c.headers={...m,...d,...s.headers},{url:l.pathname+l.search+l.hash,options:c}},listCollectionItems:async(e,t,s,a={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling listCollectionItems.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(e))),n=new URL(l,"https://example.com");let c;o&&(c=o.baseOptions);const m={method:"GET",...c,...a},u={},f={};t!==void 0&&(f.per_page=t),s!==void 0&&(f.page=s);const d=new URLSearchParams(n.search);for(const b in f)d.set(b,f[b]);for(const b in a.params)d.set(b,a.params[b]);n.search=new URLSearchParams(d).toString();let p=c&&c.headers?c.headers:{};return m.headers={...u,...p,...a.headers},{url:n.pathname+n.search+n.hash,options:m}},listUserCollections:async(e,t,s,a,l,n={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(t==null)throw new D("type","Required parameter type was null or undefined when calling listUserCollections.");if(s==null)throw new D("page","Required parameter page was null or undefined when calling listUserCollections.");if(a==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const c="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),m=new URL(c,"https://example.com");let u;o&&(u=o.baseOptions);const f={method:"GET",...u,...n},d={},p={};t!==void 0&&(p.type=t),l!==void 0&&(p.name=l),s!==void 0&&(p.page=s),a!==void 0&&(p.per_page=a);const b=new URLSearchParams(m.search);for(const v in p)b.set(v,p[v]);for(const v in n.params)b.set(v,n.params[v]);m.search=new URLSearchParams(b).toString();let i=u&&u.headers?u.headers:{};return f.headers={...d,...i,...n.headers},{url:m.pathname+m.search+m.hash,options:f}},proLimitIsCanCreateCollection:async(e,t={})=>{const s="/collections/create/permission",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"POST",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},removeItemFromCollection:async(e,t,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(t==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let c;o&&(c=o.baseOptions);const m={method:"DELETE",...c,...a},u={},f={};e!==void 0&&(f.type=e),u["Content-Type"]="application/json";const d=new URLSearchParams(n.search);for(const i in f)d.set(i,f[i]);for(const i in a.params)d.set(i,a.params[i]);n.search=new URLSearchParams(d).toString();let p=c&&c.headers?c.headers:{};m.headers={...u,...p,...a.headers};const b=typeof s!="string"||m.headers["Content-Type"]==="application/json";return m.data=b?JSON.stringify(s!==void 0?s:{}):s||"",{url:n.pathname+n.search+n.hash,options:m}},updateCollection:async(e,t={})=>{const s="/collections",a=new URL(s,"https://example.com");let l;o&&(l=o.baseOptions);const n={method:"PATCH",...l,...t},c={},m={};c["Content-Type"]="application/json";const u=new URLSearchParams(a.search);for(const p in m)u.set(p,m[p]);for(const p in t.params)u.set(p,t.params[p]);a.search=new URLSearchParams(u).toString();let f=l&&l.headers?l.headers:{};n.headers={...c,...f,...t.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}}}},le=function(o){return{async addItemForLater(e,t,s){const a=await oe(o).addItemForLater(e,t,s);return(l=z,n=W)=>{const c={...a.options,url:n+a.url};return l.request(c)}},async addItemToCollection(e,t,s,a){const l=await oe(o).addItemToCollection(e,t,s,a);return(n=z,c=W)=>{const m={...l.options,url:c+l.url};return n.request(m)}},async collectionsIdDelete(e,t){const s=await oe(o).collectionsIdDelete(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async countUserCollectionsByType(e,t){const s=await oe(o).countUserCollectionsByType(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async create(e,t){const s=await oe(o).create(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async detail(e,t){const s=await oe(o).detail(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async getCurrentSaveInfo(e,t,s){const a=await oe(o).getCurrentSaveInfo(e,t,s);return(l=z,n=W)=>{const c={...a.options,url:n+a.url};return l.request(c)}},async listCollectionItems(e,t,s,a){const l=await oe(o).listCollectionItems(e,t,s,a);return(n=z,c=W)=>{const m={...l.options,url:c+l.url};return n.request(m)}},async listUserCollections(e,t,s,a,l,n){const c=await oe(o).listUserCollections(e,t,s,a,l,n);return(m=z,u=W)=>{const f={...c.options,url:u+c.url};return m.request(f)}},async proLimitIsCanCreateCollection(e,t){const s=await oe(o).proLimitIsCanCreateCollection(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}},async removeItemFromCollection(e,t,s,a){const l=await oe(o).removeItemFromCollection(e,t,s,a);return(n=z,c=W)=>{const m={...l.options,url:c+l.url};return n.request(m)}},async updateCollection(e,t){const s=await oe(o).updateCollection(e,t);return(a=z,l=W)=>{const n={...s.options,url:l+s.url};return a.request(n)}}}};class pe extends yt{async addItemForLater(e,t,s){return le(this.configuration).addItemForLater(e,t,s).then(a=>a(this.axios,this.basePath))}async addItemToCollection(e,t,s,a){return le(this.configuration).addItemToCollection(e,t,s,a).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(e,t){return le(this.configuration).collectionsIdDelete(e,t).then(s=>s(this.axios,this.basePath))}async countUserCollectionsByType(e,t){return le(this.configuration).countUserCollectionsByType(e,t).then(s=>s(this.axios,this.basePath))}async create(e,t){return le(this.configuration).create(e,t).then(s=>s(this.axios,this.basePath))}async detail(e,t){return le(this.configuration).detail(e,t).then(s=>s(this.axios,this.basePath))}async getCurrentSaveInfo(e,t,s){return le(this.configuration).getCurrentSaveInfo(e,t,s).then(a=>a(this.axios,this.basePath))}async listCollectionItems(e,t,s,a){return le(this.configuration).listCollectionItems(e,t,s,a).then(l=>l(this.axios,this.basePath))}async listUserCollections(e,t,s,a,l,n){return le(this.configuration).listUserCollections(e,t,s,a,l,n).then(c=>c(this.axios,this.basePath))}async proLimitIsCanCreateCollection(e,t){return le(this.configuration).proLimitIsCanCreateCollection(e,t).then(s=>s(this.axios,this.basePath))}async removeItemFromCollection(e,t,s,a){return le(this.configuration).removeItemFromCollection(e,t,s,a).then(l=>l(this.axios,this.basePath))}async updateCollection(e,t){return le(this.configuration).updateCollection(e,t).then(s=>s(this.axios,this.basePath))}}function dt(){return{animate:t=>{const s=document.getElementById(t);s==null||s.classList.add("animate-bounce"),setInterval(()=>{s==null||s.classList.remove("animate-bounce")},2500)}}}function tt(){const o=(t,s,a)=>{s.value=!1,clearTimeout(t),s.value=!0,t=setTimeout(()=>{s.value=!1,e(a)},2e3)},e=t=>{const s=document.getElementById(t);s==null||s.classList.add("fade"),s==null||s.classList.add("fade-out")};return{splash:o,hide:e}}var mt;const Ae=typeof window<"u",ma=o=>typeof o=="string",Ge=()=>{};Ae&&((mt=window==null?void 0:window.navigator)==null?void 0:mt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function at(o){return typeof o=="function"?o():P(o)}function pa(o){return o}function st(o){return Zt()?(ea(o),!0):!1}function ha(o){return typeof o=="function"?qe(o):x(o)}function va(o,e=!0){ta()?Oe(o):e?o():aa(o)}function fa(o,e,t={}){const{immediate:s=!0}=t,a=x(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function c(){a.value=!1,n()}function m(...u){n(),a.value=!0,l=setTimeout(()=>{a.value=!1,l=null,o(...u)},at(e))}return s&&(a.value=!0,Ae&&m()),st(c),{isPending:a,start:m,stop:c}}function wa(o){var e;const t=at(o);return(e=t==null?void 0:t.$el)!=null?e:t}const $t=Ae?window:void 0;Ae&&window.document;const ya=Ae?window.navigator:void 0;Ae&&window.location;function ga(...o){let e,t,s,a;if(ma(o[0])?([t,s,a]=o,e=$t):[e,t,s,a]=o,!e)return Ge;let l=Ge;const n=Ee(()=>wa(e),m=>{l(),m&&(m.addEventListener(t,s,a),l=()=>{m.removeEventListener(t,s,a),l=Ge})},{immediate:!0,flush:"post"}),c=()=>{n(),l()};return st(c),c}function At(o,e=!1){const t=x(),s=()=>t.value=Boolean(o());return s(),va(s,e),t}function ba(o,e={}){const{window:t=$t}=e,s=At(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let a;const l=x(!1),n=()=>{!a||("removeEventListener"in a?a.removeEventListener("change",c):a.removeListener(c))},c=()=>{!s.value||(n(),a=t.matchMedia(ha(o).value),l.value=a.matches,"addEventListener"in a?a.addEventListener("change",c):a.addListener(c))};return sa(c),st(()=>n()),l}function Rt(o={}){const{navigator:e=ya,read:t=!1,source:s,copiedDuring:a=1500}=o,l=["copy","cut"],n=At(()=>e&&"clipboard"in e),c=x(""),m=x(!1),u=fa(()=>m.value=!1,a);function f(){e.clipboard.readText().then(p=>{c.value=p})}if(n.value&&t)for(const p of l)ga(p,f);async function d(p=at(s)){n.value&&p!=null&&(await e.clipboard.writeText(p),c.value=p,m.value=!0,u.start())}return{isSupported:n,text:c,copied:m,copy:d}}const Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ze="__vueuse_ssr_handlers__";Xe[Ze]=Xe[Ze]||{};Xe[Ze];var pt;(function(o){o.UP="UP",o.RIGHT="RIGHT",o.DOWN="DOWN",o.LEFT="LEFT",o.NONE="NONE"})(pt||(pt={}));var ka=Object.defineProperty,ht=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,vt=(o,e,t)=>e in o?ka(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Ca=(o,e)=>{for(var t in e||(e={}))xa.call(e,t)&&vt(o,t,e[t]);if(ht)for(var t of ht(e))_a.call(e,t)&&vt(o,t,e[t]);return o};const Ia={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ca({linear:pa},Ia);function $a(){return{readMore:(e,t,s,a)=>{const l=document.getElementById(`${a}${t}`);l!==null&&(l.innerHTML=e);const n=document.getElementById(`${s}${t}`);n==null||n.remove()}}}const Aa={class:"flex-col info"},Ra={key:0,class:"user-info"},Sa={class:"flex flex-row w-full"},Pa=["src"],La={class:"w-full name"},Oa={class:"flex flex-row justify-between"},Ua={class:"flex flex-col"},Va={class:"mb-2 text-base font-bold"},Ta={key:1,class:"mb-4"},qa=["id","innerHTML"],Ea=["id"],Ma={class:"mb-4"},Ba={key:2,class:"tags"},ja={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(o){gt();const e=(t,s,a,l)=>{$a().readMore(t,s,a,l)};return(t,s)=>{const a=Ie;return k(),C("section",Aa,[o.artworkDetail.users?(k(),C("div",Ra,[r("div",Sa,[_(a,{to:"/profile/"+o.artworkDetail.users.username},{default:K(()=>[r("img",{class:"avatar",src:t.avatarCoverUrl(o.artworkDetail.users.avatar_bucket,o.artworkDetail.users.avatar_filename),onError:s[0]||(s[0]=(...l)=>t.imageLoadError&&t.imageLoadError(...l))},null,40,Pa)]),_:1},8,["to"]),r("div",La,[r("div",Oa,[r("div",Ua,[_(a,{to:"/profile/"+o.artworkDetail.users.username,class:"fullname"},{default:K(()=>[M(y(o.artworkDetail.users.name),1)]),_:1},8,["to"]),_(a,{to:"/profile/"+o.artworkDetail.users.username,class:"username"},{default:K(()=>[M(" @"+y(o.artworkDetail.users.username),1)]),_:1},8,["to"])]),A(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:s[1]||(s[1]=l=>t.closeModal(o.section+"-modal"))}," ESC ",512),[[S,o.isModal]])])])])])):R("",!0),r("div",Va,y(o.artworkDetail.title),1),o.artworkDetail.description?(k(),C("div",Ta,[r("span",{id:"mview-"+o.isDesktop+"-description-"+o.artworkDetail.id,innerHTML:o.artworkDetail.description.length>300?`${o.artworkDetail.description.slice(0,300)}...`:o.artworkDetail.description},null,8,qa),o.artworkDetail.description.length>300?(k(),C("a",{key:0,id:"mview-"+o.isDesktop+"-read-more-"+o.artworkDetail.id,class:"href",onClick:s[2]||(s[2]=fe(l=>e(o.artworkDetail.description,o.artworkDetail.id,"mview-"+o.isDesktop+"-read-more-","mview-"+o.isDesktop+"-description-"),["prevent"]))},y(t.$t("readMore")),9,Ea)):R("",!0)])):R("",!0),r("div",Ma,[r("span",{class:F(["italic text-color-secondary",{"font-bold text-red-400":o.previewMode}])},y(o.previewMode?t.$t("willBePublishedOn"):t.$t("publishedOn")),3),M(" "+y(t.formatDate(o.artworkDetail.scheduled_post)),1)]),o.artworkDetail.artwork_has_tags&&o.artworkDetail.artwork_has_tags.length?(k(),C("div",Ba,[(k(!0),C(we,null,ye(o.artworkDetail.artwork_has_tags,l=>(k(),C("span",{key:l.artwork_tags.id,class:"tag"},[_(a,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:K(()=>[M(y(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):R("",!0)])}}},ft=ge(ja,[["__scopeId","data-v-35c1316f"]]),Fa=["href","onClick"],Da={class:"overflow-hidden relative text-center rounded-md"},Na={key:0},Ha={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Qa=["href"],za=["src"],Wa={class:"overflow-hidden relative text-center rounded-md"},Ja={key:0},Ga={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ya=["href"],Ka=["src"],Xa={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(o,{emit:e}){const t=o,s=Ue();Ee(()=>t.currentWorkId,d=>{n.value=d});const a=oa(),l=x(!1),n=x(t.currentWorkId),c=ba("(min-width: 1024px)"),m=d=>{c.value&&!t.isMiniList||t.isMiniList?(n.value=d,t.view(d)):a.replace({path:"/a/"+d})},u=x([]),f=d=>{if(u.value.includes(d)){const p=u.value.indexOf(d);u.value.splice(p,1)}else u.value.push(d);e("feedManageList",u.value)};return Ee(()=>t.manageMode,d=>{d===!1&&(u.value=[])}),(d,p)=>{const b=Ie;return k(),C("section",{class:F(o.sectionClass)},[(k(!0),C(we,null,ye(o.works,i=>(k(),C("span",{key:i.id,class:F(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&n.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":u.value.includes(i.id)||n.value==i.id}])},[!d.isMobile()&&!o.isHref&&!o.isMiniList?(k(),C("a",{key:0,href:"/a/"+i.id,onClick:fe(v=>o.manageMode?f(i.id):o.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Da,[i._count.artwork_assets>1&&!d.applyExplicitFilter(P(s),i.is_explicit)?(k(),C("p",Na,y(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(P(s),i.is_explicit)?(k(),C("span",Ha,y(d.$t("explicitContent")),1)):R("",!0),r("a",{href:"/a/"+i.id,class:F([{"animate-wigglefast":o.manageMode}])},[r("img",{class:F(["w-full h-full unselectable",{"object-cover":!l.value},l.value?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(P(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail",l.value),onError:p[0]||(p[0]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,za)],10,Qa)])],8,Fa)):(k(),ne(b,{key:1,onClick:v=>o.manageMode?f(i.id):m(i.id)},{default:K(()=>[r("div",Wa,[i._count.artwork_assets>1&&!d.applyExplicitFilter(P(s),i.is_explicit)?(k(),C("p",Ja,y(i._count.artwork_assets),1)):R("",!0),d.applyExplicitFilter(P(s),i.is_explicit)?(k(),C("span",Ga,y(d.$t("explicitContent")),1)):R("",!0),r("a",{href:"/a/"+i.id,onClick:p[2]||(p[2]=fe(v=>d.void,["prevent"])),class:F([{"animate-wigglefast":o.manageMode}])},[r("img",{class:F(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":d.applyExplicitFilter(P(s),i.is_explicit)}]),src:d.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail",l.value),onError:p[1]||(p[1]=(...v)=>d.imageLoadError&&d.imageLoadError(...v))},null,42,Ka)],10,Ya)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Za=ge(Xa,[["__scopeId","data-v-9442f5f1"]]),es={class:"artist-works"},ts={class:"heading"},as={key:0,class:"pagination-controller"},ss={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(o){const e=o,t=e.artworkDetail,{oApiConfiguration:s,fetchOptions:a}=$e(),l=Ct(s,a()),n=x(null);Oe(()=>{e.keepArtistPageNumber||(u.page=-1),f(t.users.id)});const c=x(!0),m=x([]),u=Ye({page:0,perPage:e.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),f=async(b,i)=>{c.value=!0,u.options.nextPrevLoading=!0,b!==n.value&&(n.value=b,u.page=-1),i==="prev"?u.page-=1:u.page+=1;const[v,g,T]=await l.getUserArtworks({userId:b,pagination:{page:u.page,perPage:u.perPage}});T?(c.value=!1,p()):(g.next_previous.prev_page===null||g.next_previous.prev_page===void 0?u.options.disableArtistPrevButton=!0:u.options.disableArtistPrevButton=!1,g.next_previous.next_page===null||g.next_previous.next_page===void 0?u.options.disableArtistNextButton=!0:u.options.disableArtistNextButton=!1,m.value=v),u.options.nextPrevLoading=!1,c.value=!1},d=x(!1),p=()=>{d.value=!0};return(b,i)=>{const v=Ie;return k(),C("div",es,[r("div",ts,[r("span",null,[M(y(b.$t("artworks.moreArtworkBy"))+" ",1),o.artworkDetail.users?(k(),ne(v,{key:0,to:"/profile/"+o.artworkDetail.users.username,class:"text-colored"},{default:K(()=>[M(y(o.artworkDetail.users.username)+" <"+y(o.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):R("",!0)]),_(v,{to:"/profile/"+o.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:K(()=>[_(V,{name:"i-ci-external-link"})]),_:1},8,["to"])]),_(Be,{loading:c.value,error:d.value,class:"mt-2"},null,8,["loading","error"]),A(_(Za,{class:F(["gap-2 md:gap-4",[u.options.nextPrevLoading?"animate-pulse":"",o.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:m.value,view:o.view,"is-href":o.isHref,"is-mini-list":!0,"current-work-id":o.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[S,!c.value&&!d.value]]),o.artworkDetail.users?A((k(),C("div",as,[r("span",{onClick:i[0]||(i[0]=g=>u.options.disableArtistPrevButton?null:f(o.artworkDetail.users.id,"prev"))},[_(V,{name:"i-ion-chevron-back"})]),r("span",{onClick:i[1]||(i[1]=g=>u.options.disableArtistNextButton?null:f(o.artworkDetail.users.id,"next"))},[_(V,{name:"i-ion-chevron-forward"})])],512)),[[S,!c.value]]):R("",!0)])}}},wt=ge(ss,[["__scopeId","data-v-a626d965"]]),os=M(" PRO "),et={__name:"ProBadge",setup(o){const e=Ue();return(t,s)=>{const a=Ie;return P(e).i502p00r0?R("",!0):(k(),ne(a,{key:0,to:"/pro",class:"py-1 px-2 font-bold text-black align-middle bg-yellow-200 rounded-md text-xxs hover:text-black"},{default:K(()=>[os]),_:1}))}}},ls={class:"splash"},ns={class:"flex flex-row"},rs={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(o){return(e,t)=>(k(),C("div",ls,[r("div",ns,[_(V,{name:o.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,y(o.text),1)])]))}},ot=ge(rs,[["__scopeId","data-v-86e964a1"]]);function is(o,e){return{proCanCreateCollection:async i=>{try{const{data:v}=await new pe(o).proLimitIsCanCreateCollection({type:i.type},e);return[v.data.is_can_create,null]}catch(v){return[null,v]}},createCollection:async(i,v)=>{try{const{data:g}=await new pe(o).create({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:i},e);return[g.success,g.data,null]}catch(g){return[null,null,g]}},getInfo:async i=>{try{return[(await new pe(o).detail(i,e)).data,null]}catch(v){return[null,v]}},countCollections:async i=>{try{const{data:v}=await new Me(o).countUserCollections(i,e);return[v.data.total,null]}catch(v){return[null,v]}},countArtworkCollections:async i=>{try{const{data:v}=await new Me(o).countUserArtworkCollections(i,e);return[v.data.total,null]}catch(v){return[null,v]}},fetchCollections:async i=>{try{const{data:v}=await new pe(o).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,e),g=v.data.collections,T=v.data.pagination;let L=!0;return T.current_page===T.total_page&&(L=!1),[g,L,null]}catch(v){return[null,!1,v]}},listCollectionItems:async i=>{try{const{data:v}=await new pe(o).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,e),g=v.data.pagination;let T=!0;return g.current_page===g.total_page&&(T=!1),[v.data.items,T,null]}catch(v){return[null,!1,v]}},getCurrentSaveInfo:async(i,v)=>{try{const{data:g}=await new pe(o).getCurrentSaveInfo(i,v,e);return[g.data,null]}catch(g){return[null,g]}},addItem:async i=>{try{return await new pe(o).addItemToCollection(i.type,i.collectionId,{id:i.workId},e),[!0,null]}catch(v){return[null,v]}},removeItem:async i=>{try{const{data:v}=await new pe(o).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},e);return[v.success,null]}catch(v){return[null,v]}},update:async i=>{try{const{data:v}=await new pe(o).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},e);return[v.success,null]}catch(v){return[null,v]}},deleteCollection:async i=>{try{const{data:v}=await new pe(o).collectionsIdDelete(i,e);return[v.success,null]}catch(v){return[null,v]}}}}const cs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},us={class:"flex flex-row justify-between w-full"},ds={class:"title"},ms={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ps={class:"list"},hs={class:"overflow-y-scroll pr-2 max-h-60"},vs=["onClick"],fs={class:"flex flex-row justify-between"},ws={class:"flex flex-row"},ys={key:0,class:"flex flex-row mt-2 w-full"},gs={class:"leading-6"},bs={class:"flex float-right flex-row gap-2 mt-4"},ks=["placeholder"],xs={class:"flex flex-row justify-between mt-2"},_s={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(o,{expose:e,emit:t}){const s=o,a=Ue(),{oApiConfiguration:l,fetchOptions:n}=$e(),c=is(l,n());bt(()=>{u()}),Oe(()=>{i(),g()});const m=x(!1),u=async()=>{if(a.i502p00r0)m.value=!0;else{const[E,O]=await c.proCanCreateCollection({type:"artwork"});O?m.value=!1:m.value=E}},f=x({pagination:{page:0,perPage:10},loading:!1}),d=x(!1),p=x(!1),b=x([]),i=async(E=!1)=>{await u(),b.value=[],E||(f.value.loading=!0);const[O,H,ue]=await c.fetchCollections({userId:a.user.id,type:"artwork",pagination:{page:f.value.pagination.page,perPage:f.value.pagination.perPage}});f.value.loading=!1,ue&&(d.value=!0),ue||(O&&O.length>0?(H?(f.value.pagination.page+=1,T.value=!0):T.value=!1,O.forEach(Re=>{b.value.push(Re)})):p.value=!0)},v=x([]),g=async()=>{d.value=!1,v.value=[],Y.value=[],Q.value=[],await setTimeout(async()=>{const[E,O]=await c.getCurrentSaveInfo("artwork",s.workId);if(O)d.value=!0;else for(const H of E)Y.value.push(H.collection_id),v.value.push(H.collection_id)},300)},T=x(!0),L=async()=>{await i({isLoadMore:!0}),await g()},Y=x([]),Q=x([]),ee=E=>{if(Y.value.includes(E)){Q.value.push(E);const O=Y.value.indexOf(E);Y.value.splice(O,1)}else if(Y.value.push(E),Q.value.includes(E)){const O=Q.value.indexOf(E);Q.value.splice(O,1)}},I=async()=>{try{for(const O of Y.value)await c.addItem({collectionId:O,type:"artwork",workId:s.workId});if(Q.value.length)for(const O of Q.value)await c.removeItem({collectionId:O,type:"artwork",workId:s.workId});let E=!1;Y.value.length===0&&v.value.length===Q.value.length&&(E=!0),await g(),X().closeModal(s.modalId),t("save",E)}catch{}},J=x(""),se=x(!1),he=async()=>{se.value=!1;const[E,O,H]=await c.createCollection("artwork",{title:J.value,isPublic:1,description:""});E?(b.value=[],G(),f.value.pagination.page=0,await i(),await g(),await u(),J.value="",N()):se.value=!0},re=x(!1);let ve;const N=()=>{re.value=!0,tt().splash(ve,re,"collection-created-alert")},G=()=>{Y.value=[]},j=()=>{X().closeModal(s.modalId),G()};return e({fetchCollection:i,fetchCurrentSaved:g}),(E,O)=>(k(),C("div",null,[r("div",cs,[r("div",null,[r("div",us,[r("span",ds,y(E.$t("collections.addItem.form.title")),1),r("div",ms,[r("div",{class:"modal-close",onClick:O[0]||(O[0]=H=>j())},[_(V,{name:"close",class:"text-2xl"})])])]),A(r("div",ps,[r("div",hs,[(k(!0),C(we,null,ye(b.value,(H,ue)=>(k(),C("div",{key:H.id,class:F(["item",{"mt-2":ue!==0},Y.value.includes(H.id)?"button-color text-white":"theme-color-secondary",H.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:Re=>H.is_can_add_more?ee(H.id):null},[r("div",fs,[r("span",null,y(H.name),1),r("div",ws,[r("span",{class:F(["ml-2 font-bold",Y.value.includes(H.id)?"text-white":"text-colored"])},y(H._count.collection_has_artworks),3)])]),H.is_can_add_more?R("",!0):(k(),C("div",ys,[_(et,{class:"mr-1"}),r("p",gs,y(E.$t("collections.maxItemLimitReached")),1)]))],10,vs))),128))]),A(r("div",{class:"mt-2 primary-button",onClick:O[1]||(O[1]=H=>L())},[_(V,{name:"chevron-down-outline",class:"mr-2"}),M(" "+y(E.$t("loadMore")),1)],512),[[S,T.value]]),r("div",bs,[r("button",{class:"cancel-button",onClick:O[2]||(O[2]=H=>j())},y(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:O[3]||(O[3]=H=>I())},y(E.$t("save")),1)])],512),[[S,!f.value.loading&&!d.value&&!p.value]]),A(r("div",null,[A(r("input",{"onUpdate:modelValue":O[4]||(O[4]=H=>J.value=H),type:"text",class:F(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":se.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,ks),[[Le,J.value]]),r("div",xs,[r("div",null,[A(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},y(E.$t("collections.failedToCreateCollection")),513),[[S,se.value]])]),A(r("button",{class:"flex flex-row primary-button",onClick:O[5]||(O[5]=H=>m.value?he():null)},[r("span",{class:F({"leading-6":!m.value})},y(E.$t("create")),3),m.value?R("",!0):(k(),ne(et,{key:0,class:"ml-1"}))],512),[[S,J.value&&J.value.length>0]])])],512),[[S,!f.value.loading&&!d.value&&!p.value]])]),_(Be,{loading:f.value.loading,empty:p.value,error:d.value,fetch:i},null,8,["loading","empty","error"])]),A(_(ot,{id:"collection-created-alert",text:E.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[S,re.value]])]))}},Cs=ge(_s,[["__scopeId","data-v-32166aca"]]);function Is(o,e){return{proCanCreateAlbum:async i=>{try{const{data:v}=await new me(o).proLimitIsCanCreateAlbum({type:i.type},e);return[v.data.is_can_create,null]}catch(v){return[null,v]}},createAlbum:async(i,v)=>{try{const{data:g}=await new me(o).createAlbum({name:v.title,description:v.description,is_public:v.isPublic?1:0,type:i},e);return[g.success,g.data,null]}catch(g){return[null,null,g]}},getInfo:async i=>{try{return[(await new me(o).getAlbumById(i,e)).data,null]}catch(v){return[null,v]}},countAlbums:async i=>{try{const{data:v}=await new Me(o).countUserAlbums(i,e);return[v.data.total,null]}catch(v){return[null,v]}},countArtworkAlbums:async i=>{try{const{data:v}=await new Me(o).countUserArtworkAlbums(i,e);return[v.data.total,null]}catch(v){return[null,v]}},fetchAlbums:async(i,v,g,T)=>{try{const{data:L}=await new me(o).listUserAlbums(i,g,T,v,e),Y=L.data.pagination;let Q=!0;return Y.current_page===Y.total_page&&(Q=!1),[L.data.albums,Q,null]}catch(L){return[null,!1,L]}},listAlbumItems:async i=>{try{const{data:v}=await new me(o).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,e),g=v.data.pagination;let T=!0;return g.current_page===g.total_page&&(T=!1),[v.data.works,T,null]}catch(v){return[null,!1,v]}},getCurrentSaveInfo:async(i,v)=>{try{const{data:g}=await new me(o).getCurrentAlbumSaveInfo(i,v,e);return[g.data,null]}catch(g){return[null,g]}},addItems:async i=>{try{for(const v of i.albumIds)await new me(o).addWorkToAlbum({album_id:v,type:i.type,work_ids:i.workIds},e);return[!0,null]}catch(v){return[null,v]}},removeItems:async(i,v)=>{try{const{data:g}=await new me(o).removeWorkFromAlbum({album_id:i,work_ids:v},e);return[g.success,null]}catch(g){return[null,g]}},update:async i=>{try{const{data:v}=await new me(o).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},e);return[v.success,null]}catch(v){return[null,v]}},deleteAlbum:async i=>{try{const{data:v}=await new me(o).deleteAlbum(i,e);return[v.success,null]}catch(v){return[null,v]}}}}const $s={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},As={class:"flex flex-row justify-between w-full"},Rs={class:"title"},Ss={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ps={class:"list"},Ls={class:"overflow-y-scroll pr-2 max-h-60"},Os=["onClick"],Us={class:"flex flex-row justify-between"},Vs={key:0,class:"flex flex-row mt-2 w-full"},Ts={class:"leading-6"},qs={class:"flex float-right flex-row gap-2 mt-4"},Es={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(o,{expose:e,emit:t}){const s=o,a=Ue(),{oApiConfiguration:l,fetchOptions:n}=$e(),c=Is(l,n()),m=ua(l,n());bt(async()=>{await f()}),Oe(()=>{T(),s.workIds.length||Q()});const u=x(999),f=async()=>{const N=await m.getSetting("max_free_album_items");u.value=N},d=async()=>{p.value=[],b.value.pagination.page=0,L(),await T()},p=x([]),b=x({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),i=x(!0),v=x(!1),g=x(!1),T=async()=>{L(),i.value=!0;const[N,G,j]=await c.fetchAlbums(a.user.id,"artwork",b.value.pagination.page===0?b.value.pagination.firstLoad:b.value.pagination.perPage,b.value.pagination.page);j&&(v.value=!0),N.length?(G?(b.value.pagination.page+=1,b.value.showLoadMore=!0):b.value.showLoadMore=!1,N.forEach(E=>{p.value.push(E)})):g.value=!0,i.value=!1},L=()=>{g.value=!1,v.value=!1},Y=x([]),Q=async()=>{Y.value=[],I.value=[],J.value=[];const[N,G]=await c.getCurrentSaveInfo("artwork",s.workId);for(const j of N)I.value.push(j.album_id),Y.value.push(j.album_id)},ee=async()=>{await T(),await Q()},I=x([]),J=x([]),se=N=>{if(I.value.includes(N)){J.value.push(N);const G=I.value.indexOf(N);I.value.splice(G,1)}else if(I.value.push(N),J.value.includes(N)){const G=J.value.indexOf(N);J.value.splice(G,1)}},he=async()=>{const[N,G]=await c.addItems({albumIds:I.value,type:"artwork",workIds:s.workIds.length?s.workIds:[s.workId]});if(!s.workIds.length&&J.value.length)for(const j of J.value)await c.removeItems(j,[s.workId]);if(N){let j=!1;s.workIds.length||I.value.length===0&&Y.value.length===J.value.length&&(j=!0),re(),X().closeModal(s.modalId),t("addedToAlbum",s.workIds.length?!0:j)}},re=()=>{I.value=[]},ve=()=>{X().closeModal(s.modalId),re()};return e({fetchCurrentSaved:Q,fetchAlbums:T}),(N,G)=>(k(),C("div",null,[r("div",$s,[r("div",null,[r("div",As,[r("span",Rs,y(N.$t("albums.selectAlbums")),1),r("div",Ss,[r("div",{class:"modal-close",onClick:G[0]||(G[0]=j=>ve())},[_(V,{name:"close",class:"text-2xl"})])])]),r("div",Ps,[A(r("div",null,[r("div",Ls,[(k(!0),C(we,null,ye(p.value,(j,E)=>(k(),C("div",{key:j.id,class:F(["item",{"mt-2":E!==0},I.value.includes(j.id)?"button-color text-white":"theme-color-secondary",j.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:O=>j.is_can_add_more?se(j.id):null},[r("div",Us,[r("span",null,y(j.name),1),r("span",{class:F(["ml-2 font-bold",I.value.includes(j.id)?"text-white":"text-colored"])},y(j._count.album_has_artworks),3)]),!j.is_can_add_more||!P(a).i502p00r0&&j._count.album_has_artworks+s.workIds.length>u.value?(k(),C("div",Vs,[_(et,{class:"mr-1"}),r("p",Ts,y(N.$t("albums.maxItemLimitReached")),1)])):R("",!0)],10,Os))),128))]),A(r("div",{class:"mt-2 primary-button",onClick:G[1]||(G[1]=j=>ee())}," Load More ",512),[[S,b.value.showLoadMore]]),r("div",qs,[r("button",{class:"cancel-button",onClick:G[2]||(G[2]=j=>ve())},y(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:G[3]||(G[3]=j=>he())},y(N.$t("save")),1)])],512),[[S,!i.value&&!g.value&&!v.value]])])]),_(Be,{loading:i.value,empty:g.value,error:v.value,fetch:d},null,8,["loading","empty","error"])])]))}},Ms=ge(Es,[["__scopeId","data-v-454370a5"]]),Bs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},js={class:"mb-4"},Fs={class:"flex flex-row justify-end gap-2"},Ds={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(o,{emit:e}){const t=o,s=a=>{a&&e("onAccept",!0),X().closeModal(t.modalId)};return(a,l)=>(k(),C("div",null,[r("div",Bs,[r("p",js,y(o.message),1),r("div",Fs,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>s(!1))},y(a.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>s(!0))},y(a.$t("yes")),1)])])]))}},St=o=>(kt("data-v-93d8d761"),o=o(),xt(),o),Ns={class:"opt-modal modal-layer"},Hs={class:"opt-modal__title"},Qs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},zs={class:"opt-modal__content"},Ws={class:"report"},Js={class:"report__reason_opt"},Gs={class:"report__title"},Ys=["onClick"],Ks={class:"report__title"},Xs=["placeholder"],Zs={class:"report__buttons"},eo={class:"text-justify"},to={class:"mt-2"},ao=St(()=>r("i",null,"Your report ID:",-1)),so=M("\xA0 "),oo=St(()=>r("i",null,"Report date:",-1)),lo=M("\xA0 "),no={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(o){const e=o,{oApiConfiguration:t,fetchOptions:s}=$e(),a=It(t,s()),l=x(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=x({selectedReasons:[],reasonDescription:"",enableSubmit:qe(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),c=b=>{if(!n.value.selectedReasons.includes(b))n.value.selectedReasons.push(b);else{const i=n.value.selectedReasons.indexOf(b);n.value.selectedReasons.splice(i,1)}},m=x(!1),u=x({}),f=async()=>{m.value=!1,u.value={};const[b,i,v]=await a.createNewReport({type:e.type,postId:e.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});v&&!b||(m.value=!0,u.value=i)},d=()=>{X().closeModal("report-modal"),p()},p=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",m.value=!1};return(b,i)=>{const v=Ie;return k(),C("div",null,[r("div",Ns,[r("div",Hs,[r("h1",null,y(m.value?b.$t("reports.reportSubmitted"):o.reportStatus.id?b.$t("reports.alreadyReported"):b.$t("reports.title")),1),r("div",Qs,[r("div",{class:"modal-close",onClick:i[0]||(i[0]=g=>d())},[_(V,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",zs,[A(r("div",Ws,[r("div",Js,[r("div",Gs,y(b.$t("reports.selectReasons")),1),(k(!0),C(we,null,ye(l.value,g=>(k(),C("span",{key:g,class:F([n.value.selectedReasons.includes(g)?"button-color":"theme-color-secondary"]),onClick:T=>c(g)},[r("div",null,[A(_(V,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[S,!n.value.selectedReasons.includes(g)]]),A(_(V,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[S,n.value.selectedReasons.includes(g)]])]),r("div",{class:F(["reason",[n.value.selectedReasons.includes(g)?"text-white":"text-color-secondary"]])},y(b.$t("reports.reasons."+g)),3)],10,Ys))),128))]),r("div",null,[r("div",Ks,y(b.$t("reports.describeReason")),1),A(r("textarea",{"onUpdate:modelValue":i[1]||(i[1]=g=>n.value.reasonDescription=g),class:"report__reason_description",placeholder:b.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Xs),[[Le,n.value.reasonDescription]])]),r("div",Zs,[r("button",{class:"cancel-button",onClick:i[2]||(i[2]=g=>d())},y(b.$t("cancel")),1),r("button",{class:F(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:i[3]||(i[3]=g=>n.value.enableSubmit?f():null)},y(b.$t("report")),3)])],512),[[S,!m.value&&!o.reportStatus.id]]),A(r("div",null,[r("div",eo,y(b.$t("reports.reportSubmittedMessage")),1),r("div",to,[r("div",null,[ao,so,r("b",null,"#"+y(u.value.id),1)]),r("div",null,[oo,lo,r("b",null,y(b.formatDate(u.value.created_at)),1)])])],512),[[S,m.value]]),A(r("div",null,[M(y(b.$t("reports.alreadyReportedDescription"))+" ",1),_(v,{class:"underline href",to:"/reports"},{default:K(()=>[M(y(b.$t("reports.reportStatus")),1)]),_:1})],512),[[S,o.reportStatus.id]])])])])}}},ro=ge(no,[["__scopeId","data-v-93d8d761"]]),io={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},co={class:"title"},uo={class:"mt-2"},mo={class:"alert-success"},po={class:"italic"},ho={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},vo=["placeholder"],fo={class:"flex flex-row gap-2 justify-end"},wo={class:"flex flex-row justify-between mt-6"},yo=["value"],go={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(o){const e=o,{oApiConfiguration:t,fetchOptions:s}=$e(),a=da(t,s()),l=_t(),n=()=>{m.value=""},c=()=>{u.value=!1,f.value=!1,d.value=!1,X().closeModal("share-to-feed-modal"),n()},m=x(""),u=x(!1),f=x(!1),d=x(!1),p=async()=>{u.value=!1,f.value=!0,d.value=!1;const[g,T,L]=await a.shareArtworkToFeed({text:m.value,workId:e.postId});g?(d.value=!0,setTimeout(()=>{c()},500)):u.value=!0,f.value=!1},b=x(!1);let i;const v=g=>{const T=x(g),{copy:L}=Rt({source:T});L(),tt().splash(i,b,"copy-alert")};return(g,T)=>(k(),C("div",null,[r("div",io,[r("span",co,y(g.$t("feeds.share.artwork.title")),1),r("div",uo,[A(r("div",mo,[r("span",po,y(g.$t("feeds.share.artwork.success")),1)],512),[[S,d.value]]),A(r("div",ho,[_(Ke,{class:"mr-2"}),M(" "+y(g.$t("feeds.form.postingYourUpdate")),1)],512),[[S,f.value]]),A(r("div",{class:"alert-danger"},y(g.$t("feeds.form.postFailure")),513),[[S,u.value]]),A(r("textarea",{"onUpdate:modelValue":T[0]||(T[0]=L=>m.value=L),class:"input form-input textarea",placeholder:g.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,vo),[[Le,m.value]]),r("div",fo,[r("button",{class:"cancel-button",onClick:T[1]||(T[1]=L=>c())},y(g.$t("cancel")),1),r("button",{class:F(["primary-button"]),onClick:T[2]||(T[2]=L=>p())},y(g.$t("share")),1)]),r("div",wo,[r("input",{readonly:"",value:P(l).public.appUrl+"/a/"+e.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,yo),r("button",{class:"icon-button",onClick:T[3]||(T[3]=L=>v(P(l).public.appUrl+"/a/"+o.postId))},[_(V,{name:"i-icon-park-outline-copy"})])])])]),A(_(ot,{id:"copy-alert",text:g.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[S,b.value]])]))}},lt=o=>(kt("data-v-324d4da9"),o=o(),xt(),o),bo={class:"mx-auto w-full align-middle work-view md:w-1/2"},ko={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},xo={class:"flex flex-row justify-center mb-2"},_o=lt(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),Co={class:"font-bold cursor-pointer"},Io={class:"mr-2 font-normal"},$o={class:"italic"},Ao={key:1,class:"alert-success"},Ro={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},So={class:"mr-4"},Po={class:"image-list"},Lo=["src","data-source"],Oo={class:"interactions"},Uo={class:"reaction-counters"},Vo={class:"counter"},To={key:1,class:"counter"},qo={key:2,class:"counter"},Eo={key:3,class:"counter"},Mo={key:0,class:"reactions"},Bo={class:"inline-block relative z-30 dropdown"},jo={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Fo={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Do={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},No={key:2,class:"custom-divider"},Ho={key:4,class:"custom-divider"},Qo=["to"],zo=lt(()=>r("div",{class:"custom-divider"},null,-1)),Wo={class:"comments"},Jo={key:0,class:"comment-box"},Go={class:"flex flex-col"},Yo={class:"flex relative flex-col"},Ko=["readonly","rows","placeholder"],Xo={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Zo={class:"comment-content"},el=["src"],tl={class:"w-full"},al={class:"flex justify-between"},sl={class:"comment-time"},ol={class:"mt-4 reactions"},ll=["onClick"],nl={key:0},rl={key:0,class:"flex flex-row"},il=["onClick"],cl=["onClick"],ul={class:"inline-block relative ml-2 dropdown"},dl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},ml={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},pl=["onClick"],hl={key:0,class:"-mb-4 comment-box"},vl={class:"flex flex-col"},fl={class:"flex relative flex-col"},wl=["id","readonly","rows","placeholder"],yl=["onClick"],gl=["id"],bl={key:0,class:"w-full"},kl={class:"float-left mb-2 text-xs italic text-color-secondary"},xl=["onClick"],_l={class:"flex flex-row justify-between"},Cl=["src"],Il={class:"transition-all duration-150 cursor-pointer hover:font-bold"},$l={class:"leading-6 comment-time"},Al={class:"mt-2"},Rl={key:0,class:"mt-2 reactions"},Sl=lt(()=>r("span",null,null,-1)),Pl={class:"flex flex-row"},Ll=["onClick"],Ol={class:"inline-block relative ml-2 dropdown"},Ul={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Vl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Tl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},ql=["onClick"],El=["onClick"],Ml={key:3,class:"mt-4 w-full text-xs italic text-center"},Bl={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},emits:["stopLoading","showEmpty","showError"],setup(o,{expose:e,emit:t}){const s=o,a=Ue(),{oApiConfiguration:l,fetchOptions:n}=$e(),{applyExplicitFilter:c,removeExplicitFilter:m,generateSemiCompressedArtworkUrl:u}=la(),f=Ct(l,n()),d=It(l,n()),p=_t(),{$router:b}=na(),i=gt();Ee(()=>i.query,()=>{v(),X().closeModal("collection-selection-modal"),X().closeModal("album-selection-modal"),X().closeModal("report-modal")}),Oe(()=>{s.id!==""&&ve(s.id),window.addEventListener("keydown",h=>{const w=document.getElementById("collection-selection-modal"),U=document.getElementById("album-selection-modal"),q=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");h.key==="Escape"&&(!w||w.style.display!="flex")&&(!U||U.style.display!="flex")&&(!q||q.style.display!="flex")&&!ae.length&&v()})});const v=()=>{X().closeModal(`${s.section}-modal`)},g=x(!1),T=()=>{g.value=!1,m()},L=s.id==="",Y=async h=>{await f.incraseViewCount(h)},Q=x(!1),ee=x(!0),I=x({}),J=x(!1),se=x(!1),he=x(!1),re=x([]),ve=async h=>{Z.value="",O.value=[],de.value=[],ee.value=!0;const[w,U]=await f.getWorkById(h);U?U=="Work not found"?t("showEmpty"):t("showError"):(I.value=w,re.value=[],w.artwork_assets.forEach(ae=>{re.value.push({thumbnail:u(ae.bucket,ae.filename,!0),source:u(ae.bucket,ae.filename,!1)})}),!a.loggedIn&&w.is_explicit||w.is_explicit&&!a.user.user_settings.show_explicit?(g.value=!0,c()):g.value=!1,J.value=w.liked,se.value=w.saved,he.value=w.in_album,ut().formatApiToWeb(w.scheduled_post)<ut().currentUtcTime()?(await Pt(h),a.loggedIn&&await G(h),(!a.loggedIn||a.user.id!==w.users.id)&&await Y(h)):a.user.id!==w.users.id?b.push("/"):Q.value=!0),ee.value=!1,t("stopLoading")},N=x({}),G=async h=>{const[w,U]=await d.getReportStatus({type:"artwork",postId:h});U||(w.length?N.value=w[0]:N.value={})},j=async()=>{const[h,w]=await f.like({workId:I.value.id});if(h){J.value=!0;const U=document.getElementById("like-button");U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},E=async()=>{const[h,w]=await f.unlike({workId:I.value.id});h&&(J.value=!1)},O=x([]),H=Ye({perPage:3,page:0}),ue=x([]),Re=async h=>{const[w,U]=await f.getComments({workId:h,pagination:{page:H.page,perPage:H.perPage}});if(w)return w.pagination.current_page===w.pagination.first_last.last_page?Ve.value=!1:Ve.value=!0,w.comments.forEach(q=>{q.liked&&be.value.push(q.id),ue.value.push(q.id)}),w.comments},Pt=async h=>{try{(await Re(h)).forEach(U=>O.value.push(U))}catch{}},Ve=x(!1),Lt=async h=>{try{H.page+=1,(await Re(h)).forEach(U=>O.value.push(U))}catch{}},Z=x(),je=200,Ot=qe(()=>Z.value!=null&&Z.value!==""?je-Z.value.length:je),xe=x(!1),Ut=async()=>{xe.value=!0;try{const[h,w,U]=await f.addComment({workId:I.value.id,comment:Z.value});h&&(Z.value="",O.value.splice(0,0,w),O.value.join(),ue.value.splice(0,0,w.id),ue.value.join())}catch{}xe.value=!1},Vt=async h=>{const[w,U]=await f.deleteComment({commentId:h});if(w){const q=ue.value.indexOf(h);O.value.splice(q,1),ue.value.splice(q,1)}},be=x([]),Tt=async h=>{const[w,U]=await f.likeComment({commentId:h});if(w){be.value.push(h);const q=document.getElementById(`comment-like-button-${h}`);q.classList.add("animate-bounce"),setInterval(()=>{q.classList.remove("animate-bounce")},2500)}},qt=async h=>{const[w,U]=await f.unlikeComment({commentId:h});if(w){const q=be.value.indexOf(h);be.value.splice(q,1)}},Fe=Ye({perPage:2,page:0}),de=x([]),_e=x([]),De=x(!0),nt=async h=>{const[w,U,q]=await f.getCommentReplies({commentId:h,pagination:{page:Fe.page,perPage:Fe.perPage}});if(!q)return U.current_page===U.first_last.last_page&&(De.value=!1),w.map(ae=>_e.value.push(ae.id)),w},Se=x(0),Ne=async h=>{De.value=!0,_e.value=[];try{const w=await nt(h);de.value={[h]:w},w.forEach(q=>{q.liked&&ke.value.push(q.id)}),Se.value&&He(Se.value);const U=document.getElementById(`comment-replies-${h}`);U.classList.add("flex"),U.classList.remove("hidden"),Se.value=h}catch{}},He=h=>{const w=document.getElementById(`comment-replies-${h}`);w.classList.remove("flex"),w.classList.add("hidden"),Se.value=0},Et=async h=>{Fe.page+=1;try{(await nt(h)).forEach(U=>{de.value[h].push(U)})}catch{}},Te=x(0),Mt=async h=>{await Ne(h),Te.value=h},te=x(),Qe=200,Bt=qe(()=>te.value!=null&&te.value!==""?Qe-te.value.length:Qe),Ce=x(!1),jt=async h=>{Ce.value=!0;try{const[w,U,q]=await f.addReply({commentId:h,reply:te.value});w&&(Ne(h),te.value="",de.value[h].splice(0,0,U),de.value[h].join(),Te.value=0,_e.value.splice(0,0,U.id),_e.value.join())}catch{}Ce.value=!1},Ft=async(h,w)=>{const[U,q]=await f.deleteReply({replyId:w});if(U){const ae=_e.value.indexOf(w);de.value[h].splice(ae,1),_e.value.splice(ae,1)}},ke=x([]),Dt=async h=>{const[w,U]=await f.likeReply({replyId:h});if(w){ke.value.push(h);const q=document.getElementById(`reply-like-button-${h}`);q.classList.add("animate-bounce"),setInterval(()=>{q.classList.remove("animate-bounce")},2500)}},Nt=async h=>{const[w,U]=await f.unlikeReply({replyId:h});if(w){const q=ke.value.indexOf(h);ke.value.splice(q,1)}},ze=x(!1),We=x(!1),rt=async h=>{const[w,U]=await f.deleteWork({workId:[h]});w&&(We.value=!0,setTimeout(()=>{b.push("/")},1500))},Je=x(null),Ht=()=>{X().openModal("collection-selection-modal"),Je.value.fetchCollection(),Je.value.fetchCurrentSaved()},Qt=h=>{h?se.value=!1:se.value=!0,dt().animate("save-to-collection-button")},it=x(null),zt=()=>{X().openModal("album-selection-modal"),it.value.fetchCurrentSaved()},Wt=h=>{h?he.value=!1:he.value=!0,dt().animate("save-to-album-button")},Jt=()=>{X().openModal("share-to-feed-modal")},ct=x(!1);let Gt;const Yt=h=>{const w=x(p.public.appUrl+h),{copy:U}=Rt({source:w});U(),tt().splash(Gt,ct,"copy-alert")},Kt=x(null),Xt=()=>{X().openModal("report-modal")};return e({view:ve}),(h,w)=>{const U=ia("viewer"),q=Ie,ae=ca("auto-animate");return k(),C(we,null,[A(r("div",bo,[_(Be,{loading:ee.value},null,8,["loading"])],512),[[S,ee.value&&!h.isMobile()&&L]]),A(r("div",{class:F(["work-container work-view",L?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:F(["left-side",{"overflow-y-scroll mr-6":L}])},[Q.value&&!We.value?(k(),C("div",ko,[r("div",xo,[_(V,{name:"i-ion-alert-outline"}),_o]),r("div",Co,[r("span",{class:"text-red-500",onClick:w[0]||(w[0]=$=>ze.value=!0)},y(h.$t("artworks.deleteArtwork")),1),A(r("div",null,[r("span",Io,[M(y(h.$t("alert.areYouSure"))+" ",1),r("span",$o,"("+y(h.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:w[1]||(w[1]=$=>rt(I.value.id))},y(h.$t("yes")),1),r("span",{class:"hover:underline",onClick:w[2]||(w[2]=$=>ze.value=!1)},y(h.$t("no")),1)],512),[[S,ze.value]])])])):R("",!0),We.value?(k(),C("div",Ao,y(h.$t("artworks.successDelete")),1)):R("",!0),A(r("div",Ro,[r("span",So,y(P(a).loggedIn?h.$t("explicitContentAlert"):h.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:w[3]||(w[3]=fe($=>T(),["prevent"]))},y(h.$t("show")),1)],512),[[S,g.value]]),r("div",Po,[_(U,{options:{url:"data-source"},images:re.value,class:"overflow-hidden rounded-md"},{default:K(()=>[(k(!0),C(we,null,ye(re.value,($,B)=>(k(),C("img",{key:$.thumbnail,src:$.thumbnail,"data-source":$.source,class:F(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":g.value},g.value?"brightness-50":"brightness-100"]),onError:w[4]||(w[4]=(...Pe)=>h.imageLoadError&&h.imageLoadError(...Pe))},null,42,Lo))),128))]),_:1},8,["images"])]),r("div",Oo,[r("div",Uo,[I.value.is_explicit?(k(),C("span",{key:0,class:F(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",L?"theme-color-secondary":"bg-tag"])},"E",2)):R("",!0),A(r("span",Vo,[r("b",null,y(h.shortNumber(I.value.views)),1),M(" "+y(h.$t("count.views")),1)],512),[[S,I.value.views>0]]),I.value._count?A((k(),C("span",To,[r("b",null,y(h.thousand(I.value._count.artwork_likes)),1),M(" "+y(h.$t("count.likes")),1)],512)),[[S,I.value._count.artwork_likes>0]]):R("",!0),I.value._count?A((k(),C("span",qo,[r("b",null,y(h.thousand(I.value._count.artwork_comments)),1),M(" "+y(h.$t("count.comments")),1)],512)),[[S,I.value._count.artwork_comments>0]]):R("",!0),I.value._count?A((k(),C("span",Eo,[r("b",null,y(h.thousand(I.value._count.artwork_collection_has_works)),1)],512)),[[S,I.value._count.artwork_collection_has_works]]):R("",!0)]),Q.value?R("",!0):(k(),C("div",Mo,[P(a).loggedIn?(k(),C("span",{key:0,onClick:w[5]||(w[5]=$=>J.value?E():j())},[A(_(V,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[S,J.value]]),A(_(V,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[S,!J.value]])])):R("",!0),P(a).loggedIn?(k(),C("span",{key:1,onClick:w[6]||(w[6]=$=>Ht())},[A(_(V,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[S,se.value]]),A(_(V,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[S,!se.value]])])):R("",!0),P(a).loggedIn&&I.value.users&&P(a).user.id===I.value.users.id?(k(),C("span",{key:2,onClick:w[7]||(w[7]=$=>zt())},[A(_(V,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[S,he.value]]),A(_(V,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[S,!he.value]])])):R("",!0),P(a).loggedIn?(k(),C("span",{key:3,onClick:w[8]||(w[8]=$=>Jt())},[_(V,{name:"i-uil-share",class:"hover:text-blue-500"})])):R("",!0),r("div",Bo,[r("button",jo,[r("span",null,[_(V,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Fo,[r("div",Do,[L?(k(),ne(q,{key:0,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(V,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),M(" "+y(h.$t("open")),1)]),_:1},8,["to"])):R("",!0),L?(k(),ne(q,{key:1,to:"/a/"+I.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(V,{name:"i-ci-external-link",class:"mr-2 text-base"}),M(" "+y(h.$t("openInNewTab")),1)]),_:1},8,["to"])):R("",!0),L?(k(),C("div",No)):R("",!0),P(a).loggedIn&&I.value.users&&P(a).user.id!=I.value.users.id&&!P(a).user.is_admin&&!P(a).user.is_moderator?(k(),C("div",{key:3,to:"#",class:F(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!L}]),onClick:w[9]||(w[9]=$=>Xt())},[_(V,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),M(" "+y(h.$t("report")),1)],2)):R("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:w[10]||(w[10]=$=>Yt("/a/"+I.value.id))},[_(V,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),M(" "+y(h.$t("copySharableLink")),1)]),P(a).loggedIn&&I.value.users&&P(a).user.id===I.value.users.id?(k(),C("div",Ho)):R("",!0),P(a).loggedIn&&I.value.users&&P(a).user.id===I.value.users.id?(k(),ne(q,{key:5,to:"/works/update/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:K(()=>[_(V,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),M(" "+y(h.$t("update")),1)]),_:1},8,["to"])):R("",!0),P(a).loggedIn&&I.value.users&&P(a).user.id===I.value.users.id?(k(),C("div",{key:6,to:"/a/"+I.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:w[11]||(w[11]=$=>h.openModal("work-deletion-confirm-modal"))},[_(V,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),M(" "+y(h.$t("delete")),1)],8,Qo)):R("",!0)])])])]))]),_(ft,{section:o.section,class:"flex-md-hidden","is-modal":L,"artwork-detail":I.value,"preview-mode":Q.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(k(),ne(ra,null,[ee.value?R("",!0):(k(),ne(wt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":I.value,view:ve,"is-href":!L,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:F(["right-side",{"pr-3 overflow-y-scroll":L}])},[_(ft,{section:o.section,class:"hidden-md-flex","is-modal":L,"artwork-detail":I.value,"preview-mode":Q.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),ee.value?R("",!0):(k(),ne(wt,{key:0,class:"flex-md-hidden","artwork-detail":I.value,view:ve,"is-href":!L,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),zo,r("section",Wo,[P(a).loggedIn&&!Q.value?(k(),C("div",Jo,[r("div",Go,[r("div",Yo,[A(r("textarea",{"onUpdate:modelValue":w[12]||(w[12]=$=>Z.value=$),class:F(["input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":L}]]),readonly:xe.value,cols:"30",rows:Z.value!=null&&Z.value!=""?"5":"0",placeholder:h.$t("comments.inputPlaceholder"),maxlength:je,"data-gramm":"false"},null,10,Ko),[[Le,Z.value]]),A(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},y(P(Ot)),513),[[S,Z.value!=null&&Z.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:w[13]||(w[13]=fe($=>Ut(),["prevent"]))},[A(_(V,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[S,Z.value!=null&&Z.value!=""&&!xe.value]]),A(_(Ke,null,null,512),[[S,xe.value]])])])])])):R("",!0),P(a).loggedIn?R("",!0):(k(),C("div",Xo,y(h.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",Zo,[(k(!0),C(we,null,ye(O.value,$=>A((k(),C("div",{key:$.id,class:"flex flex-row w-full comment-item"},[_(q,{class:"mr-2",to:"/profile/"+$.users.username},{default:K(()=>[r("img",{class:"w-10 h-10 avatar",src:h.avatarCoverUrl($.users.avatar_bucket,$.users.avatar_filename),onError:w[14]||(w[14]=(...B)=>h.imageLoadError&&h.imageLoadError(...B))},null,40,el)]),_:2},1032,["to"]),r("div",tl,[r("div",{class:F(["p-3 w-full rounded-md",L?"theme-color-secondary":"theme-color"])},[r("div",al,[_(q,{to:"/profile/"+$.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:K(()=>[M(y($.users.name),1)]),_:2},1032,["to"]),r("div",sl,y(h.formatDate($.created_at,!0)),1)]),r("div",null,y($.comment),1),r("div",ol,[r("div",{class:"cursor-pointer hover:underline",onClick:B=>Se.value==$.id?He($.id):Ne($.id)},[$._count.artwork_comment_has_replies>0?(k(),C("span",nl,[r("b",null,y(h.shortNumber($._count.artwork_comment_has_replies)),1),M(" "+y($._count.artwork_comment_has_replies>1?h.$t("comments.replies.replies").toLowerCase():h.$t("comments.replies.reply").toLowerCase()),1)])):R("",!0)],8,ll),P(a).loggedIn?(k(),C("div",rl,[r("span",{class:"reaction",onClick:B=>be.value.includes($.id)?qt($.id):Tt($.id)},[A(_(V,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[S,!be.value.includes($.id)]]),A(_(V,{id:"comment-like-button-"+$.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[S,be.value.includes($.id)]]),M(" "+y(h.shortNumber($._count.artwork_comment_has_likes)),1)],8,il),r("span",{class:"reaction",onClick:B=>Mt($.id)},[_(V,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,cl),r("div",ul,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:w[15]||(w[15]=B=>Te.value=0)},[r("span",null,[_(V,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",dl,[r("div",ml,[_(q,{to:"/profile/"+$.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:w[16]||(w[16]=fe(()=>{},["prevent"]))},{default:K(()=>[_(V,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),M(" "+y(h.$t("viewProfile")),1)]),_:2},1032,["to"]),P(a).loggedIn&&P(a).user.id===$.users.id?(k(),C("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:B=>Vt($.id)},[_(V,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),M(" "+y(h.$t("delete")),1)],8,pl)):R("",!0)])])])])):R("",!0)])],2),P(a).loggedIn?A((k(),C("div",hl,[r("div",vl,[r("div",fl,[A(r("textarea",{id:"reply-"+$.id,"onUpdate:modelValue":w[17]||(w[17]=B=>te.value=B),class:F(["mt-2 w-full input form-input",[{"cursor-not-allowed":Ce.value},{"theme-color-secondary textarea":L}]]),readonly:Ce.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:h.$t("comments.replies.write"),maxlength:Qe,"data-gramm":"false"},null,10,wl),[[Le,te.value]]),A(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},y(P(Bt)),513),[[S,te.value!=null&&te.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:fe(B=>jt($.id),["prevent"])},[A(_(V,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[S,te.value!=null&&te.value!=""&&!Ce.value]]),A(_(Ke,null,null,512),[[S,Ce.value]])],8,yl)])])],512)),[[S,Te.value===$.id]]):R("",!0),r("div",{id:"comment-replies-"+$.id,class:"hidden flex-col mt-2"},[de.value[$.id]&&de.value[$.id].length?(k(),C("div",bl,[r("span",kl,y(h.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:B=>He($.id)},y(h.$t("hide")),9,xl)])):R("",!0),(k(!0),C(we,null,ye(de.value[$.id],B=>(k(),C("div",{key:B.id,class:F(["p-3 mb-2 w-full rounded-md border-l-4",L?"theme-color-secondary":"theme-color"])},[r("div",_l,[_(q,{to:"/profile/"+B.users.username,class:"flex flex-row leading-6"},{default:K(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:h.avatarCoverUrl(B.users.avatar_bucket,B.users.avatar_filename),onError:w[18]||(w[18]=(...Pe)=>h.imageLoadError&&h.imageLoadError(...Pe))},null,40,Cl),r("span",Il,y(B.users.name),1)]),_:2},1032,["to"]),r("span",$l,y(h.formatDate(B.created_at,!0)),1)]),r("div",Al,y(B.content),1),P(a).loggedIn?(k(),C("div",Rl,[Sl,r("div",Pl,[r("span",{class:"reaction",onClick:Pe=>ke.value.includes(B.id)?Nt(B.id):Dt(B.id)},[A(_(V,{id:"reply-like-button-"+B.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[S,ke.value.includes(B.id)]]),A(_(V,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[S,!ke.value.includes(B.id)]]),M(" "+y(h.shortNumber(B._count.artwork_comment_reply_has_likes)),1)],8,Ll),r("div",Ol,[r("button",Ul,[r("span",null,[_(V,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Vl,[r("div",Tl,[_(q,{to:"/profile/"+B.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:w[19]||(w[19]=fe(()=>{},["prevent"]))},{default:K(()=>[_(V,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),M(" "+y(h.$t("viewProfile")),1)]),_:2},1032,["to"]),P(a).loggedIn&&P(a).user.id===B.users.id?(k(),C("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Pe=>Ft($.id,B.id)},[_(V,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),M(" "+y(h.$t("delete")),1)],8,ql)):R("",!0)])])])])])):R("",!0)],2))),128)),de.value[$.id]&&De.value?(k(),C("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:B=>Et($.id)},y(h.$t("comments.replies.loadMore")),9,El)):R("",!0)],8,gl)])])),[[ae]])),128))]),I.value._count?A((k(),C("div",{key:2,class:"text-center capitalize href",onClick:w[20]||(w[20]=fe($=>Lt(I.value.id),["prevent"]))},y(h.$t("comments.loadOlder")),513)),[[S,I.value._count.artwork_comments>3&&Ve.value]]):R("",!0),A(r("div",{class:"w-full text-xs italic text-center"},y(h.$t("comments.reachedTheEnd")),513),[[S,O.value.length&&!Ve.value]]),P(a).loggedIn&&!O.value.length&&!Q.value?(k(),C("div",Ml,y(h.$t("comments.noCommentYet")),1)):R("",!0)])],2),ee.value?R("",!0):(k(),ne(Cs,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:Je,"work-id":I.value.id,class:"modal",onSave:Qt},null,8,["work-id"])),!ee.value&&P(a).loggedIn&&I.value.users&&P(a).user.id==I.value.users.id?(k(),ne(P(Ms),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:it,"modal-id":"album-selection-modal","work-id":I.value.id,class:"modal",onAddedToAlbum:Wt},null,8,["work-id"])):R("",!0),_(Ds,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${h.$t("alert.areYouSure")} ${h.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:w[21]||(w[21]=$=>rt(I.value.id))},null,8,["message"]),_(ro,{id:"report-modal",ref_key:"reportModalRef",ref:Kt,class:"modal",type:"artwork","post-id":I.value.id,"report-status":N.value},null,8,["post-id","report-status"]),_(go,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":I.value.id},null,8,["post-id"]),A(_(ot,{id:"copy-alert",text:h.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[S,ct.value]])],2),[[S,!ee.value]])],64)}}},Wl=ge(Bl,[["__scopeId","data-v-324d4da9"]]);export{Wl as M,ot as S,Za as W,Ds as _,Cs as a,$a as b,Rt as c,tt as d,Is as e,et as f,is as g,Ms as h,dt as u};
