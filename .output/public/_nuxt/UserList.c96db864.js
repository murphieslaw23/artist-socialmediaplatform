import{k as B,j as F,D as S,a as D,r as I,o as r,p as i,P as y,Q as k,e as c,w as U,q as l,t as v,u as t,b as _,G as C,L as g,v as m,x as E,aB as T,bU as V,K as d,y as q}from"./entry.ae51314b.js";import{u as G}from"./useUser.9e6a9c73.js";import{_ as K}from"./_plugin-vue_export-helper.a1a6add7.js";const O={class:"flex flex-row w-full"},P=["src"],Q={class:"flex flex-col justify-between p-3 w-full text-white"},W={class:"flex flex-col"},H={class:"font-bold"},J={class:"text-xxs"},R={class:"flex flex-row w-full"},X={key:0,class:"flex flex-row"},Y=["onClick"],Z=["onMouseover","onClick"],A={class:"work-grid"},ee={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},oe=["href"],se=["src"],le={__name:"UserList",props:{users:{type:Array,default:()=>{}},columnType:{type:Number,default:4}},setup(h){const L=h,u=B(),{oApiConfiguration:j,fetchOptions:z}=F(),b=G(j,z()),p=S(()=>L.users);D();const n=I(0),$=async(o,a)=>{const[f,e]=await b.follow(a);e||(p.value[o].is_following=!0)},M=async(o,a)=>{const[f,e]=await b.unfollow(a);e||(p.value[o].is_following=!1)};return(o,a)=>{const f=q;return r(),i("div",{class:d(["grid grid-cols-1 gap-4 mb-4 w-full md:grid-cols-2",h.columnType==3?"lg:grid-cols-3":"lg:grid-cols-4"])},[(r(!0),i(y,null,k(t(p),(e,w)=>(r(),i("div",{key:e.id,class:"flex flex-col w-full"},[c(f,{to:"/profile/"+e.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:T(e.cover_bucket&&e.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+o.avatarCoverUrl(e.cover_bucket,e.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+t(V)+");background-size:cover;")},{default:U(()=>[l("div",O,[l("img",{preload:"",loading:"lazy",class:"avatar",src:o.avatarCoverUrl(e.avatar_bucket,e.avatar_filename),onError:a[0]||(a[0]=(...s)=>o.imageLoadError&&o.imageLoadError(...s))},null,40,P),l("div",Q,[l("div",W,[l("span",H,v(e.name),1),l("span",J,v(e.pen_name),1)]),l("div",R,[t(u).loggedIn&&e.id!==t(u).user.id?(r(),i("div",X,[_(l("div",{class:"flex flex-row",onClick:C(s=>$(w,e.id),["prevent"])},[c(g,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Y),[[m,!e.is_following]]),_(l("div",{class:"flex flex-row",onMouseover:s=>n.value=e.id,onMouseout:a[1]||(a[1]=s=>n.value=0),onClick:C(s=>M(w,e.id),["prevent"])},[_(c(g,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[m,t(n)!==e.id]]),_(c(g,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[m,t(n)&&t(n)===e.id]])],40,Z),[[m,e.is_following]])])):E("",!0)])])])]),_:2},1032,["to","style"]),l("div",A,[(r(!0),i(y,null,k(e.artworks,(s,x)=>(r(),i("div",{key:s.id,class:d(["work-thumbnail theme-color-bg",s._count.artwork_assets>1&&o.currentWorkId!=s.id?"work-multiple":""])},[c(f,{to:"/a/"+s.id,target:"_blank",class:"w-full h-full theme-color-bg"},{default:U(()=>[l("div",{class:d(["overflow-hidden relative text-center",{"rounded-bl-md":x==0},{"rounded-br-md":x==2}])},[o.applyExplicitFilter(t(u),s.is_explicit,s.is_gore)?(r(),i("span",ee,v(o.$t("explicitContent")),1)):E("",!0),l("a",{href:"/a/"+s.id,class:d([{"animate-wigglefast":o.manageMode}])},[l("img",{preload:"",loading:"lazy",class:d(["w-full h-full unselectable",{"object-cover":!o.isUncropped},o.isUncropped?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":o.applyExplicitFilter(t(u),s.is_explicit,s.is_gore)}]),src:o.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",!1),onError:a[2]||(a[2]=(...N)=>o.imageLoadError&&o.imageLoadError(...N))},null,42,se)],10,oe)],2)]),_:2},1032,["to"])],2))),128))])]))),128))],2)}}},ie=K(le,[["__scopeId","data-v-389017c1"]]);export{ie as U};
