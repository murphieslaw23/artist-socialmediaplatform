import{e as ae,J as Ze,u as Pe,a as be,c as _e,d as eo}from"./ProBadge.e3dc9c3a.js";import{o as t,q as d,U as se,V as le,b as o,I as L,b0 as je,N as ee,f as v,Q as S,s as D,t as u,x as f,l as oe,k as Z,p as ne,r as m,u as e,e as C,v as R,c as W,a3 as oo,a as Ue,L as Me,O as Q,w as de,y as We,S as Ie,T as Ce,z as Re,K as Ee,M as ce,a1 as Te,a2 as ze,H as xe,m as to}from"./entry.ea93fdf2.js";import{M as ke,_ as pe,u as Ne,c as ye,d as $e,e as so}from"./ModalView.4408fcca.js";import{P as G}from"./index.af539870.js";import{_ as te}from"./_plugin-vue_export-helper.c27b6911.js";import{u as Le}from"./useUser.bb4e922e.js";import{a as Se,u as Ae,L as lo}from"./Layout.7db09108.js";import{u as ao}from"./useFeed.53b119c5.js";import{a as io,_ as no,F as ro}from"./FeedModalView.51cb077f.js";import{W as Fe}from"./WorkList.4a26cf02.js";import{_ as re}from"./LoadingEmptyErrorMessage.118d4a88.js";import{u as co}from"./useSetting.33e0bf81.js";import{U as De}from"./UserList.6090c68e.js";const uo={key:0,class:"flex flex-row flex-wrap gap-2 justify-center md:justify-start"},mo=["onClick"],fo={class:"py-1 px-2 rounded-md theme-color"},po={__name:"Socials",props:{socials:{type:Array,default:()=>[]}},setup(l){const w=l,g=[{title:"website",valueKey:"personal_website",href:w.socials.personal_website,icon:"i-ph-link-simple-break-bold",color:"gray",hex:"#333333",show:!!(w.socials.personal_website&&w.socials.personal_website!=""),modalId:"external-website-visit-confirmation-modal"},{title:"patreon",valueKey:"patreon",href:"https://patreon.com/"+w.socials.patreon,icon:"i-gg-patreon",color:"orange",hex:"#f97316",show:!!(w.socials.patreon&&w.socials.patreon!="")},{title:"twitch",valueKey:"twitch",href:"https://twitch.com/"+w.socials.twitch,icon:"i-ph-twitch-logo-fill",color:"purple",hex:"#6441a5",show:!!(w.socials.twitch&&w.socials.twitch!="")},{title:"instagram",valueKey:"instagram",href:"https://instagram.com/"+w.socials.instagram,icon:"i-ion-logo-instagram",color:"fuchsia",hex:"#8a3ab9",show:!!(w.socials.instagram&&w.socials.instagram!="")},{title:"twitter",valueKey:"twitter",href:"https://twitter.com/"+w.socials.twitter,icon:"i-ion-logo-twitter",color:"cyan",hex:"#1DA1F2",show:!!(w.socials.twitter&&w.socials.twitter!="")},{title:"facebook",valueKey:"facebook",href:"https://facebook.com/"+w.socials.facebook,icon:"i-ion-logo-facebook",color:"blue",show:!!(w.socials.facebook&&w.socials.facebook!="")},{title:"youtube",valueKey:"youtube",href:w.socials.youtube,icon:"i-ion-logo-youtube",color:"red",show:!!(w.socials.youtube&&w.socials.youtube!="")},{title:"discord",valueKey:"discord",href:"https://discord.com/"+w.socials.discord,icon:"i-ic-twotone-discord",color:"indigo",hex:"#7289d9",show:!!(w.socials.discord&&w.socials.discord!="")},{title:"picarto",valueKey:"picarto",href:"https://picarto.tv/"+w.socials.picarto,icon:"i-cib-picarto-tv",color:"green",show:!!(w.socials.picarto&&w.socials.picarto!="")},{title:"gumroad",valueKey:"gumroad",href:"https://"+w.socials.gumroad+".gumroad.com",icon:"i-cib-gumroad",color:"pink",hex:"#FE92E4",show:!!(w.socials.gumroad&&w.socials.gumroad!="")}],s=M=>{window.open(M,"_blank")};return(M,c)=>l.socials?(t(),d("div",uo,[(t(),d(se,null,le(g,p=>o("span",{key:p.valueKey,class:L({hidden:!p.show})},[p.show?(t(),d("a",{key:0,href:"#",class:L(["group/facebook socials__badge",p.hex?"":`border-${p.color}-500 bg-${p.color}-500`]),style:je([p.hex?`border-color: ${p.hex}; background-color: ${p.hex};`:""]),onClick:ee(_=>p.valueKey==="personal_website"?M.openModal(p.modalId):s(p.href),["prevent"])},[o("div",{class:L(["socials__badge-name",p.hex?"":`bg-${p.color}-500`]),style:je(p.hex?`background-color: ${p.hex}`:"")},[v(S,{name:p.icon},null,8,["name"]),D(" "+u(p.title),1)],6),o("div",fo,u(l.socials[p.valueKey]),1)],14,mo)):f("",!0)],2)),64))])):f("",!0)}},Ke=te(po,[["__scopeId","data-v-f06b700b"]]);const vo={class:"follow-buttons"},wo={class:"flex flex-row justify-center"},go={class:"follow-buttons__private-toggler"},ho={__name:"FollowButtons",props:{userInfo:{type:Object,default:()=>{}},followersCount:{type:Number,default:0},followingsCount:{type:Number,default:0},isFollowing:{type:Boolean,default:!1},isPrivate:{type:Boolean,default:!1},followingSince:{type:String,default:""}},emits:["changeCurrentState"],setup(l,{emit:w}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Le(M,c());ne(()=>{h.value.isFollowing=g.isFollowing,h.value.isPrivate=g.isPrivate,h.value.followingSince=g.followingSince});const _=i=>{w("changeCurrentState",i)},h=m({isFollowing:g.isFollowing,isPrivate:g.isPrivate,followingSince:g.followingSince}),n=m(null),T=m("i-ri-user-follow-fill"),P=(i,k)=>{T.value=i,n.value=k},a=async(i,k)=>{let[O,y]=[null,!1];k?[O,y]=await p.followPrivately(i):[O,y]=await p.follow(i),y||(h.value={isFollowing:!0,isPrivate:k??!1,followingSince:""})},I=async i=>{const[k,O]=await p.unfollow(i);O||(h.value={isFollowing:!1,isPrivate:!1,followingSince:""})};return(i,k)=>(t(),d("div",vo,[o("div",{class:L(["follow-buttons__counter",l.userInfo.id==e(s).user.id?"rounded-md":"rounded-t-md"])},[o("div",wo,[o("div",{class:"follow-buttons__counter-partial",onClick:k[0]||(k[0]=O=>_("followerList"))},[o("b",null,u(i.thousand(l.followersCount)),1),D("  "),o("i",null,u(i.$t("followers.followers").toLowerCase()),1)]),o("div",{class:"follow-buttons__counter-partial",onClick:k[1]||(k[1]=O=>_("followingList"))},[o("b",null,u(i.thousand(l.followingsCount)),1),D("  "),o("i",null,u(i.$t("followings.followings").toLowerCase()),1)])])],2),e(s).loggedIn&&l.userInfo.id!==e(s).user.id?(t(),d("div",{key:0,class:L(["follow-buttons__buttons",{"hover:danger-button":e(h).isFollowing}]),onClick:k[2]||(k[2]=O=>e(h).isFollowing?I(l.userInfo.id):a(l.userInfo.id)),onMouseover:k[3]||(k[3]=O=>P("i-ri-user-unfollow-fill",i.$t("unfollow"))),onMouseleave:k[4]||(k[4]=O=>P("i-ri-user-follow-fill",i.$t("followings.following")))},[C(o("button",null,[v(S,{name:"i-ri-user-add-fill","text-size":"text-base"}),D(" "+u(i.$t("follow")),1)],512),[[R,!e(h).isFollowing]]),C(o("button",null,[v(S,{name:e(T),"text-size":"text-base"},null,8,["name"]),D(" "+u(e(n)===null?i.$t("followings.following"):e(n)),1)],512),[[R,e(h).isFollowing]])],34)):f("",!0),C(o("div",go,[o("label",{for:"follow-privately",onClick:k[5]||(k[5]=O=>e(s).i502p00r0?e(h).isPrivate?a(l.userInfo.id,!1):a(l.userInfo.id,!0):null)},[e(h).isPrivate?(t(),W(S,{key:1,name:"i-ic-outline-check",class:"text-green-500"})):(t(),W(S,{key:0,name:"i-fluent-checkbox-unchecked-20-regular"})),o("span",null,u(i.$t("followings.followPrivately")),1),e(s).i502p00r0?f("",!0):(t(),W(ae,{key:2}))])],512),[[R,e(h).isFollowing]])]))}},Ve=te(ho,[["__scopeId","data-v-9a12fd0f"]]);const Oe=l=>(Ie("data-v-de7fe0f9"),l=l(),Ce(),l),bo={class:"left-0 w-full md:w-2/3"},_o={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},ko={class:"w-full"},yo={id:"interaction-button-section",class:"interactions !px-4"},$o=Oe(()=>o("div",null,null,-1)),xo={key:0,class:"interactions__items"},Mo=["onClick"],Io=["onClick"],Co={class:"ellipsis-menus dropdown"},Eo=["onClick"],Lo={class:"ellipsis-menus__content dropdown-menu"},Ao={id:"ellipsis-menu",class:"ellipsis-menus__content__wrapper","aria-labelledby":"option-dropdown-buttons",role:"menu"},Fo={key:0,class:"custom-divider"},Po={key:1},Ro={class:"loading-empty-error-message"},To=Oe(()=>o("div",{class:"mt-2 text-tiny"}," Currently making magic.. ",-1)),So={class:"mx-auto mt-10 text-center"},Oo=Oe(()=>o("b",null,"(ㆆ_ㆆ)",-1)),Bo={class:"mx-auto text-center"},jo={id:"chronological-feed-modal",class:"modal work-view"},Ko={id:"artwork-modal",class:"modal work-view"},Vo={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(l){const w=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=ao(s,M()),{generateArtworkThumb:p}=oo(),_=Ue();Me(()=>_.query,()=>{setTimeout(()=>{Q().closeModal("chronological-modal"),Q().closeModal("chronological-feed-modal"),Q().closeModal("feed-collection-selection-modal"),Q().closeModal("collection-selection-modal"),Q().closeModal("album-selection-modal"),Q().closeModal("report-modal")},10)});const h=m(0),n=m(0),T=(E,K)=>{h.value=E,n.value=K},P=m([]),a=m({page:0,perPage:10}),I=async({loaded:E})=>{const[K,z]=await c.getFeedByUserId({userId:w.userId,pagination:{page:a.value.page,perPage:a.value.perPage}});a.value.page+=1;for(let j=0;j<K.feeds.length;j++){const Y=K.feeds[j];if(Y.liked&&b.value.push(Y.id),Y.artworks){Y.artworks.images=[],Y.artworks.apply_explicit_filter=!1;for(let H=0;H<Y.artworks.artwork_assets.length;H++)if(H<=3){const q=await p(Y.artworks.artwork_assets[H].bucket,Y.artworks.artwork_assets[H].filename,"feed");Y.artworks.images.push(q)}Y.artworks!=null&&(!g.loggedIn&&Y.artworks.is_explicit||Y.artworks.is_explicit&&!g.user.user_settings.show_explicit)&&(Y.artworks.apply_explicit_filter=!0)}P.value.push(Y)}E(K.feeds.length,a.value.perPage)},i=m(null),k=E=>{i.value.view(E),Q().openModal("chronological-feed-modal")},O=m(null),y=(E,K,z)=>{K?P.value[z].artworks.apply_explicit_filter=!1:(O.value.view(E),Q().openModal("artwork-modal"))},b=m([]),x=async E=>{const[K,z]=await c.like({feedId:E});if(K){b.value.push(E);const j=document.getElementById(`profileFeedLikeButton-${E}`);j.classList.add("animate-bounce"),setInterval(()=>{j.classList.remove("animate-bounce")},2500)}},r=async E=>{const[K,z]=await c.unlike({feedId:E});if(K){const j=b.value.indexOf(E);b.value.splice(j,1)}},U=(E,K,z,j)=>{Ne().readMore(E,K,z,j)},$=async()=>{const[E,K]=await c.remove(h.value);E&&P.value.splice(n.value,1)};return(E,K)=>{const z=We;return t(),d("div",bo,[(t(!0),d(se,null,le(e(P),(j,Y)=>(t(),d("div",{key:j.id},[o("div",_o,[o("div",ko,[v(io,{feed:j},null,8,["feed"]),v(no,{bypass:!0,feed:j,"color-reversed":!0,"read-more":U,"view-artwork":y,onReadMore:U},null,8,["feed"]),o("section",yo,[$o,e(g).loggedIn?(t(),d("div",xo,[o("div",{class:"interactions__item",onClick:H=>e(b).includes(j.id)?r(j.id):x(j.id)},[C(v(S,{id:"profileFeedLikeButton-"+j.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[R,e(b).includes(j.id)]]),C(v(S,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[R,!e(b).includes(j.id)]]),D(" "+u(E.thousand(j._count.feed_likes)),1)],8,Mo),o("div",{class:"interactions__item",onClick:ee(H=>k(j.id),["prevent"])},[v(S,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),D(" "+u(E.thousand(j._count.feed_comments)),1)],8,Io),o("div",Co,[o("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"ellipsis-menu",onClick:H=>T(j.id,Y)},[o("span",null,[v(S,{name:"i-uit-ellipsis-v"})])],8,Eo),o("div",Lo,[o("div",Ao,[v(z,{to:"/feed/"+j.id},{default:de(()=>[v(S,{name:"i-fluent-arrow-enter-20-filled"}),D(" "+u(E.$t("open")),1)]),_:2},1032,["to"]),v(z,{to:"/feed/"+j.id,target:"_blank"},{default:de(()=>[v(S,{name:"i-ci-external-link"}),D(" "+u(E.$t("openInNewTab")),1)]),_:2},1032,["to"]),e(g).loggedIn&&j.user_id&&e(g).user.id===j.user_id?(t(),d("div",Fo)):f("",!0),e(g).loggedIn&&j.user_id&&e(g).user.id===j.user_id?(t(),d("div",Po,[o("a",{onClick:K[0]||(K[0]=H=>E.openModal("profile-feed-deletion-confirm-modal"))},[v(S,{name:"i-akar-icons-trash-bin"}),D(" "+u(E.$t("delete")),1)])])):f("",!0)])])])])):f("",!0)])])])]))),128)),v(e(Ze),{load:I,"is-initial":!1},{loading:de(()=>[o("div",Ro,[v(S,{name:"i-line-md-loading-twotone-loop","text-size":"text-3xl"}),To])]),"no-results":de(()=>[o("div",So,[Oo,D(" "+u(E.$t("feeds.haventPostedAnyUpdate")),1)])]),"no-more":de(()=>[o("div",Bo,u(E.$t("youHaveReachedTheEnd")),1)]),_:1}),o("div",jo,[v(ro,{ref_key:"chronologicalFeedModalViewRef",ref:i,section:"chronological-feed","is-modal":!0},null,512)]),o("div",Ko,[v(ke,{ref_key:"artworkModalViewRef",ref:O,section:e(G).ARTWORK},null,8,["section"])]),v(pe,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${E.$t("alert.areYouSure")} ${E.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:K[1]||(K[1]=j=>$())},null,8,["message"])])}}},Uo=te(Vo,[["__scopeId","data-v-de7fe0f9"]]);const Wo={id:"lists"},zo=["id"],No={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1},sortBy:{type:String,default:"default"}},emits:["feedSelectedItems","onEmpty"],setup(l,{emit:w}){const g=l,{oApiConfiguration:s,fetchOptions:M}=Z(),c=Pe(s,M()),p="profile",_=m(!0);ne(()=>{h()});const h=async()=>{T.value.page=0;const[K,z]=await P();n.value=K,z.record_total<=T.value.perPage&&i(),z.record_total===0&&b()};Me(()=>g.sortBy,()=>{h()});const n=m([]),T=m({perPage:24,page:0}),P=async()=>{T.value.page===0&&(_.value=!0);const[K,z,j]=await c.getUserArtworks({userId:g.userId,sortBy:g.sortBy,pagination:{page:T.value.page,perPage:T.value.perPage}});if(j)r();else return z.record_total<=T.value.perPage&&i(),z.record_total===0&&b(),T.value.page+=1,a(),[K,z]},a=()=>{_.value=!1,y.value=!1,x.value=!1},I=m(!0),i=()=>{I.value=!1},k=m({delay:!1}),O=async()=>{k.value.delay=!0;const[K,z]=await P();for(let j=0;j<K.length;j++)n.value.push(K[j]);k.value.delay=!1,z.next_previous.next_page||i(),z.next_previous.next_page&&z.current_page===k.maxLoad&&(i(),k.showDiscoveryButton=!0)},y=m(!1),b=()=>{y.value=!0,i(),w("onEmpty")},x=m(!1),r=()=>{_.value=!1,x.value=!0,i()},U=m(null),$=(K,z=!1)=>{U.value.view(K,z),Q().openModal(p+"-modal")},E=K=>{w("feedSelectedItems",K)};return(K,z)=>(t(),d("div",Wo,[C(o("div",null,[C(v(Fe,{"section-class":"work-grid-6",works:e(n),view:$,"manage-mode":l.manageMode,onFeedManageList:E},null,8,["works","manage-mode"]),[[R,!e(y)]]),C(o("div",{class:L(["w-full primary-button",e(k).delay?"animate-pulse":""]),onClick:O},u(K.$t("loadMore")),3),[[R,e(I)]])],512),[[R,!e(_)]]),v(re,{loading:e(_),empty:e(y),error:e(x),fetch:P,"background-color":"theme-color-secondary",class:"mt-2"},null,8,["loading","empty","error"]),o("div",{id:p+"-modal",class:"modal work-view"},[C(v(ke,{ref_key:"profileModalViewRef",ref:U,section:p},null,512),[[R,!e(_)]])],8,zo)]))}},Do=te(No,[["__scopeId","data-v-38cd61bf"]]),Ho={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},qo={id:"crate-album-form"},Yo={class:"title"},Go=["name"],Jo=["placeholder"],Qo=["name"],Xo=["placeholder"],Zo=["for"],et=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ot={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},tt=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),st=[tt],lt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},at=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),it=[at],nt={class:"flex flex-row gap-x-2"},rt={class:"buttons"},dt={type:"submit",class:"submit"},ct=Re({__name:"AlbumFormModal",props:{category:{type:String,default:G.ARTWORK},modalId:{type:String,default:"create-album-form-modal"}},emits:["created"],setup(l,{emit:w}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=ye(M,c()),{t:_}=Ee(),h="create-album-form",n=m({title:"",description:"",isPublic:!0}),T=m({isError:!1,message:""}),P=async()=>{a(),Ae().validate(h,_);const[I,i,k]=await p.createAlbum(g.category,n.value);k?T.value={isError:!0,message:k}:(Q().closeModal(g.modalId),w("created",i))},a=()=>{T.value={isError:!1,message:""}};return(I,i)=>(t(),d("div",null,[o("div",Ho,[o("section",qo,[o("h2",Yo,u(I.$t("albums.create.form.title")),1),o("form",{id:h,onSubmit:i[4]||(i[4]=ee(k=>P(),["prevent"]))},[v(Se,{"is-error":e(T).isError,"error-message":e(T).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:I.$t("title")},[C(o("input",{"onUpdate:modelValue":i[0]||(i[0]=k=>e(n).title=k),type:"text",rules:"required",class:"input-color-secondary",placeholder:I.$t("title")},null,8,Jo),[[ce,e(n).title]])],8,Go),o("n-validate",{for:"description",name:I.$t("description")},[C(o("textarea",{"onUpdate:modelValue":i[1]||(i[1]=k=>e(n).description=k),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:I.$t("description")},null,8,Xo),[[ce,e(n).description]])],8,Qo),o("label",{for:e(n).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=k=>e(s).i502p00r0?e(n).isPublic=!e(n).isPublic:e(n).isPublic=!0)},[et,e(n).isPublic?(t(),d("span",ot,st)):f("",!0),e(n).isPublic?f("",!0):(t(),d("span",lt,it))]),o("div",nt,[o("span",{class:L(["ml-2 inline-block",{"leading-6":!e(s).i502p00r0}])},u(I.$t("private")),3),e(s).i502p00r0?f("",!0):(t(),W(ae,{key:0}))])],8,Zo),o("div",rt,[o("button",{class:"cancel",onClick:i[3]||(i[3]=ee(k=>I.closeModal(l.modalId),["prevent"]))},u(I.$t("cancel")),1),o("button",dt,u(I.$t("create")),1)])],32)])])]))}});const ut={id:"lists"},mt={class:"p-4 mb-2 w-full rounded-md theme-color-secondary"},ft={class:"mb-2 text-base font-bold"},pt={class:"mb-2"},vt={class:"italic"},wt=["id"],gt={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(l,{expose:w,emit:g}){const s=l,{oApiConfiguration:M,fetchOptions:c}=Z(),p=ye(M,c()),_=m(s.id);Me(()=>s.id,($,E)=>{_.value=$}),ne(async()=>{await T()});const h=m(!0),n=m({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),T=async()=>{h.value=!0,await P(),await a(),h.value=!1},P=async()=>{const[$,E]=await p.getInfo(_.value);n.value.info=$.data},a=async()=>{const[$,E,K]=await p.listAlbumItems({albumId:_.value,pagination:{page:n.value.pagination.page,perPage:n.value.pagination.page===0?n.value.pagination.firstLoad:n.value.pagination.perPage}});E?n.value.pagination.page===0?n.value.pagination.page=n.value.pagination.firstLoad/n.value.pagination.perPage:n.value.pagination.page+=n.value.pagination.page!==0?1:2:n.value.loadMore=!1,$!==null&&$.length?($.forEach(z=>{n.value.list.push(z.artworks)}),g("onAlbumEmpty",!1)):(n.value.empty=!0,g("onAlbumEmpty",!0))},I=()=>{n.value.loadMore=!0,n.value.pagination.page=0,n.value.list=[]},i=m([]),k=$=>{i.value=$,g("feedManageList",$)},O=m(!1);let y;const b=async()=>{const[$,E]=await p.removeItems(s.id,i.value);$&&(_e().splash(y,O,"item-removed-alert"),I(),await T())},x=m("album"),r=m(null),U=($,E=!1)=>{r.value.view($,E),Q().openModal(x.value+"-modal")};return w({fetchInfo:P,removeItems:b}),($,E)=>(t(),d("div",ut,[o("div",mt,[o("div",ft,u(e(n).info.name),1),o("div",pt,u(e(n).info.description),1),o("div",null,[o("b",null,u($.$t("private"))+":",1),D(),o("span",vt,u(e(n).info.is_public?$.$t("no"):$.$t("yes")),1)]),o("div",null,[o("b",null,u($.$t("createdAt")),1),D(" "+u($.formatDate(e(n).info.created_at)),1)])]),C(o("div",null,[C(v(Fe,{"section-class":"work-grid-6",works:e(n).list,view:U,"manage-mode":l.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[R,!e(n).empty]]),C(o("div",{class:"primary-button w-full",onClick:E[0]||(E[0]=K=>a())},u($.$t("loadMore")),513),[[R,e(n).loadMore]])],512),[[R,!e(h)]]),v(re,{loading:e(h),empty:e(n).empty,error:!1,fetch:T,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(h)?f("",!0):(t(),d("div",{key:0,id:e(x)+"-modal",class:"modal work-view"},[v(ke,{ref_key:"albumModalViewRef",ref:r,section:e(x)},null,8,["section"])],8,wt)),C(v(be,{id:"item-removed-alert",text:$.$t("albums.itemRemoved")},null,8,["text"]),[[R,e(O)]])]))}},ht=te(gt,[["__scopeId","data-v-f0710978"]]),bt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},_t={id:"update-album-form"},kt={class:"title"},yt=["name"],$t=["placeholder"],xt=["name"],Mt=["placeholder"],It=["for"],Ct=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Et={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Lt=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),At=[Lt],Ft={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Pt=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Rt=[Pt],Tt={class:"flex flex-row gap-x-2"},St={class:"buttons"},Ot={type:"submit",class:"submit"},Bt=Re({__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:["updated"],setup(l,{expose:w,emit:g}){const s=l,M=oe(),{oApiConfiguration:c,fetchOptions:p}=Z(),_=ye(c,p()),{t:h}=Ee(),n=m(!0),T=async y=>{if(y){O(),n.value=!0;const[b,x]=await _.getInfo(y),r=b.data;a.value.id=y,a.value.name=r.name,a.value.description=r.description,a.value.isPublic=!!r.is_public,n.value=!1}},P="update-album-form",a=m({id:0,name:"",description:"",isPublic:!0}),I=async()=>{k(),Ae().validate(P,h);const[y,b]=await _.update({id:a.value.id,name:a.value.name,description:a.value.description,isPublic:a.value.isPublic});b?i.value={isError:!0,message:b}:(Q().closeModal(s.modalId),g("updated",a.value),O())},i=m({isError:!1,message:""}),k=()=>{i.value={isError:!1,message:""}},O=()=>{a.value={id:0,name:"",description:"",isPublic:!0}};return w({fetch:T}),(y,b)=>(t(),d("div",null,[o("div",bt,[o("section",_t,[o("h2",kt,u(y.$t("albums.edit.form.title")),1),e(n)?f("",!0):(t(),d("form",{key:0,id:P,onSubmit:b[4]||(b[4]=ee(x=>I(),["prevent"]))},[v(Se,{"is-error":e(i).isError,"error-message":e(i).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:y.$t("title")},[C(o("input",{"onUpdate:modelValue":b[0]||(b[0]=x=>e(a).name=x),type:"text",rules:"required",class:"input-color-secondary",placeholder:y.$t("title")},null,8,$t),[[ce,e(a).name]])],8,yt),o("n-validate",{for:"description",name:y.$t("description")},[C(o("textarea",{"onUpdate:modelValue":b[1]||(b[1]=x=>e(a).description=x),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:y.$t("description")},null,8,Mt),[[ce,e(a).description]])],8,xt),o("label",{for:e(a).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:b[2]||(b[2]=x=>e(M).i502p00r0?e(a).isPublic=!e(a).isPublic:e(a).isPublic=!0)},[Ct,e(a).isPublic?(t(),d("span",Et,At)):f("",!0),e(a).isPublic?f("",!0):(t(),d("span",Ft,Rt))]),o("div",Tt,[o("span",{class:L(["ml-2",{"leading-6":!e(M).i502p00r0}])},u(y.$t("private")),3),e(M).i502p00r0?f("",!0):(t(),W(ae,{key:0}))])],8,It),o("div",St,[o("button",{class:"cancel",onClick:b[3]||(b[3]=ee(x=>y.closeModal(l.modalId),["prevent"]))},u(y.$t("cancel")),1),o("button",Ot,u(y.$t("save")),1)])],32))])])]))}});const He=l=>(Ie("data-v-903929df"),l=l(),Ce(),l),jt={class:"mb-2"},Kt={key:0},Vt=["src"],Ut={key:1},Wt={class:"relative text-center"},zt={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Nt={class:"overflow-hidden rounded-md"},Dt=["src"],Ht={key:2,class:"imgrid"},qt={class:"relative text-center"},Yt={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Gt={class:"overflow-hidden rounded-md"},Jt=["src"],Qt=He(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Xt=He(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Zt={key:3,class:"imgrid"},es={class:"relative text-center"},os={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ts={class:"overflow-hidden rounded-md"},ss=["src"],ls={key:4,class:"imgrid"},as={class:"relative text-center"},is={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ns={class:"overflow-hidden rounded-md"},rs=["src"],ds={key:5,class:"imgrid"},cs={key:0,class:"relative text-center"},us={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ms={class:"overflow-hidden rounded-md"},fs=["src"],ps={key:1,class:"relative text-center"},vs={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},ws={class:"overflow-hidden rounded-md"},gs=["src"],hs={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(l){const w=oe(),g={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(s,M)=>(t(),d("div",jt,[!l.album.album_has_artworks||l.album._count.album_has_artworks===0?(t(),d("div",Kt,[o("img",{src:s.folderIcon(),class:"rounded"},null,8,Vt)])):f("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===1?(t(),d("div",Ut,[o("div",Wt,[s.applyExplicitFilter(e(w),l.album.album_has_artworks[0].artworks.is_explicit,l.album.album_has_artworks[0].artworks.is_gore)?(t(),d("span",zt,u(s.$t("explicitContent")),1)):f("",!0),o("div",Nt,[l.album.album_has_artworks&&l.album._count.album_has_artworks===1?(t(),d("img",{key:0,src:s.artworkThumb(l.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,l.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:L(["object-cover object-top rounded",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),l.album.album_has_artworks[0].artworks.is_explicit,l.album.album_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:M[0]||(M[0]=(...c)=>s.imageLoadError&&s.imageLoadError(...c))},null,42,Dt)):f("",!0)])])])):f("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===2?(t(),d("div",Ht,[(t(!0),d(se,null,le(l.album.album_has_artworks,(c,p)=>(t(),d("div",{key:p,class:L(g[2][p])},[o("div",qt,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",Yt,u(s.$t("explicitContent")),1)):f("",!0),o("div",Gt,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[1]||(M[1]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Jt)])])],2))),128)),Qt,Xt])):f("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===3?(t(),d("div",Zt,[(t(!0),d(se,null,le(l.album.album_has_artworks,(c,p)=>(t(),d("div",{key:p,class:L(g[3][p])},[o("div",es,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",os,u(s.$t("explicitContent")),1)):f("",!0),o("div",ts,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[2]||(M[2]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,ss)])])],2))),128))])):f("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks===4?(t(),d("div",ls,[(t(!0),d(se,null,le(l.album.album_has_artworks,(c,p)=>(t(),d("div",{key:p},[o("div",as,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",is,u(s.$t("explicitContent")),1)):f("",!0),o("div",ns,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[3]||(M[3]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,rs)])])]))),128))])):f("",!0),l.album.album_has_artworks&&l.album._count.album_has_artworks>4?(t(),d("div",ds,[(t(!0),d(se,null,le(l.album.album_has_artworks,(c,p)=>(t(),d("div",{key:p},[p<3?(t(),d("div",cs,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",us,u(s.$t("explicitContent")),1)):f("",!0),o("div",ms,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[4]||(M[4]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,fs)])])):(t(),d("div",ps,[o("span",vs,"+"+u(l.album._count.album_has_artworks-4),1),o("div",ws,[o("img",{src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),class:L(["z-0 brightness-50",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),onError:M[5]||(M[5]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,gs)])]))]))),128))])):f("",!0)]))}},bs=te(hs,[["__scopeId","data-v-903929df"]]);const _s={class:"mb-2 w-full"},ks={key:0,class:"flex flex-row justify-between"},ys={class:"flex flex-row"},$s={key:0},xs={key:1,class:"flex flex-row justify-between"},Ms={class:"flex flex-row"},Is={class:"flex flex-row gap-2"},Cs={class:"flex flex-row gap-2"},Es={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Ls=["onClick"],As={class:"flex flex-row pb-1 mt-4 font-bold"},Fs={class:"text-xs font-normal"},Ps={__name:"Album",props:{userId:{type:Number,default:0}},setup(l){const w=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=ye(s,M());Te(()=>{T()}),ne(()=>{i()});const p=m(!0),_=m(G.ARTWORK),h=m(0),n=m(!1),T=async()=>{if(g.i502p00r0)n.value=!0;else{const[F,A]=await c.proCanCreateAlbum({type:_.value});A?n.value=!1:n.value=F}},P=m([]),a=m({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),I=m({artwork:0}),i=async()=>{p.value=!0;const[F,A,N]=await c.fetchAlbums(w.userId,_.value,a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage,a.value.pagination.page);if(N)x();else{F.length||(a.value.manageMode=!1,y()),F.forEach(ge=>{P.value.push(ge)}),a.value.pagination.page+=1,a.value.showLoadMore=A;const[ie]=await c.countArtworkAlbums(w.userId);I.value.artwork=ie}p.value=!1},k=async()=>await i(),O=m(!1),y=()=>{O.value=!0,a.value.showLoadMore=!1},b=m(!1),x=()=>{p.value=!1,b.value=!0,a.value.showLoadMore=!1},r=async()=>{p.value=!1,O.value=!1,b.value=!1,a.value.pagination.page=0,P.value=[],await i()},U=m(!1);let $;const E=async()=>{await T(),_e().splash($,U,"created-alert"),await r()},K=m(null),z=()=>{K.value.fetch(h.value),Q().openModal("album-edit-form-modal")},j=m(null),Y=F=>{j.value.fetchInfo(),P.value.forEach(A=>{A.id===F.id&&(A.name=F.name,A.description=F.description,A.is_public=F.isPublic)})},H=()=>{j.value.removeItems()},q=m([]),X=F=>{q.value=F},ve=async()=>{if(h.value!==0){const[F,A]=await c.deleteAlbum(h.value);F&&(await T(),h.value=0,r())}},me=F=>{a.value.showManageButton=!F,a.value.manageMode=!1},we=()=>{h.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(F,A)=>(t(),d("div",null,[o("div",_s,[e(h)?f("",!0):(t(),d("div",ks,[o("div",ys,[o("div",{class:L(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(_)===e(G).ARTWORK}]),onClick:A[0]||(A[0]=N=>_.value=e(G).ARTWORK)},[D(u(F.$t("artworks.artwork"))+" ",1),o("span",{class:L(["px-1 ml-2 font-normal rounded",e(_)===e(G).ARTWORK?"theme-color":"button-color text-white"])},u(F.thousand(e(I).artwork)),3)],2)]),e(g).loggedIn&&e(g).user.id===l.userId?(t(),d("div",$s,[o("div",{class:"flex flex-row icon-button",onClick:A[1]||(A[1]=N=>e(n)?F.openModal("album-form-modal"):null)},[v(S,{name:"i-ion-add-outline"}),e(n)?f("",!0):(t(),W(ae,{key:0,class:"ml-1"}))])])):f("",!0)])),e(h)?(t(),d("div",xs,[o("div",null,[o("div",{class:"ml-0 icon-button",onClick:A[2]||(A[2]=N=>we())},[v(S,{name:"i-ic-baseline-keyboard-arrow-left"})])]),o("div",Ms,[C(o("div",Is,[o("button",{class:L(["action-button",e(a).manageMode?"danger-button":"secondary-button"]),onClick:A[3]||(A[3]=N=>e(a).manageMode=!e(a).manageMode)},[v(S,{name:e(a).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+u(e(a).manageMode?F.$t("quit"):F.$t("manage")),1)],2),C(o("button",{class:L(["flex flex-row",e(q).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:A[4]||(A[4]=N=>e(q).length>0?F.openModal("item-deletion-confirm-modal"):null)},[v(S,{name:"i-akar-icons-trash-bin"}),D(" "+u(F.$t("albums.removeSelected")),1)],2),[[R,e(a).manageMode]])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&e(a).showManageButton]]),C(o("div",Cs,[o("button",{class:"icon-button",onClick:A[5]||(A[5]=N=>z())},[v(S,{name:"i-ph-gear-six"})]),o("button",{class:"danger-button-color b-button",onClick:A[6]||(A[6]=N=>F.openModal("album-deletion-confirm-modal"))},[v(S,{name:"i-akar-icons-trash-bin"})])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&!e(a).manageMode]])])])):f("",!0),C(o("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},u(F.$t("albums.manageModeActiveMessage")),513),[[R,e(a).manageMode]])]),e(h)?f("",!0):(t(),d("div",Es,[(t(!0),d(se,null,le(e(P),N=>(t(),d("div",{key:N.id,class:L(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ie=>h.value=N.id},[N.type===e(G).ARTWORK?(t(),W(bs,{key:0,album:N},null,8,["album"])):f("",!0),o("div",As,[N.is_public?f("",!0):(t(),W(S,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),o("span",Fs,u(N.name),1)])],10,Ls))),128))])),e(a).showLoadMore&&!e(h)?(t(),d("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},u(F.$t("loadMore")),1)):f("",!0),v(re,{loading:e(p),empty:e(O),error:e(b),fetch:i,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(p)&&!e(h)?(t(),W(ct,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:e(_),class:"modal",onCreated:E},null,8,["category"])):f("",!0),C(v(be,{id:"created-alert",text:F.$t("albums.created")},null,8,["text"]),[[R,e(U)]]),!e(p)&&e(h)?(t(),W(Bt,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:K,"modal-id":"album-edit-form-modal","album-id":e(h),class:"modal",onUpdated:Y},null,8,["album-id"])):f("",!0),v(pe,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:ve},null,8,["message"]),v(pe,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:H},null,8,["message"]),e(h)&&!e(p)?(t(),W(ht,{key:4,id:e(h),ref_key:"albumDetailRef",ref:j,"manage-mode":e(a).manageMode,onOnAlbumEmpty:me,onFeedManageList:X},null,8,["id","manage-mode"])):f("",!0)]))}},Rs=te(Ps,[["__scopeId","data-v-a496ec87"]]),Ts={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ss={id:"create-collection-form"},Os={class:"title"},Bs=["name"],js=["placeholder"],Ks=["name"],Vs=["placeholder"],Us=["for"],Ws=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),zs={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ns=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ds=[Ns],Hs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},qs=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ys=[qs],Gs={class:"flex flex-row gap-x-2"},Js={class:"buttons"},Qs={type:"submit",class:"submit"},Xs=Re({__name:"CollectionFormModal",props:{category:{type:String,default:G.ARTWORK},modalId:{type:String,default:""}},emits:["created"],setup(l,{emit:w}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=$e(M,c()),{t:_}=Ee(),h="create-collection-form",n=m({title:"",description:"",isPublic:!0,category:G.ARTWORK}),T=async()=>{a(),Ae().validate(h,_);const[I,i,k]=await p.createCollection(g.category,n.value);k?P.value={isError:!0,message:k}:(Q().closeModal(g.modalId),w("created",i))},P=m({isError:!1,message:""}),a=()=>{P.value={isError:!1,message:""}};return(I,i)=>{const k=ze("ErrorMessage");return t(),d("div",null,[o("div",Ts,[o("section",Ss,[o("h2",Os,u(I.$t("collections.create.form.title")),1),o("form",{id:h,onSubmit:i[4]||(i[4]=ee(O=>T(),["prevent"]))},[v(k,{"is-error":e(P).isError,"error-message":e(P).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:I.$t("title")},[C(o("input",{"onUpdate:modelValue":i[0]||(i[0]=O=>e(n).title=O),type:"text",rules:"required",class:"input-color-secondary",placeholder:I.$t("title")},null,8,js),[[ce,e(n).title]])],8,Bs),o("n-validate",{for:"description",name:I.$t("description")},[C(o("textarea",{"onUpdate:modelValue":i[1]||(i[1]=O=>e(n).description=O),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:I.$t("description")},null,8,Vs),[[ce,e(n).description]])],8,Ks),o("label",{for:e(n).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=O=>e(s).i502p00r0?e(n).isPublic=!e(n).isPublic:e(n).isPublic=!0)},[Ws,e(n).isPublic?(t(),d("span",zs,Ds)):f("",!0),e(n).isPublic?f("",!0):(t(),d("span",Hs,Ys))]),o("div",Gs,[o("span",{class:L(["ml-2 inline-block",{"leading-6":!e(s).i502p00r0}])},u(I.$t("private")),3),e(s).i502p00r0?f("",!0):(t(),W(ae,{key:0}))])],8,Us),o("div",Js,[o("button",{class:"cancel",onClick:i[3]||(i[3]=ee(O=>I.closeModal(l.modalId),["prevent"]))},u(I.$t("cancel")),1),o("button",Qs,u(I.$t("create")),1)])],32)])])])}}});const Zs={id:"lists"},el={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},ol={class:"mb-2 text-base font-bold"},tl={class:"mb-2"},sl={class:"italic"},ll=["id"],al={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(l,{expose:w,emit:g}){const s=l,{oApiConfiguration:M,fetchOptions:c}=Z(),p=$e(M,c()),_=m(s.id);Me(()=>s.id,($,E)=>{_.value=$}),ne(async()=>{await T()});const h=m(!0),n=m({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),T=async()=>{h.value=!0,await P(),await a(),h.value=!1},P=async()=>{const[$,E]=await p.getInfo(_.value);n.value.info=$.data},a=async()=>{const[$,E,K]=await p.listCollectionItems({collectionId:_.value,pagination:{page:n.value.pagination.page,perPage:n.value.pagination.page===0?n.value.pagination.firstLoad:n.value.pagination.perPage}});E?n.value.pagination.page===0?n.value.pagination.page=n.value.pagination.firstLoad/n.value.pagination.perPage:n.value.pagination.page+=n.value.pagination.page!==0?1:2:n.value.loadMore=!1,$!==null&&$.length?($.forEach(z=>{n.value.list.push(z.artworks)}),g("onCollectionEmpty",!1)):(n.value.empty=!0,g("onCollectionEmpty",!0))},I=()=>{n.value.loadMore=!0,n.value.pagination.page=0,n.value.list=[]},i=m([]),k=$=>{i.value=$,g("feedManageList",$)},O=m(!1);let y;const b=async()=>{const[$,E]=await p.removeItem({collectionId:s.id,type:s.type,workId:i.value});E||(_e().splash(y,O,"item-removed-alert"),I(),await T(),g("feedManageList",[]))},x=m("collection"),r=m(null),U=($,E=!1)=>{r.value.view($,E),Q().openModal(x.value+"-modal")};return w({fetchInfo:P,removeItem:b}),($,E)=>(t(),d("div",Zs,[o("div",el,[o("div",ol,u(e(n).info.name),1),o("div",tl,u(e(n).info.description),1),o("div",null,[o("b",null,u($.$t("private"))+":",1),D(),o("span",sl,u(e(n).info.is_public?$.$t("no"):$.$t("yes")),1)]),o("div",null,[o("b",null,u($.$t("createdAt")),1),D(" "+u($.formatDate(e(n).info.created_at)),1)])]),C(o("div",null,[C(v(Fe,{"section-class":"work-grid-6",works:e(n).list,view:U,"manage-mode":l.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[R,!e(n).empty]]),C(o("div",{class:"w-full primary-button",onClick:E[0]||(E[0]=K=>a())},u($.$t("loadMore")),513),[[R,e(n).loadMore]])],512),[[R,!e(h)]]),v(re,{loading:e(h),empty:e(n).empty,error:!1,fetch:T,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(h)?f("",!0):(t(),d("div",{key:0,id:e(x)+"-modal",class:"modal work-view"},[v(ke,{ref_key:"collectionModalViewRef",ref:r,section:e(x)},null,8,["section"])],8,ll)),C(v(be,{id:"item-removed-alert",text:$.$t("collections.itemRemoved")},null,8,["text"]),[[R,e(O)]])]))}},il=te(al,[["__scopeId","data-v-5cfcfca8"]]),nl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},rl={id:"update-collection-form"},dl={class:"title"},cl=["name"],ul=["placeholder"],ml=["name"],fl=["placeholder"],pl=["for"],vl=o("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),wl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},gl=o("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),hl=[gl],bl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},_l=o("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),kl=[_l],yl={class:"flex flex-row gap-x-2"},$l={class:"buttons"},xl={type:"submit",class:"submit"},Ml={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:["updated"],setup(l,{expose:w,emit:g}){const s=l,M=oe(),{oApiConfiguration:c,fetchOptions:p}=Z(),_=$e(c,p()),{t:h}=Ee(),n=m(!0),T=async y=>{if(y){O(),n.value=!0;const[b,x]=await _.getInfo(y);if(!x){const r=b.data;a.value.id=y,a.value.name=r.name,a.value.description=r.description,a.value.isPublic=!!r.is_public,n.value=!1}}},P="edit-collection-form",a=m({id:0,name:"",description:"",isPublic:!0}),I=async()=>{k(),Ae().validate(P,h);const[y,b]=await _.update({id:a.value.id,name:a.value.name,description:a.value.description,isPublic:a.value.isPublic?1:0});b?i.value={isError:!0,message:b}:(Q().closeModal(s.modalId),g("updated",a.value),O())},i=m({isError:!1,message:""}),k=()=>{i.value={isError:!1,message:""}},O=()=>{a.value={id:0,name:"",description:"",isPublic:!0}};return w({fetch:T}),(y,b)=>(t(),d("div",null,[o("div",{class:"hidden",onClick:b[0]||(b[0]=x=>T(0))}),o("div",nl,[o("section",rl,[o("span",dl,u(y.$t("collections.edit.form.title")),1),e(n)?f("",!0):(t(),d("form",{key:0,id:P,onSubmit:b[5]||(b[5]=ee(x=>I(),["prevent"]))},[v(Se,{"is-error":e(i).isError,"error-message":e(i).message},null,8,["is-error","error-message"]),o("n-validate",{for:"title",name:y.$t("title")},[C(o("input",{"onUpdate:modelValue":b[1]||(b[1]=x=>e(a).name=x),type:"text",rules:"required",class:"input-color-secondary",placeholder:y.$t("title")},null,8,ul),[[ce,e(a).name]])],8,cl),o("n-validate",{for:"description",name:y.$t("description")},[C(o("textarea",{"onUpdate:modelValue":b[2]||(b[2]=x=>e(a).description=x),rules:"","data-gramm":"false",class:"input-color-secondary",placeholder:y.$t("description")},null,8,fl),[[ce,e(a).description]])],8,ml),o("label",{for:e(a).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[o("span",{class:"relative cursor-pointer",onClick:b[3]||(b[3]=x=>e(M).i502p00r0?e(a).isPublic=!e(a).isPublic:e(a).isPublic=!0)},[vl,e(a).isPublic?(t(),d("span",wl,hl)):f("",!0),e(a).isPublic?f("",!0):(t(),d("span",bl,kl))]),o("div",yl,[o("span",{class:L(["ml-2",{"leading-6":!e(M).i502p00r0}])},u(y.$t("private")),3),e(M).i502p00r0?f("",!0):(t(),W(ae,{key:0}))])],8,pl),o("div",$l,[o("button",{class:"cancel",onClick:b[4]||(b[4]=ee(x=>y.closeModal(l.modalId),["prevent"]))},u(y.$t("cancel")),1),o("button",xl,u(y.$t("save")),1)])],32))])])]))}};const qe=l=>(Ie("data-v-2a1973c4"),l=l(),Ce(),l),Il={class:"mb-2"},Cl={key:0},El=["src"],Ll={key:1},Al={class:"relative text-center"},Fl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Pl={class:"overflow-hidden rounded-md"},Rl=["src"],Tl={key:2,class:"imgrid"},Sl={class:"relative text-center"},Ol={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Bl={class:"overflow-hidden rounded-md"},jl=["src"],Kl=qe(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Vl=qe(()=>o("img",{class:"bg-gray-300 border-none"},null,-1)),Ul={key:3,class:"imgrid"},Wl={class:"relative text-center"},zl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Nl={class:"overflow-hidden rounded-md"},Dl=["src"],Hl={key:4,class:"imgrid"},ql={class:"relative text-center"},Yl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Gl={class:"overflow-hidden rounded-md"},Jl=["src"],Ql={key:5,class:"imgrid"},Xl={key:0,class:"relative text-center"},Zl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ea={class:"overflow-hidden rounded-md"},oa=["src"],ta={key:1,class:"relative text-center"},sa={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},la={class:"overflow-hidden rounded-md"},aa=["src"],ia={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(l){const w=oe(),g={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(s,M)=>(t(),d("div",Il,[!l.collection.collection_has_artworks||l.collection._count.collection_has_artworks===0?(t(),d("div",Cl,[o("img",{src:s.folderIcon(),class:"rounded"},null,8,El)])):f("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===1?(t(),d("div",Ll,[o("div",Al,[s.applyExplicitFilter(e(w),l.collection.collection_has_artworks[0].artworks.is_explicit,l.collection.collection_has_artworks[0].artworks.is_gore)?(t(),d("span",Fl,u(s.$t("explicitContent")),1)):f("",!0),o("div",Pl,[l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===1?(t(),d("img",{key:0,src:s.artworkThumb(l.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,l.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:L(["object-cover object-top rounded",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),l.collection.collection_has_artworks[0].artworks.is_explicit,l.collection.collection_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:M[0]||(M[0]=(...c)=>s.imageLoadError&&s.imageLoadError(...c))},null,42,Rl)):f("",!0)])])])):f("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===2?(t(),d("div",Tl,[(t(!0),d(se,null,le(l.collection.collection_has_artworks,(c,p)=>(t(),d("div",{key:p,class:L(g[2][p])},[o("div",Sl,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",Ol,u(s.$t("explicitContent")),1)):f("",!0),o("div",Bl,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[1]||(M[1]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,jl)])])],2))),128)),Kl,Vl])):f("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===3?(t(),d("div",Ul,[(t(!0),d(se,null,le(l.collection.collection_has_artworks,(c,p)=>(t(),d("div",{key:p,class:L(g[3][p])},[o("div",Wl,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",zl,u(s.$t("explicitContent")),1)):f("",!0),o("div",Nl,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[2]||(M[2]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Dl)])])],2))),128))])):f("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks===4?(t(),d("div",Hl,[(t(!0),d(se,null,le(l.collection.collection_has_artworks,(c,p)=>(t(),d("div",{key:p},[o("div",ql,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",Yl,u(s.$t("explicitContent")),1)):f("",!0),o("div",Gl,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[3]||(M[3]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,Jl)])])]))),128))])):f("",!0),l.collection.collection_has_artworks&&l.collection._count.collection_has_artworks>4?(t(),d("div",Ql,[(t(!0),d(se,null,le(l.collection.collection_has_artworks,(c,p)=>(t(),d("div",{key:p},[p<3?(t(),d("div",Xl,[s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)?(t(),d("span",Zl,u(s.$t("explicitContent")),1)):f("",!0),o("div",ea,[o("img",{class:L(["theme-color",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),onError:M[4]||(M[4]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,oa)])])):(t(),d("div",ta,[o("span",sa,"+"+u(l.collection._count.collection_has_artworks-4),1),o("div",la,[o("img",{src:s.artworkThumb(c.artworks.artwork_assets[0].bucket,c.artworks.artwork_assets[0].filename,"thumbnail"),class:L(["z-0 brightness-50",{"blur-sm brightness-50":s.applyExplicitFilter(e(w),c.artworks.is_explicit,c.artworks.is_gore)}]),onError:M[5]||(M[5]=(..._)=>s.imageLoadError&&s.imageLoadError(..._))},null,42,aa)])]))]))),128))])):f("",!0)]))}},na=te(ia,[["__scopeId","data-v-2a1973c4"]]);const ra={class:"mb-2 w-full"},da={key:0,class:"flex flex-row justify-between"},ca={class:"flex flex-row"},ua={key:0},ma={key:1,class:"flex flex-row justify-between"},fa={class:"flex flex-row"},pa={class:"flex flex-row gap-2"},va={class:"flex flex-row gap-2"},wa={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ga=["onClick"],ha={class:"flex flex-row pb-1 mt-4 font-bold"},ba={class:"text-xs font-normal"},_a={__name:"Collection",props:{userId:{type:Number,default:0}},setup(l){const w=l,g=oe();ne(()=>{i()});const{oApiConfiguration:s,fetchOptions:M}=Z(),c=$e(s,M());Te(()=>{T()});const p=m(!0),_=m(G.ARTWORK),h=m(0),n=m(!1),T=async()=>{if(g.i502p00r0)n.value=!0;else{const[F,A]=await c.proCanCreateCollection({type:_.value});A?n.value=!1:n.value=F}},P=m([]),a=m({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),I=m({artwork:0}),i=async()=>{p.value=!0;const[F,A,N]=await c.fetchCollections({userId:w.userId,type:_.value,pagination:{page:a.value.pagination.page,perPage:a.value.pagination.page===0?a.value.pagination.firstLoad:a.value.pagination.perPage}});if(N)x();else{F.length||(a.value.manageMode=!1,y()),F.forEach(ge=>{P.value.push(ge)}),a.value.pagination.page+=1,a.value.showLoadMore=A;const[ie]=await c.countArtworkCollections(w.userId);I.value.artwork=ie}p.value=!1},k=async()=>await i(),O=m(!1),y=()=>{O.value=!0,a.value.showLoadMore=!1},b=m(!1),x=()=>{p.value=!1,b.value=!0,a.value.showLoadMore=!1},r=async()=>{p.value=!1,O.value=!1,b.value=!1,a.value.pagination.page=0,P.value=[],await i()},U=F=>{a.value.showManageButton=!0,F&&(a.value.showManageButton=!1)},$=m(!1);let E;const K=async()=>{await T(),_e().splash(E,$,"created-alert"),await r()},z=m(null),j=()=>{z.value.fetch(h.value),Q().openModal("collection-edit-form-modal")},Y=m(null),H=F=>{Y.value.fetchInfo(),P.value.forEach(A=>{A.id===F.id&&(A.name=F.name,A.description=F.description,A.is_public=F.isPublic)})},q=m([]),X=F=>{q.value=F},ve=()=>{Y.value.removeItem()},me=async()=>{if(h.value!==0){const[F,A]=await c.deleteCollection(h.value);F&&(await T(),h.value=0,r())}},we=()=>{h.value=0,a.value.showManageButton=!1,a.value.manageMode=!1};return(F,A)=>(t(),d("div",null,[o("div",ra,[e(h)?f("",!0):(t(),d("div",da,[o("div",ca,[o("div",{class:L(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(_)===e(G).ARTWORK}]),onClick:A[0]||(A[0]=N=>_.value=e(G).ARTWORK)},[D(u(F.$t("artworks.artwork"))+" ",1),o("span",{class:L(["px-1 ml-2 font-normal rounded",e(_)===e(G).ARTWORK?"theme-color":"button-color text-white"])},u(F.thousand(e(I).artwork)),3)],2)]),e(g).loggedIn&&e(g).user.id===l.userId?(t(),d("div",ua,[o("div",{class:"flex flex-row icon-button",onClick:A[1]||(A[1]=N=>e(n)?F.openModal("collection-form-modal"):null)},[v(S,{name:"i-ion-add-outline"}),e(n)?f("",!0):(t(),W(ae,{key:0,class:"ml-1"}))])])):f("",!0)])),e(h)?(t(),d("div",ma,[o("div",null,[o("div",{class:"ml-0 icon-button",onClick:A[2]||(A[2]=N=>we())},[v(S,{name:"i-ic-baseline-keyboard-arrow-left"})])]),o("div",fa,[C(o("div",pa,[o("button",{class:L(["action-button",e(a).manageMode?"danger-button":"secondary-button"]),onClick:A[3]||(A[3]=N=>e(a).manageMode=!e(a).manageMode)},[v(S,{name:e(a).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+u(e(a).manageMode?F.$t("quit"):F.$t("manage")),1)],2),C(o("button",{class:L(["flex flex-row",e(q).length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:A[4]||(A[4]=N=>e(q).length>0?F.openModal("item-deletion-confirm-modal"):null)},[v(S,{name:"i-akar-icons-trash-bin"}),D(" "+u(F.$t("collections.removeSelected")),1)],2),[[R,e(a).manageMode]])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&e(a).showManageButton]]),C(o("div",va,[o("button",{class:"icon-button",onClick:A[5]||(A[5]=N=>j())},[v(S,{name:"i-ph-gear-six"})]),o("button",{class:"danger-button-color b-button",onClick:A[6]||(A[6]=N=>F.openModal("collection-deletion-confirm-modal"))},[v(S,{name:"i-akar-icons-trash-bin"})])],512),[[R,e(g).loggedIn&&e(g).user.id===l.userId&&!e(a).manageMode]])])])):f("",!0),C(o("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},u(F.$t("collections.manageModeActiveMessage")),513),[[R,e(a).manageMode]])]),e(h)?f("",!0):(t(),d("div",wa,[(t(!0),d(se,null,le(e(P),N=>(t(),d("div",{key:N.id,class:L(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ie=>h.value=N.id},[N.type===e(G).ARTWORK?(t(),W(na,{key:0,collection:N},null,8,["collection"])):f("",!0),o("div",ha,[N.is_public?f("",!0):(t(),W(S,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),o("span",ba,u(N.name),1)])],10,ga))),128))])),e(a).showLoadMore&&!e(h)?(t(),d("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},u(F.$t("loadMore")),1)):f("",!0),v(re,{loading:e(p),empty:e(O),error:e(b),fetch:i,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(p)&&!e(h)?(t(),W(Xs,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:e(_),class:"modal",onCreated:K},null,8,["category"])):f("",!0),C(v(be,{id:"created-alert",text:F.$t("collections.created")},null,8,["text"]),[[R,e($)]]),!e(p)&&e(h)?(t(),W(Ml,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:z,"modal-id":"collection-edit-form-modal","collection-id":e(h),class:"modal",onUpdated:H},null,8,["collection-id"])):f("",!0),v(pe,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:me},null,8,["message"]),v(pe,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ve},null,8,["message"]),e(h)&&!e(p)?(t(),W(il,{key:4,id:e(h),ref_key:"collectionDetailRef",ref:Y,"manage-mode":e(a).manageMode,type:e(_),onOnCollectionEmpty:U,onFeedManageList:X},null,8,["id","manage-mode","type"])):f("",!0)]))}},ka=te(_a,[["__scopeId","data-v-73b7f994"]]);const ya={id:"lists"},$a=["id"],xa={__name:"Liked",props:{userId:{type:Number,default:0}},emits:["onEmpty"],setup(l,{emit:w}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Pe(M,c()),_=co(M,c()),h="profile-liked",n=m(!0),T=m(0),P=xe(()=>s.i502p00r0?!0:k.value.page*k.value.perPage<T.value);Te(()=>{s.i502p00r0||a(),I()});const a=async()=>{const[H,q]=await _.getSetting("max_free_liked_artworks");T.value=Number(H)},I=async()=>{const[H,q]=await O();for(let X=0;X<H.length;X++)i.value.push(H[X].artworks);q.record_total<=k.value.perPage&&x(),q.record_total===0&&E()},i=m([]),k=m({perPage:24,page:0}),O=async()=>{k.value.page===0&&(n.value=!0);const[H,q,X]=await p.getUserLikedArtworks({userId:g.userId,pagination:{page:k.value.page,perPage:k.value.perPage}});if(X)z();else return q.record_total<=k.value.perPage&&x(),q.record_total===0&&E(),k.value.page+=1,y(),[H,q]},y=()=>{n.value=!1,$.value=!1,K.value=!1},b=m(!0),x=()=>{b.value=!1},r=m({delay:!1}),U=async()=>{r.value.delay=!0;const[H,q]=await O();for(let X=0;X<H.length;X++)i.value.push(H[X].artworks);r.value.delay=!1,q.next_previous.next_page||x(),q.next_previous.next_page&&q.current_page===r.maxLoad&&(x(),r.showDiscoveryButton=!0)},$=m(!1),E=()=>{$.value=!0,n.value=!1,x(),w("onEmpty")},K=m(!1),z=()=>{n.value=!1,K.value=!0,x()},j=m(null),Y=(H,q=!1)=>{j.value.view(H,q),Q().openModal(h+"-modal")};return(H,q)=>(t(),d("div",ya,[C(o("div",null,[C(v(Fe,{"section-class":"work-grid-6",works:e(i),view:Y},null,8,["works"]),[[R,!e($)]]),C(o("div",{class:L(["w-full",e(P)?"primary-button":"disabled-button",{"animate-pulse":e(r).delay},{"inline-block flex-row w-full text-center":!e(P)}]),onClick:q[0]||(q[0]=X=>e(P)?U():null)},[D(u(H.$t("loadMore")),1),e(P)?f("",!0):(t(),W(ae,{key:0,class:"ml-2"}))],2),[[R,e(b)]])],512),[[R,!e(n)]]),v(re,{loading:e(n),empty:e($),error:e(K),fetch:O,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),o("div",{id:h+"-modal",class:"modal work-view"},[C(v(ke,{ref_key:"artworkModalViewRef",ref:j,section:h},null,512),[[R,!e(n)]])],8,$a)]))}},Ma=te(xa,[["__scopeId","data-v-6a10a618"]]);const Ia={class:"flex flex-row justify-between"},Ca={class:"title"},Ea=["checked","disabled"],La={class:"ml-2"},Aa={key:0},Fa={__name:"FollowerList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowerListStatus:{type:Boolean,default:!1}},setup(l){const w=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=Le(s,M()),p=m(!1);ne(()=>{p.value=w.userHideFollowerListStatus,w.hide?(h.value=!1,a.value=!0):i(!0)});const _=m([]),h=m(!0),n=m(!1),T=m({page:0,perPage:12}),P=m(!1),a=m(!1);m("");const I=m(!1),i=async(y=!1)=>{k(),y?h.value=!0:n.value=!0;const[b,x]=await c.getFollowerList({userId:w.userId,pagination:{page:T.value.page,perPage:T.value.perPage}});x?P.value=!0:(b.followers.length||(a.value=!0),b.followers.forEach(r=>{_.value.push(r)}),T.value.page+=1,b.pagination.next_previous.next_page?I.value=!0:I.value=!1),h.value=!1,n.value=!1},k=()=>{a.value=!1,P.value=!1},O=async()=>{if(!g.i502p00r0)return null;const[y,b]=await c.toggleFollowerPrivacy();y?p.value=!p.value:console.error("ERROR: can't toggle follower visibility setting.")};return(y,b)=>(t(),d("div",null,[o("div",Ia,[o("div",Ca,u(y.$t("followers.followers")),1),o("div",null,[e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id===l.userId?(t(),d("label",{key:0,for:"hide-follower-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer",onClick:b[0]||(b[0]=ee(x=>O(),["prevent"]))},[o("input",{id:"hide-follower-toggle",type:"checkbox",class:"sr-only peer",checked:e(p),disabled:!e(g).i502p00r0},null,8,Ea),o("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(g).i502p00r0},e(g).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),o("span",La,u(y.$t("followers.hideMyFollowers")),1),e(g).i502p00r0?f("",!0):(t(),W(ae,{key:0,class:"ml-1"}))])):f("",!0)])]),!l.hide&&!e(h)&&!e(a)&&!e(P)?(t(),d("div",Aa,[v(De,{class:"mt-4",users:e(_),"column-type":3},null,8,["users"]),C(o("div",{class:L(["mt-2 w-full primary-button",e(n)?"animate-pulse":""]),onClick:b[1]||(b[1]=x=>i())},u(y.$t("loadMore")),3),[[R,e(I)]])])):f("",!0),v(re,{class:"mt-2",loading:e(h),empty:e(a),"empty-message":l.hide?y.$t("followers.followersHidden"):"","empty-icon":l.hide?"i-ri-eye-close-fill":"",error:e(P),fetch:i,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","empty-icon","error"])]))}},Pa=te(Fa,[["__scopeId","data-v-1a79e4a9"]]);const Ra={class:"flex flex-col gap-4 md:justify-between md:flex-row md:gap-0"},Ta={class:"title"},Sa={class:"inline-flex flex-row gap-4 justify-between"},Oa={class:"flex flex-col justify-center align-middle"},Ba={class:"mr-1"},ja=["checked","disabled"],Ka={class:"ml-2"},Va={key:0},Ua={__name:"FollowingList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowingListStatus:{type:Boolean,default:!1}},setup(l){const w=l,g=oe(),{oApiConfiguration:s,fetchOptions:M}=Z(),c=Le(s,M()),p=m(!1);ne(()=>{p.value=w.userHideFollowingListStatus,w.hide?(T.value=!1,i.value=!0):O(!1,!0)});const _=m(!1),h=async x=>{n.value=[],a.value.page=0,_.value=x,await O(x,!0)},n=m([]),T=m(!0),P=m(!1),a=m({page:0,perPage:12}),I=m(!1),i=m(!1),k=m(!1),O=async(x=!1,r=!1)=>{y(),r?T.value=!0:P.value=!0;const[U,$]=await c.getFollowingList({userId:w.userId,isPrivateOnly:x?1:0,pagination:{page:a.value.page,perPage:a.value.perPage}});$?I.value=!0:(U.followings.length||(i.value=!0),U.followings.forEach(E=>{n.value.push(E)}),a.value.page+=1,U.pagination.next_previous.next_page?k.value=!0:k.value=!1),T.value=!1,P.value=!1},y=()=>{i.value=!1,I.value=!1},b=async()=>{if(!g.i502p00r0)return null;const[x,r]=await c.toggleFollowingPrivacy();x?p.value=!p.value:console.error("ERROR: can't toggle following visibility setting.")};return(x,r)=>{const U=ze("ProBadge");return t(),d("div",null,[o("div",Ra,[o("div",Ta,u(x.$t("followings.followings")),1),o("div",Sa,[o("div",Oa,[e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id==l.userId?(t(),d("div",{key:0,class:L(["flex flex-row cursor-pointer href",{"font-bold":e(_)}]),onClick:r[0]||(r[0]=$=>h(!e(_)))},[C(v(S,{name:"i-mdi-eye-check"},null,512),[[R,e(_)]]),o("div",Ba,[C(v(S,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[R,!e(_)]]),C(v(S,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[R,e(_)]])]),o("span",null,u(x.$t("privateFollow")),1)],2)):f("",!0)]),e(g).loggedIn&&e(g).i502p00r0&&e(g).user.id===l.userId?(t(),d("label",{key:0,for:"hide-following-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer",onClick:r[1]||(r[1]=ee($=>b(),["prevent"]))},[o("input",{id:"hide-following-toggle",type:"checkbox",class:"inline-block align-middle sr-only peer",checked:e(p),disabled:!e(g).i502p00r0},null,8,ja),o("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(g).i502p00r0},e(g).i502p00r0?" after:top-[4px]":" after:top-[6px]"])},null,2),o("span",Ka,u(x.$t("followings.hideMyFollowings")),1),e(g).i502p00r0?f("",!0):(t(),W(U,{key:0,class:"ml-1"}))])):f("",!0)])]),!l.hide&&!e(T)&&!e(i)&&!e(I)?(t(),d("div",Va,[v(De,{class:"mt-4",users:e(n),"column-type":3},null,8,["users"]),C(o("div",{class:L(["w-full primary-button",e(P)?"animate-pulse":""]),onClick:r[2]||(r[2]=$=>O())},u(x.$t("loadMore")),3),[[R,e(k)]])])):f("",!0),v(re,{class:"mt-2",loading:e(T),empty:e(i),"empty-message":l.hide?x.$t("followings.followingsHidden"):"","empty-icon":l.hide?"i-ri-eye-close-fill":"",error:e(I),fetch:h,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","empty-icon","error"])])}}},Wa=te(Ua,[["__scopeId","data-v-cd1a64bb"]]);const Ye=l=>(Ie("data-v-b8155f6d"),l=l(),Ce(),l),za={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Na={class:"flex-row justify-between hidden-md-flex"},Da={class:"mr-6 w-1/5"},Ha={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},qa={class:"flex flex-col w-full"},Ya={class:"flex flex-row w-full"},Ga={class:"w-9/12"},Ja={class:"text-base font-semibold"},Qa={class:"mr-2 italic"},Xa={class:"flex flex-row mt-2"},Za={key:0,class:"mr-1"},ei={class:"flex flex-row rounded-md border-2 border-color-button-color button-color"},oi={class:"flex flex-row gap-1 p-1 pr-2 button-color"},ti={class:"py-1 px-2 rounded-md theme-color"},si={class:"float-right w-3/12 text-right"},li={class:"shadow-md light-button"},ai={class:"leading-4"},ii=["id","innerHTML"],ni=["id"],ri={class:"flex-col text-center flex-md-hidden"},di={key:0,class:"flex flex-row justify-center mt-2"},ci={class:"mt-4 text-base font-semibold"},ui={class:"flex flex-row justify-center mt-4"},mi={key:0,class:"flex flex-row mr-1"},fi={class:"flex flex-row rounded-md border-2 border-color-secondary"},pi={class:"flex flex-row gap-1 p-1 pr-2 theme-color-secondary"},vi={class:"py-1 px-2 rounded-md"},wi={key:1,class:"mx-2 mt-4 text-center"},gi=["id","innerHTML"],hi=["id"],bi={class:"mt-2"},_i={class:"flex flex-row gap-x-2 justify-center mt-6 md:hidden"},ki={class:"flex flex-row justify-between mt-2 md:mt-4"},yi={class:"hidden flex-col lg:w-1/5 md:flex"},$i={class:"profile-navigation_wrapper"},xi={class:"hidden-lg-flex"},Mi=Ye(()=>o("span",{class:"hidden-lg-flex"},null,-1)),Ii={class:"profile-navigation_wrapper"},Ci={class:"hidden-lg-flex"},Ei={class:"hidden-lg-flex"},Li={class:"profile-navigation_wrapper"},Ai={class:"hidden-lg-flex"},Fi={class:"hidden-lg-flex"},Pi={key:0,class:"custom-divider"},Ri={class:"profile-navigation_wrapper"},Ti={class:"hidden-lg-flex"},Si={class:"hidden-lg-flex"},Oi={class:"mt-2 w-full md:mt-0 md:ml-6"},Bi={key:0},ji={class:"flex flex-row w-full"},Ki={class:"flex flex-row gap-2 justify-between mt-2 w-full"},Vi={class:"w-full md:w-auto"},Ui={class:"inline-block w-full group md:w-52"},Wi={class:"flex-1 pr-1"},zi=Ye(()=>o("span",null,[o("svg",{class:"w-4 h-4 transition duration-150 ease-in-out transform fill-current group-hover:-rotate-180",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[o("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1)),Ni={id:"profile-artwork-order",class:"absolute z-50 mt-1 w-6/12 text-center rounded-md transition duration-150 ease-in-out transform origin-top scale-0 md:w-52 theme-color group-hover:scale-100"},Di={class:"flex flex-row gap-x-2 w-full md:w-auto"},Hi={class:"mt-2"},qi={key:1},Yi={key:2},Gi={key:3},Ji={key:4},Qi={key:5},Xi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},emits:["setMeta"],setup(l,{emit:w}){const g=l,s=oe(),{oApiConfiguration:M,fetchOptions:c}=Z(),p=Le(M,c()),_=ye(M,c()),h=$e(M,c()),n=Pe(M,c()),T=Ue(),P=to(),{o:a}=T.query,I=m(!0),i=a!=null?m(a):m("dashboard"),k=m(G.ARTWORK),O=m(0),y=xe(()=>g.userLogon&&s.loggedIn?s.user.id:g.id),b=m({manageMode:!1,showManageMode:!0});ne(async()=>{await z()});const x=B=>{i.value=B,b.value.manageMode=!1,a!=null&&P.push("/profile")},r=m({}),U=m({feed:0,artwork:0,comic:0,tutorial:0,album:0,collection:0,liked:0,followers:0,followings:0}),$=m({isFollowing:!1,isPrivate:!1,followingSince:""}),E=xe(()=>{const B=r.value.is_pro&&r.value.user_settings.hide_follower_list;return!s.loggedIn&&B||s.loggedIn&&s.user.id!==r.value.id&&B}),K=xe(()=>{const B=r.value.is_pro&&r.value.user_settings.hide_following_list;return!s.loggedIn&&B||s.loggedIn&&s.user.id!==r.value.id&&B}),z=async()=>{I.value=!0;try{const[B]=await p.getInfo(y.value);if(r.value=B,s.loggedIn&&s.user.id!==y.value){const[he]=await p.isFollowing(y.value);$.value={isFollowing:he.is_following,isPrivate:he.is_private,followingSince:he.following_since}}const[V]=await p.countFeeds(y.value);U.value.feed=V;const[ue]=await p.countArtworks(y.value);U.value.artwork=ue;const[fe]=await p.countFollowers(y.value);U.value.followers=fe;const[J]=await p.countFollowings(y.value);U.value.followings=J;const[Qe]=await _.countAlbums(y.value);U.value.album=Qe;const[Xe]=await h.countCollections(y.value);if(U.value.collection=Xe,s.loggedIn&&s.user.id===r.value.id){const[he]=await n.countUserLikedArtworks({userId:y.value});U.value.liked=he}w("setMeta",{title:`(${r.value.username}) ${r.value.name}`})}catch{}I.value=!1},j=m(null),Y=m([]),H=B=>{Y.value=B},q=()=>{b.value.showManageMode=!1},X=m(null),ve=()=>{Q().openModal("album-selection-modal"),X.value.fetchTop()},me=m(!1);let we;const F=()=>{_e().splash(we,me,"item-added-to-album-alert")},A=m("latest"),N=m(""),ie=async(B,V)=>{A.value=B,N.value=V,ge()},ge=()=>{document.getElementById("profile-artwork-order").classList.add("scale-0")},Ge=m(!0),Be=(B,V,ue,fe)=>{Ge.value=!1,Ne().readMore(B,V,ue,fe)},Je=()=>{r.value.user_socials&&r.value.user_socials.personal_website&&window.open(r.value.user_socials.personal_website,"_blank")};return(B,V)=>{const ue=eo,fe=We;return t(),W(lo,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:de(()=>[o("div",null,[v(ue,{preload:"",loading:"lazy",src:B.avatarCoverUrl(e(r).cover_bucket,e(r).cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:B.defaultCoverImage},null,8,["src","onError"]),e(s).loggedIn&&e(s).user.id===e(r).id?(t(),W(fe,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:de(()=>[v(S,{name:"i-ph-gear-six"})]),_:1})):f("",!0)]),o("div",za,[o("div",Na,[o("div",Da,[v(ue,{preload:"",loading:"lazy",class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",src:B.avatarCoverUrl(e(r).avatar_bucket,e(r).avatar_filename),onError:B.defaultCoverImage},null,8,["src","onError"]),e(I)?f("",!0):(t(),W(Ve,{key:0,class:"mt-2 hidden-md-flex","user-info":e(r),"followers-count":e(U).followers,"followings-count":e(U).followings,"is-following":e($).isFollowing,"is-private":e($).isPrivate,"following-since":e($).followingSince,onChangeCurrentState:x},null,8,["user-info","followers-count","followings-count","is-following","is-private","following-since"]))]),o("div",Ha,[o("div",qa,[o("div",Ya,[o("div",Ga,[o("div",null,[o("span",Ja,u(e(r).name),1),D("  "),o("span",Qa,"@"+u(e(r).username),1),e(r).is_pro?(t(),W(ae,{key:0})):f("",!0)]),o("div",Xa,[e(r).pen_name&&e(r).pen_name!==""?(t(),d("div",Za,[o("span",ei,[o("div",oi,[v(S,{name:"i-mdi-fountain-pen-tip"}),D(" "+u(B.$t("profile.penName")),1)]),o("div",ti,u(e(r).pen_name),1)])])):f("",!0)])]),o("div",si,[e(s).loggedIn&&e(s).user.id===e(r).id?(t(),W(fe,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:de(()=>[o("button",li,[v(S,{name:"i-ph-gear-six"}),o("span",ai,u(B.$t("profile.setting")),1)])]),_:1})):f("",!0)])]),o("div",null,[e(r).bio?(t(),d("p",{key:0,id:"user-bio-"+e(r).id,class:"mt-4",innerHTML:e(r).bio&&e(r).bio.length>300?`${e(r).bio.slice(0,300)}..`:e(r).bio},null,8,ii)):f("",!0),e(r).bio&&e(r).bio.length>300?(t(),d("a",{key:1,id:"user-bio-read-more-"+e(r).id,class:"href",onClick:V[0]||(V[0]=ee(J=>Be(e(r).bio,e(r).id,"user-bio-read-more-","user-bio-"),["prevent"]))},u(B.$t("readMore")),9,ni)):f("",!0)]),e(r).user_socials?(t(),W(Ke,{key:0,socials:e(r).user_socials,class:"mt-4"},null,8,["socials"])):f("",!0)])])]),o("div",ri,[v(ue,{preload:"",loading:"lazy",class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar flex-md-hidden",src:B.avatarCoverUrl(e(r).avatar_bucket,e(r).avatar_filename),onError:B.defaultCoverImage},null,8,["src","onError"]),e(r).is_pro?(t(),d("div",di,[v(ae)])):f("",!0),o("div",ci,u(e(r).name),1),o("div",null," @"+u(e(r).username),1),o("div",ui,[e(r).pen_name?(t(),d("span",mi,[o("span",fi,[o("div",pi,[v(S,{name:"i-mdi-fountain-pen-tip"}),D(" "+u(B.$t("profile.penName")),1)]),o("div",vi,u(e(r).pen_name),1)])])):f("",!0)]),e(r).bio?(t(),d("div",wi,[o("p",{id:"mobile__user-bio-"+e(r).id,innerHTML:e(r).bio&&e(r).bio.length>150?`${e(r).bio.slice(0,300)}..`:e(r).bio},null,8,gi),e(r).bio&&e(r).bio.length>150?(t(),d("a",{key:0,id:"mobile__user-bio-read-more-"+e(r).id,class:"href",onClick:V[1]||(V[1]=ee(J=>Be(e(r).bio,e(r).id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},u(B.$t("readMore")),9,hi)):f("",!0)])):f("",!0),e(I)?f("",!0):(t(),W(Ve,{key:2,class:"mt-4 mb-2 flex-md-hidden","user-info":e(r),"followers-count":e(U).followers,"followings-count":e(U).followings,"is-following":e($).isFollowing,"is-private":e($).isPrivate,"following-since":e($).followingSince,onChangeCurrentState:x},null,8,["user-info","followers-count","followings-count","is-following","is-private","following-since"]))]),e(r).user_socials?(t(),W(Ke,{key:0,class:"mt-4 mb-0 md:mt-0 mb:mb-6 md:hidden",socials:e(r).user_socials},null,8,["socials"])):f("",!0),o("div",bi,[o("div",_i,[o("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(i)=="dashboard"}]),onClick:V[2]||(V[2]=J=>x("dashboard"))},[o("div",null,[C(v(S,{name:"i-ion-home-outline",class:"text-white"},null,512),[[R,e(i)=="dashboard"]]),C(v(S,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[R,e(i)!="dashboard"]])]),o("span",null,u(B.$t("dashboard")),1)],2),o("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(i)=="albums"}]),onClick:V[3]||(V[3]=J=>x("albums"))},[o("div",null,[C(v(S,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[R,e(i)=="albums"]]),C(v(S,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[R,e(i)!="albums"]])]),o("span",null,u(B.$t("albums.albums")),1)],2),o("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(i)=="collections"}]),onClick:V[4]||(V[4]=J=>x("collections"))},[o("div",null,[C(v(S,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[R,e(i)=="collections"]]),C(v(S,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[R,e(i)!="collections"]])]),o("span",null,u(B.$t("collections.collections")),1)],2),e(s).loggedIn&&e(s).user.id===e(r).id?(t(),d("div",{key:0,class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(i)=="liked"}]),onClick:V[5]||(V[5]=J=>x("liked"))},[o("div",null,[C(v(S,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[R,e(i)=="liked"]]),C(v(S,{name:"i-ri-heart-3-line",class:"hover:text-white"},null,512),[[R,e(i)!="liked"]])]),o("span",null,u(B.$t("artworks.liked")),1)],2)):f("",!0)]),o("div",ki,[o("div",yi,[o("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(i)==="dashboard"}]),onClick:V[6]||(V[6]=J=>x("dashboard"))},[o("div",$i,[C(v(S,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[R,e(i)==="dashboard"]]),C(v(S,{name:"i-humbleicons-dashboard"},null,512),[[R,e(i)!=="dashboard"]]),o("label",xi,u(B.$t("dashboard")),1)]),Mi],2),o("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(i)==="albums"}]),onClick:V[7]||(V[7]=J=>x("albums"))},[o("div",Ii,[C(v(S,{name:"i-bx-photo-album",class:"text-white"},null,512),[[R,e(i)==="albums"]]),C(v(S,{name:"i-bx-photo-album"},null,512),[[R,e(i)!=="albums"]]),o("label",Ci,u(B.$t("albums.albums")),1)]),o("span",Ei,u(B.thousand(e(U).album)),1)],2),o("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(i)==="collections"}]),onClick:V[8]||(V[8]=J=>x("collections"))},[o("div",Li,[C(v(S,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[R,e(i)==="collections"]]),C(v(S,{name:"i-majesticons-bookmark-line"},null,512),[[R,e(i)!=="collections"]]),o("label",Ai,u(B.$t("collections.collections")),1)]),o("span",Fi,u(B.thousand(e(U).collection)),1)],2),e(s).loggedIn&&e(s).user.id===e(r).id?(t(),d("div",Pi)):f("",!0),e(s).loggedIn&&e(s).user.id===e(r).id?(t(),d("div",{key:1,class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(i)==="liked"}]),onClick:V[9]||(V[9]=J=>x("liked"))},[o("div",Ri,[C(v(S,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[R,e(i)==="liked"]]),C(v(S,{name:"i-ri-heart-3-line"},null,512),[[R,e(i)!=="liked"]]),o("label",Ti,u(B.$t("artworks.liked")),1)]),o("span",Si,u(B.thousand(e(U).liked)),1)],2)):f("",!0)]),o("div",Oi,[e(i)==="dashboard"?(t(),d("div",Bi,[o("div",ji,[o("div",{class:L(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(k)==="feed"}]),onClick:V[10]||(V[10]=J=>k.value="feed")},[D(u(B.$t("feed"))+" ",1),o("span",{class:L(["px-1 ml-2 rounded",e(k)==="feed"?"theme-color":"button-color text-white"])},u(B.thousand(e(U).feed)),3)],2),o("div",{class:L(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(k)===e(G).ARTWORK}]),onClick:V[11]||(V[11]=J=>k.value=e(G).ARTWORK)},[D(u(B.$t("artworks.artwork"))+" ",1),o("span",{class:L(["px-1 ml-2 rounded",e(k)===e(G).ARTWORK?"theme-color":"button-color text-white"])},u(B.thousand(e(U).artwork)),3)],2)]),C(o("div",Ki,[o("div",Vi,[o("div",Ui,[o("button",{class:"flex items-center py-2 w-full rounded-md border-2 border-transparent outline-none md:w-52 theme-color-secondary hover:button",onClick:V[12]||(V[12]=J=>B.togglePopularOrderStatus())},[o("span",Wi,u(e(A)==="latest"?B.$t("profile.artworks.sorter.latest"):e(N)),1),zi]),o("ul",Ni,[o("li",{class:L([{button:e(A)==="latest"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[13]||(V[13]=J=>ie("latest",B.$t("profile.artworks.sorter.latest")))},[v(S,{name:"i-material-symbols-fiber-new",class:L({"text-white":e(A)==="latest"})},null,8,["class"]),D(" Latest ")],2),o("li",{class:L([{button:e(A)==="popular"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[14]||(V[14]=J=>ie("popular",B.$t("profile.artworks.sorter.popular")))},[v(S,{name:"i-ic-twotone-star",class:L({"text-white":e(A)==="popular"})},null,8,["class"]),D(" Popular ")],2),o("li",{class:L([{button:e(A)==="oldest"},{"rounded-b-md":!e(s).loggedIn}]),onClick:V[15]||(V[15]=J=>ie("oldest",B.$t("profile.artworks.sorter.oldest")))},[v(S,{name:"i-ic-baseline-update",class:L({"text-white":e(A)==="oldest"})},null,8,["class"]),D(" Oldest ")],2)])])]),o("div",Di,[o("button",{class:L(["w-full action-button md:w-auto md:mt-0",e(b).manageMode?"danger-button":"secondary-button"]),onClick:V[16]||(V[16]=J=>e(b).manageMode=!e(b).manageMode)},[v(S,{name:e(b).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),D(" "+u(e(b).manageMode?B.$t("quit"):B.$t("manage")),1)],2),C(o("button",{class:"w-full primary-button md:w-auto",onClick:V[17]||(V[17]=J=>ve())},[v(S,{name:"i-ion-add-outline"}),D(" "+u(B.$t("albums.addToAlbum")),1)],512),[[R,e(b).manageMode]])])],512),[[R,!e(I)&&e(s).loggedIn&&e(s).user.id===e(r).id&&e(k)===e(G).ARTWORK&&e(b).showManageMode]]),v(re,{class:"mt-2",loading:e(I),"background-color":"theme-color-secondary"},null,8,["loading"]),C(o("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},u(B.$t("profile.manageModeActiveMessage")),513),[[R,e(b).manageMode]]),o("div",Hi,[e(k)==="feed"?(t(),W(Uo,{key:0,ref:"feedListRef","user-id":e(r).id},null,8,["user-id"])):f("",!0),!e(I)&&e(k)===e(G).ARTWORK?(t(),W(Do,{ref_key:"artworkListRef",ref:j,key:e(O),"user-id":e(r).id,"manage-mode":e(b).manageMode,"sort-by":e(A),onFeedSelectedItems:H,onOnEmpty:q},null,8,["user-id","manage-mode","sort-by"])):f("",!0)])])):f("",!0),e(i)==="albums"?(t(),d("div",qi,[e(I)?f("",!0):(t(),W(Rs,{key:0,"user-id":e(r).id},null,8,["user-id"]))])):f("",!0),e(i)==="collections"?(t(),d("div",Yi,[e(I)?f("",!0):(t(),W(ka,{key:0,"user-id":e(r).id},null,8,["user-id"]))])):f("",!0),e(s).loggedIn&&e(s).user.id===e(r).id&&e(i)==="liked"?(t(),d("div",Gi,[e(I)?f("",!0):(t(),W(Ma,{key:0,"user-id":e(r).id,onOnEmpty:q},null,8,["user-id"]))])):f("",!0),e(i)==="followerList"?(t(),d("div",Ji,[e(I)?f("",!0):(t(),W(Pa,{key:0,"user-id":e(r).id,hide:e(E),"user-hide-follower-list-status":!!e(r).user_settings.hide_follower_list,class:"mt-2 md:mt-0"},null,8,["user-id","hide","user-hide-follower-list-status"]))])):f("",!0),e(i)==="followingList"?(t(),d("div",Qi,[e(I)?f("",!0):(t(),W(Wa,{key:0,"user-id":e(r).id,hide:e(K),"user-hide-following-list-status":!!e(r).user_settings.hide_following_list,class:"mt-2 md:mt-0"},null,8,["user-id","hide","user-hide-following-list-status"]))])):f("",!0)])])])]),e(r).user_socials&&e(r).user_socials.personal_website?(t(),W(pe,{key:0,id:"external-website-visit-confirmation-modal",class:"modal","modal-id":"external-website-visit-confirmation-modal",message:"<div>You are going to visit this website, are you sure?</div><div class='text-center w-full italic href mt-4 rounded-md p-2 rounded-md theme-color-secondary'>"+e(r).user_socials.personal_website+"</div>",onOnAccept:Je},null,8,["message"])):f("",!0),e(I)?f("",!0):(t(),W(so,{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:X,class:"modal","work-ids":e(Y),onAddedToAlbum:F},null,8,["work-ids"])),C(v(be,{id:"item-added-to-album-alert",text:B.$t("albums.itemAdded")},null,8,["text"]),[[R,e(me)]])]),_:1})}}},fn=te(Xi,[["__scopeId","data-v-b8155f6d"]]);export{fn as P};
