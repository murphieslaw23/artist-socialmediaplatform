import{a as R}from"./nuxt-img.978eb1b8.js";import{a9 as D,aa as H,r as h,u as p,D as j,ab as U,m as V,a6 as G,a4 as K,E as M,j as q,l as J,o as _,p as g,P as X,Q as Y,K as b,G as N,q as O,t as w,x as C,e as Q,c as Z,w as ee,y as te}from"./entry.e86746f3.js";import{_ as ne}from"./_plugin-vue_export-helper.a1a6add7.js";var W;const x=typeof window<"u",ae=e=>typeof e=="string",se=()=>{};x&&((W=window==null?void 0:window.navigator)==null?void 0:W.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function T(e){return typeof e=="function"?e():p(e)}function ie(e){return e}function k(e){return D()?(H(e),!0):!1}function oe(e){return typeof e=="function"?j(e):h(e)}function le(e,a=!0){U()?V(e):a?e():G(e)}function re(e,a,t={}){const{immediate:o=!0}=t,i=h(!1);let l=null;function c(){l&&(clearTimeout(l),l=null)}function d(){i.value=!1,c()}function m(...r){c(),i.value=!0,l=setTimeout(()=>{i.value=!1,l=null,e(...r)},T(a))}return o&&(i.value=!0,x&&m()),k(d),{isPending:i,start:m,stop:d}}function ue(e){var a;const t=T(e);return(a=t==null?void 0:t.$el)!=null?a:t}const $=x?window:void 0;x&&window.document;const ce=x?window.navigator:void 0;x&&window.location;function de(...e){let a,t,o,i;if(ae(e[0])||Array.isArray(e[0])?([t,o,i]=e,a=$):[a,t,o,i]=e,!a)return se;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const l=[],c=()=>{l.forEach(f=>f()),l.length=0},d=(f,n,v)=>(f.addEventListener(n,v,i),()=>f.removeEventListener(n,v,i)),m=M(()=>ue(a),f=>{c(),f&&l.push(...t.flatMap(n=>o.map(v=>d(f,n,v))))},{immediate:!0,flush:"post"}),r=()=>{m(),c()};return k(r),r}function z(e,a=!1){const t=h(),o=()=>t.value=Boolean(e());return o(),le(o,a),t}function fe(e,a={}){const{window:t=$}=a,o=z(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let i;const l=h(!1),c=()=>{!i||("removeEventListener"in i?i.removeEventListener("change",d):i.removeListener(d))},d=()=>{!o.value||(c(),i=t.matchMedia(oe(e).value),l.value=i.matches,"addEventListener"in i?i.addEventListener("change",d):i.addListener(d))};return K(d),k(()=>c()),l}function ke(e={}){const{navigator:a=ce,read:t=!1,source:o,copiedDuring:i=1500,legacy:l=!1}=e,c=["copy","cut"],d=z(()=>a&&"clipboard"in a),m=j(()=>d.value||l),r=h(""),f=h(!1),n=re(()=>f.value=!1,i);function v(){d.value?a.clipboard.readText().then(u=>{r.value=u}):r.value=s()}if(m.value&&t)for(const u of c)de(u,v);async function E(u=T(o)){m.value&&u!=null&&(d.value?await a.clipboard.writeText(u):L(u),r.value=u,f.value=!0,n.start())}function L(u){const y=document.createElement("textarea");y.value=u!=null?u:"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function s(){var u,y,P;return(P=(y=(u=document==null?void 0:document.getSelection)==null?void 0:u.call(document))==null?void 0:y.toString())!=null?P:""}return{isSupported:m,text:r,copied:f,copy:E}}const I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},S="__vueuse_ssr_handlers__";I[S]=I[S]||{};I[S];var A;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(A||(A={}));var pe=Object.defineProperty,B=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,F=(e,a,t)=>a in e?pe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ye=(e,a)=>{for(var t in a||(a={}))ve.call(a,t)&&F(e,t,a[t]);if(B)for(var t of B(a))me.call(a,t)&&F(e,t,a[t]);return e};const _e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ye({linear:ie},_e);const he=["href","onClick"],ge={class:"overflow-hidden relative text-center rounded-md"},be={key:0},xe={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ee=["href"],Oe={class:"overflow-hidden relative text-center rounded-md"},we={key:0},Ce={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Le=["href"],Me={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(e,{emit:a}){const t=e,o=q();M(()=>t.currentWorkId,n=>{c.value=n});const i=J(),l=h(!1),c=h(t.currentWorkId),d=fe("(min-width: 1024px)"),m=n=>{d.value&&!t.isMiniList||t.isMiniList?(c.value=n,t.view(n)):i.replace({path:"/a/"+n})},r=h([]),f=n=>{if(r.value.includes(n)){const v=r.value.indexOf(n);r.value.splice(v,1)}else r.value.push(n);a("feedManageList",r.value)};return M(()=>t.manageMode,n=>{n===!1&&(r.value=[])}),(n,v)=>{const E=R,L=te;return _(),g("section",{class:b(e.sectionClass)},[(_(!0),g(X,null,Y(e.works,s=>(_(),g("span",{key:s.id,class:b(["work-thumbnail theme-color-bg rounded-lg",s._count.artwork_assets>1&&p(c)!=s.id?"work-multiple":"",{"border-4 border-yellow-400":p(r).includes(s.id)||p(c)==s.id}])},[!n.isMobile()&&!e.isHref&&!e.isMiniList?(_(),g("a",{key:0,href:"/a/"+s.id,onClick:N(u=>e.manageMode?f(s.id):e.view(s.id),["prevent"]),class:"w-full h-full theme-color-bg"},[O("div",ge,[s._count.artwork_assets>1&&!n.applyExplicitFilter(p(o),s.is_explicit)?(_(),g("p",be,w(s._count.artwork_assets),1)):C("",!0),n.applyExplicitFilter(p(o),s.is_explicit)?(_(),g("span",xe,w(n.$t("explicitContent")),1)):C("",!0),O("a",{href:"/a/"+s.id,class:b([{"animate-wigglefast":e.manageMode}])},[Q(E,{preload:"",loading:"lazy",src:n.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",p(l)),class:b(["w-full h-full unselectable",{"object-cover":!p(l)},p(l)?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(p(o),s.is_explicit)}]),onError:n.imageLoadError},null,8,["src","class","onError"])],10,Ee)])],8,he)):(_(),Z(L,{key:1,onClick:u=>e.manageMode?f(s.id):m(s.id)},{default:ee(()=>[O("div",Oe,[s._count.artwork_assets>1&&!n.applyExplicitFilter(p(o),s.is_explicit)?(_(),g("p",we,w(s._count.artwork_assets),1)):C("",!0),n.applyExplicitFilter(p(o),s.is_explicit)?(_(),g("span",Ce,w(n.$t("explicitContent")),1)):C("",!0),O("a",{href:"/a/"+s.id,onClick:v[0]||(v[0]=N(u=>n.void,["prevent"])),class:b([{"animate-wigglefast":e.manageMode}])},[Q(E,{preload:"",loading:"lazy",src:n.artworkThumb(s.artwork_assets[0].bucket,s.artwork_assets[0].filename,"thumbnail",p(l)),class:b(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":n.applyExplicitFilter(p(o),s.is_explicit)}]),onError:n.imageLoadError},null,8,["src","class","onError"])],10,Le)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Pe=ne(Me,[["__scopeId","data-v-f51d43ac"]]);export{Pe as W,ke as u};
