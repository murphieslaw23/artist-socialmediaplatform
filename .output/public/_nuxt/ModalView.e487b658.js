import{u as Xe,J as Zt,a as ht,_ as Xt}from"./nuxt-img.978eb1b8.js";import{B as wt,h as J,i as G,R as D,O as ft,o as x,p as A,q as l,e as k,w as H,s as T,t as g,b as R,v as P,x as S,G as Ce,K as Y,P as we,Q as be,y as Se,k as $e,r as $,m as Me,J as Ye,c as te,L as U,u as o,j as et,Y as vt,T as qe,F as Le,H as X,D as Ke,M as yt,N as gt,I as bt,Z as es,a as ts,E as ss,$ as dt,a0 as as,a1 as os,a2 as rs}from"./entry.e86746f3.js";import{u as kt}from"./useReport.24d86f53.js";import{W as _t,u as xt}from"./WorkList.0bfb6f77.js";import{_ as ke}from"./_plugin-vue_export-helper.a1a6add7.js";import{_ as Ee}from"./LoadingEmptyErrorMessage.30f12734.js";import{S as Oe}from"./Spinner.cfab8439.js";import{U as Te}from"./user-counters-api.1e743ca3.js";import{u as ns,a as ls}from"./useFeed.1ec68f4a.js";const ie=function(i){return{addWorkToAlbum:async(e,s={})=>{const a="/albums/add-work",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},countUserAlbumsByType:async(e,s={})=>{const a="/albums/count",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},createAlbum:async(e,s={})=>{const a="/albums/create",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},deleteAlbum:async(e,s={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling deleteAlbum.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"DELETE",...r,...s},u={},p={},d=new URLSearchParams(t.search);for(const y in p)d.set(y,p[y]);for(const y in s.params)d.set(y,s.params[y]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};return n.headers={...u,...v,...s.headers},{url:t.pathname+t.search+t.hash,options:n}},getAlbumById:async(e,s={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumById.");const a="/albums/{id}".replace("{id}",encodeURIComponent(String(e))),t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"GET",...r,...s},u={},p={},d=new URLSearchParams(t.search);for(const y in p)d.set(y,p[y]);for(const y in s.params)d.set(y,s.params[y]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};return n.headers={...u,...v,...s.headers},{url:t.pathname+t.search+t.hash,options:n}},getAlbumItems:async(e,s,a,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling getAlbumItems.");if(s==null)throw new D("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(a==null)throw new D("page","Required parameter page was null or undefined when calling getAlbumItems.");const r="/albums/list/{id}".replace("{id}",encodeURIComponent(String(e))),n=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const p={method:"GET",...u,...t},d={},v={};s!==void 0&&(v.per_page=s),a!==void 0&&(v.page=a);const y=new URLSearchParams(n.search);for(const _ in v)y.set(_,v[_]);for(const _ in t.params)y.set(_,t.params[_]);n.search=new URLSearchParams(y).toString();let h=u&&u.headers?u.headers:{};return p.headers={...d,...h,...t.headers},{url:n.pathname+n.search+n.hash,options:p}},getCurrentAlbumSaveInfo:async(e,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(s==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const t="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(s))),r=new URL(t,"https://example.com");let n;i&&(n=i.baseOptions);const u={method:"GET",...n,...a},p={},d={},v=new URLSearchParams(r.search);for(const h in d)v.set(h,d[h]);for(const h in a.params)v.set(h,a.params[h]);r.search=new URLSearchParams(v).toString();let y=n&&n.headers?n.headers:{};return u.headers={...p,...y,...a.headers},{url:r.pathname+r.search+r.hash,options:u}},listUserAlbums:async(e,s,a,t,r={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(s==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(a==null)throw new D("page","Required parameter page was null or undefined when calling listUserAlbums.");if(t==null)throw new D("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),u=new URL(n,"https://example.com");let p;i&&(p=i.baseOptions);const d={method:"GET",...p,...r},v={},y={};s!==void 0&&(y.per_page=s),a!==void 0&&(y.page=a),t!==void 0&&(y.type=t);const h=new URLSearchParams(u.search);for(const m in y)h.set(m,y[m]);for(const m in r.params)h.set(m,r.params[m]);u.search=new URLSearchParams(h).toString();let _=p&&p.headers?p.headers:{};return d.headers={...v,..._,...r.headers},{url:u.pathname+u.search+u.hash,options:d}},proLimitIsCanCreateAlbum:async(e,s={})=>{const a="/albums/create/permission",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},removeWorkFromAlbum:async(e,s={})=>{const a="/albums/work/remove",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"DELETE",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},updateAlbum:async(e,s={})=>{const a="/albums",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"PATCH",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}}}},ce=function(i){return{async addWorkToAlbum(e,s){const a=await ie(i).addWorkToAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async countUserAlbumsByType(e,s){const a=await ie(i).countUserAlbumsByType(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async createAlbum(e,s){const a=await ie(i).createAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async deleteAlbum(e,s){const a=await ie(i).deleteAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async getAlbumById(e,s){const a=await ie(i).getAlbumById(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async getAlbumItems(e,s,a,t){const r=await ie(i).getAlbumItems(e,s,a,t);return(n=J,u=G)=>{const p={...r.options,url:u+r.url};return n.request(p)}},async getCurrentAlbumSaveInfo(e,s,a){const t=await ie(i).getCurrentAlbumSaveInfo(e,s,a);return(r=J,n=G)=>{const u={...t.options,url:n+t.url};return r.request(u)}},async listUserAlbums(e,s,a,t,r){const n=await ie(i).listUserAlbums(e,s,a,t,r);return(u=J,p=G)=>{const d={...n.options,url:p+n.url};return u.request(d)}},async proLimitIsCanCreateAlbum(e,s){const a=await ie(i).proLimitIsCanCreateAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async removeWorkFromAlbum(e,s){const a=await ie(i).removeWorkFromAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async updateAlbum(e,s){const a=await ie(i).updateAlbum(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}}}};class me extends wt{async addWorkToAlbum(e,s){return ce(this.configuration).addWorkToAlbum(e,s).then(a=>a(this.axios,this.basePath))}async countUserAlbumsByType(e,s){return ce(this.configuration).countUserAlbumsByType(e,s).then(a=>a(this.axios,this.basePath))}async createAlbum(e,s){return ce(this.configuration).createAlbum(e,s).then(a=>a(this.axios,this.basePath))}async deleteAlbum(e,s){return ce(this.configuration).deleteAlbum(e,s).then(a=>a(this.axios,this.basePath))}async getAlbumById(e,s){return ce(this.configuration).getAlbumById(e,s).then(a=>a(this.axios,this.basePath))}async getAlbumItems(e,s,a,t){return ce(this.configuration).getAlbumItems(e,s,a,t).then(r=>r(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(e,s,a){return ce(this.configuration).getCurrentAlbumSaveInfo(e,s,a).then(t=>t(this.axios,this.basePath))}async listUserAlbums(e,s,a,t,r){return ce(this.configuration).listUserAlbums(e,s,a,t,r).then(n=>n(this.axios,this.basePath))}async proLimitIsCanCreateAlbum(e,s){return ce(this.configuration).proLimitIsCanCreateAlbum(e,s).then(a=>a(this.axios,this.basePath))}async removeWorkFromAlbum(e,s){return ce(this.configuration).removeWorkFromAlbum(e,s).then(a=>a(this.axios,this.basePath))}async updateAlbum(e,s){return ce(this.configuration).updateAlbum(e,s).then(a=>a(this.axios,this.basePath))}}const re=function(i){return{addItemForLater:async(e,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemForLater.");const t="/collections/later",r=new URL(t,"https://example.com");let n;i&&(n=i.baseOptions);const u={method:"POST",...n,...a},p={},d={};e!==void 0&&(d.type=e),p["Content-Type"]="application/json";const v=new URLSearchParams(r.search);for(const _ in d)v.set(_,d[_]);for(const _ in a.params)v.set(_,a.params[_]);r.search=new URLSearchParams(v).toString();let y=n&&n.headers?n.headers:{};u.headers={...p,...y,...a.headers};const h=typeof s!="string"||u.headers["Content-Type"]==="application/json";return u.data=h?JSON.stringify(s!==void 0?s:{}):s||"",{url:r.pathname+r.search+r.hash,options:u}},addItemToCollection:async(e,s,a,t={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling addItemToCollection.");if(s==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const r="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(s))),n=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const p={method:"POST",...u,...t},d={},v={};e!==void 0&&(v.type=e),d["Content-Type"]="application/json";const y=new URLSearchParams(n.search);for(const m in v)y.set(m,v[m]);for(const m in t.params)y.set(m,t.params[m]);n.search=new URLSearchParams(y).toString();let h=u&&u.headers?u.headers:{};p.headers={...d,...h,...t.headers};const _=typeof a!="string"||p.headers["Content-Type"]==="application/json";return p.data=_?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:p}},collectionsIdDelete:async(e,s={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"DELETE",...r,...s},u={},p={},d=new URLSearchParams(t.search);for(const y in p)d.set(y,p[y]);for(const y in s.params)d.set(y,s.params[y]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};return n.headers={...u,...v,...s.headers},{url:t.pathname+t.search+t.hash,options:n}},countUserCollectionsByType:async(e,s={})=>{const a="/collections/count",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},create:async(e,s={})=>{const a="/collections/create",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},detail:async(e,s={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling detail.");const a="/collections/{id}".replace("{id}",encodeURIComponent(String(e))),t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"GET",...r,...s},u={},p={},d=new URLSearchParams(t.search);for(const y in p)d.set(y,p[y]);for(const y in s.params)d.set(y,s.params[y]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};return n.headers={...u,...v,...s.headers},{url:t.pathname+t.search+t.hash,options:n}},getCurrentSaveInfo:async(e,s,a={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(s==null)throw new D("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const t="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(e))).replace("{work_id}",encodeURIComponent(String(s))),r=new URL(t,"https://example.com");let n;i&&(n=i.baseOptions);const u={method:"GET",...n,...a},p={},d={},v=new URLSearchParams(r.search);for(const h in d)v.set(h,d[h]);for(const h in a.params)v.set(h,a.params[h]);r.search=new URLSearchParams(v).toString();let y=n&&n.headers?n.headers:{};return u.headers={...p,...y,...a.headers},{url:r.pathname+r.search+r.hash,options:u}},listCollectionItems:async(e,s,a,t={})=>{if(e==null)throw new D("id","Required parameter id was null or undefined when calling listCollectionItems.");if(s==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(a==null)throw new D("page","Required parameter page was null or undefined when calling listCollectionItems.");const r="/collections/{id}/items".replace("{id}",encodeURIComponent(String(e))),n=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const p={method:"GET",...u,...t},d={},v={};s!==void 0&&(v.per_page=s),a!==void 0&&(v.page=a);const y=new URLSearchParams(n.search);for(const _ in v)y.set(_,v[_]);for(const _ in t.params)y.set(_,t.params[_]);n.search=new URLSearchParams(y).toString();let h=u&&u.headers?u.headers:{};return p.headers={...d,...h,...t.headers},{url:n.pathname+n.search+n.hash,options:p}},listUserCollections:async(e,s,a,t,r,n={})=>{if(e==null)throw new D("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(s==null)throw new D("type","Required parameter type was null or undefined when calling listUserCollections.");if(a==null)throw new D("page","Required parameter page was null or undefined when calling listUserCollections.");if(t==null)throw new D("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(e))),p=new URL(u,"https://example.com");let d;i&&(d=i.baseOptions);const v={method:"GET",...d,...n},y={},h={};s!==void 0&&(h.type=s),r!==void 0&&(h.name=r),a!==void 0&&(h.page=a),t!==void 0&&(h.per_page=t);const _=new URLSearchParams(p.search);for(const w in h)_.set(w,h[w]);for(const w in n.params)_.set(w,n.params[w]);p.search=new URLSearchParams(_).toString();let m=d&&d.headers?d.headers:{};return v.headers={...y,...m,...n.headers},{url:p.pathname+p.search+p.hash,options:v}},proLimitIsCanCreateCollection:async(e,s={})=>{const a="/collections/create/permission",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"POST",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}},removeItemFromCollection:async(e,s,a,t={})=>{if(e==null)throw new D("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(s==null)throw new D("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const r="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(s))),n=new URL(r,"https://example.com");let u;i&&(u=i.baseOptions);const p={method:"DELETE",...u,...t},d={},v={};e!==void 0&&(v.type=e),d["Content-Type"]="application/json";const y=new URLSearchParams(n.search);for(const m in v)y.set(m,v[m]);for(const m in t.params)y.set(m,t.params[m]);n.search=new URLSearchParams(y).toString();let h=u&&u.headers?u.headers:{};p.headers={...d,...h,...t.headers};const _=typeof a!="string"||p.headers["Content-Type"]==="application/json";return p.data=_?JSON.stringify(a!==void 0?a:{}):a||"",{url:n.pathname+n.search+n.hash,options:p}},updateCollection:async(e,s={})=>{const a="/collections",t=new URL(a,"https://example.com");let r;i&&(r=i.baseOptions);const n={method:"PATCH",...r,...s},u={},p={};u["Content-Type"]="application/json";const d=new URLSearchParams(t.search);for(const h in p)d.set(h,p[h]);for(const h in s.params)d.set(h,s.params[h]);t.search=new URLSearchParams(d).toString();let v=r&&r.headers?r.headers:{};n.headers={...u,...v,...s.headers};const y=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=y?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:n}}}},ne=function(i){return{async addItemForLater(e,s,a){const t=await re(i).addItemForLater(e,s,a);return(r=J,n=G)=>{const u={...t.options,url:n+t.url};return r.request(u)}},async addItemToCollection(e,s,a,t){const r=await re(i).addItemToCollection(e,s,a,t);return(n=J,u=G)=>{const p={...r.options,url:u+r.url};return n.request(p)}},async collectionsIdDelete(e,s){const a=await re(i).collectionsIdDelete(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async countUserCollectionsByType(e,s){const a=await re(i).countUserCollectionsByType(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async create(e,s){const a=await re(i).create(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async detail(e,s){const a=await re(i).detail(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async getCurrentSaveInfo(e,s,a){const t=await re(i).getCurrentSaveInfo(e,s,a);return(r=J,n=G)=>{const u={...t.options,url:n+t.url};return r.request(u)}},async listCollectionItems(e,s,a,t){const r=await re(i).listCollectionItems(e,s,a,t);return(n=J,u=G)=>{const p={...r.options,url:u+r.url};return n.request(p)}},async listUserCollections(e,s,a,t,r,n){const u=await re(i).listUserCollections(e,s,a,t,r,n);return(p=J,d=G)=>{const v={...u.options,url:d+u.url};return p.request(v)}},async proLimitIsCanCreateCollection(e,s){const a=await re(i).proLimitIsCanCreateCollection(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}},async removeItemFromCollection(e,s,a,t){const r=await re(i).removeItemFromCollection(e,s,a,t);return(n=J,u=G)=>{const p={...r.options,url:u+r.url};return n.request(p)}},async updateCollection(e,s){const a=await re(i).updateCollection(e,s);return(t=J,r=G)=>{const n={...a.options,url:r+a.url};return t.request(n)}}}};class pe extends wt{async addItemForLater(e,s,a){return ne(this.configuration).addItemForLater(e,s,a).then(t=>t(this.axios,this.basePath))}async addItemToCollection(e,s,a,t){return ne(this.configuration).addItemToCollection(e,s,a,t).then(r=>r(this.axios,this.basePath))}async collectionsIdDelete(e,s){return ne(this.configuration).collectionsIdDelete(e,s).then(a=>a(this.axios,this.basePath))}async countUserCollectionsByType(e,s){return ne(this.configuration).countUserCollectionsByType(e,s).then(a=>a(this.axios,this.basePath))}async create(e,s){return ne(this.configuration).create(e,s).then(a=>a(this.axios,this.basePath))}async detail(e,s){return ne(this.configuration).detail(e,s).then(a=>a(this.axios,this.basePath))}async getCurrentSaveInfo(e,s,a){return ne(this.configuration).getCurrentSaveInfo(e,s,a).then(t=>t(this.axios,this.basePath))}async listCollectionItems(e,s,a,t){return ne(this.configuration).listCollectionItems(e,s,a,t).then(r=>r(this.axios,this.basePath))}async listUserCollections(e,s,a,t,r,n){return ne(this.configuration).listUserCollections(e,s,a,t,r,n).then(u=>u(this.axios,this.basePath))}async proLimitIsCanCreateCollection(e,s){return ne(this.configuration).proLimitIsCanCreateCollection(e,s).then(a=>a(this.axios,this.basePath))}async removeItemFromCollection(e,s,a,t){return ne(this.configuration).removeItemFromCollection(e,s,a,t).then(r=>r(this.axios,this.basePath))}async updateCollection(e,s){return ne(this.configuration).updateCollection(e,s).then(a=>a(this.axios,this.basePath))}}function ut(){return{animate:s=>{const a=document.getElementById(s);a==null||a.classList.add("animate-bounce"),setInterval(()=>{a==null||a.classList.remove("animate-bounce")},2500)}}}function tt(){const i=(s,a,t)=>{a.value=!1,clearTimeout(s),a.value=!0,s=setTimeout(()=>{a.value=!1,e(t)},2e3)},e=s=>{const a=document.getElementById(s);a==null||a.classList.add("fade"),a==null||a.classList.add("fade-out")};return{splash:i,hide:e}}function is(){return{readMore:(e,s,a,t)=>{const r=document.getElementById(`${t}${s}`);r!==null&&(r.innerHTML=e);const n=document.getElementById(`${a}${s}`);n==null||n.remove()}}}const cs={class:"flex-col info"},ds={key:0,class:"user-info"},us={class:"flex flex-row w-full"},ms=["src"],ps={class:"w-full name"},hs={class:"flex flex-row justify-between"},ws={class:"flex flex-col"},fs={class:"mb-2 text-base font-bold"},vs={key:1,class:"mb-4"},ys=["id","innerHTML"],gs=["id"],bs={class:"mb-4"},ks={key:2,class:"tags"},_s={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(i){ft();const e=(s,a,t,r)=>{is().readMore(s,a,t,r)};return(s,a)=>{const t=Se;return x(),A("section",cs,[i.artworkDetail.users?(x(),A("div",ds,[l("div",us,[k(t,{to:"/profile/"+i.artworkDetail.users.username},{default:H(()=>[l("img",{class:"avatar",src:s.avatarCoverUrl(i.artworkDetail.users.avatar_bucket,i.artworkDetail.users.avatar_filename),onError:a[0]||(a[0]=(...r)=>s.imageLoadError&&s.imageLoadError(...r))},null,40,ms)]),_:1},8,["to"]),l("div",ps,[l("div",hs,[l("div",ws,[k(t,{to:"/profile/"+i.artworkDetail.users.username,class:"fullname"},{default:H(()=>[T(g(i.artworkDetail.users.name),1)]),_:1},8,["to"]),k(t,{to:"/profile/"+i.artworkDetail.users.username,class:"username"},{default:H(()=>[T(" @"+g(i.artworkDetail.users.username),1)]),_:1},8,["to"])]),R(l("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:a[1]||(a[1]=r=>s.closeModal(i.section+"-modal"))}," ESC ",512),[[P,i.isModal]])])])])])):S("",!0),l("div",fs,g(i.artworkDetail.title),1),i.artworkDetail.description?(x(),A("div",vs,[l("span",{id:"mview-"+i.isDesktop+"-description-"+i.artworkDetail.id,innerHTML:i.artworkDetail.description.length>300?`${i.artworkDetail.description.slice(0,300)}...`:i.artworkDetail.description},null,8,ys),i.artworkDetail.description.length>300?(x(),A("a",{key:0,id:"mview-"+i.isDesktop+"-read-more-"+i.artworkDetail.id,class:"href",onClick:a[2]||(a[2]=Ce(r=>e(i.artworkDetail.description,i.artworkDetail.id,"mview-"+i.isDesktop+"-read-more-","mview-"+i.isDesktop+"-description-"),["prevent"]))},g(s.$t("readMore")),9,gs)):S("",!0)])):S("",!0),l("div",bs,[l("span",{class:Y(["italic text-color-secondary",{"font-bold text-red-400":i.previewMode}])},g(i.previewMode?s.$t("willBePublishedOn"):s.$t("publishedOn")),3),T(" "+g(s.formatDate(i.artworkDetail.scheduled_post)),1)]),i.artworkDetail.artwork_has_tags&&i.artworkDetail.artwork_has_tags.length?(x(),A("div",ks,[(x(!0),A(we,null,be(i.artworkDetail.artwork_has_tags,r=>(x(),A("span",{key:r.artwork_tags.id,class:"tag"},[k(t,{to:"/works/browse?tags="+r.artwork_tags.tag.replaceAll(" ","+")},{default:H(()=>[T(g(r.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):S("",!0)])}}},mt=ke(_s,[["__scopeId","data-v-5d701b42"]]);const xs={class:"artist-works"},Cs={class:"heading"},$s={key:0,class:"pagination-controller"},As={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(i){const e=i,s=e.artworkDetail,{oApiConfiguration:a,fetchOptions:t}=$e(),r=Xe(a,t()),n=$(null);Me(()=>{e.keepArtistPageNumber||(d.page=-1),v(s.users.id)});const u=$(!0),p=$([]),d=Ye({page:0,perPage:e.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),v=async(_,m)=>{u.value=!0,d.options.nextPrevLoading=!0,_!==n.value&&(n.value=_,d.page=-1),m==="prev"?d.page-=1:d.page+=1;const[w,b,O]=await r.getUserArtworks({userId:_,pagination:{page:d.page,perPage:d.perPage}});O?(u.value=!1,h()):(b.next_previous.prev_page===null||b.next_previous.prev_page===void 0?d.options.disableArtistPrevButton=!0:d.options.disableArtistPrevButton=!1,b.next_previous.next_page===null||b.next_previous.next_page===void 0?d.options.disableArtistNextButton=!0:d.options.disableArtistNextButton=!1,p.value=w),d.options.nextPrevLoading=!1,u.value=!1},y=$(!1),h=()=>{y.value=!0};return(_,m)=>{const w=Se;return x(),A("div",xs,[l("div",Cs,[l("span",null,[T(g(_.$t("artworks.moreArtworkBy"))+" ",1),i.artworkDetail.users?(x(),te(w,{key:0,to:"/profile/"+i.artworkDetail.users.username,class:"text-colored"},{default:H(()=>[T(g(i.artworkDetail.users.username)+" <"+g(i.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):S("",!0)]),k(w,{to:"/profile/"+i.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:H(()=>[k(U,{name:"i-ci-external-link"})]),_:1},8,["to"])]),k(Ee,{loading:o(u),error:o(y),class:"mt-2"},null,8,["loading","error"]),R(k(_t,{class:Y(["gap-2 md:gap-4",[o(d).options.nextPrevLoading?"animate-pulse":"",i.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:o(p),view:i.view,"is-href":i.isHref,"is-mini-list":!0,"current-work-id":i.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[P,!o(u)&&!o(y)]]),i.artworkDetail.users?R((x(),A("div",$s,[l("span",{onClick:m[0]||(m[0]=b=>o(d).options.disableArtistPrevButton?null:v(i.artworkDetail.users.id,"prev"))},[k(U,{name:"i-ion-chevron-back"})]),l("span",{onClick:m[1]||(m[1]=b=>o(d).options.disableArtistNextButton?null:v(i.artworkDetail.users.id,"next"))},[k(U,{name:"i-ion-chevron-forward"})])],512)),[[P,!o(u)]]):S("",!0)])}}},pt=ke(As,[["__scopeId","data-v-d964edff"]]),Is={};function Rs(i,e){const s=Se;return x(),te(s,{to:"/pro",class:"py-1 px-2 font-bold text-black align-middle bg-yellow-200 rounded-md text-xxs hover:text-black"},{default:H(()=>[T(" PRO ")]),_:1})}const Ze=ke(Is,[["render",Rs]]);const Ss={class:"splash"},Ps={class:"flex flex-row"},Ls={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(i){return(e,s)=>(x(),A("div",Ss,[l("div",Ps,[k(U,{name:i.icon,class:"mr-2 text-base"},null,8,["name"]),l("span",null,g(i.text),1)])]))}},st=ke(Ls,[["__scopeId","data-v-2ed398ff"]]);function Us(i,e){return{proCanCreateCollection:async m=>{try{const{data:w}=await new pe(i).proLimitIsCanCreateCollection({type:m.type},e);return[w.data.is_can_create,null]}catch(w){return[null,w]}},createCollection:async(m,w)=>{try{const{data:b}=await new pe(i).create({name:w.title,description:w.description,is_public:w.isPublic?1:0,type:m},e);return[b.success,b.data,null]}catch(b){return[null,null,b]}},getInfo:async m=>{try{return[(await new pe(i).detail(m,e)).data,null]}catch(w){return[null,w]}},countCollections:async m=>{try{const{data:w}=await new Te(i).countUserCollections(m,e);return[w.data.total,null]}catch(w){return[null,w]}},countArtworkCollections:async m=>{try{const{data:w}=await new Te(i).countUserArtworkCollections(m,e);return[w.data.total,null]}catch(w){return[null,w]}},fetchCollections:async m=>{try{const{data:w}=await new pe(i).listUserCollections(m.userId,m.type,m.pagination.page,m.pagination.perPage,m.name,e),b=w.data.collections,O=w.data.pagination;let V=!0;return O.current_page===O.total_page&&(V=!1),[b,V,null]}catch(w){return[null,!1,w]}},listCollectionItems:async m=>{try{const{data:w}=await new pe(i).listCollectionItems(m.collectionId,m.pagination.perPage,m.pagination.page,e),b=w.data.pagination;let O=!0;return b.current_page===b.total_page&&(O=!1),[w.data.items,O,null]}catch(w){return[null,!1,w]}},getCurrentSaveInfo:async(m,w)=>{try{const{data:b}=await new pe(i).getCurrentSaveInfo(m,w,e);return[b.data,null]}catch(b){return[null,b]}},addItem:async m=>{try{return await new pe(i).addItemToCollection(m.type,m.collectionId,{id:m.workId},e),[!0,null]}catch(w){return[null,w]}},removeItem:async m=>{try{const{data:w}=await new pe(i).removeItemFromCollection(m.type,m.collectionId,{id:m.workId},e);return[w.success,null]}catch(w){return[null,w]}},update:async m=>{try{const{data:w}=await new pe(i).updateCollection({id:m.id,name:m.name,description:m.description,is_public:m.isPublic},e);return[w.success,null]}catch(w){return[null,w]}},deleteCollection:async m=>{try{const{data:w}=await new pe(i).collectionsIdDelete(m,e);return[w.success,null]}catch(w){return[null,w]}}}}const Vs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Os={class:"flex flex-row justify-between w-full"},qs={class:"title"},Ts={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ms={class:"list"},Es={class:"overflow-y-scroll pr-2 max-h-60"},Bs=["onClick"],js={class:"flex flex-row justify-between"},Fs={class:"flex flex-row"},Ds={key:0,class:"flex flex-row mt-2 w-full"},Ns={class:"leading-6"},Hs={class:"flex float-right flex-row gap-2 mt-4"},zs=["placeholder"],Qs={class:"flex flex-row justify-between mt-2"},Ws={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(i,{expose:e,emit:s}){const a=i,t=et(),{oApiConfiguration:r,fetchOptions:n}=$e(),u=Us(r,n());vt(()=>{d()}),Me(()=>{m(),b()});const p=$(!1),d=async()=>{if(t.i502p00r0)p.value=!0;else{const[q,M]=await u.proCanCreateCollection({type:"artwork"});M?p.value=!1:p.value=q}},v=$({pagination:{page:0,perPage:10},loading:!1}),y=$(!1),h=$(!1),_=$([]),m=async(q=!1)=>{await d(),_.value=[],q||(v.value.loading=!0);const[M,E,fe]=await u.fetchCollections({userId:t.user.id,type:"artwork",pagination:{page:v.value.pagination.page,perPage:v.value.pagination.perPage}});v.value.loading=!1,fe&&(y.value=!0),fe||(M&&M.length>0?(E?(v.value.pagination.page+=1,O.value=!0):O.value=!1,M.forEach(ve=>{_.value.push(ve)})):h.value=!0)},w=$([]),b=async()=>{y.value=!1,w.value=[],Z.value=[],z.value=[],await setTimeout(async()=>{const[q,M]=await u.getCurrentSaveInfo("artwork",a.workId);if(M)y.value=!0;else for(const E of q)Z.value.push(E.collection_id),w.value.push(E.collection_id)},300)},O=$(!0),V=async()=>{await m({isLoadMore:!0}),await b()},Z=$([]),z=$([]),ae=q=>{if(Z.value.includes(q)){z.value.push(q);const M=Z.value.indexOf(q);Z.value.splice(M,1)}else if(Z.value.push(q),z.value.includes(q)){const M=z.value.indexOf(q);z.value.splice(M,1)}},C=async()=>{try{for(const M of Z.value)await u.addItem({collectionId:M,type:"artwork",workId:a.workId});if(z.value.length)for(const M of z.value)await u.removeItem({collectionId:M,type:"artwork",workId:a.workId});let q=!1;Z.value.length===0&&w.value.length===z.value.length&&(q=!0),await b(),X().closeModal(a.modalId),s("save",q)}catch{}},Q=$(""),oe=$(!1),he=async()=>{oe.value=!1;const[q,M,E]=await u.createCollection("artwork",{title:Q.value,isPublic:1,description:""});q?(_.value=[],K(),v.value.pagination.page=0,await m(),await b(),await d(),Q.value="",N()):oe.value=!0},le=$(!1);let de;const N=()=>{le.value=!0,tt().splash(de,le,"collection-created-alert")},K=()=>{Z.value=[]},F=()=>{X().closeModal(a.modalId),K()};return e({fetchCollection:m,fetchCurrentSaved:b}),(q,M)=>(x(),A("div",null,[l("div",Vs,[l("div",null,[l("div",Os,[l("span",qs,g(q.$t("collections.addItem.form.title")),1),l("div",Ts,[l("div",{class:"modal-close",onClick:M[0]||(M[0]=E=>F())},[k(U,{name:"i-majesticons-close",class:"text-2xl"})])])]),R(l("div",Ms,[l("div",Es,[(x(!0),A(we,null,be(o(_),(E,fe)=>(x(),A("div",{key:E.id,class:Y(["item",{"mt-2":fe!==0},o(Z).includes(E.id)?"button-color text-white":"theme-color-secondary",E.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:ve=>E.is_can_add_more?ae(E.id):null},[l("div",js,[l("span",null,g(E.name),1),l("div",Fs,[l("span",{class:Y(["ml-2 font-bold",o(Z).includes(E.id)?"text-white":"text-colored"])},g(E._count.collection_has_artworks),3)])]),E.is_can_add_more?S("",!0):(x(),A("div",Ds,[k(Ze,{class:"mr-1"}),l("p",Ns,g(q.$t("collections.maxItemLimitReached")),1)]))],10,Bs))),128))]),R(l("div",{class:"mt-2 primary-button",onClick:M[1]||(M[1]=E=>V())},[k(U,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(q.$t("loadMore")),1)],512),[[P,o(O)]]),l("div",Hs,[l("button",{class:"cancel-button",onClick:M[2]||(M[2]=E=>F())},g(q.$t("cancel")),1),l("button",{class:"primary-button",onClick:M[3]||(M[3]=E=>C())},g(q.$t("save")),1)])],512),[[P,!o(v).loading&&!o(y)&&!o(h)]]),R(l("div",null,[R(l("input",{"onUpdate:modelValue":M[4]||(M[4]=E=>qe(Q)?Q.value=E:null),type:"text",class:Y(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":o(oe)}]),placeholder:q.$t("collections.createNewCollection")},null,10,zs),[[Le,o(Q)]]),l("div",Qs,[l("div",null,[R(l("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(q.$t("collections.failedToCreateCollection")),513),[[P,o(oe)]])]),R(l("button",{class:"flex flex-row primary-button",onClick:M[5]||(M[5]=E=>o(p)?he():null)},[l("span",{class:Y({"leading-6":!o(p)})},g(q.$t("create")),3),o(p)?S("",!0):(x(),te(Ze,{key:0,class:"ml-1"}))],512),[[P,o(Q)&&o(Q).length>0]])])],512),[[P,!o(v).loading&&!o(y)&&!o(h)]])]),k(Ee,{loading:o(v).loading,empty:o(h),error:o(y),fetch:m},null,8,["loading","empty","error"])]),R(k(st,{id:"collection-created-alert",text:q.$t("collections.collectionCreated"),icon:"i-bi-check-all"},null,8,["text"]),[[P,o(le)]])]))}},Js=ke(Ws,[["__scopeId","data-v-7569d44f"]]);function Gs(i,e){return{proCanCreateAlbum:async m=>{try{const{data:w}=await new me(i).proLimitIsCanCreateAlbum({type:m.type},e);return[w.data.is_can_create,null]}catch(w){return[null,w]}},createAlbum:async(m,w)=>{try{const{data:b}=await new me(i).createAlbum({name:w.title,description:w.description,is_public:w.isPublic?1:0,type:m},e);return[b.success,b.data,null]}catch(b){return[null,null,b]}},getInfo:async m=>{try{return[(await new me(i).getAlbumById(m,e)).data,null]}catch(w){return[null,w]}},countAlbums:async m=>{try{const{data:w}=await new Te(i).countUserAlbums(m,e);return[w.data.total,null]}catch(w){return[null,w]}},countArtworkAlbums:async m=>{try{const{data:w}=await new Te(i).countUserArtworkAlbums(m,e);return[w.data.total,null]}catch(w){return[null,w]}},fetchAlbums:async(m,w,b,O)=>{try{const{data:V}=await new me(i).listUserAlbums(m,b,O,w,e),Z=V.data.pagination;let z=!0;return Z.current_page===Z.total_page&&(z=!1),[V.data.albums,z,null]}catch(V){return[null,!1,V]}},listAlbumItems:async m=>{try{const{data:w}=await new me(i).getAlbumItems(m.albumId,m.pagination.perPage,m.pagination.page,e),b=w.data.pagination;let O=!0;return b.current_page===b.total_page&&(O=!1),[w.data.works,O,null]}catch(w){return[null,!1,w]}},getCurrentSaveInfo:async(m,w)=>{try{const{data:b}=await new me(i).getCurrentAlbumSaveInfo(m,w,e);return[b.data,null]}catch(b){return[null,b]}},addItems:async m=>{try{for(const w of m.albumIds)await new me(i).addWorkToAlbum({album_id:w,type:m.type,work_ids:m.workIds},e);return[!0,null]}catch(w){return[null,w]}},removeItems:async(m,w)=>{try{const{data:b}=await new me(i).removeWorkFromAlbum({album_id:m,work_ids:w},e);return[b.success,null]}catch(b){return[null,b]}},update:async m=>{try{const{data:w}=await new me(i).updateAlbum({id:m.id,name:m.name,description:m.description,is_public:m.isPublic},e);return[w.success,null]}catch(w){return[null,w]}},deleteAlbum:async m=>{try{const{data:w}=await new me(i).deleteAlbum(m,e);return[w.success,null]}catch(w){return[null,w]}}}}const Ys={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Ks={class:"flex flex-row justify-between w-full"},Zs={class:"title"},Xs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ea={class:"list"},ta={class:"overflow-y-scroll pr-2 max-h-60"},sa=["onClick"],aa={class:"flex flex-row justify-between"},oa={key:0,class:"flex flex-row mt-2 w-full"},ra={class:"leading-6"},na={class:"flex float-right flex-row gap-2 mt-4"},la={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(i,{expose:e,emit:s}){const a=i,t=et(),{oApiConfiguration:r,fetchOptions:n}=$e(),u=Gs(r,n()),p=ns(r,n());vt(async()=>{await v()}),Me(()=>{O(),a.workIds.length||z()});const d=$(999),v=async()=>{const N=await p.getSetting("max_free_album_items");d.value=N},y=async()=>{h.value=[],_.value.pagination.page=0,V(),await O()},h=$([]),_=$({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),m=$(!0),w=$(!1),b=$(!1),O=async()=>{V(),m.value=!0;const[N,K,F]=await u.fetchAlbums(t.user.id,"artwork",_.value.pagination.page===0?_.value.pagination.firstLoad:_.value.pagination.perPage,_.value.pagination.page);F&&(w.value=!0),N.length?(K?(_.value.pagination.page+=1,_.value.showLoadMore=!0):_.value.showLoadMore=!1,N.forEach(q=>{h.value.push(q)})):b.value=!0,m.value=!1},V=()=>{b.value=!1,w.value=!1},Z=$([]),z=async()=>{Z.value=[],C.value=[],Q.value=[];const[N,K]=await u.getCurrentSaveInfo("artwork",a.workId);for(const F of N)C.value.push(F.album_id),Z.value.push(F.album_id)},ae=async()=>{await O(),await z()},C=$([]),Q=$([]),oe=N=>{if(C.value.includes(N)){Q.value.push(N);const K=C.value.indexOf(N);C.value.splice(K,1)}else if(C.value.push(N),Q.value.includes(N)){const K=Q.value.indexOf(N);Q.value.splice(K,1)}},he=async()=>{const[N,K]=await u.addItems({albumIds:C.value,type:"artwork",workIds:a.workIds.length?a.workIds:[a.workId]});if(!a.workIds.length&&Q.value.length)for(const F of Q.value)await u.removeItems(F,[a.workId]);if(N){let F=!1;a.workIds.length||C.value.length===0&&Z.value.length===Q.value.length&&(F=!0),le(),X().closeModal(a.modalId),s("addedToAlbum",a.workIds.length?!0:F)}},le=()=>{C.value=[]},de=()=>{X().closeModal(a.modalId),le()};return e({fetchCurrentSaved:z,fetchAlbums:O}),(N,K)=>(x(),A("div",null,[l("div",Ys,[l("div",null,[l("div",Ks,[l("span",Zs,g(N.$t("albums.selectAlbums")),1),l("div",Xs,[l("div",{class:"modal-close",onClick:K[0]||(K[0]=F=>de())},[k(U,{name:"close",class:"text-2xl"})])])]),l("div",ea,[R(l("div",null,[l("div",ta,[(x(!0),A(we,null,be(o(h),(F,q)=>(x(),A("div",{key:F.id,class:Y(["item",{"mt-2":q!==0},o(C).includes(F.id)?"button-color text-white":"theme-color-secondary",F.is_can_add_more?"cursor-pointer":"cursor-not-allowed"]),onClick:M=>F.is_can_add_more?oe(F.id):null},[l("div",aa,[l("span",null,g(F.name),1),l("span",{class:Y(["ml-2 font-bold",o(C).includes(F.id)?"text-white":"text-colored"])},g(F._count.album_has_artworks),3)]),!F.is_can_add_more||!o(t).i502p00r0&&F._count.album_has_artworks+a.workIds.length>o(d)?(x(),A("div",oa,[k(Ze,{class:"mr-1"}),l("p",ra,g(N.$t("albums.maxItemLimitReached")),1)])):S("",!0)],10,sa))),128))]),R(l("div",{class:"mt-2 primary-button",onClick:K[1]||(K[1]=F=>ae())}," Load More ",512),[[P,o(_).showLoadMore]]),l("div",na,[l("button",{class:"cancel-button",onClick:K[2]||(K[2]=F=>de())},g(N.$t("cancel")),1),l("button",{class:"primary-button",onClick:K[3]||(K[3]=F=>he())},g(N.$t("save")),1)])],512),[[P,!o(m)&&!o(b)&&!o(w)]])])]),k(Ee,{loading:o(m),empty:o(b),error:o(w),fetch:y},null,8,["loading","empty","error"])])]))}},ia=ke(la,[["__scopeId","data-v-80a89092"]]),ca={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},da={class:"mb-4"},ua={class:"flex flex-row justify-end gap-2"},ma={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(i,{emit:e}){const s=i,a=t=>{t&&e("onAccept",!0),X().closeModal(s.modalId)};return(t,r)=>(x(),A("div",null,[l("div",ca,[l("p",da,g(i.message),1),l("div",ua,[l("button",{class:"cancel-button",onClick:r[0]||(r[0]=n=>a(!1))},g(t.$t("no")),1),l("button",{class:"danger-button",onClick:r[1]||(r[1]=n=>a(!0))},g(t.$t("yes")),1)])])]))}};const Ct=i=>(yt("data-v-78557f0a"),i=i(),gt(),i),pa={class:"opt-modal modal-layer"},ha={class:"opt-modal__title"},wa={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},fa={class:"opt-modal__content"},va={class:"report"},ya={class:"report__reason_opt"},ga={class:"report__title"},ba=["onClick"],ka={class:"report__title"},_a=["placeholder"],xa={class:"report__buttons"},Ca={class:"text-justify"},$a={class:"mt-2"},Aa=Ct(()=>l("i",null,"Your report ID:",-1)),Ia=Ct(()=>l("i",null,"Report date:",-1)),Ra={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(i){const e=i,{oApiConfiguration:s,fetchOptions:a}=$e(),t=kt(s,a()),r=$(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","aiGeneratedArt","somethingElse"]),n=$({selectedReasons:[],reasonDescription:"",enableSubmit:Ke(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),u=_=>{if(!n.value.selectedReasons.includes(_))n.value.selectedReasons.push(_);else{const m=n.value.selectedReasons.indexOf(_);n.value.selectedReasons.splice(m,1)}},p=$(!1),d=$({}),v=async()=>{p.value=!1,d.value={};const[_,m,w]=await t.createNewReport({type:e.type,postId:e.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});w&&!_||(p.value=!0,d.value=m)},y=()=>{X().closeModal("report-modal"),h()},h=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",p.value=!1};return(_,m)=>{const w=Se;return x(),A("div",null,[l("div",pa,[l("div",ha,[l("h1",null,g(o(p)?_.$t("reports.reportSubmitted"):i.reportStatus.id?_.$t("reports.alreadyReported"):_.$t("reports.title")),1),l("div",wa,[l("div",{class:"modal-close",onClick:m[0]||(m[0]=b=>y())},[k(U,{name:"i-ion-close",class:"text-2xl"})])])]),l("div",fa,[R(l("div",va,[l("div",ya,[l("div",ga,g(_.$t("reports.selectReasons")),1),(x(!0),A(we,null,be(o(r),b=>(x(),A("span",{key:b,class:Y([o(n).selectedReasons.includes(b)?"button-color":"theme-color-secondary"]),onClick:O=>u(b)},[l("div",null,[R(k(U,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[P,!o(n).selectedReasons.includes(b)]]),R(k(U,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[P,o(n).selectedReasons.includes(b)]])]),l("div",{class:Y(["reason",[o(n).selectedReasons.includes(b)?"text-white":"text-color-secondary"]])},g(_.$t("reports.reasons."+b)),3)],10,ba))),128))]),l("div",null,[l("div",ka,g(_.$t("reports.describeReason")),1),R(l("textarea",{"onUpdate:modelValue":m[1]||(m[1]=b=>o(n).reasonDescription=b),class:"report__reason_description",placeholder:_.$t("reports.describeText"),cols:"5",rows:"5"},null,8,_a),[[Le,o(n).reasonDescription]])]),l("div",xa,[l("button",{class:"cancel-button",onClick:m[2]||(m[2]=b=>y())},g(_.$t("cancel")),1),l("button",{class:Y(o(n).enableSubmit?"primary-button":"disabled-button"),onClick:m[3]||(m[3]=b=>o(n).enableSubmit?v():null)},g(_.$t("report")),3)])],512),[[P,!o(p)&&!i.reportStatus.id]]),R(l("div",null,[l("div",Ca,g(_.$t("reports.reportSubmittedMessage")),1),l("div",$a,[l("div",null,[Aa,T("\xA0 "),l("b",null,"#"+g(o(d).id),1)]),l("div",null,[Ia,T("\xA0 "),l("b",null,g(_.formatDate(o(d).created_at)),1)])])],512),[[P,o(p)]]),R(l("div",null,[T(g(_.$t("reports.alreadyReportedDescription"))+" ",1),k(w,{class:"underline href",to:"/reports"},{default:H(()=>[T(g(_.$t("reports.reportStatus")),1)]),_:1})],512),[[P,i.reportStatus.id]])])])])}}},Sa=ke(Ra,[["__scopeId","data-v-78557f0a"]]),Pa={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},La={class:"title"},Ua={class:"mt-2"},Va={class:"alert-success"},Oa={class:"italic"},qa={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},Ta=["placeholder"],Ma={class:"flex flex-row gap-2 justify-end"},Ea={class:"flex flex-row justify-between mt-6"},Ba=["value"],ja={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(i){const e=i,{oApiConfiguration:s,fetchOptions:a}=$e(),t=ls(s,a()),r=bt(),n=()=>{p.value=""},u=()=>{d.value=!1,v.value=!1,y.value=!1,X().closeModal("share-to-feed-modal"),n()},p=$(""),d=$(!1),v=$(!1),y=$(!1),h=async()=>{d.value=!1,v.value=!0,y.value=!1;const[b,O,V]=await t.shareArtworkToFeed({text:p.value,workId:e.postId});b?(y.value=!0,setTimeout(()=>{u()},500)):d.value=!0,v.value=!1},_=$(!1);let m;const w=b=>{const O=$(b),{copy:V}=xt({source:O});V(),tt().splash(m,_,"copy-alert")};return(b,O)=>(x(),A("div",null,[l("div",Pa,[l("span",La,g(b.$t("feeds.share.artwork.title")),1),l("div",Ua,[R(l("div",Va,[l("span",Oa,g(b.$t("feeds.share.artwork.success")),1)],512),[[P,o(y)]]),R(l("div",qa,[k(Oe,{class:"mr-2"}),T(" "+g(b.$t("feeds.form.postingYourUpdate")),1)],512),[[P,o(v)]]),R(l("div",{class:"alert-danger"},g(b.$t("feeds.form.postFailure")),513),[[P,o(d)]]),R(l("textarea",{"onUpdate:modelValue":O[0]||(O[0]=V=>qe(p)?p.value=V:null),class:"input form-input textarea",placeholder:b.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,Ta),[[Le,o(p)]]),l("div",Ma,[l("button",{class:"cancel-button",onClick:O[1]||(O[1]=V=>u())},g(b.$t("cancel")),1),l("button",{class:Y(["primary-button"]),onClick:O[2]||(O[2]=V=>h())},g(b.$t("share")),1)]),l("div",Ea,[l("input",{readonly:"",value:o(r).public.appUrl+"/a/"+e.postId,class:"p-3 w-full rounded-md theme-color-secondary"},null,8,Ba),l("button",{class:"icon-button",onClick:O[3]||(O[3]=V=>w(o(r).public.appUrl+"/a/"+i.postId))},[k(U,{name:"i-icon-park-outline-copy"})])])])]),R(k(st,{id:"copy-alert",text:b.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[P,o(_)]])]))}},Fa={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},Da={class:"flex flex-row justify-between w-full"},Na={class:"title"},Ha={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},za={class:"grid overflow-y-scroll gap-2 pr-2 max-h-96 grid-cols"},Qa=["to"],Wa={class:"mx-auto text-center"},Ja={class:"mx-auto text-center"},Ga={class:"mx-auto text-center"},Ya={__name:"UserLiked",props:{modalId:{type:String,default:"user-liked-modal"},workId:{type:Number,default:0}},setup(i){const e=i,{oApiConfiguration:s,fetchOptions:a}=$e(),t=Xe(s,a()),r=$({pagination:{page:0,perPage:10}}),n=$([]),u=async({loaded:d})=>{const[v,y]=await t.viewWhoLikedTheArtwork({workId:e.workId,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.perPage}});if(!y){r.value.pagination.page+=1;for(let h=0;h<v.length;h++){const _=v[h];n.value.push(_)}}d(v.length,r.value.pagination.perPage)},p=()=>{X().closeModal(e.modalId)};return(d,v)=>{const y=ht,h=Se,_=Xt;return x(),A("div",null,[l("div",Fa,[l("div",Da,[l("div",Na,g(d.$t("artworks.usersLiked")),1),l("div",Ha,[l("div",{class:"modal-close",onClick:v[0]||(v[0]=m=>p())},[k(U,{name:"i-majesticons-close",class:"text-2xl"})])])]),l("div",za,[(x(!0),A(we,null,be(o(n),(m,w)=>(x(),te(h,{key:m.id,to:"/profile/"+m.users.username,class:"flex flex-row gap-2 p-2 rounded-md theme-color-secondary hover:button-color hover:text-white img-hover"},{default:H(()=>[k(y,{preload:"",loading:"lazy",class:"w-10 h-10 avatar",src:d.avatarCoverUrl(m.users.avatar_bucket,m.users.avatar_filename),onError:d.imageLoadError},null,8,["src","onError"]),l("span",{to:"/profile/"+m.users.username,class:"font-bold leading-10"},g(m.users.name),9,Qa)]),_:2},1032,["to"]))),128)),k(_,null,{default:H(()=>[k(o(Zt),{load:u},{loading:H(()=>[l("div",Wa,[k(U,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":H(()=>[l("div",Ja,g(d.$t("users.nothingToShow")),1)]),"no-more":H(()=>[l("div",Ga,g(d.$t("youHaveReachedTheEnd")),1)]),_:1})]),_:1})])])])}}};const at=i=>(yt("data-v-dab9ca46"),i=i(),gt(),i),Ka={class:"mx-auto w-full align-middle work-view md:w-1/2"},Za={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},Xa={class:"flex flex-row justify-center mb-2"},eo=at(()=>l("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),to={class:"font-bold cursor-pointer"},so={class:"mr-2 font-normal"},ao={class:"italic"},oo={key:1,class:"alert-success"},ro={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},no={class:"mr-4"},lo={class:"image-list"},io={class:"interactions"},co={class:"reaction-counters"},uo={class:"counter"},mo={key:0,class:"reactions"},po={key:0},ho={key:0},wo={class:"inline-block relative z-30 dropdown"},fo={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},vo={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},yo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},go={key:2,class:"custom-divider"},bo={key:4,class:"custom-divider"},ko=["to"],_o={key:1},xo={class:"mb-2 italic text-tiny"},Co={key:0,class:"flex flex-row gap-2"},$o={key:0,class:"w-1/3"},Ao={class:"w-2/3"},Io={class:"font-bold"},Ro=["innerHTML"],So={key:2,class:"custom-divider"},Po={key:3,class:"flex flex-col gap-4"},Lo={class:"section-title"},Uo={class:"flex flex-row gap-2 justify-between w-full"},Vo={key:0},Oo=at(()=>l("div",{class:"custom-divider"},null,-1)),qo={class:"comments"},To={key:0,class:"comment-box"},Mo={class:"flex flex-col"},Eo={class:"flex relative flex-col"},Bo=["readonly","rows","placeholder"],jo={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Fo={id:"comments",class:"comment-content"},Do={class:"flex flex-row justify-end mb-2"},No={key:0},Ho=["src"],zo={class:"w-full"},Qo={class:"flex justify-between"},Wo={class:"comment-time"},Jo={class:"mt-4 reactions"},Go=["onClick"],Yo={key:0},Ko={key:0,class:"flex flex-row"},Zo=["onClick"],Xo=["onClick"],er={class:"inline-block relative ml-2 dropdown"},tr={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},sr={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},ar=["onClick"],or={key:0,class:"-mb-4 comment-box"},rr={class:"flex flex-col"},nr={class:"flex relative flex-col"},lr=["id","readonly","rows","placeholder"],ir=["onClick"],cr=["id"],dr={key:0,class:"w-full"},ur={class:"float-left mb-2 text-xs italic text-color-secondary"},mr=["onClick"],pr={class:"flex flex-row justify-between"},hr=["src"],wr={class:"transition-all duration-150 cursor-pointer hover:font-bold"},fr={class:"leading-6 comment-time"},vr={class:"mt-2"},yr={key:0,class:"mt-2 reactions"},gr=at(()=>l("span",null,null,-1)),br={class:"flex flex-row"},kr=["onClick"],_r={class:"inline-block relative ml-2 dropdown"},xr={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Cr={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},$r={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Ar=["onClick"],Ir=["onClick"],Rr={key:3,class:"mt-4 w-full text-xs italic text-center"},Sr={__name:"ModalView",props:{id:{type:Number,default:0},section:{type:String,default:""}},emits:["setMeta","stopLoading","showEmpty","showError"],setup(i,{expose:e,emit:s}){const a=i,t=et(),{oApiConfiguration:r,fetchOptions:n}=$e(),{applyExplicitFilter:u,removeExplicitFilter:p,generateSemiCompressedArtworkUrl:d}=es(),v=Xe(r,n()),y=kt(r,n()),h=bt(),{$router:_}=ts(),m=ft();ss(()=>m.query,()=>{w(),X().closeModal("collection-selection-modal"),X().closeModal("album-selection-modal"),X().closeModal("report-modal")}),Me(()=>{a.id!==0&&de(a.id),window.addEventListener("keydown",c=>{const f=document.getElementById("collection-selection-modal"),L=document.getElementById("album-selection-modal"),B=document.getElementById("report-modal"),W=document.querySelectorAll(".viewer-in");c.key==="Escape"&&(!f||f.style.display!="flex")&&(!L||L.style.display!="flex")&&(!B||B.style.display!="flex")&&!W.length&&w()})});const w=()=>{X().closeModal(`${a.section}-modal`)},b=$(!1),O=()=>{b.value=!1,p()},V=a.id===0,Z=async c=>{await v.incraseViewCount(c)},z=$(!1),ae=$(!0),C=$({}),Q=$(!1),oe=$(!1),he=$(!1),le=$([]),de=async c=>{ee.value="",E.value=[],ue.value=[],ae.value=!0;const[f,L]=await v.getWorkById(c);L?L=="Work not found"?s("showEmpty"):s("showError"):(C.value=f,le.value=[],f.artwork_assets.forEach(W=>{le.value.push({thumbnail:d(W.bucket,W.filename,!0),source:d(W.bucket,W.filename,!1)})}),!t.loggedIn&&f.is_explicit||f.is_explicit&&!t.user.user_settings.show_explicit?(b.value=!0,u()):b.value=!1,Q.value=f.liked,oe.value=f.saved,he.value=f.in_album,dt().formatApiToWeb(f.scheduled_post)<dt().currentUtcTime()?(await $t(c),t.loggedIn&&await K(c),(!t.loggedIn||t.user.id!==f.users.id)&&await Z(c),f.redraw_of&&Yt(f.redraw_of),await Jt(),ct.value&&await Gt(f.id)):t.user.id!==f.users.id?_.push("/"):z.value=!0,a.id!==0&&s("setMeta",{title:C.value.title})),ae.value=!1,s("stopLoading")},N=$({}),K=async c=>{const[f,L]=await y.getReportStatus({type:"artwork",postId:c});L||(f.length?N.value=f[0]:N.value={})},F=async()=>{const[c,f]=await v.like({workId:C.value.id});if(c){Q.value=!0;const L=document.getElementById("like-button");L.classList.add("animate-bounce"),setInterval(()=>{L.classList.remove("animate-bounce")},2500)}},q=()=>{X().openModal("user-liked-modal")},M=async()=>{const[c,f]=await v.unlike({workId:C.value.id});c&&(Q.value=!1)},E=$([]),fe=Ye({perPage:3,page:0}),ve=$([]),ot=async c=>{const[f,L]=await v.getComments({workId:c,pagination:{page:fe.page,perPage:fe.perPage}});if(f)return f.pagination.current_page===f.pagination.first_last.last_page?Ue.value=!1:Ue.value=!0,f.comments.forEach(B=>{B.liked&&_e.value.push(B.id),ve.value.push(B.id)}),f.comments},$t=async c=>{try{(await ot(c)).forEach(L=>E.value.push(L))}catch{}},Ue=$(!1),At=async c=>{try{fe.page+=1,(await ot(c)).forEach(L=>E.value.push(L))}catch{}},ee=$(),Be=200,It=Ke(()=>ee.value!=null&&ee.value!==""?Be-ee.value.length:Be),Ae=$(!1),Rt=async()=>{Ae.value=!0;try{const[c,f,L]=await v.addComment({workId:C.value.id,comment:ee.value});c&&(ee.value="",E.value.splice(0,0,f),E.value.join(),ve.value.splice(0,0,f.id),ve.value.join())}catch{}Ae.value=!1},St=async c=>{const[f,L]=await v.deleteComment({commentId:c});if(f){const B=ve.value.indexOf(c);E.value.splice(B,1),ve.value.splice(B,1)}},_e=$([]),Pt=async c=>{const[f,L]=await v.likeComment({commentId:c});if(f){_e.value.push(c);const B=document.getElementById(`comment-like-button-${c}`);B.classList.add("animate-bounce"),setInterval(()=>{B.classList.remove("animate-bounce")},2500)}},Lt=async c=>{const[f,L]=await v.unlikeComment({commentId:c});if(f){const B=_e.value.indexOf(c);_e.value.splice(B,1)}},je=Ye({perPage:2,page:0}),ue=$([]),Ie=$([]),Fe=$(!0),rt=async c=>{const[f,L,B]=await v.getCommentReplies({commentId:c,pagination:{page:je.page,perPage:je.perPage}});if(!B)return L.current_page===L.first_last.last_page&&(Fe.value=!1),f.map(W=>Ie.value.push(W.id)),f},Pe=$(0),De=async c=>{Fe.value=!0,Ie.value=[];try{const f=await rt(c);ue.value={[c]:f},f.forEach(B=>{B.liked&&xe.value.push(B.id)}),Pe.value&&Ne(Pe.value);const L=document.getElementById(`comment-replies-${c}`);L.classList.add("flex"),L.classList.remove("hidden"),Pe.value=c}catch{}},Ne=c=>{const f=document.getElementById(`comment-replies-${c}`);f.classList.remove("flex"),f.classList.add("hidden"),Pe.value=0},Ut=async c=>{je.page+=1;try{(await rt(c)).forEach(L=>{ue.value[c].push(L)})}catch{}},Ve=$(0),Vt=async c=>{await De(c),Ve.value=c},se=$(),He=200,Ot=Ke(()=>se.value!=null&&se.value!==""?He-se.value.length:He),Re=$(!1),qt=async c=>{Re.value=!0;try{const[f,L,B]=await v.addReply({commentId:c,reply:se.value});f&&(De(c),se.value="",ue.value[c].splice(0,0,L),ue.value[c].join(),Ve.value=0,Ie.value.splice(0,0,L.id),Ie.value.join())}catch{}Re.value=!1},Tt=async(c,f)=>{const[L,B]=await v.deleteReply({replyId:f});if(L){const W=Ie.value.indexOf(f);ue.value[c].splice(W,1),Ie.value.splice(W,1)}},xe=$([]),Mt=async c=>{const[f,L]=await v.likeReply({replyId:c});if(f){xe.value.push(c);const B=document.getElementById(`reply-like-button-${c}`);B.classList.add("animate-bounce"),setInterval(()=>{B.classList.remove("animate-bounce")},2500)}},Et=async c=>{const[f,L]=await v.unlikeReply({replyId:c});if(f){const B=xe.value.indexOf(c);xe.value.splice(B,1)}},ze=$(!1),Qe=$(!1),nt=async c=>{const[f,L]=await v.deleteWork({workId:[c]});f&&(Qe.value=!0,setTimeout(()=>{_.push("/")},1500))},We=$(null),Bt=()=>{X().openModal("collection-selection-modal"),We.value.fetchCollection(),We.value.fetchCurrentSaved()},jt=c=>{c?oe.value=!1:oe.value=!0,ut().animate("save-to-collection-button")},lt=$(null),Ft=()=>{X().openModal("album-selection-modal"),lt.value.fetchCurrentSaved()},Dt=c=>{c?he.value=!1:he.value=!0,ut().animate("save-to-album-button")},Nt=()=>{X().openModal("share-to-feed-modal")},it=$(!1);let Ht;const zt=c=>{const f=$(h.public.appUrl+c),{copy:L}=xt({source:f});L(),tt().splash(Ht,it,"copy-alert")},Qt=$(null),Wt=()=>{X().openModal("report-modal")},ct=$(0),Jt=async()=>{const[c,f]=await v.countRedraws(C.value.id);ct.value=c},ye=$({data:[],pagination:{}}),Gt=async c=>{const[f,L,B]=await v.getRedraws({workId:c,pagination:{page:0,perPage:8}});B||(ye.value.data=f,ye.value.pagination=L)},ge=$({}),Je=$(!0),Yt=async c=>{Je.value=!0;const[f,L]=await v.getWorkById(c);L||(ge.value=f),Je.value=!1};return e({view:de}),(c,f)=>{const L=ht,B=os("viewer"),W=Se,Kt=rs("auto-animate");return x(),A(we,null,[R(l("div",Ka,[k(Ee,{loading:o(ae)},null,8,["loading"])],512),[[P,o(ae)&&!c.isMobile()&&V]]),R(l("div",{class:Y(["work-container work-view",V?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[l("div",{class:Y(["left-side",{"overflow-y-scroll mr-6":V}])},[o(z)&&!o(Qe)?(x(),A("div",Za,[l("div",Xa,[k(U,{name:"i-ion-alert-outline"}),eo]),l("div",to,[l("span",{class:"text-red-500",onClick:f[0]||(f[0]=I=>ze.value=!0)},g(c.$t("artworks.deleteArtwork")),1),R(l("div",null,[l("span",so,[T(g(c.$t("alert.areYouSure"))+" ",1),l("span",ao,"("+g(c.$t("alert.youCannotUndoThisAction"))+")",1)]),l("span",{class:"mr-2 text-red-500 hover:underline",onClick:f[1]||(f[1]=I=>nt(o(C).id))},g(c.$t("yes")),1),l("span",{class:"hover:underline",onClick:f[2]||(f[2]=I=>ze.value=!1)},g(c.$t("no")),1)],512),[[P,o(ze)]])])])):S("",!0),o(Qe)?(x(),A("div",oo,g(c.$t("artworks.successDelete")),1)):S("",!0),R(l("div",ro,[l("span",no,g(o(t).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),l("button",{class:"primary-button",onClick:f[3]||(f[3]=Ce(I=>O(),["prevent"]))},g(c.$t("show")),1)],512),[[P,o(b)]]),l("div",lo,[k(B,{options:{url:"data-source"},images:o(le),class:"overflow-hidden rounded-md"},{default:H(()=>[(x(!0),A(we,null,be(o(le),(I,j)=>(x(),te(L,{key:I.thumbnail,preload:"",loading:"lazy",src:I.thumbnail,"data-source":I.source,class:Y(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":o(b)},o(b)?"brightness-50":"brightness-100"]),onError:c.imageLoadError},null,8,["src","data-source","class","onError"]))),128))]),_:1},8,["images"])]),l("div",io,[l("div",co,[o(C).is_explicit?(x(),A("span",{key:0,class:Y(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",V?"theme-color-secondary":"bg-tag"])},"E",2)):S("",!0),R(l("span",uo,[k(U,{name:"i-mi-eye"}),l("b",null,g(c.shortNumber(o(C).views)),1),T(" "+g(o(C).views>1?c.$t("count.views"):c.$t("count.view")),1)],512),[[P,o(C).views>0]])]),o(z)?S("",!0):(x(),A("div",mo,[o(t).loggedIn?(x(),A("span",po,[l("span",{onClick:f[4]||(f[4]=I=>o(Q)?M():F())},[R(k(U,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[P,o(Q)]]),R(k(U,{name:"i-ri-heart-3-line",class:"hover:text-red-500"},null,512),[[P,!o(Q)]])]),o(C)._count&&o(C)._count.artwork_likes?(x(),A("span",{key:0,class:"hover:cursor-pointer",onClick:f[5]||(f[5]=I=>q())},g(c.thousand(o(C)._count.artwork_likes)),1)):S("",!0)])):S("",!0),o(t).loggedIn?(x(),A("span",{key:1,onClick:f[6]||(f[6]=I=>Bt())},[R(k(U,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[P,o(oe)]]),R(k(U,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[P,!o(oe)]]),o(C)._count&&o(C)._count.collection_has_artworks?(x(),A("span",ho,g(c.thousand(o(C)._count.collection_has_artworks)),1)):S("",!0)])):S("",!0),o(t).loggedIn&&o(C).users&&o(t).user.id===o(C).users.id?(x(),A("span",{key:2,onClick:f[7]||(f[7]=I=>Ft())},[R(k(U,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[P,o(he)]]),R(k(U,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[P,!o(he)]])])):S("",!0),o(t).loggedIn?(x(),A("span",{key:3,onClick:f[8]||(f[8]=I=>Nt())},[k(U,{name:"i-uil-share",class:"hover:text-blue-500"})])):S("",!0),l("div",wo,[l("button",fo,[l("span",null,[k(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),l("div",vo,[l("div",yo,[V?(x(),te(W,{key:0,to:"/a/"+o(C).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:H(()=>[k(U,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(c.$t("open")),1)]),_:1},8,["to"])):S("",!0),V?(x(),te(W,{key:1,to:"/a/"+o(C).id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:H(()=>[k(U,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(c.$t("openInNewTab")),1)]),_:1},8,["to"])):S("",!0),V?(x(),A("div",go)):S("",!0),o(t).loggedIn&&o(C).users&&o(t).user.id!=o(C).users.id&&!o(t).user.is_admin&&!o(t).user.is_moderator?(x(),A("div",{key:3,to:"#",class:Y(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!V}]),onClick:f[9]||(f[9]=I=>Wt())},[k(U,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(c.$t("report")),1)],2)):S("",!0),l("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:f[10]||(f[10]=I=>zt("/a/"+o(C).id))},[k(U,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(c.$t("copySharableLink")),1)]),o(t).loggedIn&&o(C).users&&o(t).user.id===o(C).users.id?(x(),A("div",bo)):S("",!0),o(t).loggedIn&&o(C).users&&o(t).user.id===o(C).users.id?(x(),te(W,{key:5,to:"/works/update/"+o(C).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:H(()=>[k(U,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("update")),1)]),_:1},8,["to"])):S("",!0),o(t).loggedIn&&o(C).users&&o(t).user.id===o(C).users.id?(x(),A("div",{key:6,to:"/a/"+o(C).id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:f[11]||(f[11]=I=>c.openModal("work-deletion-confirm-modal"))},[k(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,ko)):S("",!0)])])])]))]),k(mt,{section:i.section,class:"flex-md-hidden","is-modal":V,"artwork-detail":o(C),"preview-mode":o(z),"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(x(),te(as,null,[o(ae)?S("",!0):(x(),te(pt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":o(C),view:de,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),l("div",{class:Y(["right-side",{"pr-3 overflow-y-scroll":V}])},[k(mt,{section:i.section,class:"hidden-md-flex","is-modal":V,"artwork-detail":o(C),"preview-mode":o(z),"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),o(ae)?S("",!0):(x(),te(pt,{key:0,class:"flex-md-hidden","artwork-detail":o(C),view:de,"is-href":!V,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),o(C).redraw_of?(x(),A("div",_o,[l("div",xo,g(c.$t("artworks.redrawedArtwork")),1),o(Je)?(x(),A("div",Co,[k(Oe),T(" "+g(c.$t("artworks.redrawOriginalLoading")),1)])):(x(),te(W,{key:1,to:"/a/"+o(C).redraw_of,class:"flex flex-row gap-2 w-full"},{default:H(()=>[o(ge).artwork_assets?(x(),A("div",$o,[k(L,{preload:"",loading:"lazy",class:"w-40 rounded-md",src:c.artworkThumb(o(ge).artwork_assets[0].bucket,o(ge).artwork_assets[0].filename,"thumbnail",!1),onError:c.imageLoadError},null,8,["src","onError"])])):S("",!0),l("div",Ao,[l("span",Io,g(o(ge).title),1),l("p",{innerHTML:o(ge).description.length>200?o(ge).description.slice(0,200)+"..":o(ge).description},null,8,Ro)])]),_:1},8,["to"]))])):S("",!0),o(C).allow_redraw?(x(),A("div",So)):S("",!0),o(C).allow_redraw?(x(),A("div",Po,[l("span",Lo,g(c.$t("artworks.redraws"))+" ("+g(o(ye).pagination&&o(ye).pagination.record_total?o(ye).pagination.record_total:0)+") ",1),l("div",Uo,[k(W,{to:"/post?redrawWorkId="+o(C).id,class:Y([V?"secondary-button":"light-button"])},{default:H(()=>[k(U,{name:"i-typcn-brush"}),T(" "+g(c.$t("artworks.redrawThisArtwork")),1)]),_:1},8,["to","class"])]),o(ye).data.length?(x(),A("div",Vo,[k(_t,{"section-class":"redraw-works",works:o(ye).data,view:de,"is-href":c.isHref,"is-mini-list":!0,"current-work-id":o(C).id},null,8,["works","is-href","current-work-id"]),o(ye).pagination.next_previous.next_page?(x(),te(W,{key:0,to:"/a/"+o(C).id+"/redraws",class:"mt-2 primary-button"},{default:H(()=>[k(U,{name:"i-fluent-arrow-enter-20-filled",class:"mr-1 text-white hover:text-white"}),T(" "+g(c.$t("seeMore")),1)]),_:1},8,["to"])):S("",!0)])):S("",!0)])):S("",!0),Oo,l("section",qo,[o(t).loggedIn&&!o(z)?(x(),A("div",To,[l("div",Mo,[l("div",Eo,[R(l("textarea",{"onUpdate:modelValue":f[12]||(f[12]=I=>qe(ee)?ee.value=I:null),cols:"30","data-gramm":"false",class:Y(["input form-input",{"cursor-not-allowed":o(Ae)},{"theme-color-secondary textarea":V}]),readonly:o(Ae),rows:o(ee)!=null&&o(ee)!=""?"4":"0",placeholder:c.$t("comments.inputPlaceholder"),maxlength:Be},null,10,Bo),[[Le,o(ee)]]),R(l("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(o(It)),513),[[P,o(ee)!=null&&o(ee)!=""]]),l("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:f[13]||(f[13]=Ce(I=>Rt(),["prevent"]))},[R(k(U,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[P,o(ee)!=null&&o(ee)!=""&&!o(Ae)]]),R(k(Oe,null,null,512),[[P,o(Ae)]])])])])])):S("",!0),o(t).loggedIn?S("",!0):(x(),A("div",jo,g(c.$t("comments.loginOrRegisterToLeaveComment")),1)),l("div",Fo,[l("div",Do,[o(C)._count&&o(C)._count.artwork_comments?(x(),A("div",No,[l("b",null,g(c.thousand(o(C)._count.artwork_comments)),1),T(" "+g(o(C)._count.artwork_comments>1?c.$t("count.comments"):c.$t("count.comment")),1)])):S("",!0)]),(x(!0),A(we,null,be(o(E),I=>R((x(),A("div",{key:I.id,class:"flex flex-row w-full comment-item"},[k(W,{class:"mr-2",to:"/profile/"+I.users.username},{default:H(()=>[l("img",{class:"w-10 h-10 avatar",src:c.avatarCoverUrl(I.users.avatar_bucket,I.users.avatar_filename),onError:f[14]||(f[14]=(...j)=>c.imageLoadError&&c.imageLoadError(...j))},null,40,Ho)]),_:2},1032,["to"]),l("div",zo,[l("div",{class:Y(["p-3 w-full rounded-md",V?"theme-color-secondary":"theme-color"])},[l("div",Qo,[k(W,{to:"/profile/"+I.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:H(()=>[T(g(I.users.name),1)]),_:2},1032,["to"]),l("div",Wo,g(c.formatDate(I.created_at,!0)),1)]),l("div",null,g(I.comment),1),l("div",Jo,[l("div",{class:"cursor-pointer hover:underline",onClick:j=>o(Pe)==I.id?Ne(I.id):De(I.id)},[I._count.artwork_comment_has_replies>0?(x(),A("span",Yo,[l("b",null,g(c.shortNumber(I._count.artwork_comment_has_replies)),1),T(" "+g(I._count.artwork_comment_has_replies>1?c.$t("comments.replies.replies").toLowerCase():c.$t("comments.replies.reply").toLowerCase()),1)])):S("",!0)],8,Go),o(t).loggedIn?(x(),A("div",Ko,[l("span",{class:"reaction",onClick:j=>o(_e).includes(I.id)?Lt(I.id):Pt(I.id)},[R(k(U,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[P,!o(_e).includes(I.id)]]),R(k(U,{id:"comment-like-button-"+I.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[P,o(_e).includes(I.id)]]),T(" "+g(c.shortNumber(I._count.artwork_comment_has_likes)),1)],8,Zo),l("span",{class:"reaction",onClick:j=>Vt(I.id)},[k(U,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Xo),l("div",er,[l("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:f[15]||(f[15]=j=>Ve.value=0)},[l("span",null,[k(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),l("div",tr,[l("div",sr,[k(W,{to:"/profile/"+I.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[16]||(f[16]=Ce(()=>{},["prevent"]))},{default:H(()=>[k(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(c.$t("viewProfile")),1)]),_:2},1032,["to"]),o(t).loggedIn&&o(t).user.id===I.users.id?(x(),A("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:j=>St(I.id)},[k(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,ar)):S("",!0)])])])])):S("",!0)])],2),o(t).loggedIn?R((x(),A("div",or,[l("div",rr,[l("div",nr,[R(l("textarea",{id:"reply-"+I.id,"onUpdate:modelValue":f[17]||(f[17]=j=>qe(se)?se.value=j:null),class:Y(["mt-2 w-full input form-input",[{"cursor-not-allowed":o(Re)},{"theme-color-secondary textarea":V}]]),readonly:o(Re),cols:"30",rows:o(se)!=null&&o(se)!=""?"4":"0",placeholder:c.$t("comments.replies.write"),maxlength:He,"data-gramm":"false"},null,10,lr),[[Le,o(se)]]),R(l("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(o(Ot)),513),[[P,o(se)!=null&&o(se)!=""]]),l("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:Ce(j=>qt(I.id),["prevent"])},[R(k(U,{name:"i-carbon-send-filled",class:"text-xl transition-all duration-100 cursor-pointer text-colored"},null,512),[[P,o(se)!=null&&o(se)!=""&&!o(Re)]]),R(k(Oe,null,null,512),[[P,o(Re)]])],8,ir)])])],512)),[[P,o(Ve)===I.id]]):S("",!0),l("div",{id:"comment-replies-"+I.id,class:"hidden flex-col mt-2"},[o(ue)[I.id]&&o(ue)[I.id].length?(x(),A("div",dr,[l("span",ur,g(c.$t("comments.replies.replies")),1),l("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:j=>Ne(I.id)},g(c.$t("hide")),9,mr)])):S("",!0),(x(!0),A(we,null,be(o(ue)[I.id],j=>(x(),A("div",{key:j.id,class:Y(["p-3 mb-2 w-full rounded-md border-l-4",V?"theme-color-secondary":"theme-color"])},[l("div",pr,[k(W,{to:"/profile/"+j.users.username,class:"flex flex-row leading-6"},{default:H(()=>[l("img",{class:"mr-2 w-6 h-6 rounded-full",src:c.avatarCoverUrl(j.users.avatar_bucket,j.users.avatar_filename),onError:f[18]||(f[18]=(...Ge)=>c.imageLoadError&&c.imageLoadError(...Ge))},null,40,hr),l("span",wr,g(j.users.name),1)]),_:2},1032,["to"]),l("span",fr,g(c.formatDate(j.created_at,!0)),1)]),l("div",vr,g(j.content),1),o(t).loggedIn?(x(),A("div",yr,[gr,l("div",br,[l("span",{class:"reaction",onClick:Ge=>o(xe).includes(j.id)?Et(j.id):Mt(j.id)},[R(k(U,{id:"reply-like-button-"+j.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[P,o(xe).includes(j.id)]]),R(k(U,{name:"i-ri-heart-3-line",class:"text-gray-500 hover:text-red-500"},null,512),[[P,!o(xe).includes(j.id)]]),T(" "+g(c.shortNumber(j._count.artwork_comment_reply_has_likes)),1)],8,kr),l("div",_r,[l("button",xr,[l("span",null,[k(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),l("div",Cr,[l("div",$r,[k(W,{to:"/profile/"+j.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[19]||(f[19]=Ce(()=>{},["prevent"]))},{default:H(()=>[k(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(c.$t("viewProfile")),1)]),_:2},1032,["to"]),o(t).loggedIn&&o(t).user.id===j.users.id?(x(),A("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ge=>Tt(I.id,j.id)},[k(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(c.$t("delete")),1)],8,Ar)):S("",!0)])])])])])):S("",!0)],2))),128)),o(ue)[I.id]&&o(Fe)?(x(),A("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:j=>Ut(I.id)},g(c.$t("comments.replies.loadMore")),9,Ir)):S("",!0)],8,cr)])])),[[Kt]])),128))]),o(C)._count?R((x(),A("div",{key:2,class:"text-center capitalize href",onClick:f[20]||(f[20]=Ce(I=>At(o(C).id),["prevent"]))},g(c.$t("comments.loadOlder")),513)),[[P,o(C)._count.artwork_comments>3&&o(Ue)]]):S("",!0),R(l("div",{class:"w-full text-xs italic text-center"},g(c.$t("comments.reachedTheEnd")),513),[[P,o(E).length&&!o(Ue)]]),o(t).loggedIn&&!o(E).length&&!o(z)?(x(),A("div",Rr,g(c.$t("comments.noCommentYet")),1)):S("",!0)])],2),o(ae)?S("",!0):(x(),te(Js,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:We,"work-id":o(C).id,class:"modal",onSave:jt},null,8,["work-id"])),!o(ae)&&o(t).loggedIn&&o(C).users&&o(t).user.id==o(C).users.id?(x(),te(o(ia),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:lt,class:"modal","modal-id":"album-selection-modal","work-id":o(C).id,onAddedToAlbum:Dt},null,8,["work-id"])):S("",!0),k(ma,{id:"work-deletion-confirm-modal",class:"modal","modal-id":"work-deletion-confirm-modal",message:`${c.$t("alert.areYouSure")} ${c.$t("alert.youCannotUndoThisAction")}`,onOnAccept:f[21]||(f[21]=I=>nt(o(C).id))},null,8,["message"]),k(Sa,{id:"report-modal",ref_key:"reportModalRef",ref:Qt,class:"modal",type:"artwork","post-id":o(C).id,"report-status":o(N)},null,8,["post-id","report-status"]),k(ja,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":o(C).id},null,8,["post-id"]),k(Ya,{id:"user-liked-modal",class:"modal","work-id":o(C).id},null,8,["work-id"]),R(k(st,{id:"copy-alert",text:c.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[P,o(it)]])],2),[[P,!o(ae)]])],64)}}},Br=ke(Sr,[["__scopeId","data-v-dab9ca46"]]);export{Br as M,Ze as P,st as S,ma as _,Js as a,is as b,tt as c,Gs as d,Us as e,ia as f,ut as u};
