import{k as oe,j as X,Z as Ze,l as Re,r as w,o,p as r,P as ae,Q as re,q as t,e as d,w as Z,s as V,t as n,x as i,G as Q,b as M,v as P,K as L,u as e,c as G,L as y,H as te,y as je,M as $e,N as xe,m as me,E as Ae,C as Me,F as ue,Y as Fe,D as Oe,a1 as Xe,O as et}from"./entry.ae51314b.js";import{J as tt,u as Pe,P as ie}from"./ProBadge.de1f3ff6.js";import{M as he,_ as fe,b as Ue,d as ge,S as be,c as ke,e as _e,f as ot}from"./ModalView.7fc791b0.js";import{u as Ce,L as st}from"./Layout.288d44a5.js";import{u as lt}from"./useFeed.607ee023.js";import{I as ze,F as at}from"./FeedModalView.486a4728.js";import{_ as se}from"./_plugin-vue_export-helper.a1a6add7.js";import{W as Ie}from"./WorkList.3a9e5f28.js";import{_ as de}from"./LoadingEmptyErrorMessage.b2b53b6c.js";import{u as rt}from"./useSetting.f194dec2.js";import{u as Ve}from"./useI18n.cfe5bfdd.js";import{u as Se}from"./useUser.9e6a9c73.js";import{U as De}from"./UserList.c96db864.js";const ye=m=>($e("data-v-bfe1db0e"),m=m(),xe(),m),it={class:"left-0 w-full md:w-2/3"},nt={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},dt={class:"w-full"},ct={key:0,class:"p-4 user-info"},ut=["src"],mt={class:"name"},ft=ye(()=>t("br",null,null,-1)),pt=ye(()=>t("span",{class:"mx-1"},"\xB7",-1)),wt={class:"text-xxs"},vt={class:"px-2 md:px-4"},ht=["id","innerHTML"],gt=["id","onClick"],bt={key:1,class:"my-2 w-full rounded-md theme-color"},kt={key:0,class:"p-2 md:p-4 user-info"},_t=["src"],yt={class:"name"},$t=ye(()=>t("br",null,null,-1)),xt=ye(()=>t("span",{class:"mx-1"},"\xB7",-1)),Mt={class:"px-2 mt-2 md:px-4"},Ct={class:"text-xs font-semibold"},It=["id"],Lt=["id","onClick"],Et=["onClick"],At={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},Ft={class:"mx-auto mt-2 primary-button"},Pt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},St={class:"mx-auto mt-2 primary-button"},Tt={class:"float-right mx-4 mt-2 interactions"},Bt={key:0,class:"reactions"},zt=["onClick"],Rt=["onClick"],jt={class:"option dropdown"},Ot=["onClick"],Ut={class:"option-dropdown dropdown-menu"},Vt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Dt={class:"menu-wrapper"},Nt={key:0,class:"custom-divider"},Ht=["to"],qt={class:"mx-auto text-center"},Wt={class:"mx-auto mt-10 text-center"},Gt=ye(()=>t("b",null,"(\u3186_\u3186)",-1)),Yt={class:"mx-auto text-center"},Kt={id:"chronological-feed-modal",class:"modal work-view"},Jt={id:"artwork-modal",class:"modal work-view"},Qt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(m){const T=m,h=oe(),{oApiConfiguration:a,fetchOptions:A}=X(),f=lt(a,A()),{generateArtworkThumb:g}=Ze();Re();const k=w(0),_=w(0),u=(p,B)=>{k.value=p,_.value=B},z=w([]),x=w({page:0,perPage:10}),l=async({loaded:p})=>{const[B,U]=await f.getFeedByUserId({userId:T.userId,pagination:{page:x.value.page,perPage:x.value.perPage}});x.value.page+=1;for(let c=0;c<B.feeds.length;c++){const W=B.feeds[c];if(W.liked&&I.value.push(W.id),W.artworks){W.artworks.images=[],W.artworks.apply_explicit_filter=!1;for(let q=0;q<W.artworks.artwork_assets.length;q++)if(q<=3){const Y=await g(W.artworks.artwork_assets[q].bucket,W.artworks.artwork_assets[q].filename,"feed");W.artworks.images.push(Y)}W.artworks!=null&&(!h.loggedIn&&W.artworks.is_explicit||W.artworks.is_explicit&&!h.user.user_settings.show_explicit)&&(W.artworks.apply_explicit_filter=!0)}z.value.push(W)}p(B.feeds.length,x.value.perPage)},E=w(null),v=p=>{E.value.view(p),te().openModal("chronological-feed-modal")},C=w(null),F=(p,B,U)=>{B?z.value[U].artworks.apply_explicit_filter=!1:(C.value.view(p),te().openModal("artwork-modal"))},I=w([]),R=async p=>{const[B,U]=await f.like({feedId:p});if(B){I.value.push(p);const c=document.getElementById(`profileFeedLikeButton-${p}`);c.classList.add("animate-bounce"),setInterval(()=>{c.classList.remove("animate-bounce")},2500)}},O=async p=>{const[B,U]=await f.unlike({feedId:p});if(B){const c=I.value.indexOf(p);I.value.splice(c,1)}},s=(p,B,U,c)=>{Ue().readMore(p,B,U,c)},H=async()=>{const[p,B]=await f.remove(k.value);p&&z.value.splice(_.value,1)};return(p,B)=>{const U=je;return o(),r("div",it,[(o(!0),r(ae,null,re(e(z),(c,W)=>(o(),r("div",{key:c.id},[t("div",nt,[t("div",dt,[c.users?(o(),r("div",ct,[d(U,{to:"/profile/"+c.users.username},{default:Z(()=>[t("img",{class:"avatar",src:p.avatarCoverUrl(c.users.avatar_bucket,c.users.avatar_filename),onError:B[0]||(B[0]=(...q)=>p.imageLoadError&&p.imageLoadError(...q))},null,40,ut)]),_:2},1032,["to"]),t("div",mt,[d(U,{to:"/profile/"+c.users.username,class:"fullname"},{default:Z(()=>[V(n(c.users.name),1)]),_:2},1032,["to"]),ft,d(U,{to:"/profile/"+c.users.username,class:"username hover:underline"},{default:Z(()=>[V(" @"+n(c.users.username),1)]),_:2},1032,["to"]),pt,t("span",wt,n(p.formatDate(c.scheduled_post?c.scheduled_post:c.created_at,!0)),1)])])):i("",!0),t("div",vt,[t("p",{id:"feed-text-"+c.id,innerHTML:c.text.split("<br>").length>3&&c.text.length>300?`${c.text.slice(0,300)}...`:c.text},null,8,ht),c.text.split("<br>").length>3&&c.text.length>300?(o(),r("a",{key:0,id:"feed-read-more-"+c.id,class:"href",onClick:Q(q=>s(c.text,c.id,"feed-read-more-","feed-text-"),["prevent"])},n(p.$t("readMore")),9,gt)):i("",!0),c.artworks?(o(),r("div",bt,[c.artworks.users?(o(),r("div",kt,[d(U,{to:"/profile/"+c.artworks.users.username},{default:Z(()=>[t("img",{class:"avatar",src:p.avatarCoverUrl(c.artworks.users.avatar_bucket,c.artworks.users.avatar_filename),onError:B[1]||(B[1]=(...q)=>p.imageLoadError&&p.imageLoadError(...q))},null,40,_t)]),_:2},1032,["to"]),t("div",yt,[d(U,{to:"/profile/"+c.artworks.users.username,class:"fullname hover:href"},{default:Z(()=>[V(n(c.artworks.users.name),1)]),_:2},1032,["to"]),$t,d(U,{to:"/profile/"+c.artworks.users.username,class:"hover:underline text-xxs"},{default:Z(()=>[V(" @"+n(c.artworks.users.username),1)]),_:2},1032,["to"]),xt,d(U,{to:"/a/"+c.artworks.id,class:"hover:underline text-xxs"},{default:Z(()=>[V(n(p.formatDate(c.artworks.scheduled_post?c.artworks.scheduled_post:c.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):i("",!0),t("div",Mt,[t("span",Ct,n(c.artworks.title),1),M(t("p",null,[t("span",{id:"feed-description-"+c.artworks.id},n(c.artworks.description.length>300?`${c.artworks.description.slice(0,300)}...`:c.artworks.description),9,It),c.artworks.description.length>300?(o(),r("a",{key:0,id:"feed-read-more-"+c.artworks.id,class:"href",onClick:Q(q=>s(c.artworks.description,c.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},n(p.$t("readMore")),9,Lt)):i("",!0)],512),[[P,c.artworks.description]])]),t("div",null,[p.isMobile()?i("",!0):(o(),r("div",{key:0,class:L(["p-2",{"cursor-pointer":!c.artworks.apply_explicit_filter}]),onClick:Q(q=>F(c.artworks.id,c.artworks.apply_explicit_filter,W),["prevent"])},[t("div",{class:L(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":c.artworks.apply_explicit_filter}])},[d(ze,{class:L([{"blur-3xl unclickable":c.artworks.apply_explicit_filter},c.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:c.artworks},null,8,["class","work"]),c.artworks.apply_explicit_filter?(o(),r("div",At,[t("div",null,n(e(h).loggedIn?p.$t("explicitContentAlert"):p.$t("explicitContentAlertForGuest")),1),t("button",Ft,n(p.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)],10,Et)),p.isMobile()?(o(),G(U,{key:1,to:c.artworks.apply_explicit_filter?null:"/a/"+c.artworks.id,onClick:Q(q=>F(c.artworks.id,c.artworks.apply_explicit_filter,W),["prevent"]),class:"cursor-pointer"},{default:Z(()=>[t("div",{class:L(["overflow-hidden relative p-2 rounded-md",{"m-2":c.artworks.apply_explicit_filter}])},[d(ze,{class:L([{"blur-3xl unclickable":c.artworks.apply_explicit_filter},c.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:c.artworks},null,8,["class","work"]),c.artworks.apply_explicit_filter?(o(),r("div",Pt,[t("div",null,n(e(h).loggedIn?p.$t("explicitContentAlert"):p.$t("explicitContentAlertForGuest")),1),t("button",St,n(p.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)]),_:2},1032,["to","onClick"])):i("",!0)])])):i("",!0)]),t("div",Tt,[e(h).loggedIn?(o(),r("div",Bt,[t("span",{class:"leading-8",onClick:q=>e(I).includes(c.id)?O(c.id):R(c.id)},[M(d(y,{id:"profileFeedLikeButton-"+c.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[P,e(I).includes(c.id)]]),M(d(y,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[P,!e(I).includes(c.id)]]),V(" "+n(p.thousand(c._count.feed_likes)),1)],8,zt),t("span",{class:"leading-8",onClick:Q(q=>v(c.id),["prevent"])},[d(y,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),V(" "+n(p.thousand(c._count.feed_comments)),1)],8,Rt),t("div",jt,[t("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:q=>u(c.id,W)},[t("span",null,[d(y,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,Ot),t("div",Ut,[t("div",Vt,[t("div",Dt,[d(U,{to:"/feed/"+c.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Z(()=>[d(y,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),V(" "+n(p.$t("open")),1)]),_:2},1032,["to"]),d(U,{to:"/feed/"+c.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Z(()=>[d(y,{name:"i-ci-external-link",class:"mr-2 text-base"}),V(" "+n(p.$t("openInNewTab")),1)]),_:2},1032,["to"]),e(h).loggedIn&&c.user_id&&e(h).user.id===c.user_id?(o(),r("div",Nt)):i("",!0),e(h).loggedIn&&c.user_id&&e(h).user.id===c.user_id?(o(),r("div",{key:1,to:"/feed/"+c.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:B[2]||(B[2]=q=>p.openModal("profile-feed-deletion-confirm-modal"))},[d(y,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),V(" "+n(p.$t("delete")),1)],8,Ht)):i("",!0)])])])])])):i("",!0)])])])]))),128)),d(e(tt),{load:l,"is-initial":!1},{loading:Z(()=>[t("div",qt,[d(y,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":Z(()=>[t("div",Wt,[Gt,V(" "+n(p.$t("feeds.haventPostedAnyUpdate")),1)])]),"no-more":Z(()=>[t("div",Yt,n(p.$t("youHaveReachedTheEnd")),1)]),_:1}),t("div",Kt,[d(at,{ref_key:"chronologicalFeedModalViewRef",ref:E,section:"chronological-feed"},null,512)]),t("div",Jt,[d(he,{ref_key:"artworkModalViewRef",ref:C,section:"artwork"},null,512)]),d(fe,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${p.$t("alert.areYouSure")} ${p.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:B[3]||(B[3]=c=>H())},null,8,["message"])])}}},Zt=se(Qt,[["__scopeId","data-v-bfe1db0e"]]);const Xt={id:"lists"},eo=["id"],to={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1},sortBy:{type:String,default:"default"}},emits:["feedSelectedItems","onEmpty"],setup(m,{emit:T}){const h=m,{oApiConfiguration:a,fetchOptions:A}=X(),f=Pe(a,A()),g="profile",k=w(!0);me(()=>{_()});const _=async()=>{z.value.page=0;const[U,c]=await x();u.value=U,c.record_total<=z.value.perPage&&v(),c.record_total===0&&R()};Ae(()=>h.sortBy,()=>{_()});const u=w([]),z=w({perPage:24,page:0}),x=async()=>{z.value.page===0&&(k.value=!0);const[U,c,W]=await f.getUserArtworks({userId:h.userId,sortBy:h.sortBy,pagination:{page:z.value.page,perPage:z.value.perPage}});if(W)s();else return c.record_total<=z.value.perPage&&v(),c.record_total===0&&R(),z.value.page+=1,l(),[U,c]},l=()=>{k.value=!1,I.value=!1,O.value=!1},E=w(!0),v=()=>{E.value=!1},C=w({delay:!1}),F=async()=>{C.value.delay=!0;const[U,c]=await x();for(let W=0;W<U.length;W++)u.value.push(U[W]);C.value.delay=!1,dataPagination.next_previous.next_page||v(),dataPagination.next_previous.next_page&&dataPagination.current_page===C.maxLoad&&(v(),C.showDiscoveryButton=!0)},I=w(!1),R=()=>{I.value=!0,v(),T("onEmpty")},O=w(!1),s=()=>{k.value=!1,O.value=!0,v()},H=w(null),p=(U,c=!1)=>{H.value.view(U,c),te().openModal(g+"-modal")},B=U=>{T("feedSelectedItems",U)};return(U,c)=>(o(),r("div",Xt,[M(t("div",null,[M(d(Ie,{"section-class":"work-grid",works:e(u),view:p,"manage-mode":m.manageMode,onFeedManageList:B},null,8,["works","manage-mode"]),[[P,!e(I)]]),M(t("div",{class:L(["primary-button",e(C).delay?"animate-pulse":""]),onClick:F},n(U.$t("loadMore")),3),[[P,e(E)]])],512),[[P,!e(k)]]),d(de,{loading:e(k),empty:e(I),error:e(O),fetch:x,"background-color":"theme-color-secondary",class:"mt-2"},null,8,["loading","empty","error"]),t("div",{id:g+"-modal",class:"modal work-view"},[M(d(he,{ref_key:"profileModalViewRef",ref:H,section:g},null,512),[[P,!e(k)]])],8,eo)]))}},oo=se(to,[["__scopeId","data-v-40531e51"]]);const so={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},lo={class:"title"},ao=["name"],ro=["placeholder"],io=["placeholder"],no=["for"],co=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),uo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},mo=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),fo=[mo],po={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},wo=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),vo=[wo],ho={class:"flex flex-row gap-x-1"},go={class:"flex flex-row gap-2 justify-end mt-2"},bo={type:"submit",class:"primary-button"},ko={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:T}){const h=m,a=oe(),{t:A}=Me(),{oApiConfiguration:f,fetchOptions:g}=X(),k=ge(f,g()),_="create-album-form",u=w({title:"",description:"",isPublic:1,category:"artwork"}),z=async()=>{Ce().validate(_,A);try{let x=!1,l={};if(h.category){const[E,v,C]=await k.createAlbum(h.category,u.value);x=E,l=v}x&&(te().closeModal(h.modalId),T("created",l))}catch{}};return(x,l)=>(o(),r("div",null,[t("div",so,[t("div",null,[t("span",lo,n(x.$t("albums.create.form.title")),1),t("form",{id:_,class:"mt-2",onSubmit:l[4]||(l[4]=Q(E=>z(),["prevent"]))},[t("n-validate",{for:"title",name:x.$t("title")},[M(t("input",{"onUpdate:modelValue":l[0]||(l[0]=E=>e(u).title=E),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:x.$t("title")},null,8,ro),[[ue,e(u).title]])],8,ao),M(t("textarea",{"onUpdate:modelValue":l[1]||(l[1]=E=>e(u).description=E),class:"form-input theme-color-secondary",placeholder:x.$t("description"),"data-gramm":"false"},null,8,io),[[ue,e(u).description]]),t("label",{for:e(u).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:l[2]||(l[2]=E=>e(a).i502p00r0?e(u).isPublic=!e(u).isPublic:e(u).isPublic=!0)},[co,e(u).isPublic?(o(),r("span",uo,fo)):i("",!0),e(u).isPublic?i("",!0):(o(),r("span",po,vo))]),t("div",ho,[t("span",{class:L(["ml-2 inline-block",{"leading-6":!e(a).i502p00r0}])},n(x.$t("private")),3),e(a).i502p00r0?i("",!0):(o(),G(ie,{key:0}))])],8,no),t("div",go,[t("button",{class:"cancel-button",onClick:l[3]||(l[3]=Q(E=>x.closeModal(m.modalId),["prevent"]))},n(x.$t("cancel")),1),t("button",bo,n(x.$t("create")),1)])],32)])])]))}};const _o={id:"lists"},yo={class:"p-4 mb-2 w-full rounded-md theme-color-secondary"},$o={class:"mb-2 text-base font-bold"},xo={class:"mb-2"},Mo={class:"italic"},Co=["id"],Io={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(m,{expose:T,emit:h}){const a=m,{oApiConfiguration:A,fetchOptions:f}=X(),g=ge(A,f()),k=w(a.id);Ae(()=>a.id,(p,B)=>{k.value=p}),me(async()=>{await z()});const _=w(!0),u=w({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),z=async()=>{_.value=!0,await x(),await l(),_.value=!1},x=async()=>{const[p,B]=await g.getInfo(k.value);u.value.info=p.data},l=async()=>{const[p,B,U]=await g.listAlbumItems({albumId:k.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});B?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,p!==null&&p.length?(p.forEach(c=>{u.value.list.push(c.artworks)}),h("onAlbumEmpty",!1)):(u.value.empty=!0,h("onAlbumEmpty",!0))},E=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},v=w([]),C=p=>{v.value=p,h("feedManageList",p)},F=w(!1);let I;const R=async()=>{const[p,B]=await g.removeItems(a.id,v.value);p&&(ke().splash(I,F,"item-removed-alert"),E(),await z())},O=w("album"),s=w(null),H=(p,B=!1)=>{s.value.view(p,B),te().openModal(O.value+"-modal")};return T({fetchInfo:x,removeItems:R}),(p,B)=>(o(),r("div",_o,[t("div",yo,[t("div",$o,n(e(u).info.name),1),t("div",xo,n(e(u).info.description),1),t("div",null,[t("b",null,n(p.$t("private"))+":",1),V(),t("span",Mo,n(e(u).info.is_public?p.$t("no"):p.$t("yes")),1)]),t("div",null,[t("b",null,n(p.$t("createdAt")),1),V(" "+n(p.formatDate(e(u).info.created_at)),1)])]),M(t("div",null,[M(d(Ie,{"section-class":"work-grid",works:e(u).list,view:H,"manage-mode":m.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[P,!e(u).empty]]),M(t("div",{class:"primary-button",onClick:B[0]||(B[0]=U=>l())},n(p.$t("loadMore")),513),[[P,e(u).loadMore]])],512),[[P,!e(_)]]),d(de,{loading:e(_),empty:e(u).empty,error:!1,fetch:z,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(_)?i("",!0):(o(),r("div",{key:0,id:e(O)+"-modal",class:"modal work-view"},[d(he,{ref_key:"albumModalViewRef",ref:s,section:e(O)},null,8,["section"])],8,Co)),M(d(be,{id:"item-removed-alert",text:p.$t("albums.itemRemoved")},null,8,["text"]),[[P,e(F)]])]))}},Lo=se(Io,[["__scopeId","data-v-36c4a1d3"]]),Eo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ao={class:"title"},Fo=["name"],Po=["placeholder"],So=["placeholder"],To=["for"],Bo=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),zo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ro=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),jo=[Ro],Oo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Uo=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Vo=[Uo],Do={class:"flex flex-row gap-x-1"},No={class:"flex flex-row gap-2 justify-end mt-2"},Ho={type:"submit",class:"primary-button"},qo={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:T,emit:h}){const a=m,A=oe(),{oApiConfiguration:f,fetchOptions:g}=X(),k=ge(f,g()),{t:_}=Me(),u=w(!0),z=async C=>{if(C){v(),u.value=!0;const[F,I]=await k.getInfo(C),R=F.data;l.value.id=C,l.value.name=R.name,l.value.description=R.description,l.value.isPublic=!!R.is_public,u.value=!1}},x="update-album-form",l=w({id:0,name:"",description:"",isPublic:!1}),E=async()=>{Ce().validate(x,_);const[C,F]=await k.update({id:l.value.id,name:l.value.name,description:l.value.description,isPublic:l.value.isPublic?1:0});F||(te().closeModal(a.modalId),h("updated",l.value),v())},v=()=>{l.value={id:0,name:"",description:"",isPublic:0}};return T({fetch:z}),(C,F)=>(o(),r("div",null,[t("div",Eo,[t("div",null,[t("span",Ao,n(C.$t("albums.edit.form.title")),1),e(u)?i("",!0):(o(),r("form",{key:0,id:x,class:"mt-2",onSubmit:F[4]||(F[4]=Q(I=>E(),["prevent"]))},[t("n-validate",{for:"title",name:C.$t("title")},[M(t("input",{"onUpdate:modelValue":F[0]||(F[0]=I=>e(l).name=I),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:C.$t("title")},null,8,Po),[[ue,e(l).name]])],8,Fo),M(t("textarea",{"onUpdate:modelValue":F[1]||(F[1]=I=>e(l).description=I),class:"form-input theme-color-secondary",placeholder:C.$t("description"),"data-gramm":"false"},null,8,So),[[ue,e(l).description]]),t("label",{for:e(l).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:F[2]||(F[2]=I=>e(A).i502p00r0?e(l).isPublic=!e(l).isPublic:e(l).isPublic=!0)},[Bo,e(l).isPublic?(o(),r("span",zo,jo)):i("",!0),e(l).isPublic?i("",!0):(o(),r("span",Oo,Vo))]),t("div",Do,[t("span",{class:L(["ml-2",{"leading-6":!e(A).i502p00r0}])},n(C.$t("private")),3),e(A).i502p00r0?i("",!0):(o(),G(ie,{key:0}))])],8,To),t("div",No,[t("button",{class:"cancel-button",onClick:F[3]||(F[3]=Q(I=>C.closeModal(m.modalId),["prevent"]))},n(C.$t("cancel")),1),t("button",Ho,n(C.$t("save")),1)])],32))])])]))}},Ne=""+new URL("folder.11be08fa.png",import.meta.url).href;const He=m=>($e("data-v-25fd9644"),m=m(),xe(),m),Wo={class:"mb-2"},Go={key:0},Yo=["src"],Ko={key:1},Jo={class:"relative text-center"},Qo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Zo={class:"overflow-hidden rounded-md"},Xo=["src"],es={key:2,class:"imgrid"},ts={class:"relative text-center"},os={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ss={class:"overflow-hidden rounded-md"},ls=["src"],as=He(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),rs=He(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),is={key:3,class:"imgrid"},ns={class:"relative text-center"},ds={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},cs={class:"overflow-hidden rounded-md"},us=["src"],ms={key:4,class:"imgrid"},fs={class:"relative text-center"},ps={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ws={class:"overflow-hidden rounded-md"},vs=["src"],hs={key:5,class:"imgrid"},gs={key:0,class:"relative text-center"},bs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ks={class:"overflow-hidden rounded-md"},_s=["src"],ys={key:1,class:"relative text-center"},$s={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},xs={class:"overflow-hidden rounded-md"},Ms=["src"],Cs={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(m){const T=oe(),h={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(a,A)=>(o(),r("div",Wo,[!m.album.album_has_artworks||m.album._count.album_has_artworks===0?(o(),r("div",Go,[t("img",{src:e(Ne),class:"rounded"},null,8,Yo)])):i("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),r("div",Ko,[t("div",Jo,[a.applyExplicitFilter(e(T),m.album.album_has_artworks[0].artworks.is_explicit,m.album.album_has_artworks[0].artworks.is_gore)?(o(),r("span",Qo,n(a.$t("explicitContent")),1)):i("",!0),t("div",Zo,[m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),r("img",{key:0,src:a.artworkThumb(m.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,m.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:L(["object-cover object-top rounded",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),m.album.album_has_artworks[0].artworks.is_explicit,m.album.album_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...f)=>a.imageLoadError&&a.imageLoadError(...f))},null,42,Xo)):i("",!0)])])])):i("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===2?(o(),r("div",es,[(o(!0),r(ae,null,re(m.album.album_has_artworks,(f,g)=>(o(),r("div",{key:g,class:L(h[2][g])},[t("div",ts,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",os,n(a.$t("explicitContent")),1)):i("",!0),t("div",ss,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,ls)])])],2))),128)),as,rs])):i("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===3?(o(),r("div",is,[(o(!0),r(ae,null,re(m.album.album_has_artworks,(f,g)=>(o(),r("div",{key:g,class:L(h[3][g])},[t("div",ns,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",ds,n(a.$t("explicitContent")),1)):i("",!0),t("div",cs,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,us)])])],2))),128))])):i("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===4?(o(),r("div",ms,[(o(!0),r(ae,null,re(m.album.album_has_artworks,(f,g)=>(o(),r("div",{key:g},[t("div",fs,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",ps,n(a.$t("explicitContent")),1)):i("",!0),t("div",ws,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,vs)])])]))),128))])):i("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks>4?(o(),r("div",hs,[(o(!0),r(ae,null,re(m.album.album_has_artworks,(f,g)=>(o(),r("div",{key:g},[g<3?(o(),r("div",gs,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",bs,n(a.$t("explicitContent")),1)):i("",!0),t("div",ks,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,_s)])])):(o(),r("div",ys,[t("span",$s,"+"+n(m.album._count.album_has_artworks-4),1),t("div",xs,[t("img",{src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:L(["z-0 brightness-50",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),onError:A[5]||(A[5]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,Ms)])]))]))),128))])):i("",!0)]))}},Is=se(Cs,[["__scopeId","data-v-25fd9644"]]);const Ls={class:"mb-2 w-full"},Es={key:0,class:"flex flex-row justify-between"},As={class:"flex flex-row"},Fs={key:0},Ps={key:1,class:"flex flex-row justify-between"},Ss={class:"flex flex-row"},Ts={class:"flex flex-row gap-2"},Bs={class:"flex flex-row gap-2"},zs={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Rs=["onClick"],js={class:"flex flex-row pb-1 mt-4 font-bold"},Os={class:"text-xs font-normal"},Us={__name:"Album",props:{userId:{type:Number,default:0}},setup(m){const T=m,h=oe(),{oApiConfiguration:a,fetchOptions:A}=X(),f=ge(a,A());Fe(()=>{z()}),me(()=>{v()});const g=w(!0),k=w("artwork"),_=w(0),u=w(!1),z=async()=>{if(h.i502p00r0)u.value=!0;else{const[S,j]=await f.proCanCreateAlbum({type:k.value});j?u.value=!1:u.value=S}},x=w([]),l=w({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),E=w({artwork:0}),v=async()=>{g.value=!0;const[S,j,N]=await f.fetchAlbums(T.userId,k.value,l.value.pagination.page===0?l.value.pagination.firstLoad:l.value.pagination.perPage,l.value.pagination.page);if(N)O();else{S.length||(l.value.manageMode=!1,I()),S.forEach(ee=>{x.value.push(ee)}),l.value.pagination.page+=l.value.pagination.firstLoad/l.value.pagination.perPage,l.value.showLoadMore=j;const[ce]=await f.countArtworkAlbums(T.userId);E.value.artwork=ce}g.value=!1},C=async()=>await v(),F=w(!1),I=()=>{F.value=!0,l.value.showLoadMore=!1},R=w(!1),O=()=>{g.value=!1,R.value=!0,l.value.showLoadMore=!1},s=async()=>{g.value=!1,F.value=!1,R.value=!1,l.value.pagination.page=0,x.value=[],await v()},H=w(!1);let p;const B=async()=>{await z(),ke().splash(p,H,"created-alert"),await s()},U=w(null),c=()=>{U.value.fetch(_.value),te().openModal("album-edit-form-modal")},W=w(null),q=S=>{W.value.fetchInfo(),x.value.forEach(j=>{j.id===S.id&&(j.name=S.name,j.description=S.description,j.is_public=S.isPublic)})},Y=()=>{W.value.removeItems()},K=w([]),pe=S=>{K.value=S},we=async()=>{if(_.value!==0){const[S,j]=await f.deleteAlbum(_.value);S&&(await z(),_.value=0,s())}},J=S=>{l.value.showManageButton=!S,l.value.manageMode=!1},ne=()=>{_.value=0,l.value.showManageButton=!1,l.value.manageMode=!1};return(S,j)=>(o(),r("div",null,[t("div",Ls,[e(_)?i("",!0):(o(),r("div",Es,[t("div",As,[t("div",{class:L(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(k)==="artwork"}]),onClick:j[0]||(j[0]=N=>k.value="artwork")},[V(n(S.$t("artworks.artwork"))+" ",1),t("span",{class:L(["px-1 ml-2 font-normal rounded",e(k)==="artwork"?"theme-color":"button-color text-white"])},n(S.thousand(e(E).artwork)),3)],2)]),e(h).loggedIn&&e(h).user.id===m.userId?(o(),r("div",Fs,[t("div",{class:"flex flex-row icon-button",onClick:j[1]||(j[1]=N=>e(u)?S.openModal("album-form-modal"):null)},[d(y,{name:"i-ion-add-outline"}),e(u)?i("",!0):(o(),G(ie,{key:0,class:"ml-1"}))])])):i("",!0)])),e(_)?(o(),r("div",Ps,[t("div",null,[t("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=N=>ne())},[d(y,{name:"i-ic-baseline-keyboard-arrow-left"})])]),t("div",Ss,[M(t("div",Ts,[t("button",{onClick:j[3]||(j[3]=N=>e(l).manageMode=!e(l).manageMode),class:L(["action-button",e(l).manageMode?"danger-button":"secondary-button"])},[d(y,{name:e(l).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+n(e(l).manageMode?S.$t("quit"):S.$t("manage")),1)],2),M(t("button",{onClick:j[4]||(j[4]=N=>e(K).length>0?S.openModal("item-deletion-confirm-modal"):null),class:L(["flex flex-row",e(K).length>0?"danger-button":"disabled-button cursor-not-allowed"])},[d(y,{name:"i-akar-icons-trash-bin"}),V(" "+n(S.$t("albums.removeSelected")),1)],2),[[P,e(l).manageMode]])],512),[[P,e(h).loggedIn&&e(h).user.id===m.userId&&e(l).showManageButton]]),M(t("div",Bs,[t("button",{class:"icon-button",onClick:j[5]||(j[5]=N=>c())},[d(y,{name:"i-ph-gear-six"})]),t("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=N=>S.openModal("album-deletion-confirm-modal"))},[d(y,{name:"i-akar-icons-trash-bin"})])],512),[[P,e(h).loggedIn&&e(h).user.id===m.userId&&!e(l).manageMode]])])])):i("",!0),M(t("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(S.$t("albums.manageModeActiveMessage")),513),[[P,e(l).manageMode]])]),e(_)?i("",!0):(o(),r("div",zs,[(o(!0),r(ae,null,re(e(x),N=>(o(),r("div",{key:N.id,class:L(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ce=>_.value=N.id},[N.type==="artwork"?(o(),G(Is,{key:0,album:N},null,8,["album"])):i("",!0),t("div",js,[N.is_public?i("",!0):(o(),G(y,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),t("span",Os,n(N.name),1)])],10,Rs))),128))])),e(l).showLoadMore&&!e(_)?(o(),r("div",{key:1,class:"mt-4 w-full primary-button",onClick:C},n(S.$t("loadMore")),1)):i("",!0),d(de,{loading:e(g),empty:e(F),error:e(R),fetch:v,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(g)&&!e(_)?(o(),G(ko,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:e(k),class:"modal",onCreated:B},null,8,["category"])):i("",!0),M(d(be,{id:"created-alert",text:S.$t("albums.created")},null,8,["text"]),[[P,e(H)]]),!e(g)&&e(_)?(o(),G(qo,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:U,"modal-id":"album-edit-form-modal","album-id":e(_),class:"modal",onUpdated:q},null,8,["album-id"])):i("",!0),d(fe,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:we},null,8,["message"]),d(fe,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:Y},null,8,["message"]),e(_)&&!e(g)?(o(),G(Lo,{key:4,id:e(_),ref_key:"albumDetailRef",ref:W,"manage-mode":e(l).manageMode,onOnAlbumEmpty:J,onFeedManageList:pe},null,8,["id","manage-mode"])):i("",!0)]))}},Vs=se(Us,[["__scopeId","data-v-a912e056"]]);const Ds={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ns={class:"title"},Hs=["placeholder"],qs=["placeholder"],Ws=["for"],Gs=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Ys={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Ks=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Js=[Ks],Qs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Zs=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Xs=[Zs],el={class:"flex flex-row gap-x-1"},tl={class:"flex flex-row gap-2 justify-end mt-2"},ol={type:"submit",class:"primary-button"},sl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:T}){const h=m,a=oe(),{oApiConfiguration:A,fetchOptions:f}=X(),g=_e(A,f()),{t:k}=Me(),_="create-collection-form",u=w({title:"",description:"",isPublic:1,category:"artwork"}),z=async()=>{Ce().validate(_,k);try{let x=!1,l={};if(h.category){const[E,v,C]=await g.createCollection(h.category,u.value);C||(x=E,l=v)}x&&(te().closeModal(h.modalId),T("created",l))}catch{}};return(x,l)=>(o(),r("div",null,[t("div",Ds,[t("div",null,[t("span",Ns,n(x.$t("collections.create.form.title")),1),t("form",{id:_,class:"mt-2",onSubmit:l[4]||(l[4]=Q(E=>z(),["prevent"]))},[t("n-validate",null,[M(t("input",{"onUpdate:modelValue":l[0]||(l[0]=E=>e(u).title=E),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:x.$t("title")},null,8,Hs),[[ue,e(u).title]])]),M(t("textarea",{"onUpdate:modelValue":l[1]||(l[1]=E=>e(u).description=E),class:"form-input theme-color-secondary",placeholder:x.$t("description"),"data-gramm":"false"},null,8,qs),[[ue,e(u).description]]),t("label",{for:e(u).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:l[2]||(l[2]=E=>e(a).i502p00r0?e(u).isPublic=!e(u).isPublic:e(u).isPublic=!0)},[Gs,e(u).isPublic?(o(),r("span",Ys,Js)):i("",!0),e(u).isPublic?i("",!0):(o(),r("span",Qs,Xs))]),t("div",el,[t("span",{class:L(["ml-2 inline-block",{"leading-6":!e(a).i502p00r0}])},n(x.$t("private")),3),e(a).i502p00r0?i("",!0):(o(),G(ie,{key:0}))])],8,Ws),t("div",tl,[t("button",{class:"cancel-button",onClick:l[3]||(l[3]=Q(E=>x.closeModal(m.modalId),["prevent"]))},n(x.$t("cancel")),1),t("button",ol,n(x.$t("create")),1)])],32)])])]))}};const ll={id:"lists"},al={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},rl={class:"text-base font-bold mb-2"},il={class:"mb-2"},nl={class:"italic"},dl=["id"],cl={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(m,{expose:T,emit:h}){const a=m,{oApiConfiguration:A,fetchOptions:f}=X(),g=_e(A,f()),k=w(a.id);Ae(()=>a.id,(p,B)=>{k.value=p}),me(async()=>{await z()});const _=w(!0),u=w({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),z=async()=>{_.value=!0,await x(),await l(),_.value=!1},x=async()=>{const[p,B]=await g.getInfo(k.value);u.value.info=p.data},l=async()=>{const[p,B,U]=await g.listCollectionItems({collectionId:k.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});B?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,p!==null&&p.length?(p.forEach(c=>{u.value.list.push(c.artworks)}),h("onCollectionEmpty",!1)):(u.value.empty=!0,h("onCollectionEmpty",!0))},E=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},v=w([]),C=p=>{v.value=p,h("feedManageList",p)},F=w(!1);let I;const R=async()=>{const[p,B]=await g.removeItem({collectionId:a.id,type:a.type,workId:v.value});B||(ke().splash(I,F,"item-removed-alert"),E(),await z(),h("feedManageList",[]))},O=w("collection"),s=w(null),H=(p,B=!1)=>{s.value.view(p,B),te().openModal(O.value+"-modal")};return T({fetchInfo:x,removeItem:R}),(p,B)=>(o(),r("div",ll,[t("div",al,[t("div",rl,n(e(u).info.name),1),t("div",il,n(e(u).info.description),1),t("div",null,[t("b",null,n(p.$t("private"))+":",1),V(),t("span",nl,n(e(u).info.is_public?p.$t("no"):p.$t("yes")),1)]),t("div",null,[t("b",null,n(p.$t("createdAt")),1),V(" "+n(p.formatDate(e(u).info.created_at)),1)])]),M(t("div",null,[M(d(Ie,{"section-class":"work-grid",works:e(u).list,view:H,"manage-mode":m.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[P,!e(u).empty]]),M(t("div",{class:"primary-button",onClick:B[0]||(B[0]=U=>l())},n(p.$t("loadMore")),513),[[P,e(u).loadMore]])],512),[[P,!e(_)]]),d(de,{loading:e(_),empty:e(u).empty,error:!1,fetch:z,"background-color":"theme-color-secondary"},null,8,["loading","empty"]),e(_)?i("",!0):(o(),r("div",{key:0,id:e(O)+"-modal",class:"modal work-view"},[d(he,{ref_key:"collectionModalViewRef",ref:s,section:e(O)},null,8,["section"])],8,dl)),M(d(be,{id:"item-removed-alert",text:p.$t("collections.itemRemoved")},null,8,["text"]),[[P,e(F)]])]))}},ul=se(cl,[["__scopeId","data-v-54139f41"]]),ml={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},fl={class:"title"},pl=["placeholder"],wl=["placeholder"],vl=["for"],hl=t("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),gl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},bl=t("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),kl=[bl],_l={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},yl=t("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),$l=[yl],xl={class:"flex flex-row gap-x-1"},Ml={class:"flex flex-row gap-2 justify-end mt-2"},Cl={type:"submit",class:"primary-button"},Il={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:T,emit:h}){const a=m,A=oe(),{oApiConfiguration:f,fetchOptions:g}=X(),k=_e(f,g()),{t:_}=Me(),u=w(!0),z=async C=>{if(C){v(),u.value=!0;const[F,I]=await k.getInfo(C);if(!I){const R=F.data;l.value.id=C,l.value.name=R.name,l.value.description=R.description,l.value.isPublic=!!R.is_public,u.value=!1}}},x="edit-collection-form",l=w({id:0,name:"",description:"",isPublic:!1}),E=async()=>{Ce().validate(x,_);const[C,F]=await k.update({id:l.value.id,name:l.value.name,description:l.value.description,isPublic:l.value.isPublic?1:0});F||(te().closeModal(a.modalId),h("updated",l.value),v())},v=()=>{l.value={id:0,name:"",description:"",isPublic:0}};return T({fetch:z}),(C,F)=>(o(),r("div",null,[t("div",{class:"hidden",onClick:F[0]||(F[0]=I=>z(0))}),t("div",ml,[t("div",null,[t("span",fl,n(C.$t("collections.edit.form.title")),1),e(u)?i("",!0):(o(),r("form",{key:0,id:x,class:"mt-2",onSubmit:F[5]||(F[5]=Q(I=>E(),["prevent"]))},[t("n-validate",null,[M(t("input",{"onUpdate:modelValue":F[1]||(F[1]=I=>e(l).name=I),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:C.$t("title")},null,8,pl),[[ue,e(l).name]])]),M(t("textarea",{"onUpdate:modelValue":F[2]||(F[2]=I=>e(l).description=I),class:"form-input theme-color-secondary",placeholder:C.$t("description"),"data-gramm":"false"},null,8,wl),[[ue,e(l).description]]),t("label",{for:e(l).isPublic?"checked":"unchecked",class:"inline-flex items-center"},[t("span",{class:"relative cursor-pointer",onClick:F[3]||(F[3]=I=>e(A).i502p00r0?e(l).isPublic=!e(l).isPublic:e(l).isPublic=!0)},[hl,e(l).isPublic?(o(),r("span",gl,kl)):i("",!0),e(l).isPublic?i("",!0):(o(),r("span",_l,$l))]),t("div",xl,[t("span",{class:L(["ml-2",{"leading-6":!e(A).i502p00r0}])},n(C.$t("private")),3),e(A).i502p00r0?i("",!0):(o(),G(ie,{key:0}))])],8,vl),t("div",Ml,[t("button",{class:"cancel-button",onClick:F[4]||(F[4]=Q(I=>C.closeModal(m.modalId),["prevent"]))},n(C.$t("cancel")),1),t("button",Cl,n(C.$t("save")),1)])],32))])])]))}};const qe=m=>($e("data-v-0f9e442e"),m=m(),xe(),m),Ll={class:"mb-2"},El={key:0},Al=["src"],Fl={key:1},Pl={class:"relative text-center"},Sl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Tl={class:"overflow-hidden rounded-md"},Bl=["src"],zl={key:2,class:"imgrid"},Rl={class:"relative text-center"},jl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ol={class:"overflow-hidden rounded-md"},Ul=["src"],Vl=qe(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),Dl=qe(()=>t("img",{class:"bg-gray-300 border-none"},null,-1)),Nl={key:3,class:"imgrid"},Hl={class:"relative text-center"},ql={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Wl={class:"overflow-hidden rounded-md"},Gl=["src"],Yl={key:4,class:"imgrid"},Kl={class:"relative text-center"},Jl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Ql={class:"overflow-hidden rounded-md"},Zl=["src"],Xl={key:5,class:"imgrid"},ea={key:0,class:"relative text-center"},ta={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},oa={class:"overflow-hidden rounded-md"},sa=["src"],la={key:1,class:"relative text-center"},aa={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},ra={class:"overflow-hidden rounded-md"},ia=["src"],na={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(m){const T=oe(),h={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(a,A)=>(o(),r("div",Ll,[!m.collection.collection_has_artworks||m.collection._count.collection_has_artworks===0?(o(),r("div",El,[t("img",{src:e(Ne),class:"rounded"},null,8,Al)])):i("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),r("div",Fl,[t("div",Pl,[a.applyExplicitFilter(e(T),m.collection.collection_has_artworks[0].artworks.is_explicit,m.collection.collection_has_artworks[0].artworks.is_gore)?(o(),r("span",Sl,n(a.$t("explicitContent")),1)):i("",!0),t("div",Tl,[m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),r("img",{key:0,src:a.artworkThumb(m.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,m.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:L(["object-cover object-top rounded",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),m.collection.collection_has_artworks[0].artworks.is_explicit,m.collection.collection_has_artworks[0].artworks.is_gore)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...f)=>a.imageLoadError&&a.imageLoadError(...f))},null,42,Bl)):i("",!0)])])])):i("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===2?(o(),r("div",zl,[(o(!0),r(ae,null,re(m.collection.collection_has_artworks,(f,g)=>(o(),r("div",{key:g,class:L(h[2][g])},[t("div",Rl,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",jl,n(a.$t("explicitContent")),1)):i("",!0),t("div",Ol,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,Ul)])])],2))),128)),Vl,Dl])):i("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===3?(o(),r("div",Nl,[(o(!0),r(ae,null,re(m.collection.collection_has_artworks,(f,g)=>(o(),r("div",{key:g,class:L(h[3][g])},[t("div",Hl,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",ql,n(a.$t("explicitContent")),1)):i("",!0),t("div",Wl,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,Gl)])])],2))),128))])):i("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===4?(o(),r("div",Yl,[(o(!0),r(ae,null,re(m.collection.collection_has_artworks,(f,g)=>(o(),r("div",{key:g},[t("div",Kl,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",Jl,n(a.$t("explicitContent")),1)):i("",!0),t("div",Ql,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,Zl)])])]))),128))])):i("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks>4?(o(),r("div",Xl,[(o(!0),r(ae,null,re(m.collection.collection_has_artworks,(f,g)=>(o(),r("div",{key:g},[g<3?(o(),r("div",ea,[a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)?(o(),r("span",ta,n(a.$t("explicitContent")),1)):i("",!0),t("div",oa,[t("img",{class:L(["theme-color",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,sa)])])):(o(),r("div",la,[t("span",aa,"+"+n(m.collection._count.collection_has_artworks-4),1),t("div",ra,[t("img",{src:a.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:L(["z-0 brightness-50",{"blur-sm brightness-50":a.applyExplicitFilter(e(T),f.artworks.is_explicit,f.artworks.is_gore)}]),onError:A[5]||(A[5]=(...k)=>a.imageLoadError&&a.imageLoadError(...k))},null,42,ia)])]))]))),128))])):i("",!0)]))}},da=se(na,[["__scopeId","data-v-0f9e442e"]]);const ca={class:"mb-2 w-full"},ua={key:0,class:"flex flex-row justify-between"},ma={class:"flex flex-row"},fa={key:0},pa={key:1,class:"flex flex-row justify-between"},wa={class:"flex flex-row"},va={class:"flex flex-row gap-2"},ha={class:"flex flex-row gap-2"},ga={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ba=["onClick"],ka={class:"flex flex-row pb-1 mt-4 font-bold"},_a={class:"text-xs font-normal"},ya={__name:"Collection",props:{userId:{type:Number,default:0}},setup(m){const T=m,h=oe();me(()=>{v()});const{oApiConfiguration:a,fetchOptions:A}=X(),f=_e(a,A());Fe(()=>{z()});const g=w(!0),k=w("artwork"),_=w(0),u=w(!1),z=async()=>{if(h.i502p00r0)u.value=!0;else{const[S,j]=await f.proCanCreateCollection({type:k.value});j?u.value=!1:u.value=S}},x=w([]),l=w({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),E=w({artwork:0}),v=async()=>{g.value=!0;const[S,j,N]=await f.fetchCollections({userId:T.userId,type:k.value,pagination:{page:l.value.pagination.page,perPage:l.value.pagination.page===0?l.value.pagination.firstLoad:l.value.pagination.perPage}});if(N)O();else{S.length||(l.value.manageMode=!1,I()),S.forEach(ee=>{x.value.push(ee)}),l.value.pagination.page+=l.value.pagination.firstLoad/l.value.pagination.perPage,l.value.showLoadMore=j;const[ce]=await f.countArtworkCollections(T.userId);E.value.artwork=ce}g.value=!1},C=async()=>await v(),F=w(!1),I=()=>{F.value=!0,l.value.showLoadMore=!1},R=w(!1),O=()=>{g.value=!1,R.value=!0,l.value.showLoadMore=!1},s=async()=>{g.value=!1,F.value=!1,R.value=!1,l.value.pagination.page=0,x.value=[],await v()},H=S=>{l.value.showManageButton=!0,S&&(l.value.showManageButton=!1)},p=w(!1);let B;const U=async()=>{await z(),ke().splash(B,p,"created-alert"),await s()},c=w(null),W=()=>{c.value.fetch(_.value),te().openModal("collection-edit-form-modal")},q=w(null),Y=S=>{q.value.fetchInfo(),x.value.forEach(j=>{j.id===S.id&&(j.name=S.name,j.description=S.description,j.is_public=S.isPublic)})},K=w([]),pe=S=>{K.value=S},we=()=>{q.value.removeItem()},J=async()=>{if(_.value!==0){const[S,j]=await f.deleteCollection(_.value);S&&(await z(),_.value=0,s())}},ne=()=>{_.value=0,l.value.showManageButton=!1,l.value.manageMode=!1};return(S,j)=>(o(),r("div",null,[t("div",ca,[e(_)?i("",!0):(o(),r("div",ua,[t("div",ma,[t("div",{class:L(["ml-0 primary-button theme-color-secondary",{"button-color text-white":e(k)==="artwork"}]),onClick:j[0]||(j[0]=N=>k.value="artwork")},[V(n(S.$t("artworks.artwork"))+" ",1),t("span",{class:L(["px-1 ml-2 font-normal rounded",e(k)==="artwork"?"theme-color":"button-color text-white"])},n(S.thousand(e(E).artwork)),3)],2)]),e(h).loggedIn&&e(h).user.id===m.userId?(o(),r("div",fa,[t("div",{class:"flex flex-row icon-button",onClick:j[1]||(j[1]=N=>e(u)?S.openModal("collection-form-modal"):null)},[d(y,{name:"i-ion-add-outline"}),e(u)?i("",!0):(o(),G(ie,{key:0,class:"ml-1"}))])])):i("",!0)])),e(_)?(o(),r("div",pa,[t("div",null,[t("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=N=>ne())},[d(y,{name:"i-ic-baseline-keyboard-arrow-left"})])]),t("div",wa,[M(t("div",va,[t("button",{class:L(["action-button",e(l).manageMode?"danger-button":"secondary-button"]),onClick:j[3]||(j[3]=N=>e(l).manageMode=!e(l).manageMode)},[d(y,{name:e(l).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+n(e(l).manageMode?S.$t("quit"):S.$t("manage")),1)],2),M(t("button",{onClick:j[4]||(j[4]=N=>e(K).length>0?S.openModal("item-deletion-confirm-modal"):null),class:L(["flex flex-row",e(K).length>0?"danger-button":"disabled-button cursor-not-allowed"])},[d(y,{name:"i-akar-icons-trash-bin"}),V(" "+n(S.$t("collections.removeSelected")),1)],2),[[P,e(l).manageMode]])],512),[[P,e(h).loggedIn&&e(h).user.id===m.userId&&e(l).showManageButton]]),M(t("div",ha,[t("button",{class:"icon-button",onClick:j[5]||(j[5]=N=>W())},[d(y,{name:"i-ph-gear-six"})]),t("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=N=>S.openModal("collection-deletion-confirm-modal"))},[d(y,{name:"i-akar-icons-trash-bin"})])],512),[[P,e(h).loggedIn&&e(h).user.id===m.userId&&!e(l).manageMode]])])])):i("",!0),M(t("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(S.$t("collections.manageModeActiveMessage")),513),[[P,e(l).manageMode]])]),e(_)?i("",!0):(o(),r("div",ga,[(o(!0),r(ae,null,re(e(x),N=>(o(),r("div",{key:N.id,class:L(["p-3 rounded-md cursor-pointer",N.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ce=>_.value=N.id},[N.type==="artwork"?(o(),G(da,{key:0,collection:N},null,8,["collection"])):i("",!0),t("div",ka,[N.is_public?i("",!0):(o(),G(y,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),t("span",_a,n(N.name),1)])],10,ba))),128))])),e(l).showLoadMore&&!e(_)?(o(),r("div",{key:1,class:"mt-4 w-full primary-button",onClick:C},n(S.$t("loadMore")),1)):i("",!0),d(de,{loading:e(g),empty:e(F),error:e(R),fetch:v,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),!e(g)&&!e(_)?(o(),G(sl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:e(k),class:"modal",onCreated:U},null,8,["category"])):i("",!0),M(d(be,{id:"created-alert",text:S.$t("collections.created")},null,8,["text"]),[[P,e(p)]]),!e(g)&&e(_)?(o(),G(Il,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:c,"modal-id":"collection-edit-form-modal","collection-id":e(_),class:"modal",onUpdated:Y},null,8,["collection-id"])):i("",!0),d(fe,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:J},null,8,["message"]),d(fe,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:we},null,8,["message"]),e(_)&&!e(g)?(o(),G(ul,{key:4,id:e(_),ref_key:"collectionDetailRef",ref:q,"manage-mode":e(l).manageMode,type:e(k),onOnCollectionEmpty:H,onFeedManageList:pe},null,8,["id","manage-mode","type"])):i("",!0)]))}},$a=se(ya,[["__scopeId","data-v-4e3d12f2"]]);const xa={id:"lists"},Ma=["id"],Ca={__name:"Liked",props:{userId:{type:Number,default:0}},setup(m){const T=m,h=oe(),{oApiConfiguration:a,fetchOptions:A}=X(),f=Pe(a,A()),g=rt(a,A()),k="profile-liked",_=w(!0),u=w(0),z=Oe(()=>h.i502p00r0?!0:v.value.page*v.value.perPage<u.value);Fe(()=>{h.i502p00r0||x(),l()});const x=async()=>{const q=await g.getSetting("max_free_liked_artworks");u.value=Number(q)},l=async()=>{const[q,Y]=await C();for(let K=0;K<q.length;K++)E.value.push(q[K].artworks);Y.record_total<=v.value.perPage&&R(),Y.record_total===0&&p()},E=w([]),v=w({perPage:24,page:0}),C=async()=>{v.value.page===0&&(_.value=!0);const[q,Y,K]=await f.getUserLikedArtworks({userId:T.userId,pagination:{page:v.value.page,perPage:v.value.perPage}});if(K)U();else return Y.record_total<=v.value.perPage&&R(),Y.record_total===0&&p(),v.value.page+=1,F(),[q,Y]},F=()=>{_.value=!1,H.value=!1,B.value=!1},I=w(!0),R=()=>{I.value=!1},O=w({delay:!1}),s=async()=>{O.value.delay=!0;const[q,Y]=await C();for(let K=0;K<q.length;K++)E.value.push(q[K].artworks);O.value.delay=!1,Y.next_previous.next_page||R(),Y.next_previous.next_page&&Y.current_page===O.maxLoad&&(R(),O.showDiscoveryButton=!0)},H=w(!1),p=()=>{H.value=!0,_.value=!1,R(),emits("onEmpty")},B=w(!1),U=()=>{_.value=!1,B.value=!0,R()},c=w(null),W=(q,Y=!1)=>{c.value.view(q,Y),te().openModal(k+"-modal")};return(q,Y)=>(o(),r("div",xa,[M(t("div",null,[M(d(Ie,{"section-class":"work-grid",works:e(E),view:W},null,8,["works"]),[[P,!e(H)]]),M(t("div",{class:L([e(z)?"primary-button":"disabled-button",{"animate-pulse":e(O).delay},{"inline-block flex-row w-full text-center":!e(z)}]),onClick:Y[0]||(Y[0]=K=>e(z)?s():null)},[V(n(q.$t("loadMore")),1),e(z)?i("",!0):(o(),G(ie,{key:0,class:"ml-2"}))],2),[[P,e(I)]])],512),[[P,!e(_)]]),d(de,{loading:e(_),empty:e(H),error:e(B),fetch:C,"background-color":"theme-color-secondary"},null,8,["loading","empty","error"]),t("div",{id:k+"-modal",class:"modal work-view"},[M(d(he,{ref_key:"artworkModalViewRef",ref:c,section:k},null,512),[[P,!e(_)]])],8,Ma)]))}},Ia=se(Ca,[["__scopeId","data-v-2508dc40"]]);const La={class:"flex flex-row justify-between"},Ea={class:"section-title"},Aa=["checked","disabled"],Fa={class:"ml-2"},Pa={key:0},Sa={__name:"FollowerList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowerListStatus:{type:Boolean,default:!1}},setup(m){const T=m,h=oe(),{oApiConfiguration:a,fetchOptions:A}=X(),f=Se(a,A()),g=w(!1);me(()=>{g.value=T.userHideFollowerListStatus,T.hide?(_.value=!1,x.value=!0,l.value=Ve().tl("followers.followersHidden")):v()});const k=w([]),_=w(!0),u=w({page:0,perPage:12}),z=w(!1),x=w(!1),l=w(""),E=w(!1),v=async()=>{C(),_.value=!0;const[I,R]=await f.getFollowerList({userId:T.userId,pagination:{page:u.value.page,perPage:u.value.perPage}});R?z.value=!0:(I.followers.length||(x.value=!0),I.followers.forEach(O=>{k.value.push(O)}),u.value.page+=1,I.pagination.next_previous.next_page?E.value=!0:E.value=!1),_.value=!1},C=()=>{x.value=!1,z.value=!1},F=async()=>{if(!h.i502p00r0)return null;const[I,R]=await f.toggleFollowerPrivacy();I?g.value=!g.value:console.error("ERROR: can't toggle follower visibility setting.")};return(I,R)=>(o(),r("div",null,[t("div",La,[t("div",Ea,n(I.$t("followers.followers")),1),t("div",null,[e(h).loggedIn&&e(h).i502p00r0&&e(h).user.id===m.userId?(o(),r("label",{key:0,onClick:R[0]||(R[0]=Q(O=>F(),["prevent"])),for:"hide-follower-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer"},[t("input",{id:"hide-follower-toggle",type:"checkbox",class:"sr-only peer",checked:e(g),disabled:!e(h).i502p00r0},null,8,Aa),t("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(h).i502p00r0},e(h).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),t("span",Fa,n(I.$t("followers.hideMyFollowers")),1),e(h).i502p00r0?i("",!0):(o(),G(ie,{key:0,class:"ml-1"}))])):i("",!0)])]),!m.hide&&!e(_)&&!e(x)&&!e(z)?(o(),r("div",Pa,[d(De,{class:"mt-4",users:e(k),"column-type":3},null,8,["users"]),M(t("div",{class:"mt-4 primary-button",onClick:R[1]||(R[1]=O=>v())},n(I.$t("loadMore")),513),[[P,e(E)]])])):i("",!0),d(de,{class:"mt-4",loading:e(_),empty:e(x),"empty-message":e(l),error:e(z),fetch:v,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","error"])]))}},Ta=se(Sa,[["__scopeId","data-v-b0267437"]]);const Ba={class:"flex flex-row justify-between"},za={class:"section-title"},Ra={class:"inline-flex flex-row gap-4"},ja={class:"flex flex-col justify-center align-middle"},Oa={class:"mr-1"},Ua=["checked","disabled"],Va={class:"ml-2"},Da={key:0},Na={__name:"FollowingList",props:{userId:{type:Number,default:0},hide:{type:Boolean,default:!0},userHideFollowingListStatus:{type:Boolean,default:!1}},setup(m){const T=m,h=oe(),{oApiConfiguration:a,fetchOptions:A}=X(),f=Se(a,A()),g=w(!1);me(()=>{g.value=T.userHideFollowingListStatus,T.hide?(z.value=!1,E.value=!0,v.value=Ve().tl("followings.followingsHidden")):F(!1)});const k=w(!1),_=async O=>{u.value=[],x.value.page=0,k.value=O,await F(O)},u=w([]),z=w(!0),x=w({page:0,perPage:12}),l=w(!1),E=w(!1),v=w(""),C=w(!1),F=async O=>{I(),z.value=!0;const[s,H]=await f.getFollowingList({userId:T.userId,isPrivateOnly:O?1:0,pagination:{page:x.value.page,perPage:x.value.perPage}});H?l.value=!0:(s.followings.length||(E.value=!0),s.followings.forEach(p=>{u.value.push(p)}),x.value.page+=1,s.pagination.next_previous.next_page?C.value=!0:C.value=!1),z.value=!1},I=()=>{E.value=!1,l.value=!1},R=async()=>{if(!h.i502p00r0)return null;const[O,s]=await f.toggleFollowingPrivacy();O?g.value=!g.value:console.error("ERROR: can't toggle following visibility setting.")};return(O,s)=>{const H=Xe("ProBadge");return o(),r("div",null,[t("div",Ba,[t("div",za,n(O.$t("followings.followings")),1),t("div",Ra,[t("div",ja,[e(h).loggedIn&&e(h).i502p00r0&&e(h).user.id==m.userId?(o(),r("div",{key:0,onClick:s[0]||(s[0]=p=>_(!e(k))),class:L(["flex flex-row cursor-pointer href",{"font-bold":e(k)}])},[M(d(y,{name:"i-mdi-eye-check"},null,512),[[P,e(k)]]),t("div",Oa,[M(d(y,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[P,!e(k)]]),M(d(y,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[P,e(k)]])]),t("span",null,n(O.$t("privateFollow")),1)],2)):i("",!0)]),e(h).loggedIn&&e(h).i502p00r0&&e(h).user.id===m.userId?(o(),r("label",{key:0,onClick:s[1]||(s[1]=Q(p=>R(),["prevent"])),for:"hide-following-toggle",class:"inline-flex relative flex-row justify-center items-center cursor-pointer"},[t("input",{id:"hide-following-toggle",type:"checkbox",class:"inline-block align-middle sr-only peer",checked:e(g),disabled:!e(h).i502p00r0},null,8,Ua),t("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(h).i502p00r0},e(h).i502p00r0?" after:top-[4px]":" after:top-[6px]"])},null,2),t("span",Va,n(O.$t("followings.hideMyFollowings")),1),e(h).i502p00r0?i("",!0):(o(),G(H,{key:0,class:"ml-1"}))])):i("",!0)])]),!m.hide&&!e(z)&&!e(E)&&!e(l)?(o(),r("div",Da,[d(De,{class:"mt-4",users:e(u),"column-type":3},null,8,["users"]),M(t("div",{class:"mt-4 primary-button",onClick:s[2]||(s[2]=p=>F(!1))},n(O.$t("loadMore")),513),[[P,e(C)]])])):i("",!0),d(de,{class:"mt-4",loading:e(z),empty:e(E),"empty-message":e(v),error:e(l),fetch:_,"background-color":"theme-color-secondary"},null,8,["loading","empty","empty-message","error"])])}}},Ha=se(Na,[["__scopeId","data-v-3b73717a"]]);const Le=m=>($e("data-v-f9145b51"),m=m(),xe(),m),qa=["src"],Wa={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ga={class:"flex-row justify-between hidden-md-flex"},Ya={class:"mr-6 w-1/5"},Ka=["src"],Ja={class:"mt-2"},Qa={class:"flex flex-row"},Za={class:"flex flex-row"},Xa={class:"flex flex-row text-center"},er={class:"w-full"},tr=["checked","disabled"],or=Le(()=>t("span",{class:"ml-2"},"Follow Privately",-1)),sr={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},lr={class:"flex flex-col w-full"},ar={class:"flex flex-row w-full"},rr={class:"w-9/12"},ir={class:"text-base font-semibold"},nr={class:"mr-2 italic"},dr={class:"flex flex-row mt-2"},cr={key:0,class:"mr-1"},ur={class:"flex flex-row"},mr={class:"mr-1"},fr={key:0,class:"flex flex-row"},pr={key:1,class:"flex flex-row"},wr={class:"float-right w-3/12 text-right"},vr={class:"shadow-md light-bordered-button"},hr={class:"leading-4"},gr={key:0,class:"flex flex-row gap-3 mt-4 w-full"},br=["href"],kr=["href"],_r=["href"],yr=["href"],$r=["href"],xr=["href"],Mr=["href"],Cr=["href"],Ir=["href"],Lr={key:0,class:"mt-4"},Er=["id","innerHTML"],Ar=["id"],Fr={class:"flex flex-col text-center md:hidden"},Pr=["src"],Sr={class:"mt-4 text-base font-semibold"},Tr={class:"flex flex-row justify-center mt-4"},Br={key:0,class:"flex flex-row mr-1"},zr={class:"mr-1"},Rr={key:0,class:"flex flex-row"},jr={key:1,class:"flex flex-row"},Or={key:0,class:"mx-2 mt-4 text-center"},Ur=["id","innerHTML"],Vr=["id"],Dr={key:1,class:"flex flex-row gap-x-2 justify-center mt-4"},Nr=["href"],Hr=["href"],qr=["href"],Wr=["href"],Gr=["href"],Yr=["href"],Kr=["href"],Jr=["href"],Qr=["href"],Zr={class:"flex flex-row justify-center w-full md:hidden"},Xr={class:"flex flex-row"},ei={class:"flex flex-row"},ti={class:"flex flex-row text-center"},oi={class:"w-full"},si=["checked","disabled"],li=Le(()=>t("span",{class:"ml-2"},"Follow Privately",-1)),ai={class:"mt-2"},ri={class:"flex flex-row gap-x-2 justify-center md:hidden"},ii={class:"flex flex-row justify-between mt-2 md:mt-6"},ni={class:"hidden flex-col lg:w-1/5 md:flex"},di={class:"profile-navigation_wrapper"},ci={class:"hidden-lg-flex"},ui=Le(()=>t("span",{class:"hidden-lg-flex"},null,-1)),mi={class:"profile-navigation_wrapper"},fi={class:"hidden-lg-flex"},pi={class:"hidden-lg-flex"},wi={class:"profile-navigation_wrapper"},vi={class:"hidden-lg-flex"},hi={class:"hidden-lg-flex"},gi={key:0,class:"custom-divider"},bi={class:"profile-navigation_wrapper"},ki={class:"hidden-lg-flex"},_i={class:"hidden-lg-flex"},yi={class:"w-full md:ml-6"},$i={key:0},xi={class:"flex flex-row w-full"},Mi={class:"flex flex-row gap-2 justify-between mt-4 w-full"},Ci={class:"w-full md:w-auto"},Ii={class:"inline-block w-full group md:w-52"},Li={class:"flex-1 pr-1"},Ei=Le(()=>t("span",null,[t("svg",{class:"w-4 h-4 transition duration-150 ease-in-out transform fill-current group-hover:-rotate-180",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1)),Ai={id:"profile-artwork-order",class:"absolute z-50 mt-1 w-6/12 text-center rounded-md transition duration-150 ease-in-out transform origin-top scale-0 md:w-52 theme-color group-hover:scale-100"},Fi={class:"flex flex-row gap-x-2 w-full md:w-auto"},Pi={class:"mt-2"},Si={key:1},Ti={key:2},Bi={key:3},zi={key:4},Ri={key:5},ji={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},emits:["setMeta"],setup(m,{emit:T}){const h=m,a=oe(),{oApiConfiguration:A,fetchOptions:f}=X(),g=Se(A,f()),k=ge(A,f()),_=_e(A,f()),u=Pe(A,f()),z=et(),x=Re(),{o:l}=z.query,E=w(!0),v=l!=null?w(l):w("dashboard"),C=w("artwork"),F=w(0),I=Oe(()=>h.userLogon&&a.loggedIn?a.user.id:h.id),R=w({manageMode:!1,showManageMode:!0});me(async()=>{await p()});const O=$=>{v.value=$,R.value.manageMode=!1,l!=null&&x.push("/profile")},s=w({}),H=w({feed:0,artwork:0,comic:0,tutorial:0,album:0,collection:0,liked:0,followers:0,followings:0}),p=async()=>{E.value=!0;try{const[$]=await g.getInfo(I.value);if(s.value=$,a.loggedIn&&a.user.id!==I.value){const[ve]=await g.isFollowing(I.value);J.value={isFollowing:ve.is_following,isPrivate:ve.is_private,followingSince:ve.following_since}}const[b]=await g.countFeeds(I.value);H.value.feed=b;const[le]=await g.countArtworks(I.value);H.value.artwork=le;const[D]=await g.countFollowers(I.value);H.value.followers=D;const[Ke]=await g.countFollowings(I.value);H.value.followings=Ke;const[Je]=await k.countAlbums(I.value);H.value.album=Je;const[Qe]=await _.countCollections(I.value);if(H.value.collection=Qe,a.loggedIn&&a.user.id===s.value.id){const[ve]=await u.countUserLikedArtworks({userId:I.value});H.value.liked=ve}T("setMeta",{title:`(${s.value.username}) ${s.value.name}`})}catch{}E.value=!1},B=w(null),U=w([]),c=$=>{U.value=$},W=()=>{R.value.showManageMode=!1},q=w(null),Y=()=>{te().openModal("album-selection-modal")},K=w(!1);let pe;const we=()=>{ke().splash(pe,K,"item-added-to-album-alert")},J=w({isFollowing:!1,isPrivate:!1,followingSince:""}),ne=w(null),S=w("i-ri-user-follow-fill"),j=($,b)=>{S.value=$,ne.value=b},N=async($,b)=>{let[le,D]=[null,!1];b?[le,D]=await g.followPrivately($):[le,D]=await g.follow($),D||(J.value={isFollowing:!0,isPrivate:b!=null?b:!1,followingSince:""})},ce=async $=>{const[b,le]=await g.unfollow($);le||(J.value={isFollowing:!1,isPrivate:!1,followingSince:""})},ee=w("latest"),Te=w(""),Ee=async($,b)=>{ee.value=$,Te.value=b,We()},We=()=>{document.getElementById("profile-artwork-order").classList.add("scale-0")},Ge=w(!0),Be=($,b,le,D)=>{Ge.value=!1,Ue().readMore($,b,le,D)},Ye=()=>{s.value.user_socials&&s.value.user_socials.personal_website&&window.open(s.value.user_socials.personal_website,"_blank")};return($,b)=>{const le=je;return o(),G(st,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:Z(()=>[t("div",null,[t("img",{preload:"",loading:"lazy",src:$.avatarCoverUrl(e(s).cover_bucket,e(s).cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:b[0]||(b[0]=(...D)=>$.defaultCoverImage&&$.defaultCoverImage(...D))},null,40,qa),e(a).loggedIn&&e(a).user.id===e(s).id?(o(),G(le,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:Z(()=>[d(y,{name:"i-ph-gear-six"})]),_:1})):i("",!0)]),t("div",Wa,[t("div",Ga,[t("div",Ya,[t("img",{preload:"",loading:"lazy",class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",src:$.avatarCoverUrl(e(s).avatar_bucket,e(s).avatar_filename),onError:b[1]||(b[1]=(...D)=>$.defaultCoverImage&&$.defaultCoverImage(...D))},null,40,Ka),t("div",Ja,[t("div",{class:L(["flex-row justify-center border hidden-md-flex",e(s).id==e(a).user.id?"rounded-md":"rounded-t-md"])},[t("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:b[2]||(b[2]=D=>v.value="followerList")},[t("b",null,n($.thousand(e(H).followers)),1),V("\xA0 "),t("i",null,n($.$t("followers.followers").toLowerCase()),1)]),t("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:b[3]||(b[3]=D=>v.value="followingList")},[t("b",null,n($.thousand(e(H).followings)),1),V("\xA0 "),t("i",null,n($.$t("followings.followings").toLowerCase()),1)])],2),e(a).loggedIn&&e(s).id!==e(a).user.id?(o(),r("div",{key:0,class:L(["primary-button rounded-t-none hover:rounded-t-none",{"hover:danger-button":e(J).isFollowing}]),onClick:b[4]||(b[4]=D=>e(J).isFollowing?ce(e(s).id):N(e(s).id)),onMouseover:b[5]||(b[5]=D=>j("i-ri-user-unfollow-fill",$.$t("unfollow"))),onMouseleave:b[6]||(b[6]=D=>j("i-ri-user-follow-fill",$.$t("followings.followings")))},[M(t("div",Qa,[d(y,{name:"i-ri-user-add-fill","text-size":"text-base"}),V(" "+n($.$t("follow")),1)],512),[[P,!e(J).isFollowing]]),M(t("div",Za,[d(y,{name:e(S),"text-size":"text-base"},null,8,["name"]),V(" "+n(e(ne)===null?$.$t("followings.followings"):e(ne)),1)],512),[[P,e(J).isFollowing]])],34)):i("",!0),M(t("div",Xa,[t("div",er,[t("label",{onClick:b[7]||(b[7]=D=>e(a).i502p00r0?e(J).isPrivate?N(e(s).id,!1):N(e(s).id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[t("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:e(J).isPrivate,disabled:!e(a).i502p00r0},null,8,tr),t("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(a).i502p00r0},e(a).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),or,e(a).i502p00r0?i("",!0):(o(),G(ie,{key:0,class:"ml-1"}))])])],512),[[P,e(J).isFollowing]])])]),t("div",sr,[t("div",lr,[t("div",ar,[t("div",rr,[t("div",null,[t("span",ir,n(e(s).name),1),V("\xA0 "),t("span",nr,n(e(s).username),1),e(s).is_pro?(o(),G(ie,{key:0})):i("",!0)]),t("div",dr,[e(s).pen_name&&e(s).pen_name!==""?(o(),r("div",cr,[t("span",ur,[d(y,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),V(" "+n(e(s).pen_name),1)])])):i("",!0),t("div",mr,[e(s).gender==="m"?(o(),r("span",fr,[d(y,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" he/his ")])):i("",!0),e(s).gender==="f"?(o(),r("span",pr,[d(y,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" she/her ")])):i("",!0)])])]),t("div",wr,[e(a).loggedIn&&e(a).user.id===e(s).id?(o(),G(le,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:Z(()=>[t("button",vr,[d(y,{name:"i-ph-gear-six"}),t("span",hr,n($.$t("profile.setting")),1)])]),_:1})):i("",!0)])]),e(s).user_socials?(o(),r("div",gr,[e(s).user_socials.personal_website?(o(),r("button",{key:0,onClick:b[8]||(b[8]=D=>$.openModal("external-website-visit-confirmation-modal")),target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ph-link-simple-break-bold","text-size":"text-xl"})])):i("",!0),e(s).user_socials.patreon?(o(),r("a",{key:1,href:"https://patreon.com/"+e(s).user_socials.patreon+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-gg-patreon","text-size":"text-xl"})],8,br)):i("",!0),e(s).user_socials.twitch?(o(),r("a",{key:2,href:"https://twitch.com/"+e(s).user_socials.twitch+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ph-twitch-logo-fill","text-size":"text-xl"})],8,kr)):i("",!0),e(s).user_socials.instagram?(o(),r("a",{key:3,href:"https://instagram.com/"+e(s).user_socials.instagram+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-instagram","text-size":"text-xl"})],8,_r)):i("",!0),e(s).user_socials.twitter?(o(),r("a",{key:4,href:"https://twitter.com/"+e(s).user_socials.twitter,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-twitter","text-size":"text-xl"})],8,yr)):i("",!0),e(s).user_socials.facebook?(o(),r("a",{key:5,href:"https://facebook.com/"+e(s).user_socials.facebook,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-facebook","text-size":"text-xl"})],8,$r)):i("",!0),e(s).user_socials.youtube?(o(),r("a",{key:6,href:e(s).user_socials.youtube,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-youtube","text-size":"text-xl"})],8,xr)):i("",!0),e(s).user_socials.discord?(o(),r("a",{key:7,href:"https://discord.com/"+e(s).user_socials.discord+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ic-twotone-discord","text-size":"text-xl"})],8,Mr)):i("",!0),e(s).user_socials.picarto?(o(),r("a",{key:8,href:"https://picarto.tv/"+e(s).user_socials.picarto+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-cib-picarto-tv","text-size":"text-xl"})],8,Cr)):i("",!0),e(s).user_socials.gumroad?(o(),r("a",{key:9,href:"https://"+e(s).user_socials.gumroad+".gumroad.com",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-cib-gumroad","text-size":"text-xl"})],8,Ir)):i("",!0)])):i("",!0),t("div",null,[e(s).bio?(o(),r("p",Lr,[t("div",{id:"user-bio-"+e(s).id,innerHTML:e(s).bio.length>300?`${e(s).bio.slice(0,300)}...`:e(s).bio},null,8,Er),e(s).bio.length>300?(o(),r("a",{key:0,id:"user-bio-read-more-"+e(s).id,class:"href",onClick:b[9]||(b[9]=Q(D=>Be(e(s).bio,e(s).id,"user-bio-read-more-","user-bio-"),["prevent"]))},n($.$t("readMore")),9,Ar)):i("",!0)])):i("",!0)])])])]),t("div",Fr,[t("img",{preload:"",loading:"lazy",class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",src:$.avatarCoverUrl(e(s).avatar_bucket,e(s).avatar_filename),onError:b[10]||(b[10]=(...D)=>$.imageLoadError&&$.imageLoadError(...D))},null,40,Pr),t("div",Sr,n(e(s).name),1),t("div",null,n(e(s).username),1),t("div",Tr,[e(s).pen_name?(o(),r("span",Br,[d(y,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),V(" "+n(e(s).pen_name&&e(s).pen_name!==""?e(s).pen_name:"-"),1)])):i("",!0),t("div",zr,[e(s).gender==="m"?(o(),r("span",Rr,[d(y,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" he/him/his ")])):i("",!0),e(s).gender==="f"?(o(),r("span",jr,[d(y,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),V(" she/her ")])):i("",!0)])]),e(s).bio?(o(),r("div",Or,[t("div",{id:"mobile__user-bio-"+e(s).id,innerHTML:e(s).bio.length>150?`${e(s).bio.slice(0,300)}...`:e(s).bio},null,8,Ur),e(s).bio.length>150?(o(),r("a",{key:0,id:"mobile__user-bio-read-more-"+e(s).id,class:"href",onClick:b[11]||(b[11]=Q(D=>Be(e(s).bio,e(s).id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},n($.$t("readMore")),9,Vr)):i("",!0)])):i("",!0),e(s).user_socials?(o(),r("div",Dr,[e(s).user_socials.personal_website?(o(),r("button",{key:0,onClick:b[12]||(b[12]=D=>$.openModal("external-website-visit-confirmation-modal")),target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ph-link-simple-break-bold","text-size":"text-xl"})])):i("",!0),e(s).user_socials.patreon?(o(),r("a",{key:1,href:"https://patreon.com/"+e(s).user_socials.patreon+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-gg-patreon","text-size":"text-xl"})],8,Nr)):i("",!0),e(s).user_socials.twitch?(o(),r("a",{key:2,href:"https://twitch.com/"+e(s).user_socials.twitch+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ph-twitch-logo-fill","text-size":"text-xl"})],8,Hr)):i("",!0),e(s).user_socials.instagram?(o(),r("a",{key:3,href:"https://instagram.com/"+e(s).user_socials.instagram+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-instagram","text-size":"text-xl"})],8,qr)):i("",!0),e(s).user_socials.twitter?(o(),r("a",{key:4,href:"https://twitter.com/"+e(s).user_socials.twitter,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-twitter","text-size":"text-xl"})],8,Wr)):i("",!0),e(s).user_socials.facebook?(o(),r("a",{key:5,href:"https://facebook.com/"+e(s).user_socials.facebook,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-facebook","text-size":"text-xl"})],8,Gr)):i("",!0),e(s).user_socials.youtube?(o(),r("a",{key:6,href:e(s).user_socials.youtube,target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ion-logo-youtube","text-size":"text-xl"})],8,Yr)):i("",!0),e(s).user_socials.discord?(o(),r("a",{key:7,href:"https://discord.com/"+e(s).user_socials.discord+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-ic-twotone-discord","text-size":"text-xl"})],8,Kr)):i("",!0),e(s).user_socials.picarto?(o(),r("a",{key:8,href:"https://picarto.tv/"+e(s).user_socials.picarto+"/",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-cib-picarto-tv","text-size":"text-xl"})],8,Jr)):i("",!0),e(s).user_socials.gumroad?(o(),r("a",{key:9,href:"https://"+e(s).user_socials.gumroad+".gumroad.com",target:"blank",class:"cursor-pointer"},[d(y,{name:"i-cib-gumroad","text-size":"text-xl"})],8,Qr)):i("",!0)])):i("",!0),t("div",Zr,[t("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:b[13]||(b[13]=D=>v.value="followerList")},[t("b",null,n($.thousand(e(H).followers)),1),V("\xA0 "),t("i",null,n($.$t("followers.followers")),1)]),t("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:b[14]||(b[14]=D=>v.value="followingList")},[t("b",null,n($.thousand(e(H).followings)),1),V("\xA0 "),t("i",null,n($.$t("followings.followings")),1)])]),e(a).loggedIn&&e(s).id!==e(a).user.id?(o(),r("div",{key:2,class:L(["mt-2 w-auto",e(J).isFollowing?"danger-button":"primary-button"]),onClick:b[15]||(b[15]=D=>e(J).isFollowing?ce(e(s).id):N(e(s).id))},[M(t("div",Xr,[d(y,{name:"i-ri-user-add-fill","text-size":"text-base"}),V(" "+n($.$t("follow")),1)],512),[[P,!e(J).isFollowing]]),M(t("div",ei,[d(y,{name:e(S),"text-size":"text-base"},null,8,["name"]),V(" "+n(e(ne)===null?$.$t("followings.followings"):e(ne)),1)],512),[[P,e(J).isFollowing]])],2)):i("",!0),M(t("div",ti,[t("div",oi,[t("label",{onClick:b[16]||(b[16]=D=>e(a).i502p00r0?e(J).isPrivate?N(e(s).id,!1):N(e(s).id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[t("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:e(J).isPrivate,disabled:!e(a).i502p00r0},null,8,si),t("div",{class:L(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!e(a).i502p00r0},e(a).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),li,e(a).i502p00r0?i("",!0):(o(),G(ie,{key:0,class:"ml-1"}))])])],512),[[P,e(J).isFollowing]])]),t("div",ai,[t("div",ri,[t("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(v)=="dashboard"}]),onClick:b[17]||(b[17]=D=>O("dashboard"))},[t("div",null,[M(d(y,{name:"i-ion-home-outline",class:"text-white"},null,512),[[P,e(v)=="dashboard"]]),M(d(y,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[P,e(v)!="dashboard"]])]),t("span",null,n($.$t("dashboard")),1)],2),t("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(v)=="albums"}]),onClick:b[18]||(b[18]=D=>O("albums"))},[t("div",null,[M(d(y,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[P,e(v)=="albums"]]),M(d(y,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[P,e(v)!="albums"]])]),t("span",null,n($.$t("albums.albums")),1)],2),t("div",{class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(v)=="collections"}]),onClick:b[19]||(b[19]=D=>O("collections"))},[t("div",null,[M(d(y,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,e(v)=="collections"]]),M(d(y,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[P,e(v)!="collections"]])]),t("span",null,n($.$t("collections.collections")),1)],2),e(a).loggedIn&&e(a).user.id===e(s).id?(o(),r("div",{key:0,class:L(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":e(v)=="liked"}]),onClick:b[20]||(b[20]=D=>O("liked"))},[t("div",null,[M(d(y,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[P,e(v)=="liked"]]),M(d(y,{name:"i-ri-heart-3-line",class:"hover:text-white"},null,512),[[P,e(v)!="liked"]])]),t("span",null,n($.$t("artworks.liked")),1)],2)):i("",!0)]),t("div",ii,[t("div",ni,[t("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(v)==="dashboard"}]),onClick:b[21]||(b[21]=D=>O("dashboard"))},[t("div",di,[M(d(y,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[P,e(v)==="dashboard"]]),M(d(y,{name:"i-humbleicons-dashboard"},null,512),[[P,e(v)!=="dashboard"]]),t("label",ci,n($.$t("dashboard")),1)]),ui],2),t("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(v)==="albums"}]),onClick:b[22]||(b[22]=D=>O("albums"))},[t("div",mi,[M(d(y,{name:"i-bx-photo-album",class:"text-white"},null,512),[[P,e(v)==="albums"]]),M(d(y,{name:"i-bx-photo-album"},null,512),[[P,e(v)!=="albums"]]),t("label",fi,n($.$t("albums.albums")),1)]),t("span",pi,n($.thousand(e(H).album)),1)],2),t("div",{class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(v)==="collections"}]),onClick:b[23]||(b[23]=D=>O("collections"))},[t("div",wi,[M(d(y,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,e(v)==="collections"]]),M(d(y,{name:"i-majesticons-bookmark-line"},null,512),[[P,e(v)!=="collections"]]),t("label",vi,n($.$t("collections.collections")),1)]),t("span",hi,n($.thousand(e(H).collection)),1)],2),e(a).loggedIn&&e(a).user.id===e(s).id?(o(),r("div",gi)):i("",!0),e(a).loggedIn&&e(a).user.id===e(s).id?(o(),r("div",{key:1,class:L(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":e(v)==="liked"}]),onClick:b[24]||(b[24]=D=>O("liked"))},[t("div",bi,[M(d(y,{name:"i-ri-heart-3-line",class:"text-white"},null,512),[[P,e(v)==="liked"]]),M(d(y,{name:"i-ri-heart-3-line"},null,512),[[P,e(v)!=="liked"]]),t("label",ki,n($.$t("artworks.liked")),1)]),t("span",_i,n($.thousand(e(H).liked)),1)],2)):i("",!0)]),t("div",yi,[e(v)==="dashboard"?(o(),r("div",$i,[t("div",xi,[t("div",{class:L(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(C)==="feed"}]),onClick:b[25]||(b[25]=D=>C.value="feed")},[V(n($.$t("feed"))+" ",1),t("span",{class:L(["px-1 ml-2 rounded",e(C)==="feed"?"theme-color":"button-color text-white"])},n($.thousand(e(H).feed)),3)],2),t("div",{class:L(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":e(C)==="artwork"}]),onClick:b[26]||(b[26]=D=>C.value="artwork")},[V(n($.$t("artworks.artwork"))+" ",1),t("span",{class:L(["px-1 ml-2 rounded",e(C)==="artwork"?"theme-color":"button-color text-white"])},n($.thousand(e(H).artwork)),3)],2)]),M(t("div",Mi,[t("div",Ci,[t("div",Ii,[t("button",{class:"flex items-center py-2 w-full rounded-md border-2 border-transparent outline-none md:w-52 theme-color-secondary hover:button",onClick:b[27]||(b[27]=D=>$.togglePopularOrderStatus())},[t("span",Li,n(e(ee)==="latest"?$.$t("profile.artworks.sorter.latest"):e(Te)),1),Ei]),t("ul",Ai,[t("li",{class:L([{button:e(ee)==="latest"},{"rounded-b-md":!e(a).loggedIn}]),onClick:b[28]||(b[28]=D=>Ee("latest",$.$t("profile.artworks.sorter.latest")))},[d(y,{name:"i-material-symbols-fiber-new",class:L({"text-white":e(ee)==="latest"})},null,8,["class"]),V(" Latest ")],2),t("li",{class:L([{button:e(ee)==="popular"},{"rounded-b-md":!e(a).loggedIn}]),onClick:b[29]||(b[29]=D=>Ee("popular",$.$t("profile.artworks.sorter.popular")))},[d(y,{name:"i-ic-twotone-star",class:L({"text-white":e(ee)==="popular"})},null,8,["class"]),V(" Popular ")],2),t("li",{class:L([{button:e(ee)==="oldest"},{"rounded-b-md":!e(a).loggedIn}]),onClick:b[30]||(b[30]=D=>Ee("oldest",$.$t("profile.artworks.sorter.oldest")))},[d(y,{name:"i-ic-baseline-update",class:L({"text-white":e(ee)==="oldest"})},null,8,["class"]),V(" Oldest ")],2)])])]),t("div",Fi,[t("button",{onClick:b[31]||(b[31]=D=>e(R).manageMode=!e(R).manageMode),class:L(["w-full action-button md:w-auto md:mt-0",e(R).manageMode?"danger-button":"secondary-button"])},[d(y,{name:e(R).manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),V(" "+n(e(R).manageMode?$.$t("quit"):$.$t("manage")),1)],2),M(t("button",{onClick:b[32]||(b[32]=D=>Y()),class:"w-full primary-button md:w-auto"},[d(y,{name:"i-ion-add-outline"}),V(" "+n($.$t("albums.addToAlbum")),1)],512),[[P,e(R).manageMode]])])],512),[[P,!e(E)&&e(a).loggedIn&&e(a).user.id===e(s).id&&e(C)==="artwork"&&e(R).showManageMode]]),d(de,{loading:e(E),"background-color":"theme-color-secondary"},null,8,["loading"]),M(t("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},n($.$t("profile.manageModeActiveMessage")),513),[[P,e(R).manageMode]]),t("div",Pi,[e(C)==="feed"?(o(),G(Zt,{key:0,ref:"feedListRef","user-id":e(s).id},null,8,["user-id"])):i("",!0),!e(E)&&e(C)==="artwork"?(o(),G(oo,{ref_key:"artworkListRef",ref:B,key:e(F),"user-id":e(s).id,"manage-mode":e(R).manageMode,"sort-by":e(ee),onFeedSelectedItems:c,onOnEmpty:W},null,8,["user-id","manage-mode","sort-by"])):i("",!0)])])):i("",!0),e(v)==="albums"?(o(),r("div",Si,[e(E)?i("",!0):(o(),G(Vs,{key:0,"user-id":e(s).id},null,8,["user-id"]))])):i("",!0),e(v)==="collections"?(o(),r("div",Ti,[e(E)?i("",!0):(o(),G($a,{key:0,"user-id":e(s).id},null,8,["user-id"]))])):i("",!0),e(a).loggedIn&&e(a).user.id===e(s).id&&e(v)==="liked"?(o(),r("div",Bi,[e(E)?i("",!0):(o(),G(Ia,{key:0,"user-id":e(s).id,onOnEmpty:W},null,8,["user-id"]))])):i("",!0),e(v)==="followerList"?(o(),r("div",zi,[e(E)?i("",!0):(o(),G(Ta,{key:0,"user-id":e(s).id,hide:e(a).loggedIn?e(s).id!==e(a).user.id:e(s).is_pro&&!!e(s).user_settings.hide_follower_list,"user-hide-follower-list-status":!!e(s).user_settings.hide_follower_list},null,8,["user-id","hide","user-hide-follower-list-status"]))])):i("",!0),e(v)==="followingList"?(o(),r("div",Ri,[e(E)?i("",!0):(o(),G(Ha,{key:0,"user-id":e(s).id,hide:e(a).loggedIn?e(s).id!==e(a).user.id:e(s).is_pro&&!!e(s).user_settings.hide_following_list,"user-hide-following-list-status":!!e(s).user_settings.hide_following_list},null,8,["user-id","hide","user-hide-following-list-status"]))])):i("",!0)])])])]),e(s).user_socials&&e(s).user_socials.personal_website?(o(),G(fe,{key:0,id:"external-website-visit-confirmation-modal",class:"modal","modal-id":"external-website-visit-confirmation-modal",message:"<div>You are going to visit this website, are you sure?</div><div class='text-center w-full italic href mt-4 rounded-md p-2 rounded-md theme-color-secondary'>"+e(s).user_socials.personal_website+"</div>",onOnAccept:Ye},null,8,["message"])):i("",!0),e(E)?i("",!0):(o(),G(ot,{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:q,class:"modal","work-ids":e(U),onAddedToAlbum:we},null,8,["work-ids"])),M(d(be,{id:"item-added-to-album-alert",text:$.$t("albums.itemAdded")},null,8,["text"]),[[P,e(K)]])]),_:1})}}},Zi=se(ji,[["__scopeId","data-v-f9145b51"]]);export{Zi as P};
