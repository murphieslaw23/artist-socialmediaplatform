import{B as ht,e as W,f as G,R as F,r as b,u as O,$ as Yt,a0 as Kt,C as Ue,a1 as Xt,k as Se,Q as Zt,N as ea,D as Ve,S as vt,o as y,l as _,m as r,b as x,w as J,p as T,t as g,s as I,v as A,q as S,F as pe,J as D,T as he,U as ve,x as Pe,h as qe,j as ta,c as ie,i as _e,I as We,E as Re,G as K,K as ft,L as wt,a2 as aa,H as sa,a as oa,a3 as lt,a4 as la,a5 as na,a6 as nt}from"./entry.ec82c8a4.js";import{u as gt,_ as U}from"./Icon.12c4779f.js";import{_ as Me,u as yt}from"./LoadingEmptyErrorMessage.8ae3c568.js";import{_ as fe}from"./_plugin-vue_export-helper.a1a6add7.js";import{S as Ge}from"./Spinner.7be79ae2.js";import{U as Ee}from"./user-counters-api.995b125b.js";import{u as ra}from"./useFeed.56c6d0a5.js";const ce=function(s){return{addWorkToAlbum:async(a,t={})=>{const e="/albums/add-work",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},createAlbum:async(a,t={})=>{const e="/albums/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},deleteAlbum:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling deleteAlbum.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},u={},m={},d=new URLSearchParams(o.search);for(const w in m)d.set(w,m[w]);for(const w in t.params)d.set(w,t.params[w]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};return n.headers={...u,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumById:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumById.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...t},u={},m={},d=new URLSearchParams(o.search);for(const w in m)d.set(w,m[w]);for(const w in t.params)d.set(w,t.params[w]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};return n.headers={...u,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumItems:async(a,t,e,o={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumItems.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let u;s&&(u=s.baseOptions);const m={method:"GET",...u,...o},d={},h={};t!==void 0&&(h.per_page=t),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};return m.headers={...d,...f,...o.headers},{url:n.pathname+n.search+n.hash,options:m}},getCurrentAlbumSaveInfo:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(t==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const o="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(a))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const u={method:"GET",...n,...e},m={},d={},h=new URLSearchParams(l.search);for(const f in d)h.set(f,d[f]);for(const f in e.params)h.set(f,e.params[f]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return u.headers={...m,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:u}},listUserAlbums:async(a,t,e,o,l={})=>{if(a==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserAlbums.");if(o==null)throw new F("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(a))),u=new URL(n,"https://example.com");let m;s&&(m=s.baseOptions);const d={method:"GET",...m,...l},h={},w={};t!==void 0&&(w.per_page=t),e!==void 0&&(w.page=e),o!==void 0&&(w.type=o);const f=new URLSearchParams(u.search);for(const c in w)f.set(c,w[c]);for(const c in l.params)f.set(c,l.params[c]);u.search=new URLSearchParams(f).toString();let i=m&&m.headers?m.headers:{};return d.headers={...h,...i,...l.headers},{url:u.pathname+u.search+u.hash,options:d}},removeWorkFromAlbum:async(a,t={})=>{const e="/albums/work/remove",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},updateAlbum:async(a,t={})=>{const e="/albums",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}}}},ue=function(s){return{async addWorkToAlbum(a,t){const e=await ce(s).addWorkToAlbum(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async createAlbum(a,t){const e=await ce(s).createAlbum(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async deleteAlbum(a,t){const e=await ce(s).deleteAlbum(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumById(a,t){const e=await ce(s).getAlbumById(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumItems(a,t,e,o){const l=await ce(s).getAlbumItems(a,t,e,o);return(n=W,u=G)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async getCurrentAlbumSaveInfo(a,t,e){const o=await ce(s).getCurrentAlbumSaveInfo(a,t,e);return(l=W,n=G)=>{const u={...o.options,url:n+o.url};return l.request(u)}},async listUserAlbums(a,t,e,o,l){const n=await ce(s).listUserAlbums(a,t,e,o,l);return(u=W,m=G)=>{const d={...n.options,url:m+n.url};return u.request(d)}},async removeWorkFromAlbum(a,t){const e=await ce(s).removeWorkFromAlbum(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async updateAlbum(a,t){const e=await ce(s).updateAlbum(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class de extends ht{async addWorkToAlbum(a,t){return ue(this.configuration).addWorkToAlbum(a,t).then(e=>e(this.axios,this.basePath))}async createAlbum(a,t){return ue(this.configuration).createAlbum(a,t).then(e=>e(this.axios,this.basePath))}async deleteAlbum(a,t){return ue(this.configuration).deleteAlbum(a,t).then(e=>e(this.axios,this.basePath))}async getAlbumById(a,t){return ue(this.configuration).getAlbumById(a,t).then(e=>e(this.axios,this.basePath))}async getAlbumItems(a,t,e,o){return ue(this.configuration).getAlbumItems(a,t,e,o).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(a,t,e){return ue(this.configuration).getCurrentAlbumSaveInfo(a,t,e).then(o=>o(this.axios,this.basePath))}async listUserAlbums(a,t,e,o,l){return ue(this.configuration).listUserAlbums(a,t,e,o,l).then(n=>n(this.axios,this.basePath))}async removeWorkFromAlbum(a,t){return ue(this.configuration).removeWorkFromAlbum(a,t).then(e=>e(this.axios,this.basePath))}async updateAlbum(a,t){return ue(this.configuration).updateAlbum(a,t).then(e=>e(this.axios,this.basePath))}}const ne=function(s){return{addItemForLater:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling addItemForLater.");const o="/collections/later",l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const u={method:"POST",...n,...e},m={},d={};a!==void 0&&(d.type=a),m["Content-Type"]="application/json";const h=new URLSearchParams(l.search);for(const i in d)h.set(i,d[i]);for(const i in e.params)h.set(i,e.params[i]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};u.headers={...m,...w,...e.headers};const f=typeof t!="string"||u.headers["Content-Type"]==="application/json";return u.data=f?JSON.stringify(t!==void 0?t:{}):t||"",{url:l.pathname+l.search+l.hash,options:u}},addItemToCollection:async(a,t,e,o={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling addItemToCollection.");if(t==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let u;s&&(u=s.baseOptions);const m={method:"POST",...u,...o},d={},h={};a!==void 0&&(h.type=a),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};m.headers={...d,...f,...o.headers};const i=typeof e!="string"||m.headers["Content-Type"]==="application/json";return m.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:m}},collectionsIdDelete:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},u={},m={},d=new URLSearchParams(o.search);for(const w in m)d.set(w,m[w]);for(const w in t.params)d.set(w,t.params[w]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};return n.headers={...u,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},create:async(a,t={})=>{const e="/collections/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},detail:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling detail.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...t},u={},m={},d=new URLSearchParams(o.search);for(const w in m)d.set(w,m[w]);for(const w in t.params)d.set(w,t.params[w]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};return n.headers={...u,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getCurrentSaveInfo:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(t==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const o="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(a))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const u={method:"GET",...n,...e},m={},d={},h=new URLSearchParams(l.search);for(const f in d)h.set(f,d[f]);for(const f in e.params)h.set(f,e.params[f]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return u.headers={...m,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:u}},listCollectionItems:async(a,t,e,o={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling listCollectionItems.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let u;s&&(u=s.baseOptions);const m={method:"GET",...u,...o},d={},h={};t!==void 0&&(h.per_page=t),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};return m.headers={...d,...f,...o.headers},{url:n.pathname+n.search+n.hash,options:m}},listUserCollections:async(a,t,e,o,l,n={})=>{if(a==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(t==null)throw new F("type","Required parameter type was null or undefined when calling listUserCollections.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserCollections.");if(o==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const u="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(a))),m=new URL(u,"https://example.com");let d;s&&(d=s.baseOptions);const h={method:"GET",...d,...n},w={},f={};t!==void 0&&(f.type=t),l!==void 0&&(f.name=l),e!==void 0&&(f.page=e),o!==void 0&&(f.per_page=o);const i=new URLSearchParams(m.search);for(const k in f)i.set(k,f[k]);for(const k in n.params)i.set(k,n.params[k]);m.search=new URLSearchParams(i).toString();let c=d&&d.headers?d.headers:{};return h.headers={...w,...c,...n.headers},{url:m.pathname+m.search+m.hash,options:h}},removeItemFromCollection:async(a,t,e,o={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(t==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let u;s&&(u=s.baseOptions);const m={method:"DELETE",...u,...o},d={},h={};a!==void 0&&(h.type=a),d["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let f=u&&u.headers?u.headers:{};m.headers={...d,...f,...o.headers};const i=typeof e!="string"||m.headers["Content-Type"]==="application/json";return m.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:m}},updateCollection:async(a,t={})=>{const e="/collections",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...t},u={},m={};u["Content-Type"]="application/json";const d=new URLSearchParams(o.search);for(const f in m)d.set(f,m[f]);for(const f in t.params)d.set(f,t.params[f]);o.search=new URLSearchParams(d).toString();let h=l&&l.headers?l.headers:{};n.headers={...u,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}}}},re=function(s){return{async addItemForLater(a,t,e){const o=await ne(s).addItemForLater(a,t,e);return(l=W,n=G)=>{const u={...o.options,url:n+o.url};return l.request(u)}},async addItemToCollection(a,t,e,o){const l=await ne(s).addItemToCollection(a,t,e,o);return(n=W,u=G)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async collectionsIdDelete(a,t){const e=await ne(s).collectionsIdDelete(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async create(a,t){const e=await ne(s).create(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async detail(a,t){const e=await ne(s).detail(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getCurrentSaveInfo(a,t,e){const o=await ne(s).getCurrentSaveInfo(a,t,e);return(l=W,n=G)=>{const u={...o.options,url:n+o.url};return l.request(u)}},async listCollectionItems(a,t,e,o){const l=await ne(s).listCollectionItems(a,t,e,o);return(n=W,u=G)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async listUserCollections(a,t,e,o,l,n){const u=await ne(s).listUserCollections(a,t,e,o,l,n);return(m=W,d=G)=>{const h={...u.options,url:d+u.url};return m.request(h)}},async removeItemFromCollection(a,t,e,o){const l=await ne(s).removeItemFromCollection(a,t,e,o);return(n=W,u=G)=>{const m={...l.options,url:u+l.url};return n.request(m)}},async updateCollection(a,t){const e=await ne(s).updateCollection(a,t);return(o=W,l=G)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class me extends ht{async addItemForLater(a,t,e){return re(this.configuration).addItemForLater(a,t,e).then(o=>o(this.axios,this.basePath))}async addItemToCollection(a,t,e,o){return re(this.configuration).addItemToCollection(a,t,e,o).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(a,t){return re(this.configuration).collectionsIdDelete(a,t).then(e=>e(this.axios,this.basePath))}async create(a,t){return re(this.configuration).create(a,t).then(e=>e(this.axios,this.basePath))}async detail(a,t){return re(this.configuration).detail(a,t).then(e=>e(this.axios,this.basePath))}async getCurrentSaveInfo(a,t,e){return re(this.configuration).getCurrentSaveInfo(a,t,e).then(o=>o(this.axios,this.basePath))}async listCollectionItems(a,t,e,o){return re(this.configuration).listCollectionItems(a,t,e,o).then(l=>l(this.axios,this.basePath))}async listUserCollections(a,t,e,o,l,n){return re(this.configuration).listUserCollections(a,t,e,o,l,n).then(u=>u(this.axios,this.basePath))}async removeItemFromCollection(a,t,e,o){return re(this.configuration).removeItemFromCollection(a,t,e,o).then(l=>l(this.axios,this.basePath))}async updateCollection(a,t){return re(this.configuration).updateCollection(a,t).then(e=>e(this.axios,this.basePath))}}function rt(){return{animate:t=>{const e=document.getElementById(t);e==null||e.classList.add("animate-bounce"),setInterval(()=>{e==null||e.classList.remove("animate-bounce")},2500)}}}function ia(){const s=(t,e,o)=>{e.value=!1,clearTimeout(t),e.value=!0,t=setTimeout(()=>{e.value=!1,a(o)},2e3)},a=t=>{const e=document.getElementById(t);e==null||e.classList.add("fade"),e==null||e.classList.add("fade-out")};return{splash:s,hide:a}}var it;const Ce=typeof window<"u",ca=s=>typeof s=="string",ze=()=>{};Ce&&((it=window==null?void 0:window.navigator)==null?void 0:it.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ke(s){return typeof s=="function"?s():O(s)}function ua(s){return s}function Xe(s){return Yt()?(Kt(s),!0):!1}function da(s){return typeof s=="function"?Ue(s):b(s)}function ma(s,a=!0){Xt()?Se(s):a?s():Zt(s)}function pa(s,a,t={}){const{immediate:e=!0}=t,o=b(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function u(){o.value=!1,n()}function m(...d){n(),o.value=!0,l=setTimeout(()=>{o.value=!1,l=null,s(...d)},Ke(a))}return e&&(o.value=!0,Ce&&m()),Xe(u),{isPending:o,start:m,stop:u}}function ha(s){var a;const t=Ke(s);return(a=t==null?void 0:t.$el)!=null?a:t}const bt=Ce?window:void 0;Ce&&window.document;const va=Ce?window.navigator:void 0;Ce&&window.location;function fa(...s){let a,t,e,o;if(ca(s[0])?([t,e,o]=s,a=bt):[a,t,e,o]=s,!a)return ze;let l=ze;const n=Ve(()=>ha(a),m=>{l(),m&&(m.addEventListener(t,e,o),l=()=>{m.removeEventListener(t,e,o),l=ze})},{immediate:!0,flush:"post"}),u=()=>{n(),l()};return Xe(u),u}function kt(s,a=!1){const t=b(),e=()=>t.value=Boolean(s());return e(),ma(e,a),t}function wa(s,a={}){const{window:t=bt}=a,e=kt(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let o;const l=b(!1),n=()=>{!o||("removeEventListener"in o?o.removeEventListener("change",u):o.removeListener(u))},u=()=>{!e.value||(n(),o=t.matchMedia(da(s).value),l.value=o.matches,"addEventListener"in o?o.addEventListener("change",u):o.addListener(u))};return ea(u),Xe(()=>n()),l}function ga(s={}){const{navigator:a=va,read:t=!1,source:e,copiedDuring:o=1500}=s,l=["copy","cut"],n=kt(()=>a&&"clipboard"in a),u=b(""),m=b(!1),d=pa(()=>m.value=!1,o);function h(){a.clipboard.readText().then(f=>{u.value=f})}if(n.value&&t)for(const f of l)fa(f,h);async function w(f=Ke(e)){n.value&&f!=null&&(await a.clipboard.writeText(f),u.value=f,m.value=!0,d.start())}return{isSupported:n,text:u,copied:m,copy:w}}const Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ye="__vueuse_ssr_handlers__";Je[Ye]=Je[Ye]||{};Je[Ye];var ct;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(ct||(ct={}));var ya=Object.defineProperty,ut=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,dt=(s,a,t)=>a in s?ya(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,xa=(s,a)=>{for(var t in a||(a={}))ba.call(a,t)&&dt(s,t,a[t]);if(ut)for(var t of ut(a))ka.call(a,t)&&dt(s,t,a[t]);return s};const _a={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};xa({linear:ua},_a);function Ca(){return{readMore:(a,t,e,o)=>{const l=document.getElementById(`${o}${t}`);l!==null&&(l.innerHTML=a);const n=document.getElementById(`${e}${t}`);n==null||n.remove()}}}const $a={class:"flex-col info"},Ia={key:0,class:"user-info"},Aa={class:"flex flex-row w-full"},Ra=["src"],Sa={class:"w-full name"},Pa={class:"flex flex-row justify-between"},La={class:"flex flex-col"},Oa={class:"mb-2 text-base font-bold"},Ua={key:1,class:"mb-4"},Va=["id"],Ea=["id"],qa={class:"mb-4"},Ma={key:2,class:"tags"},Ta={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(s){vt();const a=(t,e,o,l)=>{Ca().readMore(t,e,o,l)};return(t,e)=>{const o=Pe;return y(),_("section",$a,[s.artworkDetail.users?(y(),_("div",Ia,[r("div",Aa,[x(o,{to:"/profile/"+s.artworkDetail.users.username},{default:J(()=>[r("img",{class:"avatar",src:t.avatarCoverUrl(s.artworkDetail.users.avatar_bucket,s.artworkDetail.users.avatar_filename),onError:e[0]||(e[0]=(...l)=>t.imageLoadError&&t.imageLoadError(...l))},null,40,Ra)]),_:1},8,["to"]),r("div",Sa,[r("div",Pa,[r("div",La,[x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"fullname"},{default:J(()=>[T(g(s.artworkDetail.users.name),1)]),_:1},8,["to"]),x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"username"},{default:J(()=>[T(" @"+g(s.artworkDetail.users.username),1)]),_:1},8,["to"])]),I(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:e[1]||(e[1]=l=>t.closeModal(s.section+"-modal"))}," ESC ",512),[[A,s.isModal]])])])])])):S("",!0),r("div",Oa,g(s.artworkDetail.title),1),s.artworkDetail.description?(y(),_("div",Ua,[r("span",{id:"mview-"+s.isDesktop+"-description-"+s.artworkDetail.id},g(s.artworkDetail.description.length>300?`${s.artworkDetail.description.slice(0,300)}...`:s.artworkDetail.description),9,Va),s.artworkDetail.description.length>300?(y(),_("a",{key:0,id:"mview-"+s.isDesktop+"-read-more-"+s.artworkDetail.id,class:"href",onClick:e[2]||(e[2]=pe(l=>a(s.artworkDetail.description,s.artworkDetail.id,"mview-"+s.isDesktop+"-read-more-","mview-"+s.isDesktop+"-description-"),["prevent"]))},g(t.$t("readMore")),9,Ea)):S("",!0)])):S("",!0),r("div",qa,[r("span",{class:D({"font-bold italic text-red-400":s.previewMode})},g(s.previewMode?t.$t("willBePublishedOn"):t.$t("publishedOn")),3),T(" "+g(t.formatDate(s.artworkDetail.scheduled_post)),1)]),s.artworkDetail.artwork_has_tags&&s.artworkDetail.artwork_has_tags.length?(y(),_("div",Ma,[(y(!0),_(he,null,ve(s.artworkDetail.artwork_has_tags,l=>(y(),_("span",{key:l.artwork_tags.id,class:"tag"},[x(o,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:J(()=>[T(g(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):S("",!0)])}}},mt=fe(Ta,[["__scopeId","data-v-9fd3d44f"]]),Ba=["href","onClick"],Fa={class:"overflow-hidden relative text-center rounded-md"},Da={key:0},ja={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Na=["href"],Qa=["src"],Ha={class:"overflow-hidden relative text-center rounded-md"},za={key:0},Wa={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ga=["href"],Ja=["src"],Ya={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(s,{emit:a}){const t=s,e=qe();Ve(()=>t.currentWorkId,h=>{l.value=h});const o=ta(),l=b(t.currentWorkId),n=wa("(min-width: 1024px)"),u=h=>{n.value&&!t.isMiniList||t.isMiniList?(l.value=h,t.view(h)):o.replace({path:"/a/"+h})},m=b([]),d=h=>{if(m.value.includes(h)){const w=m.value.indexOf(h);m.value.splice(w,1)}else m.value.push(h);a("feedManageList",m.value)};return Ve(()=>t.manageMode,h=>{h===!1&&(m.value=[])}),(h,w)=>{const f=Pe;return y(),_("section",{class:D(s.sectionClass)},[(y(!0),_(he,null,ve(s.works,i=>(y(),_("span",{key:i.id,class:D(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&l.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":m.value.includes(i.id)||l.value==i.id}])},[!h.isMobile()&&!s.isHref&&!s.isMiniList?(y(),_("a",{key:0,href:"/a/"+i.id,onClick:pe(c=>s.manageMode?d(i.id):s.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Fa,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Da,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",ja,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,class:D([{"animate-wigglefast":s.manageMode}])},[r("img",{class:D(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[0]||(w[0]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Qa)],10,Na)])],8,Ba)):(y(),ie(f,{key:1,onClick:c=>s.manageMode?d(i.id):u(i.id)},{default:J(()=>[r("div",Ha,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",za,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",Wa,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,onClick:w[2]||(w[2]=pe(c=>h.void,["prevent"])),class:D([{"animate-wigglefast":s.manageMode}])},[r("img",{class:D(["object-cover w-full h-full unselectable",{"blur-3xl brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[1]||(w[1]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Ja)],10,Ga)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ka=fe(Ya,[["__scopeId","data-v-a0a41970"]]),Xa={class:"artist-works"},Za={class:"heading"},es={key:0,class:"pagination-controller"},ts={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(s){const a=s,t=a.artworkDetail,{oApiConfiguration:e,fetchOptions:o}=_e(),l=gt(e,o()),n=b(null);Se(()=>{a.keepArtistPageNumber||(d.page=-1),h(t.users.id)});const u=b(!0),m=b([]),d=We({page:0,perPage:a.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),h=async(i,c)=>{u.value=!0,d.options.nextPrevLoading=!0,i!==n.value&&(n.value=i,d.page=-1),c==="prev"?d.page-=1:d.page+=1;const[k,P,R]=await l.getUserArtworks({userId:i,pagination:{page:d.page,perPage:d.perPage}});R?(u.value=!1,f()):(P.next_previous.prev_page===null||P.next_previous.prev_page===void 0?d.options.disableArtistPrevButton=!0:d.options.disableArtistPrevButton=!1,P.next_previous.next_page===null||P.next_previous.next_page===void 0?d.options.disableArtistNextButton=!0:d.options.disableArtistNextButton=!1,m.value=k),d.options.nextPrevLoading=!1,u.value=!1},w=b(!1),f=()=>{w.value=!0};return(i,c)=>{const k=Pe;return y(),_("div",Xa,[r("div",Za,[r("span",null,[T(g(i.$t("artworks.moreArtworkBy"))+" ",1),s.artworkDetail.users?(y(),ie(k,{key:0,to:"/profile/"+s.artworkDetail.users.username,class:"text-colored"},{default:J(()=>[T(g(s.artworkDetail.users.username)+" <"+g(s.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):S("",!0)]),x(k,{to:"/profile/"+s.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:J(()=>[x(U,{name:"i-ci-external-link"})]),_:1},8,["to"])]),x(Me,{loading:u.value,error:w.value,class:"mt-2"},null,8,["loading","error"]),I(x(Ka,{class:D(["gap-2 md:gap-4",[d.options.nextPrevLoading?"animate-pulse":"",s.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:m.value,view:s.view,"is-href":s.isHref,"is-mini-list":!0,"current-work-id":s.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[A,!u.value&&!w.value]]),s.artworkDetail.users?I((y(),_("div",es,[r("span",{onClick:c[0]||(c[0]=P=>d.options.disableArtistPrevButton?null:h(s.artworkDetail.users.id,"prev"))},[x(U,{name:"i-ion-chevron-back"})]),r("span",{onClick:c[1]||(c[1]=P=>d.options.disableArtistNextButton?null:h(s.artworkDetail.users.id,"next"))},[x(U,{name:"i-ion-chevron-forward"})])],512)),[[A,!u.value]]):S("",!0)])}}},pt=fe(ts,[["__scopeId","data-v-a626d965"]]);function as(s,a){return{createCollection:async(i,c)=>{try{const{data:k}=await new me(s).create({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},a);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new me(s).detail(i,a)).data,null]}catch(c){return[null,c]}},countCollections:async i=>{try{const{data:c}=await new Ee(s).countUserCollections(i,a);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkCollections:async i=>{try{const{data:c}=await new Ee(s).countUserArtworkCollections(i,a);return[c.data.total,null]}catch(c){return[null,c]}},fetchCollections:async i=>{try{const{data:c}=await new me(s).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,a),k=c.data.collections,P=c.data.pagination;let R=!0;return P.current_page===P.total_page&&(R=!1),[k,R,null]}catch(c){return[null,!1,c]}},listCollectionItems:async i=>{try{const{data:c}=await new me(s).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,a),k=c.data.pagination;let P=!0;return k.current_page===k.total_page&&(P=!1),[c.data.items,P,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new me(s).getCurrentSaveInfo(i,c,a);return[k.data,null]}catch(k){return[null,k]}},addItem:async i=>{try{return await new me(s).addItemToCollection(i.type,i.collectionId,{id:i.workId},a),[!0,null]}catch(c){return[null,c]}},removeItem:async i=>{try{const{data:c}=await new me(s).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},a);return[c.success,null]}catch(c){return[null,c]}},update:async i=>{try{const{data:c}=await new me(s).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},a);return[c.success,null]}catch(c){return[null,c]}},deleteCollection:async i=>{try{const{data:c}=await new me(s).collectionsIdDelete(i,a);return[c.success,null]}catch(c){return[null,c]}}}}const ss={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},os={class:"flex flex-row justify-between w-full"},ls={class:"title"},ns={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},rs={class:"list"},is={class:"overflow-y-scroll pr-2 max-h-60"},cs=["onClick"],us={class:"flex flex-row justify-between"},ds={class:"flex float-right flex-row gap-2 mt-4"},ms=["placeholder"],ps={class:"flex flex-row justify-between mt-2"},hs={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(s,{expose:a,emit:t}){const e=s,o=qe(),{oApiConfiguration:l,fetchOptions:n}=_e(),u=as(l,n());Se(()=>{f(),c()});const m=b({pagination:{page:0,perPage:10},loading:!1}),d=b(!1),h=b(!1),w=b([]),f=async(E=!1)=>{E||(m.value.loading=!0);const[q,H,X]=await u.fetchCollections({userId:o.user.id,type:"artwork",pagination:{page:m.value.pagination.page,perPage:m.value.pagination.perPage}});m.value.loading=!1,X&&(d.value=!0),X||(q&&q.length>0?(H?(m.value.pagination.page+=1,k.value=!0):k.value=!1,q.forEach(ye=>{w.value.push(ye)})):h.value=!0)},i=b([]),c=async()=>{d.value=!1,i.value=[],R.value=[],Y.value=[],await setTimeout(async()=>{const[E,q]=await u.getCurrentSaveInfo("artwork",e.workId);if(q)d.value=!0;else for(const H of E)R.value.push(H.collection_id),i.value.push(H.collection_id)},300)},k=b(!0),P=async()=>{await f({isLoadMore:!0}),await c()},R=b([]),Y=b([]),j=E=>{if(R.value.includes(E)){Y.value.push(E);const q=R.value.indexOf(E);R.value.splice(q,1)}else if(R.value.push(E),Y.value.includes(E)){const q=Y.value.indexOf(E);Y.value.splice(q,1)}},z=async()=>{try{for(const q of R.value)await u.addItem({collectionId:q,type:"artwork",workId:e.workId});if(Y.value.length)for(const q of Y.value)await u.removeItem({collectionId:q,type:"artwork",workId:e.workId});let E=!1;R.value.length===0&&i.value.length===Y.value.length&&(E=!0),await c(),K().closeModal(e.modalId),t("save",E)}catch{}},$=b(""),ee=b(!1),oe=async()=>{ee.value=!1;const[E,q,H]=await u.createCollection("artwork",{title:$.value,isPublic:1,description:""});E?(w.value=[],Q(),m.value.pagination.page=0,await f(),await c(),$.value="",N()):ee.value=!0},se=b(!1),N=()=>{se.value=!0,setInterval(()=>{se.value=!1},5e3)},Q=()=>{R.value=[]},B=()=>{K().closeModal(e.modalId),Q()};return a({fetchCurrentSaved:c}),(E,q)=>(y(),_("div",null,[r("div",ss,[r("div",null,[r("div",os,[r("span",ls,g(E.$t("collections.addItem.form.title")),1),r("div",ns,[r("div",{class:"modal-close",onClick:q[0]||(q[0]=H=>B())},[x(U,{name:"close",class:"text-2xl"})])])]),I(r("div",rs,[r("div",is,[(y(!0),_(he,null,ve(w.value,(H,X)=>(y(),_("div",{key:H.id,class:D(["item",[{"mt-2":X!==0},R.value.includes(H.id)?"button-color text-white":"theme-color-secondary"]]),onClick:ye=>j(H.id)},[r("div",us,[r("span",null,g(H.name),1),r("span",{class:D(["ml-2 font-bold",R.value.includes(H.id)?"text-white":"text-colored"])},g(H._count.collection_has_artworks),3)])],10,cs))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=H=>P())},[x(U,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[A,k.value]]),r("div",ds,[r("button",{class:"cancel-button",onClick:q[2]||(q[2]=H=>B())},g(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:q[3]||(q[3]=H=>z())},g(E.$t("save")),1)])],512),[[A,!m.value.loading&&!d.value&&!h.value]]),I(r("div",null,[I(r("input",{"onUpdate:modelValue":q[4]||(q[4]=H=>$.value=H),type:"text",class:D(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":ee.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,ms),[[Re,$.value]]),r("div",ps,[r("div",null,[I(r("span",{class:"font-bold text-green-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.collectionCreated")),513),[[A,se.value]]),I(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[A,ee.value]])]),I(r("button",{class:"primary-button",onClick:q[5]||(q[5]=H=>oe())},g(E.$t("create")),513),[[A,$.value&&$.value.length>0]])])],512),[[A,!m.value.loading&&!d.value&&!h.value]])]),x(Me,{loading:m.value.loading,empty:h.value,error:d.value,fetch:f},null,8,["loading","empty","error"])])]))}},vs=fe(hs,[["__scopeId","data-v-27d5b94a"]]);function fs(s,a){return{createAlbum:async(i,c)=>{try{const{data:k}=await new de(s).createAlbum({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},a);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new de(s).getAlbumById(i,a)).data,null]}catch(c){return[null,c]}},countAlbums:async i=>{try{const{data:c}=await new Ee(s).countUserAlbums(i,a);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkAlbums:async i=>{try{const{data:c}=await new Ee(s).countUserArtworkAlbums(i,a);return[c.data.total,null]}catch(c){return[null,c]}},fetchAlbums:async(i,c,k,P)=>{try{const{data:R}=await new de(s).listUserAlbums(i,k,P,c,a),Y=R.data.pagination;let j=!0;return Y.current_page===Y.total_page&&(j=!1),[R.data.albums,j,null]}catch(R){return[null,!1,R]}},listAlbumItems:async i=>{try{const{data:c}=await new de(s).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,a),k=c.data.pagination;let P=!0;return k.current_page===k.total_page&&(P=!1),[c.data.works,P,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new de(s).getCurrentAlbumSaveInfo(i,c,a);return[k.data,null]}catch(k){return[null,k]}},addItems:async(i,c)=>{try{for(const k of i)await new de(s).addWorkToAlbum({album_id:k,work_ids:c},a);return[!0,null]}catch(k){return[null,k]}},removeItems:async(i,c)=>{try{const{data:k}=await new de(s).removeWorkFromAlbum({album_id:i,work_ids:c},a);return[k.success,null]}catch(k){return[null,k]}},update:async i=>{try{const{data:c}=await new de(s).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},a);return[c.success,null]}catch(c){return[null,c]}},deleteAlbum:async i=>{try{const{data:c}=await new de(s).deleteAlbum(i,a);return[c.success,null]}catch(c){return[null,c]}}}}const ws={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},gs={class:"flex flex-row justify-between w-full"},ys={class:"title"},bs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ks={class:"list"},xs={class:"overflow-y-scroll pr-2 max-h-60"},_s=["onClick"],Cs={class:"flex float-right flex-row gap-2 mt-4"},$s={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(s,{expose:a,emit:t}){const e=s;Se(()=>{c(),e.workIds.length||R()});const o=qe(),{oApiConfiguration:l,fetchOptions:n}=_e(),u=fs(l,n()),m=async()=>{d.value=[],h.value.pagination.page=0,k(),await c()},d=b([]),h=b({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=b(!0),f=b(!1),i=b(!1),c=async()=>{k(),w.value=!0;const[N,Q,B]=await u.fetchAlbums(o.user.id,"artwork",h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage,h.value.pagination.page);B&&(f.value=!0),N.length?(Q?(h.value.pagination.page+=1,h.value.showLoadMore=!0):h.value.showLoadMore=!1,N.forEach(E=>{d.value.push(E)})):i.value=!0,w.value=!1},k=()=>{i.value=!1,f.value=!1},P=b([]),R=async()=>{P.value=[],j.value=[],z.value=[];const[N,Q]=await u.getCurrentSaveInfo("artwork",e.workId);for(const B of N)j.value.push(B.album_id),P.value.push(B.album_id)},Y=async()=>{await c(),await R()},j=b([]),z=b([]),$=N=>{if(j.value.includes(N)){z.value.push(N);const Q=j.value.indexOf(N);j.value.splice(Q,1)}else if(j.value.push(N),z.value.includes(N)){const Q=z.value.indexOf(N);z.value.splice(Q,1)}},ee=async()=>{const[N,Q]=await u.addItems(j.value,e.workIds.length?e.workIds:[e.workId]);if(!e.workIds.length&&z.value.length)for(const B of z.value)await u.removeItems(B,[e.workId]);if(N){let B=!1;e.workIds.length||j.value.length===0&&P.value.length===z.value.length&&(B=!0),oe(),K().closeModal(e.modalId),t("addedToAlbum",e.workIds.length?!0:B)}},oe=()=>{j.value=[]},se=()=>{K().closeModal(e.modalId),oe()};return a({fetchCurrentSaved:R,fetchAlbums:c}),(N,Q)=>(y(),_("div",null,[r("div",ws,[r("div",null,[r("div",gs,[r("span",ys,g(N.$t("albums.selectAlbums")),1),r("div",bs,[r("div",{class:"modal-close",onClick:Q[0]||(Q[0]=B=>se())},[x(U,{name:"close",class:"text-2xl"})])])]),r("div",ks,[I(r("div",null,[r("div",xs,[(y(!0),_(he,null,ve(d.value,(B,E)=>(y(),_("div",{key:B.id,class:D(["item",[{"mt-2":E!==0},j.value.includes(B.id)?"button-color text-white":"theme-color-secondary"]]),onClick:q=>$(B.id)},[r("span",null,g(B.name),1),r("span",{class:D(["ml-2 font-bold",j.value.includes(B.id)?"text-white":"text-colored"])},g(B._count.album_has_artworks),3)],10,_s))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:Q[1]||(Q[1]=B=>Y())}," Load More ",512),[[A,h.value.showLoadMore]]),r("div",Cs,[r("button",{class:"cancel-button",onClick:Q[2]||(Q[2]=B=>se())},g(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:Q[3]||(Q[3]=B=>ee())},g(N.$t("save")),1)])],512),[[A,!w.value&&!i.value&&!f.value]])])]),x(Me,{loading:w.value,empty:i.value,error:f.value,fetch:m},null,8,["loading","empty","error"])])]))}},Is=fe($s,[["__scopeId","data-v-92721f88"]]),As={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Rs={class:"mb-4"},Ss={class:"flex flex-row justify-end gap-2"},Ps={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(s,{emit:a}){const t=s,e=o=>{o&&a("onAccept",!0),K().closeModal(t.modalId)};return(o,l)=>(y(),_("div",null,[r("div",As,[r("p",Rs,g(s.message),1),r("div",Ss,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>e(!1))},g(o.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>e(!0))},g(o.$t("yes")),1)])])]))}},Ls={class:"splash"},Os={class:"flex flex-row"},Us={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(s){return(a,t)=>(y(),_("div",Ls,[r("div",Os,[x(U,{name:s.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,g(s.text),1)])]))}},Vs=fe(Us,[["__scopeId","data-v-86e964a1"]]),xt=s=>(ft("data-v-93d8d761"),s=s(),wt(),s),Es={class:"opt-modal modal-layer"},qs={class:"opt-modal__title"},Ms={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ts={class:"opt-modal__content"},Bs={class:"report"},Fs={class:"report__reason_opt"},Ds={class:"report__title"},js=["onClick"],Ns={class:"report__title"},Qs=["placeholder"],Hs={class:"report__buttons"},zs={class:"text-justify"},Ws={class:"mt-2"},Gs=xt(()=>r("i",null,"Your report ID:",-1)),Js=T("\xA0 "),Ys=xt(()=>r("i",null,"Report date:",-1)),Ks=T("\xA0 "),Xs={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(s){const a=s,{oApiConfiguration:t,fetchOptions:e}=_e(),o=yt(t,e()),l=b(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=b({selectedReasons:[],reasonDescription:"",enableSubmit:Ue(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),u=i=>{if(!n.value.selectedReasons.includes(i))n.value.selectedReasons.push(i);else{const c=n.value.selectedReasons.indexOf(i);n.value.selectedReasons.splice(c,1)}},m=b(!1),d=b({}),h=async()=>{m.value=!1,d.value={};const[i,c,k]=await o.createNewReport({type:a.type,postId:a.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});k&&!i||(m.value=!0,d.value=c)},w=()=>{K().closeModal("report-modal"),f()},f=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",m.value=!1};return(i,c)=>{const k=Pe;return y(),_("div",null,[r("div",Es,[r("div",qs,[r("h1",null,g(m.value?i.$t("reports.reportSubmitted"):s.reportStatus.id?i.$t("reports.alreadyReported"):i.$t("reports.title")),1),r("div",Ms,[r("div",{class:"modal-close",onClick:c[0]||(c[0]=P=>w())},[x(U,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",Ts,[I(r("div",Bs,[r("div",Fs,[r("div",Ds,g(i.$t("reports.selectReasons")),1),(y(!0),_(he,null,ve(l.value,P=>(y(),_("span",{key:P,class:D([n.value.selectedReasons.includes(P)?"button-color":"theme-color-secondary"]),onClick:R=>u(P)},[r("div",null,[I(x(U,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[A,!n.value.selectedReasons.includes(P)]]),I(x(U,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[A,n.value.selectedReasons.includes(P)]])]),r("div",{class:D(["reason",[n.value.selectedReasons.includes(P)?"text-white":"text-color-secondary"]])},g(i.$t("reports.reasons."+P)),3)],10,js))),128))]),r("div",null,[r("div",Ns,g(i.$t("reports.describeReason")),1),I(r("textarea",{"onUpdate:modelValue":c[1]||(c[1]=P=>n.value.reasonDescription=P),class:"report__reason_description",placeholder:i.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Qs),[[Re,n.value.reasonDescription]])]),r("div",Hs,[r("button",{class:"cancel-button",onClick:c[2]||(c[2]=P=>w())},g(i.$t("cancel")),1),r("button",{class:D(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=P=>n.value.enableSubmit?h():null)},g(i.$t("report")),3)])],512),[[A,!m.value&&!s.reportStatus.id]]),I(r("div",null,[r("div",zs,g(i.$t("reports.reportSubmittedMessage")),1),r("div",Ws,[r("div",null,[Gs,Js,r("b",null,"#"+g(d.value.id),1)]),r("div",null,[Ys,Ks,r("b",null,g(i.formatDate(d.value.created_at)),1)])])],512),[[A,m.value]]),I(r("div",null,[T(g(i.$t("reports.alreadyReportedDescription"))+" ",1),x(k,{class:"underline href",to:"/reports"},{default:J(()=>[T(g(i.$t("reports.reportStatus")),1)]),_:1})],512),[[A,s.reportStatus.id]])])])])}}},Zs=fe(Xs,[["__scopeId","data-v-93d8d761"]]),eo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},to={class:"title"},ao={class:"mt-2"},so={class:"alert-success"},oo={class:"italic"},lo={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},no=["placeholder"],ro={class:"flex float-right flex-row gap-2"},io={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(s){const a=s,{oApiConfiguration:t,fetchOptions:e}=_e(),o=ra(t,e()),l=()=>{u.value=""},n=()=>{m.value=!1,d.value=!1,h.value=!1,K().closeModal("share-to-feed-modal"),l()},u=b(""),m=b(!1),d=b(!1),h=b(!1),w=async()=>{m.value=!1,d.value=!0,h.value=!1;const[f,i,c]=await o.shareArtworkToFeed({text:u.value,workId:a.postId});f?(h.value=!0,setTimeout(()=>{n()},500)):m.value=!0,d.value=!1};return(f,i)=>(y(),_("div",null,[r("div",eo,[r("span",to,g(f.$t("feeds.share.artwork.title")),1),r("div",ao,[I(r("div",so,[r("span",oo,g(f.$t("feeds.share.artwork.success")),1)],512),[[A,h.value]]),I(r("div",lo,[x(Ge,{class:"mr-2"}),T(" "+g(f.$t("feeds.form.postingYourUpdate")),1)],512),[[A,d.value]]),I(r("div",{class:"alert-danger"},g(f.$t("feeds.form.postFailure")),513),[[A,m.value]]),I(r("textarea",{"onUpdate:modelValue":i[0]||(i[0]=c=>u.value=c),class:"input form-input textarea",placeholder:f.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,no),[[Re,u.value]]),r("div",ro,[r("button",{class:"cancel-button",onClick:i[1]||(i[1]=c=>n())},g(f.$t("cancel")),1),r("button",{class:D(["primary-button"]),onClick:i[2]||(i[2]=c=>w())},g(f.$t("share")),1)])])])]))}},_t=s=>(ft("data-v-b13418e6"),s=s(),wt(),s),co={class:"work-view mx-auto w-full md:w-1/2 align-middle"},uo={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},mo={class:"flex flex-row justify-center mb-2"},po=_t(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),ho={class:"font-bold cursor-pointer"},vo={class:"mr-2 font-normal"},fo={class:"italic"},wo={key:1,class:"alert-success"},go={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},yo={class:"mr-4"},bo={class:"image-list"},ko=["src","data-source"],xo={class:"interactions"},_o={class:"reaction-counters"},Co={class:"counter"},$o={key:1,class:"counter"},Io={key:2,class:"counter"},Ao={key:3,class:"counter"},Ro={key:0,class:"reactions"},So={class:"inline-block relative z-30 dropdown"},Po={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Lo={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Oo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Uo={key:2,class:"custom-divider"},Vo={key:4,class:"custom-divider"},Eo=["to"],qo={class:"comments"},Mo={key:0,class:"comment-box"},To={class:"flex flex-col"},Bo={class:"flex relative flex-col"},Fo=["readonly","rows","placeholder"],Do={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},jo={class:"comment-content"},No=["src"],Qo={class:"w-full"},Ho={class:"flex justify-between"},zo={class:"comment-time"},Wo={class:"mt-4 reactions"},Go=["onClick"],Jo={key:0},Yo={key:0,class:"flex flex-row"},Ko=["onClick"],Xo=["onClick"],Zo={class:"inline-block relative ml-2 dropdown"},el={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},tl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},al=["onClick"],sl={key:0,class:"-mb-4 comment-box"},ol={class:"flex flex-col"},ll={class:"flex relative flex-col"},nl=["id","readonly","rows","placeholder"],rl=["onClick"],il=["id"],cl={key:0,class:"w-full"},ul={class:"float-left mb-2 text-xs italic text-color-secondary"},dl=["onClick"],ml={class:"flex flex-row justify-between"},pl=["src"],hl={class:"transition-all duration-150 cursor-pointer hover:font-bold"},vl={class:"leading-6 comment-time"},fl={class:"mt-2"},wl={key:0,class:"mt-2 reactions"},gl=_t(()=>r("span",null,null,-1)),yl={class:"flex flex-row"},bl=["onClick"],kl={class:"inline-block relative ml-2 dropdown"},xl={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},_l={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Cl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},$l=["onClick"],Il=["onClick"],Al={key:3,class:"mt-4 w-full text-xs italic text-center"},Rl={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},setup(s,{expose:a}){const t=s,e=qe(),{oApiConfiguration:o,fetchOptions:l}=_e(),{applyExplicitFilter:n,removeExplicitFilter:u,generateSemiCompressedArtworkUrl:m}=aa(),d=gt(o,l()),h=yt(o,l()),w=sa(),{$router:f}=oa(),i=vt();Ve(()=>i.query,()=>{c(),K().closeModal("collection-selection-modal"),K().closeModal("album-selection-modal"),K().closeModal("report-modal")}),Se(()=>{t.id!==""&&Q(t.id),window.addEventListener("keydown",p=>{const v=document.getElementById("collection-selection-modal"),L=document.getElementById("album-selection-modal"),V=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");p.key==="Escape"&&(!v||v.style.display!="flex")&&(!L||L.style.display!="flex")&&(!V||V.style.display!="flex")&&!ae.length&&c()})});const c=()=>{K().closeModal(`${t.section}-modal`)},k=b(!1),P=()=>{k.value=!1,u()},R=t.id==="",Y=async p=>{await d.incraseViewCount(p)},j=b(!1),z=b(!0),$=b({}),ee=b(!1),oe=b(!1),se=b(!1),N=b([]),Q=async p=>{Z.value="",X.value=[],le.value=[],z.value=!0;const[v,L]=await d.getWorkById(p);L?Bt():($.value=v,N.value=[],v.artwork_assets.forEach(ae=>{N.value.push({thumbnail:m(ae.bucket,ae.filename,!0),source:m(ae.bucket,ae.filename,!1)})}),!e.loggedIn&&v.is_explicit||v.is_explicit&&!e.user.user_settings.show_explicit?(k.value=!0,n()):k.value=!1,ee.value=v.liked,oe.value=v.saved,se.value=v.in_album,lt().formatApiToWeb(v.scheduled_post)<lt().currentUtcTime()?(await Ct(p),e.loggedIn&&await E(p),(!e.loggedIn||e.user.id!==v.users.id)&&await Y(p)):e.user.id!==v.users.id?f.push("/"):j.value=!0),z.value=!1},B=b({}),E=async p=>{const[v,L]=await h.getReportStatus({type:"artwork",postId:p});L||(v.length?B.value=v[0]:B.value={})},q=async()=>{const[p,v]=await d.like({workId:$.value.id});if(p){ee.value=!0;const L=document.getElementById("like-button");L.classList.add("animate-bounce"),setInterval(()=>{L.classList.remove("animate-bounce")},2500)}},H=async()=>{const[p,v]=await d.unlike({workId:$.value.id});p&&(ee.value=!1)},X=b([]),ye=We({perPage:3,page:0}),$e=b([]),Ze=async p=>{const[v,L]=await d.getComments({workId:p,pagination:{page:ye.page,perPage:ye.perPage}});if(v)return v.pagination.current_page===v.pagination.first_last.last_page?Le.value=!1:Le.value=!0,v.comments.forEach(V=>{V.liked&&we.value.push(V.id),$e.value.push(V.id)}),v.comments},Ct=async p=>{try{(await Ze(p)).forEach(L=>X.value.push(L))}catch{}},Le=b(!1),$t=async p=>{try{ye.page+=1,(await Ze(p)).forEach(L=>X.value.push(L))}catch{}},Z=b(),Te=200,It=Ue(()=>Z.value!=null&&Z.value!==""?Te-Z.value.length:Te),be=b(!1),At=async()=>{be.value=!0;try{const[p,v,L]=await d.addComment({workId:$.value.id,comment:Z.value});p&&(Z.value="",X.value.splice(0,0,v),X.value.join(),$e.value.splice(0,0,v.id),$e.value.join())}catch{}be.value=!1},Rt=async p=>{const[v,L]=await d.deleteComment({commentId:p});if(v){const V=$e.value.indexOf(p);X.value.splice(V,1),$e.value.splice(V,1)}},we=b([]),St=async p=>{const[v,L]=await d.likeComment({commentId:p});if(v){we.value.push(p);const V=document.getElementById(`comment-like-button-${p}`);V.classList.add("animate-bounce"),setInterval(()=>{V.classList.remove("animate-bounce")},2500)}},Pt=async p=>{const[v,L]=await d.unlikeComment({commentId:p});if(v){const V=we.value.indexOf(p);we.value.splice(V,1)}},Be=We({perPage:2,page:0}),le=b([]),ke=b([]),Fe=b(!0),et=async p=>{const[v,L,V]=await d.getCommentReplies({commentId:p,pagination:{page:Be.page,perPage:Be.perPage}});if(!V)return L.current_page===L.first_last.last_page&&(Fe.value=!1),v.map(ae=>ke.value.push(ae.id)),v},Ie=b(0),De=async p=>{Fe.value=!0,ke.value=[];try{const v=await et(p);le.value={[p]:v},v.forEach(V=>{V.liked&&ge.value.push(V.id)}),Ie.value&&je(Ie.value);const L=document.getElementById(`comment-replies-${p}`);L.classList.add("flex"),L.classList.remove("hidden"),Ie.value=p}catch{}},je=p=>{const v=document.getElementById(`comment-replies-${p}`);v.classList.remove("flex"),v.classList.add("hidden"),Ie.value=0},Lt=async p=>{Be.page+=1;try{(await et(p)).forEach(L=>{le.value[p].push(L)})}catch{}},Oe=b(0),Ot=async p=>{await De(p),Oe.value=p},te=b(),Ne=200,Ut=Ue(()=>te.value!=null&&te.value!==""?Ne-te.value.length:Ne),xe=b(!1),Vt=async p=>{xe.value=!0;try{const[v,L,V]=await d.addReply({commentId:p,reply:te.value});v&&(De(p),te.value="",le.value[p].splice(0,0,L),le.value[p].join(),Oe.value=0,ke.value.splice(0,0,L.id),ke.value.join())}catch{}xe.value=!1},Et=async(p,v)=>{const[L,V]=await d.deleteReply({replyId:v});if(L){const ae=ke.value.indexOf(v);le.value[p].splice(ae,1),ke.value.splice(ae,1)}},ge=b([]),qt=async p=>{const[v,L]=await d.likeReply({replyId:p});if(v){ge.value.push(p);const V=document.getElementById(`reply-like-button-${p}`);V.classList.add("animate-bounce"),setInterval(()=>{V.classList.remove("animate-bounce")},2500)}},Mt=async p=>{const[v,L]=await d.unlikeReply({replyId:p});if(v){const V=ge.value.indexOf(p);ge.value.splice(V,1)}},Tt=b(!1),Bt=()=>{Tt.value=!0},Qe=b(!1),He=b(!1),tt=async p=>{const[v,L]=await d.deleteWork({workId:[p]});v&&(He.value=!0,setTimeout(()=>{f.push("/")},1500))},at=b(null),Ft=()=>{K().openModal("collection-selection-modal"),at.value.fetchCurrentSaved()},Dt=p=>{p?oe.value=!1:oe.value=!0,rt().animate("save-to-collection-button")},st=b(null),jt=()=>{K().openModal("album-selection-modal"),st.value.fetchCurrentSaved()},Nt=p=>{p?se.value=!1:se.value=!0,rt().animate("save-to-album-button")},Qt=()=>{K().openModal("share-to-feed-modal")},ot=b(!1);let Ht;const zt=p=>{const v=b(w.public.appUrl+p),{copy:L}=ga({source:v});L(),ia().splash(Ht,ot,"copy-alert")},Wt=b(null),Gt=()=>{K().openModal("report-modal")};return a({view:Q}),(p,v)=>{const L=na("viewer"),V=Pe,ae=nt("lazy"),Jt=nt("auto-animate");return y(),_(he,null,[I(r("div",co,[x(Me,{loading:z.value},null,8,["loading"])],512),[[A,z.value]]),I(r("div",{class:D(["work-container work-view",R?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:D(["left-side",{"overflow-y-scroll mr-6":R}])},[j.value&&!He.value?(y(),_("div",uo,[r("div",mo,[x(U,{name:"i-ion-alert-outline"}),po]),r("div",ho,[r("span",{class:"text-red-500",onClick:v[0]||(v[0]=C=>Qe.value=!0)},g(p.$t("artworks.deleteArtwork")),1),I(r("div",null,[r("span",vo,[T(g(p.$t("alert.areYouSure"))+" ",1),r("span",fo,"("+g(p.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:v[1]||(v[1]=C=>tt($.value.id))},g(p.$t("yes")),1),r("span",{class:"hover:underline",onClick:v[2]||(v[2]=C=>Qe.value=!1)},g(p.$t("no")),1)],512),[[A,Qe.value]])])])):S("",!0),He.value?(y(),_("div",wo,g(p.$t("artworks.successDelete")),1)):S("",!0),I(r("div",go,[r("span",yo,g(O(e).loggedIn?p.$t("explicitContentAlert"):p.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:v[3]||(v[3]=pe(C=>P(),["prevent"]))},g(p.$t("show")),1)],512),[[A,k.value]]),r("div",bo,[x(L,{options:{url:"data-source"},images:N.value,class:"overflow-hidden rounded-md"},{default:J(()=>[(y(!0),_(he,null,ve(N.value,(C,M)=>I((y(),_("img",{key:C.thumbnail,loading:"lazy",src:C.thumbnail,"data-source":C.source,class:D(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":k.value},k.value?"brightness-50":"brightness-100"]),onError:v[4]||(v[4]=(...Ae)=>p.imageLoadError&&p.imageLoadError(...Ae))},null,42,ko)),[[ae,C.thumbnail]])),128))]),_:1},8,["images"])]),I(r("div",xo,[r("div",_o,[$.value.is_explicit?(y(),_("span",{key:0,class:D(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",R?"theme-color-secondary":"bg-tag"])},"E",2)):S("",!0),I(r("span",Co,[r("b",null,g(p.shortNumber($.value.views)),1),T(" "+g(p.$t("count.views")),1)],512),[[A,$.value.views>0]]),$.value._count?I((y(),_("span",$o,[r("b",null,g(p.thousand($.value._count.artwork_likes)),1),T(" "+g(p.$t("count.likes")),1)],512)),[[A,$.value._count.artwork_likes>0]]):S("",!0),$.value._count?I((y(),_("span",Io,[r("b",null,g(p.thousand($.value._count.artwork_comments)),1),T(" "+g(p.$t("count.comments")),1)],512)),[[A,$.value._count.artwork_comments>0]]):S("",!0),$.value._count?I((y(),_("span",Ao,[r("b",null,g(p.thousand($.value._count.artwork_collection_has_works)),1)],512)),[[A,$.value._count.artwork_collection_has_works]]):S("",!0)]),O(e).loggedIn&&!j.value?(y(),_("div",Ro,[r("span",{onClick:v[5]||(v[5]=C=>ee.value?H():q())},[I(x(U,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[A,ee.value]]),I(x(U,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[A,!ee.value]])]),O(e).loggedIn?(y(),_("span",{key:0,onClick:v[6]||(v[6]=C=>Ft())},[I(x(U,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[A,oe.value]]),I(x(U,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[A,!oe.value]])])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("span",{key:1,onClick:v[7]||(v[7]=C=>jt())},[I(x(U,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[A,se.value]]),I(x(U,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[A,!se.value]])])):S("",!0),r("span",{onClick:v[8]||(v[8]=C=>Qt())},[x(U,{name:"i-uil-share",class:"hover:text-blue-500"})]),r("div",So,[r("button",Po,[r("span",null,[x(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Lo,[r("div",Oo,[R?(y(),ie(V,{key:0,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(U,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(p.$t("open")),1)]),_:1},8,["to"])):S("",!0),R?(y(),ie(V,{key:1,to:"/a/"+$.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(U,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(p.$t("openInNewTab")),1)]),_:1},8,["to"])):S("",!0),R?(y(),_("div",Uo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id!=$.value.users.id&&!O(e).user.is_admin&&!O(e).user.is_moderator?(y(),_("div",{key:3,to:"#",class:D(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!R}]),onClick:v[9]||(v[9]=C=>Gt())},[x(U,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(p.$t("report")),1)],2)):S("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:v[10]||(v[10]=C=>zt("/a/"+$.value.id))},[x(U,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(p.$t("copySharableLink")),1)]),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",Vo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),ie(V,{key:5,to:"/works/update/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(U,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("update")),1)]),_:1},8,["to"])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",{key:6,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:v[11]||(v[11]=C=>p.openModal("work-deletion-confirm-modal"))},[x(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,Eo)):S("",!0)])])])])):S("",!0)],512),[[A,O(e).loggedIn]]),x(mt,{section:s.section,class:"flex-md-hidden","is-modal":R,"artwork-detail":$.value,"preview-mode":j.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(y(),ie(la,null,[z.value?S("",!0):(y(),ie(pt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:D(["right-side",{"pr-3 overflow-y-scroll":R}])},[x(mt,{section:s.section,class:"hidden-md-flex","is-modal":R,"artwork-detail":$.value,"preview-mode":j.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),z.value?S("",!0):(y(),ie(pt,{key:0,class:"flex-md-hidden","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),r("section",qo,[O(e).loggedIn&&!j.value?(y(),_("div",Mo,[r("div",To,[r("div",Bo,[I(r("textarea",{"onUpdate:modelValue":v[12]||(v[12]=C=>Z.value=C),class:D(["input form-input",[{"cursor-not-allowed":be.value},{"theme-color-secondary textarea":R}]]),readonly:be.value,cols:"30",rows:Z.value!=null&&Z.value!=""?"8":"0",placeholder:p.$t("comments.inputPlaceholder"),maxlength:Te,"data-gramm":"false"},null,10,Fo),[[Re,Z.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(It)),513),[[A,Z.value!=null&&Z.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:v[13]||(v[13]=pe(C=>At(),["prevent"]))},[I(x(U,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,Z.value!=null&&Z.value!=""&&!be.value]]),I(x(Ge,null,null,512),[[A,be.value]])])])])])):S("",!0),O(e).loggedIn?S("",!0):(y(),_("div",Do,g(p.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",jo,[(y(!0),_(he,null,ve(X.value,C=>I((y(),_("div",{key:C.id,class:"flex flex-row w-full comment-item"},[x(V,{class:"mr-2",to:"/profile/"+C.users.username},{default:J(()=>[r("img",{class:"w-10 h-10 avatar",src:p.avatarCoverUrl(C.users.avatar_bucket,C.users.avatar_filename),onError:v[14]||(v[14]=(...M)=>p.imageLoadError&&p.imageLoadError(...M))},null,40,No)]),_:2},1032,["to"]),r("div",Qo,[r("div",{class:D(["p-3 w-full rounded-md",R?"theme-color-secondary":"theme-color"])},[r("div",Ho,[x(V,{to:"/profile/"+C.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:J(()=>[T(g(C.users.name),1)]),_:2},1032,["to"]),r("div",zo,g(p.formatDate(C.created_at,!0)),1)]),r("div",null,g(C.comment),1),r("div",Wo,[r("div",{class:"cursor-pointer hover:underline",onClick:M=>Ie.value==C.id?je(C.id):De(C.id)},[C._count.artwork_comment_has_replies>0?(y(),_("span",Jo,[r("b",null,g(p.shortNumber(C._count.artwork_comment_has_replies)),1),T(" "+g(C._count.artwork_comment_has_replies>1?p.$t("comments.replies.replies").toLowerCase():p.$t("comments.replies.reply").toLowerCase()),1)])):S("",!0)],8,Go),O(e).loggedIn?(y(),_("div",Yo,[r("span",{class:"reaction",onClick:M=>we.value.includes(C.id)?Pt(C.id):St(C.id)},[I(x(U,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!we.value.includes(C.id)]]),I(x(U,{id:"comment-like-button-"+C.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,we.value.includes(C.id)]]),T(" "+g(p.shortNumber(C._count.artwork_comment_has_likes)),1)],8,Ko),r("span",{class:"reaction",onClick:M=>Ot(C.id)},[x(U,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Xo),r("div",Zo,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:v[15]||(v[15]=M=>Oe.value=0)},[r("span",null,[x(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",el,[r("div",tl,[x(V,{to:"/profile/"+C.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:v[16]||(v[16]=pe(()=>{},["prevent"]))},{default:J(()=>[x(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(p.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===C.users.id?(y(),_("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>Rt(C.id)},[x(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,al)):S("",!0)])])])])):S("",!0)])],2),O(e).loggedIn?I((y(),_("div",sl,[r("div",ol,[r("div",ll,[I(r("textarea",{id:"reply-"+C.id,"onUpdate:modelValue":v[17]||(v[17]=M=>te.value=M),class:D(["mt-2 w-full input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":R}]]),readonly:xe.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:p.$t("comments.replies.write"),maxlength:Ne,"data-gramm":"false"},null,10,nl),[[Re,te.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(Ut)),513),[[A,te.value!=null&&te.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:pe(M=>Vt(C.id),["prevent"])},[I(x(U,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,te.value!=null&&te.value!=""&&!xe.value]]),I(x(Ge,null,null,512),[[A,xe.value]])],8,rl)])])],512)),[[A,Oe.value===C.id]]):S("",!0),r("div",{id:"comment-replies-"+C.id,class:"hidden flex-col mt-2"},[le.value[C.id]&&le.value[C.id].length?(y(),_("div",cl,[r("span",ul,g(p.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>je(C.id)},g(p.$t("hide")),9,dl)])):S("",!0),(y(!0),_(he,null,ve(le.value[C.id],M=>(y(),_("div",{key:M.id,class:D(["p-3 mb-2 w-full rounded-md border-l-4",R?"theme-color-secondary":"theme-color"])},[r("div",ml,[x(V,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:J(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:p.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:v[18]||(v[18]=(...Ae)=>p.imageLoadError&&p.imageLoadError(...Ae))},null,40,pl),r("span",hl,g(M.users.name),1)]),_:2},1032,["to"]),r("span",vl,g(p.formatDate(M.created_at,!0)),1)]),r("div",fl,g(M.content),1),O(e).loggedIn?(y(),_("div",wl,[gl,r("div",yl,[r("span",{class:"reaction",onClick:Ae=>ge.value.includes(M.id)?Mt(M.id):qt(M.id)},[I(x(U,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,ge.value.includes(M.id)]]),I(x(U,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!ge.value.includes(M.id)]]),T(" "+g(p.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,bl),r("div",kl,[r("button",xl,[r("span",null,[x(U,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",_l,[r("div",Cl,[x(V,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:v[19]||(v[19]=pe(()=>{},["prevent"]))},{default:J(()=>[x(U,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(p.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===M.users.id?(y(),_("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ae=>Et(C.id,M.id)},[x(U,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(p.$t("delete")),1)],8,$l)):S("",!0)])])])])])):S("",!0)],2))),128)),le.value[C.id]&&Fe.value?(y(),_("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Lt(C.id)},g(p.$t("comments.replies.loadMore")),9,Il)):S("",!0)],8,il)])])),[[Jt]])),128))]),$.value._count?I((y(),_("div",{key:2,class:"text-center capitalize href",onClick:v[20]||(v[20]=pe(C=>$t($.value.id),["prevent"]))},g(p.$t("comments.loadOlder")),513)),[[A,$.value._count.artwork_comments>3&&Le.value]]):S("",!0),I(r("div",{class:"w-full text-xs italic text-center"},g(p.$t("comments.reachedTheEnd")),513),[[A,X.value.length&&!Le.value]]),O(e).loggedIn&&!X.value.length&&!j.value?(y(),_("div",Al,g(p.$t("comments.noCommentYet")),1)):S("",!0)])],2),z.value?S("",!0):(y(),ie(vs,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:at,"work-id":$.value.id,class:"modal",onSave:Dt},null,8,["work-id"])),!z.value&&O(e).loggedIn&&$.value.users&&O(e).user.id==$.value.users.id?(y(),ie(O(Is),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:st,"modal-id":"album-selection-modal","work-id":$.value.id,class:"modal",onAddedToAlbum:Nt},null,8,["work-id"])):S("",!0),x(Ps,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${p.$t("alert.areYouSure")} ${p.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:v[21]||(v[21]=C=>tt($.value.id))},null,8,["message"]),x(Zs,{id:"report-modal",ref_key:"reportModalRef",ref:Wt,class:"modal",type:"artwork","post-id":$.value.id,"report-status":B.value},null,8,["post-id","report-status"]),x(io,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":$.value.id},null,8,["post-id"]),I(x(Vs,{id:"copy-alert",text:p.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[A,ot.value]])],2),[[A,!z.value]])],64)}}},ql=fe(Rl,[["__scopeId","data-v-b13418e6"]]);export{ql as M,Vs as S,Ka as W,Ps as _,vs as a,Ca as b,ga as c,ia as d,fs as e,as as f,Is as g,rt as u};
