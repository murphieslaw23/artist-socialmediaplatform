import{i as te,j as Z,aa as Ne,k as Te,r as p,o,m as s,U as Q,V as X,p as e,e as d,w as Y,q as O,t as a,s as r,F as K,b as M,v as E,J as T,u as v,c as q,K as x,G as ee,x as ge,L as ke,M as _e,a9 as Ce,ac as Ie,A as ye,E as ne,D as Se,l as ce,aL as je,aM as Ue,T as qe,C as He}from"./entry.0330daa5.js";import{M as $e,_ as ve,b as Re,W as Ee,e as fe,f as ie,S as pe,d as he,g as we,h as Ge}from"./ModalView.e8f58535.js";import{J as We,u as xe,L as Je}from"./Layout.95a54192.js";import{a as Ke}from"./useFeed.e06a7783.js";import{I as Pe,F as Ye}from"./FeedModalView.ad430ea4.js";import{_ as le}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as Qe}from"./useArtwork.3ef797ef.js";import{_ as re}from"./LoadingEmptyErrorMessage.265d2132.js";import{u as Le}from"./useUser.7fe57f48.js";const be=m=>(ke("data-v-82394942"),m=m(),_e(),m),Xe={class:"mx-auto w-full md:w-2/3"},Ze={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},et={class:"w-full"},tt={key:0,class:"p-4 user-info"},ot=["src"],lt={class:"name"},st=be(()=>e("br",null,null,-1)),at=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),nt={class:"text-xxs"},it={class:"px-2 md:px-4"},rt=["id","innerHTML"],ut=["id","onClick"],dt={key:1,class:"my-2 w-full rounded-md theme-color"},ct={key:0,class:"p-2 md:p-4 user-info"},mt=["src"],vt={class:"name"},ft=be(()=>e("br",null,null,-1)),pt=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),ht={class:"px-2 mt-2 md:px-4"},wt={class:"text-xs font-semibold"},bt=["id"],gt=["id","onClick"],kt=["onClick"],_t={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},yt={class:"mx-auto mt-2 primary-button"},$t={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},xt={class:"mx-auto mt-2 primary-button"},Mt={class:"float-right mx-4 mt-2 interactions"},Ct={key:0,class:"reactions"},It=["onClick"],Et=["onClick"],Lt={class:"option dropdown"},At=["onClick"],Ft={class:"option-dropdown dropdown-menu"},Pt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Tt={class:"menu-wrapper"},St={key:0,class:"custom-divider"},jt=["to"],Ut={class:"mx-auto text-center"},Rt={class:"mx-auto mt-10 text-center"},Bt=be(()=>e("b",null,"(\u3186_\u3186)",-1)),zt={class:"mx-auto text-center"},Ot={id:"chronological-feed-modal",class:"modal work-view"},Vt={id:"artwork-modal",class:"modal work-view"},Dt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(m){const S=m,h=te(),{oApiConfiguration:c,fetchOptions:F}=Z(),f=Ke(c,F()),{generateArtworkThumb:g}=Ne();Te();const y=p(0),$=p(0),u=(n,I)=>{y.value=n,$.value=I},R=p([]),w=p({page:0,perPage:10}),t=async({loaded:n})=>{const[I,z]=await f.getFeedByUserId({userId:S.userId,pagination:{page:w.value.page,perPage:w.value.perPage}});w.value.page+=1;for(let i=0;i<I.feeds.length;i++){const N=I.feeds[i];if(N.liked&&l.value.push(N.id),N.artworks){N.artworks.images=[],N.artworks.apply_explicit_filter=!1;for(let G=0;G<N.artworks.artwork_assets.length;G++)if(G<=3){const ue=await g(N.artworks.artwork_assets[G].bucket,N.artworks.artwork_assets[G].filename,"feed");N.artworks.images.push(ue)}N.artworks!=null&&(!h.loggedIn&&N.artworks.is_explicit||N.artworks.is_explicit&&!h.user.user_settings.show_explicit)&&(N.artworks.apply_explicit_filter=!0)}R.value.push(N)}n(I.feeds.length,w.value.perPage)},j=p(null),P=n=>{j.value.view(n),ee().openModal("chronological-feed-modal")},k=p(null),_=(n,I,z)=>{I?R.value[z].artworks.apply_explicit_filter=!1:(k.value.view(n),ee().openModal("artwork-modal"))},l=p([]),b=async n=>{const[I,z]=await f.like({feedId:n});if(I){l.value.push(n);const i=document.getElementById(`profileFeedLikeButton-${n}`);i.classList.add("animate-bounce"),setInterval(()=>{i.classList.remove("animate-bounce")},2500)}},H=async n=>{const[I,z]=await f.unlike({feedId:n});if(I){const i=l.value.indexOf(n);l.value.splice(i,1)}},B=(n,I,z,i)=>{Re().readMore(n,I,z,i)},J=async()=>{const[n,I]=await f.remove(y.value);n&&R.value.splice($.value,1)};return(n,I)=>{const z=ge;return o(),s("div",Xe,[(o(!0),s(Q,null,X(R.value,(i,N)=>(o(),s("div",{key:i.id},[e("div",Ze,[e("div",et,[i.users?(o(),s("div",tt,[d(z,{to:"/profile/"+i.users.username},{default:Y(()=>[e("img",{class:"avatar",src:n.avatarCoverUrl(i.users.avatar_bucket,i.users.avatar_filename),onError:I[0]||(I[0]=(...G)=>n.imageLoadError&&n.imageLoadError(...G))},null,40,ot)]),_:2},1032,["to"]),e("div",lt,[d(z,{to:"/profile/"+i.users.username,class:"fullname"},{default:Y(()=>[O(a(i.users.name),1)]),_:2},1032,["to"]),st,d(z,{to:"/profile/"+i.users.username,class:"username hover:underline"},{default:Y(()=>[O(" @"+a(i.users.username),1)]),_:2},1032,["to"]),at,e("span",nt,a(n.formatDate(i.scheduled_post?i.scheduled_post:i.created_at,!0)),1)])])):r("",!0),e("div",it,[e("p",{id:"feed-text-"+i.id,innerHTML:i.text.split("<br>").length>3&&i.text.length>300?`${i.text.slice(0,300)}...`:i.text},null,8,rt),i.text.split("<br>").length>3&&i.text.length>300?(o(),s("a",{key:0,id:"feed-read-more-"+i.id,class:"href",onClick:K(G=>B(i.text,i.id,"feed-read-more-","feed-text-"),["prevent"])},a(n.$t("readMore")),9,ut)):r("",!0),i.artworks?(o(),s("div",dt,[i.artworks.users?(o(),s("div",ct,[d(z,{to:"/profile/"+i.artworks.users.username},{default:Y(()=>[e("img",{class:"avatar",src:n.avatarCoverUrl(i.artworks.users.avatar_bucket,i.artworks.users.avatar_filename),onError:I[1]||(I[1]=(...G)=>n.imageLoadError&&n.imageLoadError(...G))},null,40,mt)]),_:2},1032,["to"]),e("div",vt,[d(z,{to:"/profile/"+i.artworks.users.username,class:"fullname hover:href"},{default:Y(()=>[O(a(i.artworks.users.name),1)]),_:2},1032,["to"]),ft,d(z,{to:"/profile/"+i.artworks.users.username,class:"hover:underline text-xxs"},{default:Y(()=>[O(" @"+a(i.artworks.users.username),1)]),_:2},1032,["to"]),pt,d(z,{to:"/a/"+i.artworks.id,class:"hover:underline text-xxs"},{default:Y(()=>[O(a(n.formatDate(i.artworks.scheduled_post?i.artworks.scheduled_post:i.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):r("",!0),e("div",ht,[e("span",wt,a(i.artworks.title),1),M(e("p",null,[e("span",{id:"feed-description-"+i.artworks.id},a(i.artworks.description.length>300?`${i.artworks.description.slice(0,300)}...`:i.artworks.description),9,bt),i.artworks.description.length>300?(o(),s("a",{key:0,id:"feed-read-more-"+i.artworks.id,class:"href",onClick:K(G=>B(i.artworks.description,i.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},a(n.$t("readMore")),9,gt)):r("",!0)],512),[[E,i.artworks.description]])]),e("div",null,[n.isMobile()?r("",!0):(o(),s("div",{key:0,class:T(["p-2",{"cursor-pointer":!i.artworks.apply_explicit_filter}]),onClick:K(G=>_(i.artworks.id,i.artworks.apply_explicit_filter,N),["prevent"])},[e("div",{class:T(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":i.artworks.apply_explicit_filter}])},[d(Pe,{class:T([{"blur-3xl unclickable":i.artworks.apply_explicit_filter},i.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:i.artworks},null,8,["class","work"]),i.artworks.apply_explicit_filter?(o(),s("div",_t,[e("div",null,a(v(h).loggedIn?n.$t("explicitContentAlert"):n.$t("explicitContentAlertForGuest")),1),e("button",yt,a(n.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)],10,kt)),n.isMobile()?(o(),q(z,{key:1,to:i.artworks.apply_explicit_filter?null:"/a/"+i.artworks.id,onClick:K(G=>_(i.artworks.id,i.artworks.apply_explicit_filter,N),["prevent"]),class:"cursor-pointer"},{default:Y(()=>[e("div",{class:T(["overflow-hidden relative p-2 rounded-md",{"m-2":i.artworks.apply_explicit_filter}])},[d(Pe,{class:T([{"blur-3xl unclickable":i.artworks.apply_explicit_filter},i.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:i.artworks},null,8,["class","work"]),i.artworks.apply_explicit_filter?(o(),s("div",$t,[e("div",null,a(v(h).loggedIn?n.$t("explicitContentAlert"):n.$t("explicitContentAlertForGuest")),1),e("button",xt,a(n.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)]),_:2},1032,["to","onClick"])):r("",!0)])])):r("",!0)]),e("div",Mt,[v(h).loggedIn?(o(),s("div",Ct,[e("span",{class:"leading-8",onClick:G=>l.value.includes(i.id)?H(i.id):b(i.id)},[M(d(x,{id:"profileFeedLikeButton-"+i.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[E,l.value.includes(i.id)]]),M(d(x,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[E,!l.value.includes(i.id)]]),O(" "+a(n.thousand(i._count.feed_likes)),1)],8,It),e("span",{class:"leading-8",onClick:K(G=>P(i.id),["prevent"])},[d(x,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+a(n.thousand(i._count.feed_comments)),1)],8,Et),e("div",Lt,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:G=>u(i.id,N)},[e("span",null,[d(x,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,At),e("div",Ft,[e("div",Pt,[e("div",Tt,[d(z,{to:"/feed/"+i.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[d(x,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+a(n.$t("open")),1)]),_:2},1032,["to"]),d(z,{to:"/feed/"+i.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[d(x,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+a(n.$t("openInNewTab")),1)]),_:2},1032,["to"]),v(h).loggedIn&&i.user_id&&v(h).user.id===i.user_id?(o(),s("div",St)):r("",!0),v(h).loggedIn&&i.user_id&&v(h).user.id===i.user_id?(o(),s("div",{key:1,to:"/feed/"+i.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:I[2]||(I[2]=G=>n.openModal("profile-feed-deletion-confirm-modal"))},[d(x,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+a(n.$t("delete")),1)],8,jt)):r("",!0)])])])])])):r("",!0)])])])]))),128)),d(v(We),{load:t},{loading:Y(()=>[e("div",Ut,[d(x,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":Y(()=>[e("div",Rt,[Bt,O(" "+a(n.$t("nothingToShow")),1)])]),"no-more":Y(()=>[e("div",zt,a(n.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Ot,[d(Ye,{ref_key:"chronologicalFeedModalViewRef",ref:j,section:"chronological-feed"},null,512)]),e("div",Vt,[d($e,{ref_key:"artworkModalViewRef",ref:k,section:"artwork"},null,512)]),d(ve,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${n.$t("alert.areYouSure")} ${n.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:I[3]||(I[3]=i=>J())},null,8,["message"])])}}},Nt=le(Dt,[["__scopeId","data-v-82394942"]]),qt={id:"lists"},Ht=["id"],Gt={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(m,{emit:S}){const h=m,{oApiConfiguration:c,fetchOptions:F}=Z(),f=Qe(c,F()),g="profile",y=p(!0);Ce(()=>{$()});const $=async()=>{const[z,i]=await w();u.value=z,i.record_total<=R.value.perPage&&P(),i.record_total===0&&b()},u=p([]),R=p({perPage:24,page:0}),w=async()=>{R.value.page===0&&(y.value=!0);const[z,i,N]=await f.getUserArtworks({userId:h.userId,pagination:{page:R.value.page,perPage:R.value.perPage}});if(N)B();else return i.record_total<=R.value.perPage&&P(),i.record_total===0&&b(),R.value.page+=1,t(),[z,i]},t=()=>{y.value=!1,l.value=!1,H.value=!1},j=p(!0),P=()=>{j.value=!1},k=p({delay:!1}),_=async()=>{k.value.delay=!0;const[z,i]=await w();for(let N=0;N<z.length;N++)u.value.push(z[N]);k.value.delay=!1,dataPagination.next_previous.next_page||P(),dataPagination.next_previous.next_page&&dataPagination.current_page===k.maxLoad&&(P(),k.showDiscoveryButton=!0)},l=p(!1),b=()=>{l.value=!0,P(),S("onEmpty")},H=p(!1),B=()=>{y.value=!1,H.value=!0,P()},J=p(null),n=(z,i=!1)=>{J.value.view(z,i),ee().openModal(g+"-modal")},I=z=>{S("feedSelectedItems",z)};return(z,i)=>(o(),s("div",qt,[M(e("div",null,[(o(),q(Ie,null,[M(d(Ee,{"section-class":"work-grid",works:u.value,view:n,"manage-mode":m.manageMode,onFeedManageList:I},null,8,["works","manage-mode"]),[[E,!l.value]])],1024)),M(e("div",{class:T(["primary-button",k.value.delay?"animate-pulse":""]),onClick:_},a(z.$t("loadMore")),3),[[E,j.value]])],512),[[E,!y.value]]),d(re,{loading:y.value,empty:l.value,error:H.value,fetch:w},null,8,["loading","empty","error"]),e("div",{id:g+"-modal",class:"modal work-view"},[M(d($e,{ref_key:"profileModalViewRef",ref:J,section:g},null,512),[[E,!y.value]])],8,Ht)]))}},Wt=le(Gt,[["__scopeId","data-v-6fbdcb8f"]]),Jt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Kt={class:"title"},Yt=["name"],Qt=["placeholder"],Xt=["placeholder"],Zt=["for"],eo=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),to={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},oo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),lo=[oo],so={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ao=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),no=[ao],io={class:"flex flex-row gap-x-1"},ro={class:"flex flex-row gap-2 justify-end mt-2"},uo={type:"submit",class:"primary-button"},co={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:S}){const h=m,c=te(),{oApiConfiguration:F,fetchOptions:f}=Z(),g=fe(F,f()),{t:y}=ye(),$="create-album-form",u=p({title:"",description:"",isPublic:1,category:"artwork"}),R=async()=>{xe().validate($,y);try{let w=!1,t={};if(h.category){const[j,P,k]=await g.createAlbum(h.category,u.value);w=j,t=P}w&&(ee().closeModal(h.modalId),S("created",t))}catch{}};return(w,t)=>(o(),s("div",null,[e("div",Jt,[e("div",null,[e("span",Kt,a(w.$t("albums.create.form.title")),1),e("form",{id:$,class:"mt-2",onSubmit:t[4]||(t[4]=K(j=>R(),["prevent"]))},[e("n-validate",{for:"title",name:w.$t("title")},[M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=j=>u.value.title=j),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:w.$t("title")},null,8,Qt),[[ne,u.value.title]])],8,Yt),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=j=>u.value.description=j),class:"form-input theme-color-secondary",placeholder:w.$t("description"),"data-gramm":"false"},null,8,Xt),[[ne,u.value.description]]),e("label",{for:u.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:t[2]||(t[2]=j=>v(c).i502p00r0?u.value.isPublic=!u.value.isPublic:u.value.isPublic=!0)},[eo,u.value.isPublic?(o(),s("span",to,lo)):r("",!0),u.value.isPublic?r("",!0):(o(),s("span",so,no))]),e("div",io,[e("span",{class:T(["ml-2",{"leading-6":!v(c).i502p00r0}])},a(w.$t("private")),3),d(ie)])],8,Zt),e("div",ro,[e("button",{class:"cancel-button",onClick:t[3]||(t[3]=K(j=>w.closeModal(m.modalId),["prevent"]))},a(w.$t("cancel")),1),e("button",uo,a(w.$t("create")),1)])],32)])])]))}},mo={id:"lists"},vo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},fo={class:"mb-2 text-base font-bold"},po={class:"mb-2"},ho={class:"italic"},wo=["id"],bo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(m,{expose:S,emit:h}){const c=m,{oApiConfiguration:F,fetchOptions:f}=Z(),g=fe(F,f()),y=p(c.id);Se(()=>c.id,(n,I)=>{y.value=n}),ce(async()=>{await R()});const $=p(!0),u=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),R=async()=>{$.value=!0,await w(),await t(),$.value=!1},w=async()=>{const[n,I]=await g.getInfo(y.value);u.value.info=n.data},t=async()=>{const[n,I,z]=await g.listAlbumItems({albumId:y.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});I?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,n!==null&&n.length?(n.forEach(i=>{u.value.list.push(i.artworks)}),h("onAlbumEmpty",!1)):(u.value.empty=!0,h("onAlbumEmpty",!0))},j=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},P=p([]),k=n=>{P.value=n,h("feedManageList",n)},_=p(!1);let l;const b=async()=>{const[n,I]=await g.removeItems(c.id,P.value);n&&(he().splash(l,_,"item-removed-alert"),j(),await R())},H=p("album"),B=p(null),J=(n,I=!1)=>{B.value.view(n,I),ee().openModal(H.value+"-modal")};return S({fetchInfo:w,removeItems:b}),(n,I)=>(o(),s("div",mo,[e("div",{class:"hidden",onClick:I[0]||(I[0]=z=>w())}),e("div",{class:"hidden",onClick:I[1]||(I[1]=z=>b())}),e("div",vo,[e("div",fo,a(u.value.info.name),1),e("div",po,a(u.value.info.description),1),e("div",null,[e("b",null,a(n.$t("private"))+":",1),O(),e("span",ho,a(u.value.info.is_public?n.$t("no"):n.$t("yes")),1)]),e("div",null,[e("b",null,a(n.$t("createdAt")),1),O(" "+a(n.formatDate(u.value.info.created_at)),1)])]),M(e("div",null,[(o(),q(Ie,null,[M(d(Ee,{"section-class":"work-grid",works:u.value.list,view:J,"manage-mode":m.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[E,!u.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:I[2]||(I[2]=z=>t())},a(n.$t("loadMore")),513),[[E,u.value.loadMore]])],512),[[E,!$.value]]),d(re,{loading:$.value,empty:u.value.empty,error:!1,fetch:R},null,8,["loading","empty"]),$.value?r("",!0):(o(),s("div",{key:0,id:H.value+"-modal",class:"modal work-view"},[d($e,{ref_key:"albumModalViewRef",ref:B,section:H.value},null,8,["section"])],8,wo)),M(d(pe,{id:"item-removed-alert",text:n.$t("albums.itemRemoved")},null,8,["text"]),[[E,_.value]])]))}},go=le(bo,[["__scopeId","data-v-2ee448ae"]]),ko={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},_o={class:"title"},yo=["name"],$o=["placeholder"],xo=["placeholder"],Mo=["for"],Co=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Io={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Eo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Lo=[Eo],Ao={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Fo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Po=[Fo],To={class:"flex flex-row gap-x-1"},So={class:"flex flex-row gap-2 justify-end mt-2"},jo={type:"submit",class:"primary-button"},Uo={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:S,emit:h}){const c=m,F=te(),{oApiConfiguration:f,fetchOptions:g}=Z(),y=fe(f,g()),{t:$}=ye(),u=p(!0),R=async k=>{if(k){P(),u.value=!0;const[_,l]=await y.getInfo(k),b=_.data;t.value.id=k,t.value.name=b.name,t.value.description=b.description,t.value.isPublic=!!b.is_public,u.value=!1}},w="update-album-form",t=p({id:0,name:"",description:"",isPublic:!1}),j=async()=>{xe().validate(w,$);const[k,_]=await y.update({id:t.value.id,name:t.value.name,description:t.value.description,isPublic:t.value.isPublic?1:0});_||(ee().closeModal(c.modalId),h("updated",t.value),P())},P=()=>{t.value={id:0,name:"",description:"",isPublic:0}};return S({fetch:R}),(k,_)=>(o(),s("div",null,[e("div",ko,[e("div",null,[e("span",_o,a(k.$t("albums.edit.form.title")),1),u.value?r("",!0):(o(),s("form",{key:0,id:w,class:"mt-2",onSubmit:_[4]||(_[4]=K(l=>j(),["prevent"]))},[e("n-validate",{for:"title",name:k.$t("title")},[M(e("input",{"onUpdate:modelValue":_[0]||(_[0]=l=>t.value.name=l),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:k.$t("title")},null,8,$o),[[ne,t.value.name]])],8,yo),M(e("textarea",{"onUpdate:modelValue":_[1]||(_[1]=l=>t.value.description=l),class:"form-input theme-color-secondary",placeholder:k.$t("description"),"data-gramm":"false"},null,8,xo),[[ne,t.value.description]]),e("label",{for:t.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[2]||(_[2]=l=>v(F).i502p00r0?t.value.isPublic=!t.value.isPublic:t.value.isPublic=!0)},[Co,t.value.isPublic?(o(),s("span",Io,Lo)):r("",!0),t.value.isPublic?r("",!0):(o(),s("span",Ao,Po))]),e("div",To,[e("span",{class:T(["ml-2",{"leading-6":!v(F).i502p00r0}])},a(k.$t("private")),3),d(ie)])],8,Mo),e("div",So,[e("button",{class:"cancel-button",onClick:_[3]||(_[3]=K(l=>k.closeModal(m.modalId),["prevent"]))},a(k.$t("cancel")),1),e("button",jo,a(k.$t("save")),1)])],32))])])]))}},Be=""+new URL("folder.11be08fa.png",import.meta.url).href,Ae=m=>(ke("data-v-eccd717d"),m=m(),_e(),m),Ro={class:"mb-2"},Bo={key:0},zo=Ae(()=>e("img",{src:Be,class:"rounded"},null,-1)),Oo=[zo],Vo={key:1},Do={class:"relative text-center"},No={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},qo={class:"overflow-hidden rounded-md"},Ho=["src"],Go={key:2,class:"imgrid"},Wo={class:"relative text-center"},Jo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ko={class:"overflow-hidden rounded-md"},Yo=["src"],Qo=Ae(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Xo=Ae(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Zo={key:3,class:"imgrid"},el={class:"relative text-center"},tl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ol={class:"overflow-hidden rounded-md"},ll=["src"],sl={key:4,class:"imgrid"},al={class:"relative text-center"},nl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},il={class:"overflow-hidden rounded-md"},rl=["src"],ul={key:5,class:"imgrid"},dl={key:0,class:"relative text-center"},cl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ml={class:"overflow-hidden rounded-md"},vl=["src"],fl={key:1,class:"relative text-center"},pl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},hl={class:"overflow-hidden rounded-md"},wl=["src"],bl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(m){const S=te(),h={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(c,F)=>(o(),s("div",Ro,[!m.album.album_has_artworks||m.album._count.album_has_artworks===0?(o(),s("div",Bo,Oo)):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),s("div",Vo,[e("div",Do,[c.applyExplicitFilter(v(S),m.album.album_has_artworks[0].artworks.is_explicit)?(o(),s("span",No,a(c.$t("explicitContent")),1)):r("",!0),e("div",qo,[m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(o(),s("img",{key:0,src:c.artworkThumb(m.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,m.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:T(["object-cover object-top rounded",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),m.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:F[0]||(F[0]=(...f)=>c.imageLoadError&&c.imageLoadError(...f))},null,42,Ho)):r("",!0)])])])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===2?(o(),s("div",Go,[(o(!0),s(Q,null,X(m.album.album_has_artworks,(f,g)=>(o(),s("div",{key:g,class:T(h[2][g])},[e("div",Wo,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",Jo,a(c.$t("explicitContent")),1)):r("",!0),e("div",Ko,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[1]||(F[1]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,Yo)])])],2))),128)),Qo,Xo])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===3?(o(),s("div",Zo,[(o(!0),s(Q,null,X(m.album.album_has_artworks,(f,g)=>(o(),s("div",{key:g,class:T(h[3][g])},[e("div",el,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",tl,a(c.$t("explicitContent")),1)):r("",!0),e("div",ol,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[2]||(F[2]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,ll)])])],2))),128))])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===4?(o(),s("div",sl,[(o(!0),s(Q,null,X(m.album.album_has_artworks,(f,g)=>(o(),s("div",{key:g},[e("div",al,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",nl,a(c.$t("explicitContent")),1)):r("",!0),e("div",il,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[3]||(F[3]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,rl)])])]))),128))])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks>4?(o(),s("div",ul,[(o(!0),s(Q,null,X(m.album.album_has_artworks,(f,g)=>(o(),s("div",{key:g},[g<3?(o(),s("div",dl,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",cl,a(c.$t("explicitContent")),1)):r("",!0),e("div",ml,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[4]||(F[4]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,vl)])])):(o(),s("div",fl,[e("span",pl,"+"+a(m.album._count.album_has_artworks-4),1),e("div",hl,[e("img",{src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:T(["z-0 brightness-50",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),onError:F[5]||(F[5]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,wl)])]))]))),128))])):r("",!0)]))}},gl=le(bl,[["__scopeId","data-v-eccd717d"]]),kl={class:"mb-2 w-full"},_l={key:0,class:"flex flex-row justify-between"},yl={class:"flex flex-row"},$l={key:0},xl={key:1,class:"flex flex-row justify-between"},Ml={class:"flex flex-row"},Cl={class:"flex flex-row gap-2"},Il={class:"flex flex-row gap-2"},El={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Ll=["onClick"],Al={class:"flex flex-row pb-1 mt-4 font-bold"},Fl={class:"text-xs font-normal"},Pl={__name:"Album",props:{userId:{type:Number,default:0}},setup(m){const S=m,h=te(),{oApiConfiguration:c,fetchOptions:F}=Z(),f=fe(c,F());Ce(()=>{R()}),ce(()=>{P()});const g=p(!0),y=p("artwork"),$=p(0),u=p(!1),R=async()=>{if(h.i502p00r0)u.value=!0;else{const[A,U]=await f.proCanCreateAlbum({type:y.value});U?u.value=!1:u.value=A}},w=p([]),t=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),j=p({artwork:0}),P=async()=>{g.value=!0;const[A,U,V]=await f.fetchAlbums(S.userId,y.value,t.value.pagination.page===0?t.value.pagination.firstLoad:t.value.pagination.perPage,t.value.pagination.page);if(V)H();else{A.length||(t.value.manageMode=!1,l()),A.forEach(C=>{w.value.push(C)}),t.value.pagination.page+=t.value.pagination.firstLoad/t.value.pagination.perPage,t.value.showLoadMore=U;const[L]=await f.countArtworkAlbums(S.userId);j.value.artwork=L}g.value=!1},k=async()=>await P(),_=p(!1),l=()=>{_.value=!0,t.value.showLoadMore=!1},b=p(!1),H=()=>{g.value=!1,b.value=!0,t.value.showLoadMore=!1},B=async()=>{g.value=!1,_.value=!1,b.value=!1,t.value.pagination.page=0,w.value=[],await P()},J=p(!1);let n;const I=async()=>{await R(),he().splash(n,J,"created-alert"),await B()},z=p(null),i=()=>{z.value.fetch($.value),ee().openModal("album-edit-form-modal")},N=p(null),G=A=>{N.value.fetchInfo(),w.value.forEach(U=>{U.id===A.id&&(U.name=A.name,U.description=A.description,U.is_public=A.isPublic)})},ue=()=>{N.value.removeItems()},W=p([]),se=A=>{W.value=A},de=async()=>{if($.value!==0){const[A,U]=await f.deleteAlbum($.value);A&&(await R(),$.value=0,B())}},me=A=>{t.value.showManageButton=!A,t.value.manageMode=!1},ae=()=>{$.value=0,t.value.showManageButton=!1,t.value.manageMode=!1};return(A,U)=>(o(),s("div",null,[e("div",kl,[$.value?r("",!0):(o(),s("div",_l,[e("div",yl,[e("div",{class:T(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:U[0]||(U[0]=V=>y.value="artwork")},[O(a(A.$t("artworks.artwork"))+" ",1),e("span",{class:T(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},a(j.value.artwork),3)],2)]),v(h).loggedIn&&v(h).user.id===m.userId?(o(),s("div",$l,[e("div",{class:"flex flex-row icon-button",onClick:U[1]||(U[1]=V=>u.value?A.openModal("album-form-modal"):null)},[d(x,{name:"i-ion-add-outline"}),u.value?r("",!0):(o(),q(ie,{key:0,class:"ml-1"}))])])):r("",!0)])),$.value?(o(),s("div",xl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:U[2]||(U[2]=V=>ae())},[d(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",Ml,[M(e("div",Cl,[e("button",{class:"action-button secondary-button",onClick:U[3]||(U[3]=V=>t.value.manageMode=!t.value.manageMode)},[d(x,{name:t.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(t.value.manageMode?A.$t("quit"):A.$t("manage")),1)]),M(e("button",{class:T(["flex flex-row",W.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:U[4]||(U[4]=V=>W.value.length>0?A.openModal("item-deletion-confirm-modal"):null)},[d(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(A.$t("albums.removeSelected")),1)],2),[[E,t.value.manageMode]])],512),[[E,v(h).loggedIn&&v(h).user.id===m.userId&&t.value.showManageButton]]),M(e("div",Il,[e("button",{class:"icon-button",onClick:U[5]||(U[5]=V=>i())},[d(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:U[6]||(U[6]=V=>A.openModal("album-deletion-confirm-modal"))},[d(x,{name:"i-akar-icons-trash-bin"})])],512),[[E,v(h).loggedIn&&v(h).user.id===m.userId&&!t.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(A.$t("albums.manageModeActiveMessage")),513),[[E,t.value.manageMode]])]),$.value?r("",!0):(o(),s("div",El,[(o(!0),s(Q,null,X(w.value,V=>(o(),s("div",{key:V.id,class:T(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:L=>$.value=V.id},[V.type==="artwork"?(o(),q(gl,{key:0,album:V},null,8,["album"])):r("",!0),e("div",Al,[V.is_public?r("",!0):(o(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Fl,a(V.name),1)])],10,Ll))),128))])),t.value.showLoadMore&&!$.value?(o(),s("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},a(A.$t("loadMore")),1)):r("",!0),d(re,{loading:g.value,empty:_.value,error:b.value,fetch:P},null,8,["loading","empty","error"]),!g.value&&!$.value?(o(),q(co,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:y.value,class:"modal",onCreated:I},null,8,["category"])):r("",!0),M(d(pe,{id:"created-alert",text:A.$t("albums.created")},null,8,["text"]),[[E,J.value]]),!g.value&&$.value?(o(),q(Uo,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:z,"modal-id":"album-edit-form-modal","album-id":$.value,class:"modal",onUpdated:G},null,8,["album-id"])):r("",!0),d(ve,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:de},null,8,["message"]),d(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:ue},null,8,["message"]),$.value&&!g.value?(o(),q(go,{key:4,id:$.value,ref_key:"albumDetailRef",ref:N,"manage-mode":t.value.manageMode,onOnAlbumEmpty:me,onFeedManageList:se},null,8,["id","manage-mode"])):r("",!0)]))}},Tl=le(Pl,[["__scopeId","data-v-b86e8269"]]),Sl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},jl={class:"title"},Ul=["placeholder"],Rl=["placeholder"],Bl=["for"],zl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Ol={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Vl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Dl=[Vl],Nl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ql=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Hl=[ql],Gl={class:"flex flex-row gap-x-1"},Wl={class:"flex flex-row gap-2 justify-end mt-2"},Jl={type:"submit",class:"primary-button"},Kl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:S}){const h=m,c=te(),{oApiConfiguration:F,fetchOptions:f}=Z(),g=we(F,f()),{t:y}=ye(),$="create-collection-form",u=p({title:"",description:"",isPublic:1,category:"artwork"}),R=async()=>{xe().validate($,y);try{let w=!1,t={};if(h.category){const[j,P,k]=await g.createCollection(h.category,u.value);k||(w=j,t=P)}w&&(ee().closeModal(h.modalId),S("created",t))}catch{}};return(w,t)=>(o(),s("div",null,[e("div",Sl,[e("div",null,[e("span",jl,a(w.$t("collections.create.form.title")),1),e("form",{id:$,class:"mt-2",onSubmit:t[4]||(t[4]=K(j=>R(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=j=>u.value.title=j),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:w.$t("title")},null,8,Ul),[[ne,u.value.title]])]),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=j=>u.value.description=j),class:"form-input theme-color-secondary",placeholder:w.$t("description"),"data-gramm":"false"},null,8,Rl),[[ne,u.value.description]]),e("label",{for:u.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:t[2]||(t[2]=j=>v(c).i502p00r0?u.value.isPublic=!u.value.isPublic:u.value.isPublic=!0)},[zl,u.value.isPublic?(o(),s("span",Ol,Dl)):r("",!0),u.value.isPublic?r("",!0):(o(),s("span",Nl,Hl))]),e("div",Gl,[e("span",{class:T(["ml-2",{"leading-6":!v(c).i502p00r0}])},a(w.$t("private")),3),d(ie)])],8,Bl),e("div",Wl,[e("button",{class:"cancel-button",onClick:t[3]||(t[3]=K(j=>w.closeModal(m.modalId),["prevent"]))},a(w.$t("cancel")),1),e("button",Jl,a(w.$t("create")),1)])],32)])])]))}},Yl={id:"lists"},Ql={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Xl={class:"text-base font-bold mb-2"},Zl={class:"mb-2"},es={class:"italic"},ts=["id"],os={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(m,{expose:S,emit:h}){const c=m,{oApiConfiguration:F,fetchOptions:f}=Z(),g=we(F,f()),y=p(c.id);Se(()=>c.id,(n,I)=>{y.value=n}),ce(async()=>{await R()});const $=p(!0),u=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),R=async()=>{$.value=!0,await w(),await t(),$.value=!1},w=async()=>{const[n,I]=await g.getInfo(y.value);u.value.info=n.data},t=async()=>{const[n,I,z]=await g.listCollectionItems({collectionId:y.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});I?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,n!==null&&n.length?(n.forEach(i=>{u.value.list.push(i.artworks)}),h("onCollectionEmpty",!1)):(u.value.empty=!0,h("onCollectionEmpty",!0))},j=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},P=p([]),k=n=>{P.value=n,h("feedManageList",n)},_=p(!1);let l;const b=async()=>{const[n,I]=await g.removeItem({collectionId:c.id,type:c.type,workId:P.value});I||(he().splash(l,_,"item-removed-alert"),j(),await R(),h("feedManageList",[]))},H=p("collection"),B=p(null),J=(n,I=!1)=>{B.value.view(n,I),ee().openModal(H.value+"-modal")};return S({fetchInfo:w,removeItem:b}),(n,I)=>(o(),s("div",Yl,[e("div",{class:"hidden",onClick:I[0]||(I[0]=z=>w())}),e("div",{class:"hidden",onClick:I[1]||(I[1]=z=>b())}),e("div",Ql,[e("div",Xl,a(u.value.info.name),1),e("div",Zl,a(u.value.info.description),1),e("div",null,[e("b",null,a(n.$t("private"))+":",1),O(),e("span",es,a(u.value.info.is_public?n.$t("no"):n.$t("yes")),1)]),e("div",null,[e("b",null,a(n.$t("createdAt")),1),O(" "+a(n.formatDate(u.value.info.created_at)),1)])]),M(e("div",null,[(o(),q(Ie,null,[M(d(Ee,{"section-class":"work-grid",works:u.value.list,view:J,"manage-mode":m.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[E,!u.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:I[2]||(I[2]=z=>t())},a(n.$t("loadMore")),513),[[E,u.value.loadMore]])],512),[[E,!$.value]]),d(re,{loading:$.value,empty:u.value.empty,error:!1,fetch:R},null,8,["loading","empty"]),$.value?r("",!0):(o(),s("div",{key:0,id:H.value+"-modal",class:"modal work-view"},[d($e,{ref_key:"collectionModalViewRef",ref:B,section:H.value},null,8,["section"])],8,ts)),M(d(pe,{id:"item-removed-alert",text:n.$t("collections.itemRemoved")},null,8,["text"]),[[E,_.value]])]))}},ls=le(os,[["__scopeId","data-v-28a81b65"]]),ss={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},as={class:"title"},ns=["placeholder"],is=["placeholder"],rs=["for"],us=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ds={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},cs=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ms=[cs],vs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},fs=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ps=[fs],hs={class:"flex flex-row gap-x-1"},ws={class:"flex flex-row gap-2 justify-end mt-2"},bs={type:"submit",class:"primary-button"},gs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:S,emit:h}){const c=m,F=te(),{t:f}=ye(),{oApiConfiguration:g,fetchOptions:y}=Z(),$=we(g,y()),u=p(!0),R=async k=>{if(k){P(),u.value=!0;const[_,l]=await $.getInfo(k);if(!l){const b=_.data;t.value.id=k,t.value.name=b.name,t.value.description=b.description,t.value.isPublic=!!b.is_public,u.value=!1}}},w="edit-collection-form",t=p({id:0,name:"",description:"",isPublic:!1}),j=async()=>{xe().validate(w,f);const[k,_]=await $.update({id:t.value.id,name:t.value.name,description:t.value.description,isPublic:t.value.isPublic?1:0});_||(ee().closeModal(c.modalId),h("updated",t.value),P())},P=()=>{t.value={id:0,name:"",description:"",isPublic:0}};return S({fetch:R}),(k,_)=>(o(),s("div",null,[e("div",{class:"hidden",onClick:_[0]||(_[0]=l=>R(0))}),e("div",ss,[e("div",null,[e("span",as,a(k.$t("collections.edit.form.title")),1),u.value?r("",!0):(o(),s("form",{key:0,id:w,class:"mt-2",onSubmit:_[5]||(_[5]=K(l=>j(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":_[1]||(_[1]=l=>t.value.name=l),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:k.$t("title")},null,8,ns),[[ne,t.value.name]])]),M(e("textarea",{"onUpdate:modelValue":_[2]||(_[2]=l=>t.value.description=l),class:"form-input theme-color-secondary",placeholder:k.$t("description"),"data-gramm":"false"},null,8,is),[[ne,t.value.description]]),e("label",{for:t.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[3]||(_[3]=l=>v(F).i502p00r0?t.value.isPublic=!t.value.isPublic:t.value.isPublic=!0)},[us,t.value.isPublic?(o(),s("span",ds,ms)):r("",!0),t.value.isPublic?r("",!0):(o(),s("span",vs,ps))]),e("div",hs,[e("span",{class:T(["ml-2",{"leading-6":!v(F).i502p00r0}])},a(k.$t("private")),3),d(ie)])],8,rs),e("div",ws,[e("button",{class:"cancel-button",onClick:_[4]||(_[4]=K(l=>k.closeModal(m.modalId),["prevent"]))},a(k.$t("cancel")),1),e("button",bs,a(k.$t("save")),1)])],32))])])]))}},Fe=m=>(ke("data-v-a484fb7b"),m=m(),_e(),m),ks={class:"mb-2"},_s={key:0},ys=Fe(()=>e("img",{src:Be,class:"rounded"},null,-1)),$s=[ys],xs={key:1},Ms={class:"relative text-center"},Cs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Is={class:"overflow-hidden rounded-md"},Es=["src"],Ls={key:2,class:"imgrid"},As={class:"relative text-center"},Fs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ps={class:"overflow-hidden rounded-md"},Ts=["src"],Ss=Fe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),js=Fe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Us={key:3,class:"imgrid"},Rs={class:"relative text-center"},Bs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},zs={class:"overflow-hidden rounded-md"},Os=["src"],Vs={key:4,class:"imgrid"},Ds={class:"relative text-center"},Ns={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},qs={class:"overflow-hidden rounded-md"},Hs=["src"],Gs={key:5,class:"imgrid"},Ws={key:0,class:"relative text-center"},Js={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Ks={class:"overflow-hidden rounded-md"},Ys=["src"],Qs={key:1,class:"relative text-center"},Xs={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Zs={class:"overflow-hidden rounded-md"},ea=["src"],ta={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(m){const S=te(),h={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(c,F)=>(o(),s("div",ks,[!m.collection.collection_has_artworks||m.collection._count.collection_has_artworks===0?(o(),s("div",_s,$s)):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),s("div",xs,[e("div",Ms,[c.applyExplicitFilter(v(S),m.collection.collection_has_artworks[0].artworks.is_explicit)?(o(),s("span",Cs,a(c.$t("explicitContent")),1)):r("",!0),e("div",Is,[m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(o(),s("img",{key:0,src:c.artworkThumb(m.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,m.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:T(["object-cover object-top rounded",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),m.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:F[0]||(F[0]=(...f)=>c.imageLoadError&&c.imageLoadError(...f))},null,42,Es)):r("",!0)])])])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===2?(o(),s("div",Ls,[(o(!0),s(Q,null,X(m.collection.collection_has_artworks,(f,g)=>(o(),s("div",{key:g,class:T(h[2][g])},[e("div",As,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",Fs,a(c.$t("explicitContent")),1)):r("",!0),e("div",Ps,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[1]||(F[1]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,Ts)])])],2))),128)),Ss,js])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===3?(o(),s("div",Us,[(o(!0),s(Q,null,X(m.collection.collection_has_artworks,(f,g)=>(o(),s("div",{key:g,class:T(h[3][g])},[e("div",Rs,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",Bs,a(c.$t("explicitContent")),1)):r("",!0),e("div",zs,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[2]||(F[2]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,Os)])])],2))),128))])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===4?(o(),s("div",Vs,[(o(!0),s(Q,null,X(m.collection.collection_has_artworks,(f,g)=>(o(),s("div",{key:g},[e("div",Ds,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",Ns,a(c.$t("explicitContent")),1)):r("",!0),e("div",qs,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[3]||(F[3]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,Hs)])])]))),128))])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks>4?(o(),s("div",Gs,[(o(!0),s(Q,null,X(m.collection.collection_has_artworks,(f,g)=>(o(),s("div",{key:g},[g<3?(o(),s("div",Ws,[c.applyExplicitFilter(v(S),f.artworks.is_explicit)?(o(),s("span",Js,a(c.$t("explicitContent")),1)):r("",!0),e("div",Ks,[e("img",{class:T(["theme-color",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:F[4]||(F[4]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,Ys)])])):(o(),s("div",Qs,[e("span",Xs,"+"+a(m.collection._count.collection_has_artworks-4),1),e("div",Zs,[e("img",{src:c.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:T(["z-0 brightness-50",{"blur-sm brightness-50":c.applyExplicitFilter(v(S),f.artworks.is_explicit)}]),onError:F[5]||(F[5]=(...y)=>c.imageLoadError&&c.imageLoadError(...y))},null,42,ea)])]))]))),128))])):r("",!0)]))}},oa=le(ta,[["__scopeId","data-v-a484fb7b"]]),la={class:"mb-2 w-full"},sa={key:0,class:"flex flex-row justify-between"},aa={class:"flex flex-row"},na={key:0},ia={key:1,class:"flex flex-row justify-between"},ra={class:"flex flex-row"},ua={class:"flex flex-row gap-2"},da={class:"flex flex-row gap-2"},ca={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ma=["onClick"],va={class:"flex flex-row pb-1 mt-4 font-bold"},fa={class:"text-xs font-normal"},pa={__name:"Collection",props:{userId:{type:Number,default:0}},setup(m){const S=m,h=te();ce(()=>{P()});const{oApiConfiguration:c,fetchOptions:F}=Z(),f=we(c,F());Ce(()=>{R()});const g=p(!0),y=p("artwork"),$=p(0),u=p(!1),R=async()=>{if(h.i502p00r0)u.value=!0;else{const[A,U]=await f.proCanCreateCollection({type:y.value});U?u.value=!1:u.value=A}},w=p([]),t=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),j=p({artwork:0}),P=async()=>{g.value=!0;const[A,U,V]=await f.fetchCollections({userId:S.userId,type:y.value,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.page===0?t.value.pagination.firstLoad:t.value.pagination.perPage}});if(V)H();else{A.length||(t.value.manageMode=!1,l()),A.forEach(C=>{w.value.push(C)}),t.value.pagination.page+=t.value.pagination.firstLoad/t.value.pagination.perPage,t.value.showLoadMore=U;const[L]=await f.countArtworkCollections(S.userId);j.value.artwork=L}g.value=!1},k=async()=>await P(),_=p(!1),l=()=>{_.value=!0,t.value.showLoadMore=!1},b=p(!1),H=()=>{g.value=!1,b.value=!0,t.value.showLoadMore=!1},B=async()=>{g.value=!1,_.value=!1,b.value=!1,t.value.pagination.page=0,w.value=[],await P()},J=A=>{t.value.showManageButton=!0,A&&(t.value.showManageButton=!1)},n=p(!1);let I;const z=async()=>{await R(),he().splash(I,n,"created-alert"),await B()},i=p(null),N=()=>{i.value.fetch($.value),ee().openModal("collection-edit-form-modal")},G=p(null),ue=A=>{G.value.fetchInfo(),w.value.forEach(U=>{U.id===A.id&&(U.name=A.name,U.description=A.description,U.is_public=A.isPublic)})},W=p([]),se=A=>{W.value=A},de=()=>{G.value.removeItem()},me=async()=>{if($.value!==0){const[A,U]=await f.deleteCollection($.value);A&&(await R(),$.value=0,B())}},ae=()=>{$.value=0,t.value.showManageButton=!1,t.value.manageMode=!1};return(A,U)=>(o(),s("div",null,[e("div",la,[$.value?r("",!0):(o(),s("div",sa,[e("div",aa,[e("div",{class:T(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:U[0]||(U[0]=V=>y.value="artwork")},[O(a(A.$t("artworks.artwork"))+" ",1),e("span",{class:T(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},a(j.value.artwork),3)],2)]),v(h).loggedIn&&v(h).user.id===m.userId?(o(),s("div",na,[e("div",{class:"flex flex-row icon-button",onClick:U[1]||(U[1]=V=>u.value?A.openModal("collection-form-modal"):null)},[d(x,{name:"i-ion-add-outline"}),u.value?r("",!0):(o(),q(ie,{key:0,class:"ml-1"}))])])):r("",!0)])),$.value?(o(),s("div",ia,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:U[2]||(U[2]=V=>ae())},[d(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",ra,[M(e("div",ua,[e("button",{class:"action-button secondary-button",onClick:U[3]||(U[3]=V=>t.value.manageMode=!t.value.manageMode)},[d(x,{name:t.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(t.value.manageMode?A.$t("quit"):A.$t("manage")),1)]),M(e("button",{class:T(["flex flex-row",W.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:U[4]||(U[4]=V=>W.value.length>0?A.openModal("item-deletion-confirm-modal"):null)},[d(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(A.$t("collections.removeSelected")),1)],2),[[E,t.value.manageMode]])],512),[[E,v(h).loggedIn&&v(h).user.id===m.userId&&t.value.showManageButton]]),M(e("div",da,[e("button",{class:"icon-button",onClick:U[5]||(U[5]=V=>N())},[d(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:U[6]||(U[6]=V=>A.openModal("collection-deletion-confirm-modal"))},[d(x,{name:"i-akar-icons-trash-bin"})])],512),[[E,v(h).loggedIn&&v(h).user.id===m.userId&&!t.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(A.$t("collections.manageModeActiveMessage")),513),[[E,t.value.manageMode]])]),$.value?r("",!0):(o(),s("div",ca,[(o(!0),s(Q,null,X(w.value,V=>(o(),s("div",{key:V.id,class:T(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:L=>$.value=V.id},[V.type==="artwork"?(o(),q(oa,{key:0,collection:V},null,8,["collection"])):r("",!0),e("div",va,[V.is_public?r("",!0):(o(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",fa,a(V.name),1)])],10,ma))),128))])),t.value.showLoadMore&&!$.value?(o(),s("div",{key:1,class:"mt-4 w-full primary-button",onClick:k},a(A.$t("loadMore")),1)):r("",!0),d(re,{loading:g.value,empty:_.value,error:b.value,fetch:P},null,8,["loading","empty","error"]),!g.value&&!$.value?(o(),q(Kl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:y.value,class:"modal",onCreated:z},null,8,["category"])):r("",!0),M(d(pe,{id:"created-alert",text:A.$t("collections.created")},null,8,["text"]),[[E,n.value]]),!g.value&&$.value?(o(),q(gs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:i,"modal-id":"collection-edit-form-modal","collection-id":$.value,class:"modal",onUpdated:ue},null,8,["collection-id"])):r("",!0),d(ve,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:me},null,8,["message"]),d(ve,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:de},null,8,["message"]),$.value&&!g.value?(o(),q(ls,{key:4,id:$.value,ref_key:"collectionDetailRef",ref:G,"manage-mode":t.value.manageMode,type:y.value,onOnCollectionEmpty:J,onFeedManageList:se},null,8,["id","manage-mode","type"])):r("",!0)]))}},ha=le(pa,[["__scopeId","data-v-9e4fc7e6"]]),wa={class:"text-lg font-bold"},ba={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ga={class:"flex flex-row w-full"},ka=["src"],_a={class:"flex flex-col justify-between p-3 w-full text-white"},ya={class:"flex flex-col"},$a={class:"font-bold"},xa={class:"text-xxs"},Ma={class:"flex flex-row w-full"},Ca={key:0,class:"flex flex-row"},Ia=["onClick"],Ea=["onMouseover","onClick"],La={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(m){const S=m,h=te(),{oApiConfiguration:c,fetchOptions:F}=Z(),f=Le(c,F());ce(()=>{t()});const g=p([]),y=p(!0),$=p({page:0,perPage:12}),u=p(!1),R=p(!1),w=p(!1),t=async()=>{j(),y.value=!0;const[k,_]=await f.getFollowerList({userId:S.userId,pagination:{page:$.value.page,perPage:$.value.perPage}});_?u.value=!0:(k.followers.length||(R.value=!0),k.followers.forEach(l=>{g.value.push(l)}),$.value.page+=1,k.pagination.next_previous.next_page?w.value=!0:w.value=!1),y.value=!1},j=()=>{R.value=!1,u.value=!1},P=p(0);return(k,_)=>{const l=ge;return o(),s("div",null,[e("div",wa,a(k.$t("followers")),1),e("div",ba,[(o(!0),s(Q,null,X(g.value,(b,H)=>(o(),q(l,{key:b.id,to:"/profile/"+b.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:je(b.cover_bucket&&b.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+k.avatarCoverUrl(b.cover_bucket,b.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+v(Ue)+");background-size:cover;")},{default:Y(()=>[e("div",ga,[e("img",{src:k.avatarCoverUrl(b.avatar_bucket,b.avatar_filename),class:"avatar",onError:_[0]||(_[0]=(...B)=>k.imageLoadError&&k.imageLoadError(...B))},null,40,ka),e("div",_a,[e("div",ya,[e("span",$a,a(b.name),1),e("span",xa,a(b.pen_name),1)]),e("div",Ma,[v(h).loggedIn&&b.id!==v(h).user.id?(o(),s("div",Ca,[M(e("div",{class:"flex flex-row",onClick:K(B=>k.followUser(H,b.id),["prevent"])},[d(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ia),[[E,!b.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:B=>P.value=b.id,onMouseout:_[1]||(_[1]=B=>P.value=0),onClick:K(B=>k.unfollowUser(H,b.id),["prevent"])},[M(d(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[E,P.value!==b.id]]),M(d(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[E,P.value&&P.value===b.id]])],40,Ea),[[E,b.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:_[2]||(_[2]=b=>t())},a(k.$t("loadMore")),513),[[E,w.value]]),d(re,{loading:y.value,empty:R.value,error:u.value,fetch:t},null,8,["loading","empty","error"])])}}},Aa=le(La,[["__scopeId","data-v-b2599f1b"]]),Fa={class:"flex flex-row justify-between"},Pa={class:"text-lg font-bold"},Ta={class:"mr-1"},Sa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ja={class:"flex flex-col w-full"},Ua={class:"flex flex-row w-full"},Ra=["src"],Ba={class:"flex flex-col justify-between p-3 w-full text-white"},za={class:"flex flex-col"},Oa={class:"font-bold"},Va={class:"text-xxs"},Da={class:"flex flex-row w-full"},Na={key:0,class:"flex flex-row"},qa=["onClick"],Ha=["onMouseover","onClick"],Ga={class:"work-grid"},Wa=["href"],Ja={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ka=["href"],Ya=["src"],Qa={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(m){const S=m,h=te(),{oApiConfiguration:c,fetchOptions:F}=Z(),f=Le(c,F());ce(()=>{P(!1)});const g=p(!1),y=async l=>{$.value=[],R.value.page=0,g.value=l,await P(l)},$=p([]),u=p(!0),R=p({page:0,perPage:12}),w=p(!1),t=p(!1),j=p(!1),P=async l=>{k(),u.value=!0;const[b,H]=await f.getFollowingList({userId:S.userId,isPrivateOnly:l?1:0,pagination:{page:R.value.page,perPage:R.value.perPage}});H?w.value=!0:(b.followings.length||(t.value=!0),b.followings.forEach(B=>{$.value.push(B)}),R.value.page+=1,b.pagination.next_previous.next_page?j.value=!0:j.value=!1),u.value=!1},k=()=>{t.value=!1,w.value=!1},_=p(0);return(l,b)=>{const H=ge;return o(),s("div",null,[e("div",Fa,[e("div",Pa,a(l.$t("followings")),1),e("div",null,[v(h).loggedIn&&v(h).i502p00r0&&v(h).user.id==m.userId?(o(),s("div",{key:0,onClick:b[0]||(b[0]=B=>y(!g.value)),class:T(["flex flex-row cursor-pointer href",{"font-bold":g.value}])},[M(d(x,{name:"i-mdi-eye-check"},null,512),[[E,g.value]]),e("div",Ta,[M(d(x,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[E,!g.value]]),M(d(x,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[E,g.value]])]),e("span",null,a(l.$t("privateFollow")),1)],2)):r("",!0)])]),e("div",Sa,[(o(!0),s(Q,null,X($.value,(B,J)=>(o(),q(H,{key:B.id,to:"/profile/"+B.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:je(B.cover_bucket&&B.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("+l.avatarCoverUrl(B.cover_bucket,B.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("+v(Ue)+");background-size:cover;")},{default:Y(()=>[e("div",ja,[e("div",Ua,[e("img",{src:l.avatarCoverUrl(B.avatar_bucket,B.avatar_filename),class:T(["rounded-bl-none avatar",B.artworks.length?"rounded-r-none":"rounded-tr-none"]),onError:b[1]||(b[1]=(...n)=>l.imageLoadError&&l.imageLoadError(...n))},null,42,Ra),e("div",Ba,[e("div",za,[e("span",Oa,a(B.name),1),e("span",Va,a(B.pen_name),1)]),e("div",Da,[v(h).loggedIn&&B.id!==v(h).user.id?(o(),s("div",Na,[M(e("div",{class:"flex flex-row",onClick:K(n=>l.followUser(J,B.id),["prevent"])},[d(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,qa),[[E,!B.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:n=>_.value=B.id,onMouseout:b[2]||(b[2]=n=>_.value=0),onClick:K(n=>l.unfollowUser(J,B.id),["prevent"])},[M(d(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[E,_.value!==B.id]]),M(d(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[E,_.value&&_.value===B.id]])],40,Ha),[[E,B.is_following]])])):r("",!0)])])]),e("div",Ga,[(o(!0),s(Q,null,X(B.artworks,(n,I)=>(o(),s("div",{key:n.id,class:T(["work-thumbnail theme-color-bg",n._count.artwork_assets>1&&l.currentWorkId!=n.id?"work-multiple":""])},[e("a",{href:"/a/"+n.id,target:"_blank",class:"w-full h-full theme-color-bg"},[e("div",{class:T(["overflow-hidden relative text-center",{"rounded-bl-md":I==0},{"rounded-br-md":I==2}])},[l.applyExplicitFilter(v(h),n.is_explicit)?(o(),s("span",Ja,a(l.$t("explicitContent")),1)):r("",!0),e("a",{href:"/a/"+n.id,class:T([{"animate-wigglefast":l.manageMode}])},[e("img",{class:T(["w-full h-full unselectable",{"object-cover":!l.isUncropped},l.isUncropped?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":l.applyExplicitFilter(v(h),n.is_explicit)}]),src:l.artworkThumb(n.artwork_assets[0].bucket,n.artwork_assets[0].filename,"thumbnail",!1),onError:b[3]||(b[3]=(...z)=>l.imageLoadError&&l.imageLoadError(...z))},null,42,Ya)],10,Ka)],2)],8,Wa)],2))),128))])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:b[4]||(b[4]=B=>P(!1))},a(l.$t("loadMore")),513),[[E,j.value]]),d(re,{loading:u.value,empty:t.value,error:w.value,fetch:y},null,8,["loading","empty","error"])])}}},Xa=le(Qa,[["__scopeId","data-v-c5638dbd"]]),ze=m=>(ke("data-v-4be5dc78"),m=m(),_e(),m),Za=["src"],en={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},tn={class:"flex-row justify-between hidden-md-flex"},on={class:"mr-6 w-1/5"},ln=["src"],sn={class:"mt-2"},an={class:"flex flex-row"},nn={class:"flex flex-row"},rn={class:"flex flex-row text-center"},un={class:"w-full"},dn=["checked","disabled"],cn=ze(()=>e("span",{class:"ml-2"},"Follow Privately",-1)),mn={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},vn={class:"flex flex-col w-full"},fn={class:"flex flex-row w-full"},pn={class:"w-9/12"},hn={class:"text-base font-semibold"},wn={class:"mr-2 italic"},bn={class:"flex flex-row mt-2"},gn={key:0,class:"mr-1"},kn={class:"flex flex-row"},_n={class:"mr-1"},yn={key:0,class:"flex flex-row"},$n={key:1,class:"flex flex-row"},xn={class:"float-right w-3/12 text-right"},Mn={class:"flex flex-row shadow-md primary-button"},Cn={class:"leading-4"},In={key:1,class:"mt-4"},En=["href"],Ln=["href"],An=["href"],Fn=["href"],Pn=["href"],Tn={key:0,class:"mt-4"},Sn=["id","innerHTML"],jn=["id"],Un={class:"flex flex-col text-center md:hidden"},Rn=["src"],Bn={class:"mt-4 text-base font-semibold"},zn={class:"flex flex-row justify-center mt-4"},On={key:0,class:"flex flex-row mr-1"},Vn={class:"mr-1"},Dn={key:0,class:"flex flex-row"},Nn={key:1,class:"flex flex-row"},qn={key:0,class:"mx-2 mt-4 text-center"},Hn=["id","innerHTML"],Gn=["id"],Wn={key:1,class:"flex flex-row justify-center mt-4"},Jn=["href"],Kn=["href"],Yn=["href"],Qn=["href"],Xn=["href"],Zn={class:"flex flex-row justify-center w-full md:hidden"},ei={class:"flex flex-row"},ti={class:"flex flex-row"},oi={class:"mt-2"},li={class:"flex flex-row justify-center md:hidden"},si={class:"flex flex-row justify-between mt-2 md:mt-6"},ai={class:"hidden flex-col lg:w-1/5 md:flex"},ni={class:"profile-navigation_wrapper"},ii={class:"hidden-lg-flex"},ri=ze(()=>e("span",{class:"hidden-lg-flex"},null,-1)),ui={class:"profile-navigation_wrapper"},di={class:"hidden-lg-flex"},ci={class:"hidden-lg-flex"},mi={class:"profile-navigation_wrapper"},vi={class:"hidden-lg-flex"},fi={class:"hidden-lg-flex"},pi={class:"w-full md:ml-6"},hi={key:0},wi={class:"flex flex-row w-full"},bi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},gi={key:1},ki={key:2},_i={key:3},yi={key:4},$i={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(m){const S=m,h=te(),{oApiConfiguration:c,fetchOptions:F}=Z(),f=Le(c,F()),g=fe(c,F()),y=we(c,F()),$=qe(),u=Te(),{o:R}=$.query,w=p(!0),t=R!=null?p(R):p("dashboard"),j=p("artwork"),P=He(()=>S.userLogon&&h.loggedIn?h.user.id:S.id),k=p({manageMode:!1,showManageMode:!0});ce(async()=>{await H()});const _=L=>{t.value=L,k.value.manageMode=!1,R!=null&&u.push("/profile")},l=p({}),b=p({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),H=async()=>{w.value=!0;try{const[L]=await f.getInfo(P.value);if(l.value=L,h.loggedIn&&h.user.id!==P.value){const[Me]=await f.isFollowing(P.value);W.value={isFollowing:Me.is_following,isPrivate:Me.is_private,followingSince:Me.following_since}}const[C]=await f.countFeeds(P.value);b.value.feed=C;const[oe]=await f.countArtworks(P.value);b.value.artwork=oe;const[D]=await f.countFollowers(P.value);b.value.followers=D;const[Oe]=await f.countFollowings(P.value);b.value.followings=Oe;const[Ve]=await g.countAlbums(P.value);b.value.album=Ve;const[De]=await y.countCollections(P.value);b.value.collection=De}catch{}w.value=!1},B=p(null),J=p([]),n=L=>{J.value=L},I=()=>{k.value.showManageMode=!1},z=p(null),i=()=>{ee().openModal("album-selection-modal")},N=p(!1);let G;const ue=()=>{he().splash(G,N,"item-added-to-album-alert")},W=p({isFollowing:!1,isPrivate:!1,followingSince:""}),se=p(null),de=p("i-ri-user-follow-fill"),me=(L,C)=>{de.value=L,se.value=C},ae=async(L,C)=>{let[oe,D]=[null,!1];C?[oe,D]=await f.followPrivately(L):[oe,D]=await f.follow(L),D||(W.value={isFollowing:!0,isPrivate:C!=null?C:!1,followingSince:""})},A=async L=>{const[C,oe]=await f.unfollow(L);oe||(W.value={isFollowing:!1,isPrivate:!1,followingSince:""})},U=p(!0),V=(L,C,oe,D)=>{U.value=!1,Re().readMore(L,C,oe,D)};return(L,C)=>{const oe=ge;return o(),q(Je,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:Y(()=>[e("div",null,[e("img",{src:L.avatarCoverUrl(l.value.cover_bucket,l.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:C[0]||(C[0]=(...D)=>L.defaultCoverImage&&L.defaultCoverImage(...D))},null,40,Za),v(h).loggedIn&&v(h).user.id===l.value.id?(o(),q(oe,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:Y(()=>[d(x,{name:"i-ph-gear-six"})]),_:1})):r("",!0)]),e("div",en,[e("div",tn,[e("div",on,[e("img",{src:L.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:C[1]||(C[1]=(...D)=>L.defaultCoverImage&&L.defaultCoverImage(...D))},null,40,ln),e("div",sn,[e("div",{class:T(["flex-row justify-center border hidden-md-flex",l.value.id==v(h).user.id?"rounded-md":"rounded-t-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:C[2]||(C[2]=D=>t.value="followerList")},[e("b",null,a(b.value.followers),1),O("\xA0 "),e("i",null,a(L.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:C[3]||(C[3]=D=>t.value="followingList")},[e("b",null,a(b.value.followings),1),O("\xA0 "),e("i",null,a(L.$t("following").toLowerCase()),1)])],2),v(h).loggedIn&&l.value.id!==v(h).user.id?(o(),s("div",{key:0,class:T(["primary-button rounded-t-none hover:rounded-t-none",{"hover:danger-button":W.value.isFollowing}]),onClick:C[4]||(C[4]=D=>W.value.isFollowing?A(l.value.id):ae(l.value.id)),onMouseover:C[5]||(C[5]=D=>me("i-ri-user-unfollow-fill",L.$t("unfollow"))),onMouseleave:C[6]||(C[6]=D=>me("i-ri-user-follow-fill",L.$t("following")))},[M(e("div",an,[d(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(L.$t("follow")),1)],512),[[E,!W.value.isFollowing]]),M(e("div",nn,[d(x,{name:de.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(se.value===null?L.$t("following"):se.value),1)],512),[[E,W.value.isFollowing]])],34)):r("",!0),M(e("div",rn,[e("div",un,[e("label",{onClick:C[7]||(C[7]=D=>v(h).i502p00r0?W.value.isPrivate?ae(l.value.id,!1):ae(l.value.id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[e("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:W.value.isPrivate,disabled:!v(h).i502p00r0},null,8,dn),e("div",{class:T(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!v(h).i502p00r0},v(h).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),cn,v(h).i502p00r0?r("",!0):(o(),q(ie,{key:0,class:"ml-1"}))])])],512),[[E,W.value.isFollowing]])])]),e("div",mn,[e("div",vn,[e("div",fn,[e("div",pn,[e("div",null,[e("span",hn,a(l.value.name),1),O("\xA0 "),e("span",wn,a(l.value.username),1),d(ie,{"force-show":l.value.is_pro},null,8,["force-show"])]),e("div",bn,[l.value.pen_name&&l.value.pen_name!==""?(o(),s("div",gn,[e("span",kn,[d(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name),1)])])):r("",!0),e("div",_n,[l.value.gender==="m"?(o(),s("span",yn,[d(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" he/his ")])):r("",!0),l.value.gender==="f"?(o(),s("span",$n,[d(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" she/her ")])):r("",!0)])])]),e("div",xn,[v(h).loggedIn&&v(h).user.id===l.value.id?(o(),q(oe,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:Y(()=>[e("button",Mn,[d(x,{name:"i-ph-gear-six",class:"mr-2"}),e("span",Cn,a(L.$t("profile.setting")),1)])]),_:1})):r("",!0),l.value.user_socials?(o(),s("div",In,[l.value.user_socials.facebook?(o(),s("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,En)):r("",!0),l.value.user_socials.instagram?(o(),s("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Ln)):r("",!0),l.value.user_socials.twitter?(o(),s("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,An)):r("",!0),l.value.user_socials.youtube?(o(),s("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Fn)):r("",!0),l.value.user_socials.patreon?(o(),s("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"heart",class:"text-xl"})],8,Pn)):r("",!0)])):r("",!0)])]),e("div",null,[l.value.bio?(o(),s("p",Tn,[e("div",{id:"user-bio-"+l.value.id,innerHTML:l.value.bio.length>300?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Sn),l.value.bio.length>300?(o(),s("a",{key:0,id:"user-bio-read-more-"+l.value.id,class:"href",onClick:C[8]||(C[8]=K(D=>V(l.value.bio,l.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},a(L.$t("readMore")),9,jn)):r("",!0)])):r("",!0)])])])]),e("div",Un,[e("img",{src:L.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:C[9]||(C[9]=(...D)=>L.imageLoadError&&L.imageLoadError(...D))},null,40,Rn),e("div",Bn,a(l.value.name),1),e("div",null,a(l.value.username),1),e("div",zn,[l.value.pen_name?(o(),s("span",On,[d(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name&&l.value.pen_name!==""?l.value.pen_name:"-"),1)])):r("",!0),e("div",Vn,[l.value.gender==="m"?(o(),s("span",Dn,[d(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" he/his ")])):r("",!0),l.value.gender==="f"?(o(),s("span",Nn,[d(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" she/her ")])):r("",!0)])]),l.value.bio?(o(),s("div",qn,[e("div",{id:"mobile__user-bio-"+l.value.id,innerHTML:l.value.bio.length>150?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Hn),l.value.bio.length>150?(o(),s("a",{key:0,id:"mobile__user-bio-read-more-"+l.value.id,class:"href",onClick:C[10]||(C[10]=K(D=>V(l.value.bio,l.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},a(L.$t("readMore")),9,Gn)):r("",!0)])):r("",!0),l.value.user_socials?(o(),s("div",Wn,[l.value.user_socials.facebook?(o(),s("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Jn)):r("",!0),l.value.user_socials.instagram?(o(),s("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Kn)):r("",!0),l.value.user_socials.twitter?(o(),s("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Yn)):r("",!0),l.value.user_socials.youtube?(o(),s("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Qn)):r("",!0),l.value.user_socials.patreon?(o(),s("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-heart",class:"text-xl"})],8,Xn)):r("",!0)])):r("",!0),e("div",Zn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:C[11]||(C[11]=D=>t.value="followerList")},[e("b",null,a(b.value.followers),1),O("\xA0 "),e("i",null,a(L.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:C[12]||(C[12]=D=>t.value="followingList")},[e("b",null,a(b.value.followings),1),O("\xA0 "),e("i",null,a(L.$t("following")),1)])]),v(h).loggedIn&&l.value.id!==v(h).user.id?(o(),s("div",{key:2,class:T(["mt-2 w-auto",W.value.isFollowing?"danger-button":"primary-button"]),onClick:C[13]||(C[13]=D=>W.value.isFollowing?A(l.value.id):ae(l.value.id))},[M(e("div",ei,[d(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(L.$t("follow")),1)],512),[[E,!W.value.isFollowing]]),M(e("div",ti,[d(x,{name:de.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(se.value===null?L.$t("following"):se.value),1)],512),[[E,W.value.isFollowing]])],2)):r("",!0)]),e("div",oi,[e("div",li,[e("div",{class:T(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":v(t)=="dashboard"}]),onClick:C[14]||(C[14]=D=>_("dashboard"))},[e("div",null,[M(d(x,{name:"i-ion-home-outline",class:"text-white"},null,512),[[E,v(t)=="dashboard"]]),M(d(x,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[E,v(t)!="dashboard"]])]),e("span",null,a(L.$t("dashboard")),1)],2),e("div",{class:T(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":v(t)=="albums"}]),onClick:C[15]||(C[15]=D=>_("albums"))},[e("div",null,[M(d(x,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[E,v(t)=="albums"]]),M(d(x,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[E,v(t)!="albums"]])]),e("span",null,a(L.$t("albums.album")),1)],2),e("div",{class:T(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":v(t)=="collections"}]),onClick:C[16]||(C[16]=D=>_("collections"))},[e("div",null,[M(d(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[E,v(t)=="collections"]]),M(d(x,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[E,v(t)!="collections"]])]),e("span",null,a(L.$t("collections.collection")),1)],2)]),e("div",si,[e("div",ai,[e("div",{class:T(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":v(t)==="dashboard"}]),onClick:C[17]||(C[17]=D=>_("dashboard"))},[e("div",ni,[M(d(x,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[E,v(t)==="dashboard"]]),M(d(x,{name:"i-humbleicons-dashboard"},null,512),[[E,v(t)!=="dashboard"]]),e("label",ii,a(L.$t("dashboard")),1)]),ri],2),e("div",{class:T(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":v(t)==="albums"}]),onClick:C[18]||(C[18]=D=>_("albums"))},[e("div",ui,[M(d(x,{name:"i-bx-photo-album",class:"text-white"},null,512),[[E,v(t)==="albums"]]),M(d(x,{name:"i-bx-photo-album"},null,512),[[E,v(t)!=="albums"]]),e("label",di,a(L.$t("albums.album")),1)]),e("span",ci,a(b.value.album),1)],2),e("div",{class:T(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":v(t)==="collections"}]),onClick:C[19]||(C[19]=D=>_("collections"))},[e("div",mi,[M(d(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[E,v(t)==="collections"]]),M(d(x,{name:"i-majesticons-bookmark-line"},null,512),[[E,v(t)!=="collections"]]),e("label",vi,a(L.$t("collections.collection")),1)]),e("span",fi,a(b.value.collection),1)],2)]),e("div",pi,[v(t)==="dashboard"?(o(),s("div",hi,[e("div",wi,[e("div",{class:T(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":j.value==="feed"}]),onClick:C[20]||(C[20]=D=>j.value="feed")},[O(a(L.$t("feed"))+" ",1),e("span",{class:T(["px-1 ml-2 rounded",j.value==="feed"?"theme-color":"button-color text-white"])},a(b.value.feed),3)],2),e("div",{class:T(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":j.value==="artwork"}]),onClick:C[21]||(C[21]=D=>j.value="artwork")},[O(a(L.$t("artworks.artwork"))+" ",1),e("span",{class:T(["px-1 ml-2 rounded",j.value==="artwork"?"theme-color":"button-color text-white"])},a(b.value.artwork),3)],2)]),M(e("div",bi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:C[22]||(C[22]=D=>k.value.manageMode=!k.value.manageMode)},[d(x,{name:k.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(k.value.manageMode?L.$t("quit"):L.$t("manage")),1)]),M(e("button",{class:"w-full primary-button md:w-auto",onClick:C[23]||(C[23]=D=>i())},[d(x,{name:"i-ion-add-outline"}),O(" "+a(L.$t("albums.addToAlbum")),1)],512),[[E,k.value.manageMode]])],512),[[E,!w.value&&v(h).loggedIn&&v(h).user.id===l.value.id&&j.value==="artwork"&&k.value.showManageMode]]),d(re,{loading:w.value},null,8,["loading"]),M(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},a(L.$t("profile.manageModeActiveMessage")),513),[[E,k.value.manageMode]]),e("div",null,[j.value==="feed"?(o(),q(Nt,{key:0,ref:"feedListRef",class:"mt-2","user-id":l.value.id},null,8,["user-id"])):r("",!0),!w.value&&j.value==="artwork"?(o(),q(Wt,{key:1,ref_key:"artworkListRef",ref:B,"user-id":l.value.id,"manage-mode":k.value.manageMode,onFeedSelectedItems:n,onOnEmpty:I},null,8,["user-id","manage-mode"])):r("",!0)])])):r("",!0),v(t)==="albums"?(o(),s("div",gi,[w.value?r("",!0):(o(),q(Tl,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),v(t)==="collections"?(o(),s("div",ki,[w.value?r("",!0):(o(),q(ha,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),v(t)==="followerList"?(o(),s("div",_i,[w.value?r("",!0):(o(),q(Aa,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),v(t)==="followingList"?(o(),s("div",yi,[w.value?r("",!0):(o(),q(Xa,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0)])])])]),w.value?r("",!0):(o(),q(Ge,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:z,class:"modal","work-ids":J.value,onAddedToAlbum:ue},null,8,["work-ids"])),M(d(pe,{id:"item-added-to-album-alert",text:L.$t("albums.itemAdded")},null,8,["text"]),[[E,N.value]])]),_:1})}}},Ti=le($i,[["__scopeId","data-v-4be5dc78"]]);export{Ti as P};
