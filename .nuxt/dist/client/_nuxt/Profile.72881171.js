import{i as te,j as Z,a3 as Ve,k as Ae,r as h,o as t,m as o,U as Q,V as X,p as e,e as c,w as J,q as z,t as s,s as n,F as K,b as M,v as P,J as O,u as w,c as H,K as x,G as ee,x as ve,L as ge,M as _e,a8 as De,a5 as xe,A as ke,E as ae,D as Pe,l as de,aF as Fe,aG as Te,T as Ne,C as qe}from"./entry.b21379e3.js";import{M as ye,_ as me,b as Se,W as Me,e as pe,S as fe,d as he,f as we,g as He}from"./ModalView.c418e8c2.js";import{J as Ge,u as $e,L as We}from"./Layout.ea24fdc6.js";import{u as Je}from"./useFeed.298bedf0.js";import{I as Le,F as Ke}from"./FeedModalView.2836abda.js";import{_ as oe}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as Ye}from"./useArtwork.99af92ba.js";import{_ as ne}from"./LoadingEmptyErrorMessage.00d50695.js";import{u as Ce}from"./useUser.cef3286c.js";const be=r=>(ge("data-v-f1b53577"),r=r(),_e(),r),Qe={class:"mx-auto w-full md:w-2/3"},Xe={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},Ze={class:"w-full"},et={key:0,class:"p-4 user-info"},tt=["src"],ot={class:"name"},lt=be(()=>e("br",null,null,-1)),st=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),at={class:"text-xxs"},nt={class:"px-2 md:px-4"},it=["id","innerHTML"],rt=["id","onClick"],ut={key:1,class:"my-2 w-full rounded-md theme-color"},dt={key:0,class:"p-2 md:p-4 user-info"},ct=["src"],mt={class:"name"},vt=be(()=>e("br",null,null,-1)),pt=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),ft={class:"px-2 mt-2 md:px-4"},ht={class:"text-xs font-semibold"},wt=["id"],bt=["id","onClick"],gt=["onClick"],_t={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},kt={class:"mx-auto mt-2 primary-button"},yt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},$t={class:"mx-auto mt-2 primary-button"},xt={class:"float-right mx-4 mt-2 interactions"},Mt={key:0,class:"reactions"},Ct=["onClick"],It=["onClick"],Et={class:"option dropdown"},Lt=["onClick"],At={class:"option-dropdown dropdown-menu"},Pt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Ft={class:"menu-wrapper"},Tt={key:0,class:"custom-divider"},St=["to"],jt={class:"mx-auto text-center"},Rt={class:"mx-auto mt-10 text-center"},Ut=be(()=>e("b",null,"(\u3186_\u3186)",-1)),Bt={class:"mx-auto text-center"},Ot={id:"chronological-feed-modal",class:"modal work-view"},zt={id:"artwork-modal",class:"modal work-view"},Vt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(r){const L=r,_=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),f=Je(u,A()),{generateArtworkThumb:y}=Ve();Ae();const $=h(0),b=h(0),v=(m,C)=>{$.value=m,b.value=C},i=h([]),p=h({page:0,perPage:10}),d=async({loaded:m})=>{const[C,R]=await f.getFeedByUserId({userId:L.userId,pagination:{page:p.value.page,perPage:p.value.perPage}});p.value.page+=1;for(let a=0;a<C.feeds.length;a++){const D=C.feeds[a];if(D.liked&&l.value.push(D.id),D.artworks){D.artworks.images=[],D.artworks.apply_explicit_filter=!1;for(let q=0;q<D.artworks.artwork_assets.length;q++)if(q<=3){const ie=await y(D.artworks.artwork_assets[q].bucket,D.artworks.artwork_assets[q].filename,"feed");D.artworks.images.push(ie)}D.artworks!=null&&(!_.loggedIn&&D.artworks.is_explicit||D.artworks.is_explicit&&!_.user.user_settings.show_explicit)&&(D.artworks.apply_explicit_filter=!0)}i.value.push(D)}m(C.feeds.length,p.value.perPage)},U=h(null),I=m=>{U.value.view(m),ee().openModal("chronological-feed-modal")},g=h(null),k=(m,C,R)=>{C?(console.log("removing explicit filter.."),i.value[R].artworks.apply_explicit_filter=!1):(g.value.view(m),ee().openModal("artwork-modal"))},l=h([]),E=async m=>{const[C,R]=await f.like({feedId:m});if(C){l.value.push(m);const a=document.getElementById(`profileFeedLikeButton-${m}`);a.classList.add("animate-bounce"),setInterval(()=>{a.classList.remove("animate-bounce")},2500)}},B=async m=>{const[C,R]=await f.unlike({feedId:m});if(C){const a=l.value.indexOf(m);l.value.splice(a,1)}},G=(m,C,R,a)=>{Se().readMore(m,C,R,a)},W=async()=>{const[m,C]=await f.remove($.value);m&&i.value.splice(b.value,1)};return(m,C)=>{const R=ve;return t(),o("div",Qe,[(t(!0),o(Q,null,X(i.value,(a,D)=>(t(),o("div",{key:a.id},[e("div",Xe,[e("div",Ze,[a.users?(t(),o("div",et,[c(R,{to:"/profile/"+a.users.username},{default:J(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(a.users.avatar_bucket,a.users.avatar_filename),onError:C[0]||(C[0]=(...q)=>m.imageLoadError&&m.imageLoadError(...q))},null,40,tt)]),_:2},1032,["to"]),e("div",ot,[c(R,{to:"/profile/"+a.users.username,class:"fullname"},{default:J(()=>[z(s(a.users.name),1)]),_:2},1032,["to"]),lt,c(R,{to:"/profile/"+a.users.username,class:"username hover:underline"},{default:J(()=>[z(" @"+s(a.users.username),1)]),_:2},1032,["to"]),st,e("span",at,s(m.formatDate(a.scheduled_post?a.scheduled_post:a.created_at,!0)),1)])])):n("",!0),e("div",nt,[e("p",{id:"feed-text-"+a.id,innerHTML:a.text.split("<br>").length>3&&a.text.length>300?`${a.text.slice(0,300)}...`:a.text},null,8,it),a.text.split("<br>").length>3&&a.text.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+a.id,class:"href",onClick:K(q=>G(a.text,a.id,"feed-read-more-","feed-text-"),["prevent"])},s(m.$t("readMore")),9,rt)):n("",!0),a.artworks?(t(),o("div",ut,[a.artworks.users?(t(),o("div",dt,[c(R,{to:"/profile/"+a.artworks.users.username},{default:J(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(a.artworks.users.avatar_bucket,a.artworks.users.avatar_filename),onError:C[1]||(C[1]=(...q)=>m.imageLoadError&&m.imageLoadError(...q))},null,40,ct)]),_:2},1032,["to"]),e("div",mt,[c(R,{to:"/profile/"+a.artworks.users.username,class:"fullname hover:href"},{default:J(()=>[z(s(a.artworks.users.name),1)]),_:2},1032,["to"]),vt,c(R,{to:"/profile/"+a.artworks.users.username,class:"hover:underline text-xxs"},{default:J(()=>[z(" @"+s(a.artworks.users.username),1)]),_:2},1032,["to"]),pt,c(R,{to:"/a/"+a.artworks.id,class:"hover:underline text-xxs"},{default:J(()=>[z(s(m.formatDate(a.artworks.scheduled_post?a.artworks.scheduled_post:a.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):n("",!0),e("div",ft,[e("span",ht,s(a.artworks.title),1),M(e("p",null,[e("span",{id:"feed-description-"+a.artworks.id},s(a.artworks.description.length>300?`${a.artworks.description.slice(0,300)}...`:a.artworks.description),9,wt),a.artworks.description.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+a.artworks.id,class:"href",onClick:K(q=>G(a.artworks.description,a.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},s(m.$t("readMore")),9,bt)):n("",!0)],512),[[P,a.artworks.description]])]),e("div",null,[m.isMobile()?n("",!0):(t(),o("div",{key:0,class:O(["p-2",{"cursor-pointer":!a.artworks.apply_explicit_filter}]),onClick:K(q=>k(a.artworks.id,a.artworks.apply_explicit_filter,D),["prevent"])},[e("div",{class:O(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":a.artworks.apply_explicit_filter}])},[c(Le,{class:O([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),o("div",_t,[e("div",null,s(w(_).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",kt,s(m.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)],10,gt)),m.isMobile()?(t(),H(R,{key:1,to:a.artworks.apply_explicit_filter?null:"/a/"+a.artworks.id,onClick:K(q=>k(a.artworks.id,a.artworks.apply_explicit_filter,D),["prevent"]),class:"cursor-pointer"},{default:J(()=>[e("div",{class:O(["overflow-hidden relative p-2 rounded-md",{"m-2":a.artworks.apply_explicit_filter}])},[c(Le,{class:O([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),o("div",yt,[e("div",null,s(w(_).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",$t,s(m.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)]),_:2},1032,["to","onClick"])):n("",!0)])])):n("",!0)]),e("div",xt,[w(_).loggedIn?(t(),o("div",Mt,[e("span",{class:"leading-8",onClick:q=>l.value.includes(a.id)?B(a.id):E(a.id)},[M(c(x,{id:"profileFeedLikeButton-"+a.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[P,l.value.includes(a.id)]]),M(c(x,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[P,!l.value.includes(a.id)]]),z(" "+s(m.thousand(a._count.feed_likes)),1)],8,Ct),e("span",{class:"leading-8",onClick:K(q=>I(a.id),["prevent"])},[c(x,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),z(" "+s(m.thousand(a._count.feed_comments)),1)],8,It),e("div",Et,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:q=>v(a.id,D)},[e("span",null,[c(x,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,Lt),e("div",At,[e("div",Pt,[e("div",Ft,[c(R,{to:"/feed/"+a.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:J(()=>[c(x,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),z(" "+s(m.$t("open")),1)]),_:2},1032,["to"]),c(R,{to:"/feed/"+a.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:J(()=>[c(x,{name:"i-ci-external-link",class:"mr-2 text-base"}),z(" "+s(m.$t("openInNewTab")),1)]),_:2},1032,["to"]),w(_).loggedIn&&a.user_id&&w(_).user.id===a.user_id?(t(),o("div",Tt)):n("",!0),w(_).loggedIn&&a.user_id&&w(_).user.id===a.user_id?(t(),o("div",{key:1,to:"/feed/"+a.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:C[2]||(C[2]=q=>m.openModal("profile-feed-deletion-confirm-modal"))},[c(x,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),z(" "+s(m.$t("delete")),1)],8,St)):n("",!0)])])])])])):n("",!0)])])])]))),128)),c(w(Ge),{load:d},{loading:J(()=>[e("div",jt,[c(x,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":J(()=>[e("div",Rt,[Ut,z(" "+s(m.$t("nothingToShow")),1)])]),"no-more":J(()=>[e("div",Bt,s(m.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Ot,[c(Ke,{ref_key:"chronologicalFeedModalViewRef",ref:U,section:"chronological-feed"},null,512)]),e("div",zt,[c(ye,{ref_key:"artworkModalViewRef",ref:g,section:"artwork"},null,512)]),c(me,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:C[3]||(C[3]=a=>W())},null,8,["message"])])}}},Dt=oe(Vt,[["__scopeId","data-v-f1b53577"]]),Nt={id:"lists"},qt=["id"],Ht={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(r,{emit:L}){const _=r,{oApiConfiguration:u,fetchOptions:A}=Z(),f=Ye(u,A()),y="profile",$=h(!0);De(()=>{b()});const b=async()=>{const[R,a]=await p();v.value=R,a.record_total<=i.value.perPage&&I(),a.record_total===0&&E()},v=h([]),i=h({perPage:24,page:0}),p=async()=>{i.value.page===0&&($.value=!0);const[R,a,D]=await f.getUserArtworks({userId:_.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});if(D)G();else return a.record_total<=i.value.perPage&&I(),a.record_total===0&&E(),i.value.page+=1,d(),[R,a]},d=()=>{$.value=!1,l.value=!1,B.value=!1},U=h(!0),I=()=>{U.value=!1},g=h({delay:!1}),k=async()=>{g.value.delay=!0;const[R,a]=await p();for(let D=0;D<R.length;D++)v.value.push(R[D]);g.value.delay=!1,dataPagination.next_previous.next_page||I(),dataPagination.next_previous.next_page&&dataPagination.current_page===g.maxLoad&&(I(),g.showDiscoveryButton=!0)},l=h(!1),E=()=>{l.value=!0,I(),L("onEmpty")},B=h(!1),G=()=>{$.value=!1,B.value=!0,I()},W=h(null),m=(R,a=!1)=>{W.value.view(R,a),ee().openModal(y+"-modal")},C=R=>{L("feedSelectedItems",R)};return(R,a)=>(t(),o("div",Nt,[M(e("div",null,[(t(),H(xe,null,[M(c(Me,{"section-class":"work-grid",works:v.value,view:m,"manage-mode":r.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[P,!l.value]])],1024)),M(e("div",{class:O(["primary-button",g.value.delay?"animate-pulse":""]),onClick:k},s(R.$t("loadMore")),3),[[P,U.value]])],512),[[P,!$.value]]),c(ne,{loading:$.value,empty:l.value,error:B.value,fetch:p},null,8,["loading","empty","error"]),e("div",{id:y+"-modal",class:"modal work-view"},[M(c(ye,{ref_key:"profileModalViewRef",ref:W,section:y},null,512),[[P,!$.value]])],8,qt)]))}},Gt=oe(Ht,[["__scopeId","data-v-6fbdcb8f"]]),Wt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Jt={class:"title"},Kt=["name"],Yt=["placeholder"],Qt=["placeholder"],Xt=["for"],Zt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),eo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},to=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),oo=[to],lo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},so=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ao=[so],no={class:"ml-2"},io={class:"flex flex-row gap-2 justify-end mt-2"},ro={type:"submit",class:"primary-button"},uo={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(r,{emit:L}){const _=r,{oApiConfiguration:u,fetchOptions:A}=Z(),f=pe(u,A()),{t:y}=ke(),$="create-album-form",b=h({title:"",description:"",isPublic:1,category:"artwork"}),v=async()=>{$e().validate($,y);try{let i=!1,p={};if(_.category){const[d,U,I]=await f.createAlbum(_.category,b.value);i=d,p=U}i&&(ee().closeModal(_.modalId),L("created",p))}catch{}};return(i,p)=>(t(),o("div",null,[e("div",Wt,[e("div",null,[e("span",Jt,s(i.$t("albums.create.form.title")),1),e("form",{id:$,class:"mt-2",onSubmit:p[4]||(p[4]=K(d=>v(),["prevent"]))},[e("n-validate",{for:"title",name:i.$t("title")},[M(e("input",{"onUpdate:modelValue":p[0]||(p[0]=d=>b.value.title=d),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:i.$t("title")},null,8,Yt),[[ae,b.value.title]])],8,Kt),M(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=d=>b.value.description=d),class:"form-input theme-color-secondary",placeholder:i.$t("description"),"data-gramm":"false"},null,8,Qt),[[ae,b.value.description]]),e("label",{for:b.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:p[2]||(p[2]=d=>b.value.isPublic=!b.value.isPublic)},[Zt,b.value.isPublic?(t(),o("span",eo,oo)):n("",!0),b.value.isPublic?n("",!0):(t(),o("span",lo,ao))]),e("span",no,s(i.$t("private")),1)],8,Xt),e("div",io,[e("button",{class:"cancel-button",onClick:p[3]||(p[3]=K(d=>i.closeModal(r.modalId),["prevent"]))},s(i.$t("cancel")),1),e("button",ro,s(i.$t("create")),1)])],32)])])]))}},co={id:"lists"},mo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},vo={class:"mb-2 text-base font-bold"},po={class:"mb-2"},fo=z(),ho={class:"italic"},wo=["id"],bo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(r,{expose:L,emit:_}){const u=r,{oApiConfiguration:A,fetchOptions:f}=Z(),y=pe(A,f()),$=h(u.id);Pe(()=>u.id,(m,C)=>{$.value=m}),de(async()=>{await i()});const b=h(!0),v=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),i=async()=>{b.value=!0,await p(),await d(),b.value=!1},p=async()=>{const[m,C]=await y.getInfo($.value);v.value.info=m.data},d=async()=>{const[m,C,R]=await y.listAlbumItems({albumId:$.value,pagination:{page:v.value.pagination.page,perPage:v.value.pagination.page===0?v.value.pagination.firstLoad:v.value.pagination.perPage}});C?v.value.pagination.page===0?v.value.pagination.page=v.value.pagination.firstLoad/v.value.pagination.perPage:v.value.pagination.page+=v.value.pagination.page!==0?1:2:v.value.loadMore=!1,m!==null&&m.length?(m.forEach(a=>{v.value.list.push(a.artworks)}),_("onAlbumEmpty",!1)):(v.value.empty=!0,_("onAlbumEmpty",!0))},U=()=>{v.value.loadMore=!0,v.value.pagination.page=0,v.value.list=[]},I=h([]),g=m=>{I.value=m,_("feedManageList",m)},k=h(!1);let l;const E=async()=>{const[m,C]=await y.removeItems(u.id,I.value);m&&(he().splash(l,k,"item-removed-alert"),U(),await i())},B=h("album"),G=h(null),W=(m,C=!1)=>{G.value.view(m,C),ee().openModal(B.value+"-modal")};return L({fetchInfo:p,removeItems:E}),(m,C)=>(t(),o("div",co,[e("div",{class:"hidden",onClick:C[0]||(C[0]=R=>p())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=R=>E())}),e("div",mo,[e("div",vo,s(v.value.info.name),1),e("div",po,s(v.value.info.description),1),e("div",null,[e("b",null,s(m.$t("private"))+":",1),fo,e("span",ho,s(v.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,s(m.$t("createdAt")),1),z(" "+s(m.formatDate(v.value.info.created_at)),1)])]),M(e("div",null,[(t(),H(xe,null,[M(c(Me,{"section-class":"work-grid",works:v.value.list,view:W,"manage-mode":r.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[P,!v.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=R=>d())},s(m.$t("loadMore")),513),[[P,v.value.loadMore]])],512),[[P,!b.value]]),c(ne,{loading:b.value,empty:v.value.empty,error:!1,fetch:i},null,8,["loading","empty"]),b.value?n("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[c(ye,{ref_key:"albumModalViewRef",ref:G,section:B.value},null,8,["section"])],8,wo)),M(c(fe,{id:"item-removed-alert",text:m.$t("albums.itemRemoved")},null,8,["text"]),[[P,k.value]])]))}},go=oe(bo,[["__scopeId","data-v-2ee448ae"]]),_o={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ko={class:"title"},yo=["name"],$o=["placeholder"],xo=["placeholder"],Mo=["for"],Co=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Io={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Eo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Lo=[Eo],Ao={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Po=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Fo=[Po],To={class:"ml-2"},So={class:"flex flex-row gap-2 justify-end mt-2"},jo={type:"submit",class:"primary-button"},Ro={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(r,{expose:L,emit:_}){const u=r,{oApiConfiguration:A,fetchOptions:f}=Z(),y=pe(A,f()),{t:$}=ke(),b=h(!0),v=async I=>{if(I){U(),b.value=!0;const[g,k]=await y.getInfo(I),l=g.data;p.value.id=I,p.value.name=l.name,p.value.description=l.description,p.value.isPublic=!!l.is_public,b.value=!1}},i="update-album-form",p=h({id:0,name:"",description:"",isPublic:!1}),d=async()=>{$e().validate(i,$);const[I,g]=await y.update({id:p.value.id,name:p.value.name,description:p.value.description,isPublic:p.value.isPublic?1:0});g||(ee().closeModal(u.modalId),_("updated",p.value),U())},U=()=>{p.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:v}),(I,g)=>(t(),o("div",null,[e("div",_o,[e("div",null,[e("span",ko,s(I.$t("albums.edit.form.title")),1),b.value?n("",!0):(t(),o("form",{key:0,id:i,class:"mt-2",onSubmit:g[4]||(g[4]=K(k=>d(),["prevent"]))},[e("n-validate",{for:"title",name:I.$t("title")},[M(e("input",{"onUpdate:modelValue":g[0]||(g[0]=k=>p.value.name=k),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:I.$t("title")},null,8,$o),[[ae,p.value.name]])],8,yo),M(e("textarea",{"onUpdate:modelValue":g[1]||(g[1]=k=>p.value.description=k),class:"form-input theme-color-secondary",placeholder:I.$t("description"),"data-gramm":"false"},null,8,xo),[[ae,p.value.description]]),e("label",{for:p.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:g[2]||(g[2]=k=>p.value.isPublic=!p.value.isPublic)},[Co,p.value.isPublic?(t(),o("span",Io,Lo)):n("",!0),p.value.isPublic?n("",!0):(t(),o("span",Ao,Fo))]),e("span",To,s(I.$t("private")),1)],8,Mo),e("div",So,[e("button",{class:"cancel-button",onClick:g[3]||(g[3]=K(k=>I.closeModal(r.modalId),["prevent"]))},s(I.$t("cancel")),1),e("button",jo,s(I.$t("save")),1)])],32))])])]))}},je=""+new URL("folder.11be08fa.png",import.meta.url).href,Ie=r=>(ge("data-v-eccd717d"),r=r(),_e(),r),Uo={class:"mb-2"},Bo={key:0},Oo=Ie(()=>e("img",{src:je,class:"rounded"},null,-1)),zo=[Oo],Vo={key:1},Do={class:"relative text-center"},No={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},qo={class:"overflow-hidden rounded-md"},Ho=["src"],Go={key:2,class:"imgrid"},Wo={class:"relative text-center"},Jo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ko={class:"overflow-hidden rounded-md"},Yo=["src"],Qo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Xo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Zo={key:3,class:"imgrid"},el={class:"relative text-center"},tl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ol={class:"overflow-hidden rounded-md"},ll=["src"],sl={key:4,class:"imgrid"},al={class:"relative text-center"},nl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},il={class:"overflow-hidden rounded-md"},rl=["src"],ul={key:5,class:"imgrid"},dl={key:0,class:"relative text-center"},cl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ml={class:"overflow-hidden rounded-md"},vl=["src"],pl={key:1,class:"relative text-center"},fl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},hl={class:"overflow-hidden rounded-md"},wl=["src"],bl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(r){const L=te(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(u,A)=>(t(),o("div",Uo,[!r.album.album_has_artworks||r.album._count.album_has_artworks===0?(t(),o("div",Bo,zo)):n("",!0),r.album.album_has_artworks&&r.album._count.album_has_artworks===1?(t(),o("div",Vo,[e("div",Do,[u.applyExplicitFilter(w(L),r.album.album_has_artworks[0].artworks.is_explicit)?(t(),o("span",No,s(u.$t("explicitContent")),1)):n("",!0),e("div",qo,[r.album.album_has_artworks&&r.album._count.album_has_artworks===1?(t(),o("img",{key:0,src:u.artworkThumb(r.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,r.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:O(["object-cover object-top rounded",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),r.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...f)=>u.imageLoadError&&u.imageLoadError(...f))},null,42,Ho)):n("",!0)])])])):n("",!0),r.album.album_has_artworks&&r.album._count.album_has_artworks===2?(t(),o("div",Go,[(t(!0),o(Q,null,X(r.album.album_has_artworks,(f,y)=>(t(),o("div",{key:y,class:O(_[2][y])},[e("div",Wo,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",Jo,s(u.$t("explicitContent")),1)):n("",!0),e("div",Ko,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,Yo)])])],2))),128)),Qo,Xo])):n("",!0),r.album.album_has_artworks&&r.album._count.album_has_artworks===3?(t(),o("div",Zo,[(t(!0),o(Q,null,X(r.album.album_has_artworks,(f,y)=>(t(),o("div",{key:y,class:O(_[3][y])},[e("div",el,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",tl,s(u.$t("explicitContent")),1)):n("",!0),e("div",ol,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,ll)])])],2))),128))])):n("",!0),r.album.album_has_artworks&&r.album._count.album_has_artworks===4?(t(),o("div",sl,[(t(!0),o(Q,null,X(r.album.album_has_artworks,(f,y)=>(t(),o("div",{key:y},[e("div",al,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",nl,s(u.$t("explicitContent")),1)):n("",!0),e("div",il,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,rl)])])]))),128))])):n("",!0),r.album.album_has_artworks&&r.album._count.album_has_artworks>4?(t(),o("div",ul,[(t(!0),o(Q,null,X(r.album.album_has_artworks,(f,y)=>(t(),o("div",{key:y},[y<3?(t(),o("div",dl,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",cl,s(u.$t("explicitContent")),1)):n("",!0),e("div",ml,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,vl)])])):(t(),o("div",pl,[e("span",fl,"+"+s(r.album._count.album_has_artworks-4),1),e("div",hl,[e("img",{src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:O(["z-0 brightness-50",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,wl)])]))]))),128))])):n("",!0)]))}},gl=oe(bl,[["__scopeId","data-v-eccd717d"]]),_l={class:"mb-2 w-full"},kl={key:0,class:"flex flex-row justify-between"},yl={class:"flex flex-row"},$l={key:0},xl={key:1,class:"flex flex-row justify-between"},Ml={class:"flex flex-row"},Cl={class:"flex flex-row gap-2"},Il={class:"flex flex-row gap-2"},El={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Ll=["onClick"],Al={class:"flex flex-row pb-1 mt-4 font-bold"},Pl={class:"text-xs font-normal"},Fl={__name:"Album",props:{userId:{type:Number,default:0}},setup(r){const L=r,_=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),f=pe(u,A());de(()=>{d()});const y=h(!0),$=h("artwork"),b=h(0),v=h([]),i=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),p=h({artwork:0}),d=async()=>{y.value=!0;const[T,j,V]=await f.fetchAlbums(L.userId,$.value,i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage,i.value.pagination.page);if(V)l();else{T.length||(i.value.manageMode=!1,g()),T.forEach(ce=>{v.value.push(ce)}),i.value.pagination.page+=i.value.pagination.firstLoad/i.value.pagination.perPage,i.value.showLoadMore=j;const[ue]=await f.countArtworkAlbums(L.userId);p.value.artwork=ue}y.value=!1},U=async()=>await d(),I=h(!1),g=()=>{I.value=!0,i.value.showLoadMore=!1},k=h(!1),l=()=>{y.value=!1,k.value=!0,i.value.showLoadMore=!1},E=async()=>{y.value=!1,I.value=!1,k.value=!1,i.value.pagination.page=0,v.value=[],await d()},B=h(!1);let G;const W=async()=>{he().splash(G,B,"created-alert"),await E()},m=h(null),C=()=>{m.value.fetch(b.value),ee().openModal("album-edit-form-modal")},R=h(null),a=T=>{R.value.fetchInfo(),v.value.forEach(j=>{j.id===T.id&&(j.name=T.name,j.description=T.description,j.is_public=T.isPublic)})},D=()=>{R.value.removeItems()},q=h([]),ie=T=>{q.value=T},Y=async()=>{if(b.value!==0){const[T,j]=await f.deleteAlbum(b.value);T&&(b.value=0,E())}},se=T=>{i.value.showManageButton=!T,i.value.manageMode=!1},re=()=>{b.value=0,i.value.showManageButton=!1,i.value.manageMode=!1};return(T,j)=>(t(),o("div",null,[e("div",_l,[b.value?n("",!0):(t(),o("div",kl,[e("div",yl,[e("div",{class:O(["ml-0 primary-button theme-color-secondary",{"button-color text-white":$.value==="artwork"}]),onClick:j[0]||(j[0]=V=>$.value="artwork")},[z(s(T.$t("artworks.artwork"))+" ",1),e("span",{class:O(["px-1 ml-2 font-normal rounded",$.value==="artwork"?"theme-color":"button-color text-white"])},s(p.value.artwork),3)],2)]),w(_).loggedIn&&w(_).user.id===r.userId?(t(),o("div",$l,[e("div",{class:"icon-button",onClick:j[1]||(j[1]=V=>T.openModal("album-form-modal"))},[c(x,{name:"i-ion-add-outline"})])])):n("",!0)])),b.value?(t(),o("div",xl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>re())},[c(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",Ml,[M(e("div",Cl,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>i.value.manageMode=!i.value.manageMode)},[c(x,{name:i.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+s(i.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),M(e("button",{class:O(["flex flex-row",q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>q.value.length>0?T.openModal("item-deletion-confirm-modal"):null)},[c(x,{name:"i-akar-icons-trash-bin"}),z(" "+s(T.$t("albums.removeSelected")),1)],2),[[P,i.value.manageMode]])],512),[[P,w(_).loggedIn&&w(_).user.id===r.userId&&i.value.showManageButton]]),M(e("div",Il,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>C())},[c(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>T.openModal("album-deletion-confirm-modal"))},[c(x,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(_).loggedIn&&w(_).user.id===r.userId&&!i.value.manageMode]])])])):n("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},s(T.$t("albums.manageModeActiveMessage")),513),[[P,i.value.manageMode]])]),b.value?n("",!0):(t(),o("div",El,[(t(!0),o(Q,null,X(v.value,V=>(t(),o("div",{key:V.id,class:O(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ue=>b.value=V.id},[V.type==="artwork"?(t(),H(gl,{key:0,album:V},null,8,["album"])):n("",!0),e("div",Al,[V.is_public?n("",!0):(t(),H(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Pl,s(V.name),1)])],10,Ll))),128))])),i.value.showLoadMore&&!b.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:U},s(T.$t("loadMore")),1)):n("",!0),c(ne,{loading:y.value,empty:I.value,error:k.value,fetch:d},null,8,["loading","empty","error"]),!y.value&&!b.value?(t(),H(uo,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:$.value,class:"modal",onCreated:W},null,8,["category"])):n("",!0),M(c(fe,{id:"created-alert",text:T.$t("albums.created")},null,8,["text"]),[[P,B.value]]),!y.value&&b.value?(t(),H(Ro,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:m,"modal-id":"album-edit-form-modal","album-id":b.value,class:"modal",onUpdated:a},null,8,["album-id"])):n("",!0),c(me,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:Y},null,8,["message"]),c(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:D},null,8,["message"]),b.value&&!y.value?(t(),H(go,{key:4,id:b.value,ref_key:"albumDetailRef",ref:R,"manage-mode":i.value.manageMode,onOnAlbumEmpty:se,onFeedManageList:ie},null,8,["id","manage-mode"])):n("",!0)]))}},Tl=oe(Fl,[["__scopeId","data-v-7bee1255"]]),Sl=z(" PRO "),Re={__name:"ProBadge",setup(r){const L=te();return(_,u)=>{const A=ve;return w(L).i502p00r0?n("",!0):(t(),H(A,{key:0,to:"/pro",class:"py-1 px-2 font-bold align-middle bg-yellow-200 rounded-md text-xxs"},{default:J(()=>[Sl]),_:1}))}}},jl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Rl={class:"title"},Ul=["placeholder"],Bl=["placeholder"],Ol=["for"],zl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Vl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Dl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Nl=[Dl],ql={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Hl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Gl=[Hl],Wl={class:"flex flex-row gap-x-1"},Jl={class:"ml-2"},Kl={class:"flex flex-row gap-2 justify-end mt-2"},Yl={type:"submit",class:"primary-button"},Ql={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(r,{emit:L}){const _=r,u=te(),{oApiConfiguration:A,fetchOptions:f}=Z(),y=we(A,f()),{t:$}=ke(),b="create-collection-form",v=h({title:"",description:"",isPublic:1,category:"artwork"}),i=async()=>{$e().validate(b,$);try{let p=!1,d={};if(_.category){const[U,I,g]=await y.createCollection(_.category,v.value);g||(p=U,d=I)}p&&(ee().closeModal(_.modalId),L("created",d))}catch{}};return(p,d)=>(t(),o("div",null,[e("div",jl,[e("div",null,[e("span",Rl,s(p.$t("collections.create.form.title")),1),e("form",{id:b,class:"mt-2",onSubmit:d[4]||(d[4]=K(U=>i(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":d[0]||(d[0]=U=>v.value.title=U),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:p.$t("title")},null,8,Ul),[[ae,v.value.title]])]),M(e("textarea",{"onUpdate:modelValue":d[1]||(d[1]=U=>v.value.description=U),class:"form-input theme-color-secondary",placeholder:p.$t("description"),"data-gramm":"false"},null,8,Bl),[[ae,v.value.description]]),e("label",{for:v.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:d[2]||(d[2]=U=>w(u).i502p00r0?v.value.isPublic=!v.value.isPublic:v.value.isPublic=!0)},[zl,v.value.isPublic?(t(),o("span",Vl,Nl)):n("",!0),v.value.isPublic?n("",!0):(t(),o("span",ql,Gl))]),e("div",Wl,[e("span",Jl,s(p.$t("private")),1),c(Re)])],8,Ol),e("div",Kl,[e("button",{class:"cancel-button",onClick:d[3]||(d[3]=K(U=>p.closeModal(r.modalId),["prevent"]))},s(p.$t("cancel")),1),e("button",Yl,s(p.$t("create")),1)])],32)])])]))}},Xl={id:"lists"},Zl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},es={class:"text-base font-bold mb-2"},ts={class:"mb-2"},os=z(),ls={class:"italic"},ss=["id"],as={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(r,{expose:L,emit:_}){const u=r,{oApiConfiguration:A,fetchOptions:f}=Z(),y=we(A,f()),$=h(u.id);Pe(()=>u.id,(m,C)=>{$.value=m}),de(async()=>{await i()});const b=h(!0),v=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),i=async()=>{b.value=!0,await p(),await d(),b.value=!1},p=async()=>{const[m,C]=await y.getInfo($.value);v.value.info=m.data},d=async()=>{const[m,C,R]=await y.listCollectionItems({collectionId:$.value,pagination:{page:v.value.pagination.page,perPage:v.value.pagination.page===0?v.value.pagination.firstLoad:v.value.pagination.perPage}});C?v.value.pagination.page===0?v.value.pagination.page=v.value.pagination.firstLoad/v.value.pagination.perPage:v.value.pagination.page+=v.value.pagination.page!==0?1:2:v.value.loadMore=!1,m!==null&&m.length?(m.forEach(a=>{v.value.list.push(a.artworks)}),_("onCollectionEmpty",!1)):(v.value.empty=!0,_("onCollectionEmpty",!0))},U=()=>{v.value.loadMore=!0,v.value.pagination.page=0,v.value.list=[]},I=h([]),g=m=>{I.value=m,_("feedManageList",m)},k=h(!1);let l;const E=async()=>{const[m,C]=await y.removeItem({collectionId:u.id,type:u.type,workId:I.value});C||(he().splash(l,k,"item-removed-alert"),U(),await i(),_("feedManageList",[]))},B=h("collection"),G=h(null),W=(m,C=!1)=>{G.value.view(m,C),ee().openModal(B.value+"-modal")};return L({fetchInfo:p,removeItem:E}),(m,C)=>(t(),o("div",Xl,[e("div",{class:"hidden",onClick:C[0]||(C[0]=R=>p())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=R=>E())}),e("div",Zl,[e("div",es,s(v.value.info.name),1),e("div",ts,s(v.value.info.description),1),e("div",null,[e("b",null,s(m.$t("private"))+":",1),os,e("span",ls,s(v.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,s(m.$t("createdAt")),1),z(" "+s(m.formatDate(v.value.info.created_at)),1)])]),M(e("div",null,[(t(),H(xe,null,[M(c(Me,{"section-class":"work-grid",works:v.value.list,view:W,"manage-mode":r.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[P,!v.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=R=>d())},s(m.$t("loadMore")),513),[[P,v.value.loadMore]])],512),[[P,!b.value]]),c(ne,{loading:b.value,empty:v.value.empty,error:!1,fetch:i},null,8,["loading","empty"]),b.value?n("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[c(ye,{ref_key:"collectionModalViewRef",ref:G,section:B.value},null,8,["section"])],8,ss)),M(c(fe,{id:"item-removed-alert",text:m.$t("collections.itemRemoved")},null,8,["text"]),[[P,k.value]])]))}},ns=oe(as,[["__scopeId","data-v-28a81b65"]]),is={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},rs={class:"title"},us=["placeholder"],ds=["placeholder"],cs=["for"],ms=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),vs={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},ps=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),fs=[ps],hs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ws=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),bs=[ws],gs={class:"flex flex-row gap-x-1"},_s={class:"ml-2"},ks={class:"flex flex-row gap-2 justify-end mt-2"},ys={type:"submit",class:"primary-button"},$s={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(r,{expose:L,emit:_}){const u=r,A=te(),{t:f}=ke(),{oApiConfiguration:y,fetchOptions:$}=Z(),b=we(y,$()),v=h(!0),i=async g=>{if(g){I(),v.value=!0;const[k,l]=await b.getInfo(g);if(!l){const E=k.data;d.value.id=g,d.value.name=E.name,d.value.description=E.description,d.value.isPublic=!!E.is_public,v.value=!1}}},p="edit-collection-form",d=h({id:0,name:"",description:"",isPublic:!1}),U=async()=>{$e().validate(p,f);const[g,k]=await b.update({id:d.value.id,name:d.value.name,description:d.value.description,isPublic:d.value.isPublic?1:0});k||(ee().closeModal(u.modalId),_("updated",d.value),I())},I=()=>{d.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:i}),(g,k)=>(t(),o("div",null,[e("div",{class:"hidden",onClick:k[0]||(k[0]=l=>i(0))}),e("div",is,[e("div",null,[e("span",rs,s(g.$t("collections.edit.form.title")),1),v.value?n("",!0):(t(),o("form",{key:0,id:p,class:"mt-2",onSubmit:k[5]||(k[5]=K(l=>U(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":k[1]||(k[1]=l=>d.value.name=l),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,us),[[ae,d.value.name]])]),M(e("textarea",{"onUpdate:modelValue":k[2]||(k[2]=l=>d.value.description=l),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,ds),[[ae,d.value.description]]),e("label",{for:d.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:k[3]||(k[3]=l=>w(A).i502p00r0?d.value.isPublic=!d.value.isPublic:d.value.isPublic=!0)},[ms,d.value.isPublic?(t(),o("span",vs,fs)):n("",!0),d.value.isPublic?n("",!0):(t(),o("span",hs,bs))]),e("div",gs,[e("span",_s,s(g.$t("private")),1),c(Re)])],8,cs),e("div",ks,[e("button",{class:"cancel-button",onClick:k[4]||(k[4]=K(l=>g.closeModal(r.modalId),["prevent"]))},s(g.$t("cancel")),1),e("button",ys,s(g.$t("save")),1)])],32))])])]))}},Ee=r=>(ge("data-v-a484fb7b"),r=r(),_e(),r),xs={class:"mb-2"},Ms={key:0},Cs=Ee(()=>e("img",{src:je,class:"rounded"},null,-1)),Is=[Cs],Es={key:1},Ls={class:"relative text-center"},As={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ps={class:"overflow-hidden rounded-md"},Fs=["src"],Ts={key:2,class:"imgrid"},Ss={class:"relative text-center"},js={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Rs={class:"overflow-hidden rounded-md"},Us=["src"],Bs=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Os=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),zs={key:3,class:"imgrid"},Vs={class:"relative text-center"},Ds={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ns={class:"overflow-hidden rounded-md"},qs=["src"],Hs={key:4,class:"imgrid"},Gs={class:"relative text-center"},Ws={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Js={class:"overflow-hidden rounded-md"},Ks=["src"],Ys={key:5,class:"imgrid"},Qs={key:0,class:"relative text-center"},Xs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Zs={class:"overflow-hidden rounded-md"},ea=["src"],ta={key:1,class:"relative text-center"},oa={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},la={class:"overflow-hidden rounded-md"},sa=["src"],aa={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(r){const L=te(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(u,A)=>(t(),o("div",xs,[!r.collection.collection_has_artworks||r.collection._count.collection_has_artworks===0?(t(),o("div",Ms,Is)):n("",!0),r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks===1?(t(),o("div",Es,[e("div",Ls,[u.applyExplicitFilter(w(L),r.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),o("span",As,s(u.$t("explicitContent")),1)):n("",!0),e("div",Ps,[r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks===1?(t(),o("img",{key:0,src:u.artworkThumb(r.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,r.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:O(["object-cover object-top rounded",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),r.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...f)=>u.imageLoadError&&u.imageLoadError(...f))},null,42,Fs)):n("",!0)])])])):n("",!0),r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks===2?(t(),o("div",Ts,[(t(!0),o(Q,null,X(r.collection.collection_has_artworks,(f,y)=>(t(),o("div",{key:y,class:O(_[2][y])},[e("div",Ss,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",js,s(u.$t("explicitContent")),1)):n("",!0),e("div",Rs,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,Us)])])],2))),128)),Bs,Os])):n("",!0),r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks===3?(t(),o("div",zs,[(t(!0),o(Q,null,X(r.collection.collection_has_artworks,(f,y)=>(t(),o("div",{key:y,class:O(_[3][y])},[e("div",Vs,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",Ds,s(u.$t("explicitContent")),1)):n("",!0),e("div",Ns,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,qs)])])],2))),128))])):n("",!0),r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks===4?(t(),o("div",Hs,[(t(!0),o(Q,null,X(r.collection.collection_has_artworks,(f,y)=>(t(),o("div",{key:y},[e("div",Gs,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",Ws,s(u.$t("explicitContent")),1)):n("",!0),e("div",Js,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,Ks)])])]))),128))])):n("",!0),r.collection.collection_has_artworks&&r.collection._count.collection_has_artworks>4?(t(),o("div",Ys,[(t(!0),o(Q,null,X(r.collection.collection_has_artworks,(f,y)=>(t(),o("div",{key:y},[y<3?(t(),o("div",Qs,[u.applyExplicitFilter(w(L),f.artworks.is_explicit)?(t(),o("span",Xs,s(u.$t("explicitContent")),1)):n("",!0),e("div",Zs,[e("img",{class:O(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,ea)])])):(t(),o("div",ta,[e("span",oa,"+"+s(r.collection._count.collection_has_artworks-4),1),e("div",la,[e("img",{src:u.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:O(["z-0 brightness-50",{"blur-sm brightness-50":u.applyExplicitFilter(w(L),f.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...$)=>u.imageLoadError&&u.imageLoadError(...$))},null,42,sa)])]))]))),128))])):n("",!0)]))}},na=oe(aa,[["__scopeId","data-v-a484fb7b"]]),ia={class:"mb-2 w-full"},ra={key:0,class:"flex flex-row justify-between"},ua={class:"flex flex-row"},da={key:0},ca={key:1,class:"flex flex-row justify-between"},ma={class:"flex flex-row"},va={class:"flex flex-row gap-2"},pa={class:"flex flex-row gap-2"},fa={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ha=["onClick"],wa={class:"flex flex-row pb-1 mt-4 font-bold"},ba={class:"text-xs font-normal"},ga={__name:"Collection",props:{userId:{type:Number,default:0}},setup(r){const L=r,_=te();de(()=>{d()});const{oApiConfiguration:u,fetchOptions:A}=Z(),f=we(u,A()),y=h(!0),$=h("artwork"),b=h(0),v=h([]),i=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),p=h({artwork:0}),d=async()=>{y.value=!0;const[T,j,V]=await f.fetchCollections({userId:L.userId,type:$.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});if(V)l();else{T.length||(i.value.manageMode=!1,g()),T.forEach(ce=>{v.value.push(ce)}),i.value.pagination.page+=i.value.pagination.firstLoad/i.value.pagination.perPage,i.value.showLoadMore=j;const[ue]=await f.countArtworkCollections(L.userId);p.value.artwork=ue}y.value=!1},U=async()=>await d(),I=h(!1),g=()=>{I.value=!0,i.value.showLoadMore=!1},k=h(!1),l=()=>{y.value=!1,k.value=!0,i.value.showLoadMore=!1},E=async()=>{y.value=!1,I.value=!1,k.value=!1,i.value.pagination.page=0,v.value=[],await d()},B=T=>{i.value.showManageButton=!0,T&&(i.value.showManageButton=!1)},G=h(!1);let W;const m=async()=>{he().splash(W,G,"created-alert"),await E()},C=h(null),R=()=>{C.value.fetch(b.value),ee().openModal("collection-edit-form-modal")},a=h(null),D=T=>{a.value.fetchInfo(),v.value.forEach(j=>{j.id===T.id&&(j.name=T.name,j.description=T.description,j.is_public=T.isPublic)})},q=h([]),ie=T=>{q.value=T},Y=()=>{a.value.removeItem()},se=async()=>{if(b.value!==0){const[T,j]=await f.deleteCollection(b.value);T&&(b.value=0,E())}},re=()=>{b.value=0,i.value.showManageButton=!1,i.value.manageMode=!1};return(T,j)=>(t(),o("div",null,[e("div",ia,[b.value?n("",!0):(t(),o("div",ra,[e("div",ua,[e("div",{class:O(["ml-0 primary-button theme-color-secondary",{"button-color text-white":$.value==="artwork"}]),onClick:j[0]||(j[0]=V=>$.value="artwork")},[z(s(T.$t("artworks.artwork"))+" ",1),e("span",{class:O(["px-1 ml-2 font-normal rounded",$.value==="artwork"?"theme-color":"button-color text-white"])},s(p.value.artwork),3)],2)]),w(_).loggedIn&&w(_).user.id===r.userId?(t(),o("div",da,[e("div",{class:"icon-button",onClick:j[1]||(j[1]=V=>T.openModal("collection-form-modal"))},[c(x,{name:"i-ion-add-outline"})])])):n("",!0)])),b.value?(t(),o("div",ca,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>re())},[c(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",ma,[M(e("div",va,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>i.value.manageMode=!i.value.manageMode)},[c(x,{name:i.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+s(i.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),M(e("button",{class:O(["flex flex-row",q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>q.value.length>0?T.openModal("item-deletion-confirm-modal"):null)},[c(x,{name:"i-akar-icons-trash-bin"}),z(" "+s(T.$t("collections.removeSelected")),1)],2),[[P,i.value.manageMode]])],512),[[P,w(_).loggedIn&&w(_).user.id===r.userId&&i.value.showManageButton]]),M(e("div",pa,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>R())},[c(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>T.openModal("collection-deletion-confirm-modal"))},[c(x,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(_).loggedIn&&w(_).user.id===r.userId&&!i.value.manageMode]])])])):n("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},s(T.$t("collections.manageModeActiveMessage")),513),[[P,i.value.manageMode]])]),b.value?n("",!0):(t(),o("div",fa,[(t(!0),o(Q,null,X(v.value,V=>(t(),o("div",{key:V.id,class:O(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ue=>b.value=V.id},[V.type==="artwork"?(t(),H(na,{key:0,collection:V},null,8,["collection"])):n("",!0),e("div",wa,[V.is_public?n("",!0):(t(),H(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",ba,s(V.name),1)])],10,ha))),128))])),i.value.showLoadMore&&!b.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:U},s(T.$t("loadMore")),1)):n("",!0),c(ne,{loading:y.value,empty:I.value,error:k.value,fetch:d},null,8,["loading","empty","error"]),!y.value&&!b.value?(t(),H(Ql,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:$.value,class:"modal",onCreated:m},null,8,["category"])):n("",!0),M(c(fe,{id:"created-alert",text:T.$t("collections.created")},null,8,["text"]),[[P,G.value]]),!y.value&&b.value?(t(),H($s,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:C,"modal-id":"collection-edit-form-modal","collection-id":b.value,class:"modal",onUpdated:D},null,8,["collection-id"])):n("",!0),c(me,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:se},null,8,["message"]),c(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:Y},null,8,["message"]),b.value&&!y.value?(t(),H(ns,{key:4,id:b.value,ref_key:"collectionDetailRef",ref:a,"manage-mode":i.value.manageMode,type:$.value,onOnCollectionEmpty:B,onFeedManageList:ie},null,8,["id","manage-mode","type"])):n("",!0)]))}},_a=oe(ga,[["__scopeId","data-v-52371e9a"]]),ka={class:"text-lg font-bold"},ya={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},$a={class:"flex flex-row w-full"},xa=["src"],Ma={class:"flex flex-col justify-between p-3 w-full text-white"},Ca={class:"flex flex-col"},Ia={class:"font-bold"},Ea={class:"text-xxs"},La={class:"flex flex-row w-full"},Aa={key:0,class:"flex flex-row"},Pa=["onClick"],Fa=["onMouseover","onClick"],Ta={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(r){const L=r,_=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),f=Ce(u,A());de(()=>{d()});const y=h([]),$=h(!0),b=h({page:0,perPage:12}),v=h(!1),i=h(!1),p=h(!1),d=async()=>{U(),$.value=!0;const[g,k]=await f.getFollowerList({userId:L.userId,pagination:{page:b.value.page,perPage:b.value.perPage}});k?v.value=!0:(g.followers.length||(i.value=!0),g.followers.forEach(l=>{y.value.push(l)}),b.value.page+=1,g.pagination.next_previous.next_page?p.value=!0:p.value=!1),$.value=!1},U=()=>{i.value=!1,v.value=!1},I=h(0);return(g,k)=>{const l=ve;return t(),o("div",null,[e("div",ka,s(g.$t("followers")),1),e("div",ya,[(t(!0),o(Q,null,X(y.value,(E,B)=>(t(),H(l,{key:E.id,to:"/profile/"+E.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(E.cover_bucket&&E.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g.avatarCoverUrl(E.cover_bucket,E.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Te)+");background-size:cover;")},{default:J(()=>[e("div",$a,[e("img",{src:g.avatarCoverUrl(E.avatar_bucket,E.avatar_filename),class:"avatar",onError:k[0]||(k[0]=(...G)=>g.imageLoadError&&g.imageLoadError(...G))},null,40,xa),e("div",Ma,[e("div",Ca,[e("span",Ia,s(E.name),1),e("span",Ea,s(E.pen_name),1)]),e("div",La,[w(_).loggedIn&&E.id!==w(_).user.id?(t(),o("div",Aa,[M(e("div",{class:"flex flex-row",onClick:K(G=>g.followUser(B,E.id),["prevent"])},[c(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Pa),[[P,!E.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:G=>I.value=E.id,onMouseout:k[1]||(k[1]=G=>I.value=0),onClick:K(G=>g.unfollowUser(B,E.id),["prevent"])},[M(c(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,I.value!==E.id]]),M(c(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,I.value&&I.value===E.id]])],40,Fa),[[P,E.is_following]])])):n("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:k[2]||(k[2]=E=>d())},s(g.$t("loadMore")),513),[[P,p.value]]),c(ne,{loading:$.value,empty:i.value,error:v.value,fetch:d},null,8,["loading","empty","error"])])}}},Sa=oe(Ta,[["__scopeId","data-v-b2599f1b"]]),ja={class:"text-lg font-bold"},Ra={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},Ua={class:"flex flex-row w-full"},Ba=["src"],Oa={class:"flex flex-col justify-between p-3 w-full text-white"},za={class:"flex flex-col"},Va={class:"font-bold"},Da={class:"text-xxs"},Na={class:"flex flex-row w-full"},qa={key:0,class:"flex flex-row"},Ha=["onClick"],Ga=["onMouseover","onClick"],Wa={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(r){const L=r,_=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),f=Ce(u,A());de(()=>{U()});const y=async()=>{$.value=[],v.value.page=0,await U()},$=h([]),b=h(!0),v=h({page:0,perPage:12}),i=h(!1),p=h(!1),d=h(!1),U=async()=>{I(),b.value=!0;const[k,l]=await f.getFollowingList({userId:L.userId,pagination:{page:v.value.page,perPage:v.value.perPage}});l?i.value=!0:(k.followings.length||(p.value=!0),k.followings.forEach(E=>{$.value.push(E)}),v.value.page+=1,k.pagination.next_previous.next_page?d.value=!0:d.value=!1),b.value=!1},I=()=>{p.value=!1,i.value=!1},g=h(0);return(k,l)=>{const E=ve;return t(),o("div",null,[e("div",ja,s(k.$t("followings")),1),e("div",Ra,[(t(!0),o(Q,null,X($.value,(B,G)=>(t(),H(E,{key:B.id,to:"/profile/"+B.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(B.cover_bucket&&B.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+k.avatarCoverUrl(B.cover_bucket,B.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Te)+");background-size:cover;")},{default:J(()=>[e("div",Ua,[e("img",{src:k.avatarCoverUrl(B.avatar_bucket,B.avatar_filename),class:"avatar",onError:l[0]||(l[0]=(...W)=>k.imageLoadError&&k.imageLoadError(...W))},null,40,Ba),e("div",Oa,[e("div",za,[e("span",Va,s(B.name),1),e("span",Da,s(B.pen_name),1)]),e("div",Na,[w(_).loggedIn&&B.id!==w(_).user.id?(t(),o("div",qa,[M(e("div",{class:"flex flex-row",onClick:K(W=>k.followUser(G,B.id),["prevent"])},[c(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ha),[[P,!B.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:W=>g.value=B.id,onMouseout:l[1]||(l[1]=W=>g.value=0),onClick:K(W=>k.unfollowUser(G,B.id),["prevent"])},[M(c(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,g.value!==B.id]]),M(c(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,g.value&&g.value===B.id]])],40,Ga),[[P,B.is_following]])])):n("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"primary-button mt-4",onClick:l[2]||(l[2]=B=>U())},s(k.$t("loadMore")),513),[[P,d.value]]),c(ne,{loading:b.value,empty:p.value,error:i.value,fetch:y},null,8,["loading","empty","error"])])}}},Ja=oe(Wa,[["__scopeId","data-v-5ff9c687"]]),Ka=r=>(ge("data-v-c5fd5a2e"),r=r(),_e(),r),Ya=["src"],Qa={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Xa={class:"flex-row justify-between hidden-md-flex"},Za={class:"mr-6 w-1/5"},en=["src"],tn={class:"mt-2"},on={class:"flex flex-row"},ln={class:"flex flex-row"},sn=z("\xA0 "),an=z("\xA0 "),nn={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},rn={class:"flex flex-col w-full"},un={class:"flex flex-row w-full"},dn={class:"w-9/12"},cn={class:"text-base font-semibold"},mn=z("\xA0 "),vn={class:"mr-2 italic"},pn={class:"flex flex-row mt-2"},fn={key:0,class:"mr-1"},hn={class:"flex flex-row"},wn={class:"mr-1"},bn={key:0,class:"flex flex-row"},gn=z(" he/his "),_n={key:1,class:"flex flex-row"},kn=z(" she/her "),yn={class:"float-right w-3/12 text-right"},$n={class:"flex flex-row shadow-md primary-button"},xn={class:"leading-4"},Mn={key:1,class:"mt-4"},Cn=["href"],In=["href"],En=["href"],Ln=["href"],An=["href"],Pn={key:0,class:"mt-4"},Fn=["id","innerHTML"],Tn=["id"],Sn={class:"flex flex-col text-center md:hidden"},jn=["src"],Rn={class:"mt-4 text-base font-semibold"},Un={class:"flex flex-row justify-center mt-4"},Bn={key:0,class:"flex flex-row mr-1"},On={class:"mr-1"},zn={key:0,class:"flex flex-row"},Vn=z(" he/his "),Dn={key:1,class:"flex flex-row"},Nn=z(" she/her "),qn={key:0,class:"mx-2 mt-4 text-center"},Hn=["id","innerHTML"],Gn=["id"],Wn={key:1,class:"flex flex-row justify-center mt-4"},Jn=["href"],Kn=["href"],Yn=["href"],Qn=["href"],Xn=["href"],Zn={class:"flex flex-row justify-center w-full md:hidden"},ei=z("\xA0 "),ti=z("\xA0 "),oi={class:"flex flex-row"},li={class:"flex flex-row"},si={class:"mt-2"},ai={class:"flex flex-row justify-center md:hidden"},ni={class:"flex flex-row justify-between mt-2 md:mt-6"},ii={class:"hidden flex-col lg:w-1/5 md:flex"},ri={class:"profile-navigation_wrapper"},ui={class:"hidden-lg-flex"},di=Ka(()=>e("span",{class:"hidden-lg-flex"},null,-1)),ci={class:"profile-navigation_wrapper"},mi={class:"hidden-lg-flex"},vi={class:"hidden-lg-flex"},pi={class:"profile-navigation_wrapper"},fi={class:"hidden-lg-flex"},hi={class:"hidden-lg-flex"},wi={class:"w-full md:ml-6"},bi={key:0},gi={class:"flex flex-row w-full"},_i={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},ki={key:1},yi={key:2},$i={key:3},xi={key:4},Mi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(r){const L=r,_=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),f=Ce(u,A()),y=pe(u,A()),$=we(u,A()),b=Ne(),v=Ae(),{o:i}=b.query,p=h(!0),d=i!=null?h(i):h("dashboard"),U=h("artwork"),I=qe(()=>L.userLogon&&_.loggedIn?_.user.id:L.id),g=h({manageMode:!1,showManageMode:!0});de(async()=>{await B()});const k=S=>{d.value=S,g.value.manageMode=!1,i!=null&&v.push("/profile")},l=h({}),E=h({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),B=async()=>{p.value=!0;try{const[S]=await f.getInfo(I.value);if(l.value=S,_.loggedIn&&_.user.id!==I.value){const[ze]=await f.isFollowing(I.value);Y.value=ze.is_following}const[F]=await f.countFeeds(I.value);E.value.feed=F;const[le]=await f.countArtworks(I.value);E.value.artwork=le;const[N]=await f.countFollowers(I.value);E.value.followers=N;const[Ue]=await f.countFollowings(I.value);E.value.followings=Ue;const[Be]=await y.countAlbums(I.value);E.value.album=Be;const[Oe]=await $.countCollections(I.value);E.value.collection=Oe}catch{}p.value=!1},G=h(null),W=h([]),m=S=>{W.value=S},C=()=>{g.value.showManageMode=!1},R=h(null),a=()=>{ee().openModal("album-selection-modal")},D=h(!1);let q;const ie=()=>{he().splash(q,D,"item-added-to-album-alert")},Y=h(!1),se=h(null),re=h("i-ri-user-follow-fill"),T=(S,F)=>{re.value=S,se.value=F},j=async S=>{const[F,le]=await f.follow(S);le||(Y.value=!0)},V=async S=>{const[F,le]=await f.unfollow(S);le||(Y.value=!1)},ue=h(!0),ce=(S,F,le,N)=>{ue.value=!1,Se().readMore(S,F,le,N)};return(S,F)=>{const le=ve;return t(),H(We,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:J(()=>[e("div",null,[e("img",{src:S.avatarCoverUrl(l.value.cover_bucket,l.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:F[0]||(F[0]=(...N)=>S.defaultCoverImage&&S.defaultCoverImage(...N))},null,40,Ya),w(_).loggedIn&&w(_).user.id===l.value.id?(t(),H(le,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:J(()=>[c(x,{name:"i-ph-gear-six"})]),_:1})):n("",!0)]),e("div",Qa,[e("div",Xa,[e("div",Za,[e("img",{src:S.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:F[1]||(F[1]=(...N)=>S.defaultCoverImage&&S.defaultCoverImage(...N))},null,40,en),e("div",tn,[w(_).loggedIn&&l.value.id!==w(_).user.id?(t(),o("div",{key:0,class:O(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":Y.value}]),onClick:F[2]||(F[2]=N=>Y.value?V(l.value.id):j(l.value.id)),onMouseover:F[3]||(F[3]=N=>T("i-ri-user-unfollow-fill",S.$t("unfollow"))),onMouseleave:F[4]||(F[4]=N=>T("i-ri-user-follow-fill",S.$t("following")))},[M(e("div",on,[c(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),z(" "+s(S.$t("follow")),1)],512),[[P,!Y.value]]),M(e("div",ln,[c(x,{name:re.value,"text-size":"text-base"},null,8,["name"]),z(" "+s(se.value===null?S.$t("following"):se.value),1)],512),[[P,Y.value]])],34)):n("",!0),e("div",{class:O(["flex-row justify-center border hidden-md-flex",l.value.id==w(_).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:F[5]||(F[5]=N=>d.value="followerList")},[e("b",null,s(E.value.followers),1),sn,e("i",null,s(S.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:F[6]||(F[6]=N=>d.value="followingList")},[e("b",null,s(E.value.followings),1),an,e("i",null,s(S.$t("following").toLowerCase()),1)])],2)])]),e("div",nn,[e("div",rn,[e("div",un,[e("div",dn,[e("div",null,[e("span",cn,s(l.value.name),1),mn,e("span",vn,s(l.value.username),1)]),e("div",pn,[l.value.pen_name&&l.value.pen_name!==""?(t(),o("div",fn,[e("span",hn,[c(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),z(" "+s(l.value.pen_name),1)])])):n("",!0),e("div",wn,[l.value.gender==="m"?(t(),o("span",bn,[c(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),gn])):n("",!0),l.value.gender==="f"?(t(),o("span",_n,[c(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),kn])):n("",!0)])])]),e("div",yn,[w(_).loggedIn&&w(_).user.id===l.value.id?(t(),H(le,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:J(()=>[e("button",$n,[c(x,{name:"i-ph-gear-six",class:"mr-2"}),e("span",xn,s(S.$t("profile.setting")),1)])]),_:1})):n("",!0),l.value.user_socials?(t(),o("div",Mn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Cn)):n("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,In)):n("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,En)):n("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Ln)):n("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"heart",class:"text-xl"})],8,An)):n("",!0)])):n("",!0)])]),e("div",null,[l.value.bio?(t(),o("p",Pn,[e("div",{id:"user-bio-"+l.value.id,innerHTML:l.value.bio.length>300?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Fn),l.value.bio.length>300?(t(),o("a",{key:0,id:"user-bio-read-more-"+l.value.id,class:"href",onClick:F[7]||(F[7]=K(N=>ce(l.value.bio,l.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},s(S.$t("readMore")),9,Tn)):n("",!0)])):n("",!0)])])])]),e("div",Sn,[e("img",{src:S.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:F[8]||(F[8]=(...N)=>S.imageLoadError&&S.imageLoadError(...N))},null,40,jn),e("div",Rn,s(l.value.name),1),e("div",null,s(l.value.username),1),e("div",Un,[l.value.pen_name?(t(),o("span",Bn,[c(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),z(" "+s(l.value.pen_name&&l.value.pen_name!==""?l.value.pen_name:"-"),1)])):n("",!0),e("div",On,[l.value.gender==="m"?(t(),o("span",zn,[c(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Vn])):n("",!0),l.value.gender==="f"?(t(),o("span",Dn,[c(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),Nn])):n("",!0)])]),l.value.bio?(t(),o("div",qn,[e("div",{id:"mobile__user-bio-"+l.value.id,innerHTML:l.value.bio.length>150?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Hn),l.value.bio.length>150?(t(),o("a",{key:0,id:"mobile__user-bio-read-more-"+l.value.id,class:"href",onClick:F[9]||(F[9]=K(N=>ce(l.value.bio,l.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},s(S.$t("readMore")),9,Gn)):n("",!0)])):n("",!0),l.value.user_socials?(t(),o("div",Wn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Jn)):n("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Kn)):n("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Yn)):n("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Qn)):n("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-heart",class:"text-xl"})],8,Xn)):n("",!0)])):n("",!0),e("div",Zn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:F[10]||(F[10]=N=>d.value="followerList")},[e("b",null,s(E.value.followers),1),ei,e("i",null,s(S.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:F[11]||(F[11]=N=>d.value="followingList")},[e("b",null,s(E.value.followings),1),ti,e("i",null,s(S.$t("following")),1)])]),w(_).loggedIn&&l.value.id!==w(_).user.id?(t(),o("div",{key:2,class:O(["mt-2 w-auto",Y.value?"danger-button":"primary-button"]),onClick:F[12]||(F[12]=N=>Y.value?V(l.value.id):j(l.value.id))},[M(e("div",oi,[c(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),z(" "+s(S.$t("follow")),1)],512),[[P,!Y.value]]),M(e("div",li,[c(x,{name:re.value,"text-size":"text-base"},null,8,["name"]),z(" "+s(se.value===null?S.$t("following"):se.value),1)],512),[[P,Y.value]])],2)):n("",!0)]),e("div",si,[e("div",ai,[e("div",{class:O(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(d)=="dashboard"}]),onClick:F[13]||(F[13]=N=>k("dashboard"))},[e("div",null,[M(c(x,{name:"i-ion-home-outline",class:"text-white"},null,512),[[P,w(d)=="dashboard"]]),M(c(x,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[P,w(d)!="dashboard"]])]),e("span",null,s(S.$t("dashboard")),1)],2),e("div",{class:O(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(d)=="albums"}]),onClick:F[14]||(F[14]=N=>k("albums"))},[e("div",null,[M(c(x,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[P,w(d)=="albums"]]),M(c(x,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[P,w(d)!="albums"]])]),e("span",null,s(S.$t("albums.album")),1)],2),e("div",{class:O(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(d)=="collections"}]),onClick:F[15]||(F[15]=N=>k("collections"))},[e("div",null,[M(c(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(d)=="collections"]]),M(c(x,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[P,w(d)!="collections"]])]),e("span",null,s(S.$t("collections.collection")),1)],2)]),e("div",ni,[e("div",ii,[e("div",{class:O(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(d)==="dashboard"}]),onClick:F[16]||(F[16]=N=>k("dashboard"))},[e("div",ri,[M(c(x,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[P,w(d)==="dashboard"]]),M(c(x,{name:"i-humbleicons-dashboard"},null,512),[[P,w(d)!=="dashboard"]]),e("label",ui,s(S.$t("dashboard")),1)]),di],2),e("div",{class:O(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(d)==="albums"}]),onClick:F[17]||(F[17]=N=>k("albums"))},[e("div",ci,[M(c(x,{name:"i-bx-photo-album",class:"text-white"},null,512),[[P,w(d)==="albums"]]),M(c(x,{name:"i-bx-photo-album"},null,512),[[P,w(d)!=="albums"]]),e("label",mi,s(S.$t("albums.album")),1)]),e("span",vi,s(E.value.album),1)],2),e("div",{class:O(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(d)==="collections"}]),onClick:F[18]||(F[18]=N=>k("collections"))},[e("div",pi,[M(c(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(d)==="collections"]]),M(c(x,{name:"i-majesticons-bookmark-line"},null,512),[[P,w(d)!=="collections"]]),e("label",fi,s(S.$t("collections.collection")),1)]),e("span",hi,s(E.value.collection),1)],2)]),e("div",wi,[w(d)==="dashboard"?(t(),o("div",bi,[e("div",gi,[e("div",{class:O(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":U.value==="feed"}]),onClick:F[19]||(F[19]=N=>U.value="feed")},[z(s(S.$t("feed"))+" ",1),e("span",{class:O(["px-1 ml-2 rounded",U.value==="feed"?"theme-color":"button-color text-white"])},s(E.value.feed),3)],2),e("div",{class:O(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":U.value==="artwork"}]),onClick:F[20]||(F[20]=N=>U.value="artwork")},[z(s(S.$t("artworks.artwork"))+" ",1),e("span",{class:O(["px-1 ml-2 rounded",U.value==="artwork"?"theme-color":"button-color text-white"])},s(E.value.artwork),3)],2)]),M(e("div",_i,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:F[21]||(F[21]=N=>g.value.manageMode=!g.value.manageMode)},[c(x,{name:g.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),z(" "+s(g.value.manageMode?S.$t("quit"):S.$t("manage")),1)]),M(e("button",{class:"w-full primary-button md:w-auto",onClick:F[22]||(F[22]=N=>a())},[c(x,{name:"i-ion-add-outline"}),z(" "+s(S.$t("albums.addToAlbum")),1)],512),[[P,g.value.manageMode]])],512),[[P,!p.value&&w(_).loggedIn&&w(_).user.id===l.value.id&&U.value==="artwork"&&g.value.showManageMode]]),c(ne,{loading:p.value},null,8,["loading"]),M(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},s(S.$t("profile.manageModeActiveMessage")),513),[[P,g.value.manageMode]]),e("div",null,[U.value==="feed"?(t(),H(Dt,{key:0,ref:"feedListRef",class:"mt-2","user-id":l.value.id},null,8,["user-id"])):n("",!0),!p.value&&U.value==="artwork"?(t(),H(Gt,{key:1,ref_key:"artworkListRef",ref:G,"user-id":l.value.id,"manage-mode":g.value.manageMode,onFeedSelectedItems:m,onOnEmpty:C},null,8,["user-id","manage-mode"])):n("",!0)])])):n("",!0),w(d)==="albums"?(t(),o("div",ki,[p.value?n("",!0):(t(),H(Tl,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(d)==="collections"?(t(),o("div",yi,[p.value?n("",!0):(t(),H(_a,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(d)==="followerList"?(t(),o("div",$i,[p.value?n("",!0):(t(),H(Sa,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(d)==="followingList"?(t(),o("div",xi,[p.value?n("",!0):(t(),H(Ja,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0)])])])]),p.value?n("",!0):(t(),H(He,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:R,class:"modal","work-ids":W.value,onAddedToAlbum:ie},null,8,["work-ids"])),M(c(fe,{id:"item-added-to-album-alert",text:S.$t("albums.itemAdded")},null,8,["text"]),[[P,D.value]])]),_:1})}}},ji=oe(Mi,[["__scopeId","data-v-c5fd5a2e"]]);export{ji as P};
