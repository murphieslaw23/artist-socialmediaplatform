import{i as le,j as te,a3 as De,k as Pe,r as p,o as t,m as o,U as Z,V as ee,p as e,e as c,w as Y,q as O,t as a,s as i,F as Q,b as M,v as F,J as U,u as h,c as q,K as x,G as oe,x as ve,L as ge,M as _e,a8 as Fe,a5 as xe,A as ke,E as ie,D as Te,l as ce,aF as Se,aG as je,T as Ne,C as qe}from"./entry.92edb670.js";import{M as ye,_ as me,b as Re,W as Me,e as fe,S as pe,d as he,f as we,g as He}from"./ModalView.b8516206.js";import{J as Ge,u as $e,L as We}from"./Layout.b3d0a815.js";import{u as Je}from"./useFeed.90fc3bf2.js";import{I as Ae,F as Ke}from"./FeedModalView.bd382cbc.js";import{_ as se}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as Ye}from"./useArtwork.e93c25cb.js";import{_ as re}from"./LoadingEmptyErrorMessage.28898bf3.js";import{u as Ce}from"./useUser.8fc0c8eb.js";const be=u=>(ge("data-v-09d27964"),u=u(),_e(),u),Qe={class:"mx-auto w-full md:w-2/3"},Xe={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},Ze={class:"w-full"},et={key:0,class:"p-4 user-info"},tt=["src"],ot={class:"name"},lt=be(()=>e("br",null,null,-1)),st=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),at={class:"text-xxs"},nt={class:"px-2 md:px-4"},it=["id","innerHTML"],rt=["id","onClick"],ut={key:1,class:"my-2 w-full rounded-md theme-color"},dt={key:0,class:"p-2 md:p-4 user-info"},ct=["src"],mt={class:"name"},vt=be(()=>e("br",null,null,-1)),ft=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),pt={class:"px-2 mt-2 md:px-4"},ht={class:"text-xs font-semibold"},wt=["id"],bt=["id","onClick"],gt=["onClick"],_t={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},kt={class:"mx-auto mt-2 primary-button"},yt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},$t={class:"mx-auto mt-2 primary-button"},xt={class:"float-right mx-4 mt-2 interactions"},Mt={key:0,class:"reactions"},Ct=["onClick"],It=["onClick"],Et={class:"option dropdown"},Lt=["onClick"],At={class:"option-dropdown dropdown-menu"},Pt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Ft={class:"menu-wrapper"},Tt={key:0,class:"custom-divider"},St=["to"],jt={class:"mx-auto text-center"},Rt={class:"mx-auto mt-10 text-center"},Ut=be(()=>e("b",null,"(\u3186_\u3186)",-1)),Bt={class:"mx-auto text-center"},Ot={id:"chronological-feed-modal",class:"modal work-view"},zt={id:"artwork-modal",class:"modal work-view"},Vt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(u){const A=u,_=le(),{oApiConfiguration:r,fetchOptions:P}=te(),f=Je(r,P()),{generateArtworkThumb:$}=De();Pe();const y=p(0),b=p(0),m=(d,E)=>{y.value=d,b.value=E},w=p([]),v=p({page:0,perPage:10}),s=async({loaded:d})=>{const[E,j]=await f.getFeedByUserId({userId:A.userId,pagination:{page:v.value.page,perPage:v.value.perPage}});v.value.page+=1;for(let n=0;n<E.feeds.length;n++){const z=E.feeds[n];if(z.liked&&l.value.push(z.id),z.artworks){z.artworks.images=[],z.artworks.apply_explicit_filter=!1;for(let H=0;H<z.artworks.artwork_assets.length;H++)if(H<=3){const ue=await $(z.artworks.artwork_assets[H].bucket,z.artworks.artwork_assets[H].filename,"feed");z.artworks.images.push(ue)}z.artworks!=null&&(!_.loggedIn&&z.artworks.is_explicit||z.artworks.is_explicit&&!_.user.user_settings.show_explicit)&&(z.artworks.apply_explicit_filter=!0)}w.value.push(z)}d(E.feeds.length,v.value.perPage)},S=p(null),C=d=>{S.value.view(d),oe().openModal("chronological-feed-modal")},g=p(null),k=(d,E,j)=>{E?(console.log("removing explicit filter.."),w.value[j].artworks.apply_explicit_filter=!1):(g.value.view(d),oe().openModal("artwork-modal"))},l=p([]),I=async d=>{const[E,j]=await f.like({feedId:d});if(E){l.value.push(d);const n=document.getElementById(`profileFeedLikeButton-${d}`);n.classList.add("animate-bounce"),setInterval(()=>{n.classList.remove("animate-bounce")},2500)}},B=async d=>{const[E,j]=await f.unlike({feedId:d});if(E){const n=l.value.indexOf(d);l.value.splice(n,1)}},W=(d,E,j,n)=>{Re().readMore(d,E,j,n)},J=async()=>{const[d,E]=await f.remove(y.value);d&&w.value.splice(b.value,1)};return(d,E)=>{const j=ve;return t(),o("div",Qe,[(t(!0),o(Z,null,ee(w.value,(n,z)=>(t(),o("div",{key:n.id},[e("div",Xe,[e("div",Ze,[n.users?(t(),o("div",et,[c(j,{to:"/profile/"+n.users.username},{default:Y(()=>[e("img",{class:"avatar",src:d.avatarCoverUrl(n.users.avatar_bucket,n.users.avatar_filename),onError:E[0]||(E[0]=(...H)=>d.imageLoadError&&d.imageLoadError(...H))},null,40,tt)]),_:2},1032,["to"]),e("div",ot,[c(j,{to:"/profile/"+n.users.username,class:"fullname"},{default:Y(()=>[O(a(n.users.name),1)]),_:2},1032,["to"]),lt,c(j,{to:"/profile/"+n.users.username,class:"username hover:underline"},{default:Y(()=>[O(" @"+a(n.users.username),1)]),_:2},1032,["to"]),st,e("span",at,a(d.formatDate(n.scheduled_post?n.scheduled_post:n.created_at,!0)),1)])])):i("",!0),e("div",nt,[e("p",{id:"feed-text-"+n.id,innerHTML:n.text.split("<br>").length>3&&n.text.length>300?`${n.text.slice(0,300)}...`:n.text},null,8,it),n.text.split("<br>").length>3&&n.text.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+n.id,class:"href",onClick:Q(H=>W(n.text,n.id,"feed-read-more-","feed-text-"),["prevent"])},a(d.$t("readMore")),9,rt)):i("",!0),n.artworks?(t(),o("div",ut,[n.artworks.users?(t(),o("div",dt,[c(j,{to:"/profile/"+n.artworks.users.username},{default:Y(()=>[e("img",{class:"avatar",src:d.avatarCoverUrl(n.artworks.users.avatar_bucket,n.artworks.users.avatar_filename),onError:E[1]||(E[1]=(...H)=>d.imageLoadError&&d.imageLoadError(...H))},null,40,ct)]),_:2},1032,["to"]),e("div",mt,[c(j,{to:"/profile/"+n.artworks.users.username,class:"fullname hover:href"},{default:Y(()=>[O(a(n.artworks.users.name),1)]),_:2},1032,["to"]),vt,c(j,{to:"/profile/"+n.artworks.users.username,class:"hover:underline text-xxs"},{default:Y(()=>[O(" @"+a(n.artworks.users.username),1)]),_:2},1032,["to"]),ft,c(j,{to:"/a/"+n.artworks.id,class:"hover:underline text-xxs"},{default:Y(()=>[O(a(d.formatDate(n.artworks.scheduled_post?n.artworks.scheduled_post:n.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):i("",!0),e("div",pt,[e("span",ht,a(n.artworks.title),1),M(e("p",null,[e("span",{id:"feed-description-"+n.artworks.id},a(n.artworks.description.length>300?`${n.artworks.description.slice(0,300)}...`:n.artworks.description),9,wt),n.artworks.description.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+n.artworks.id,class:"href",onClick:Q(H=>W(n.artworks.description,n.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},a(d.$t("readMore")),9,bt)):i("",!0)],512),[[F,n.artworks.description]])]),e("div",null,[d.isMobile()?i("",!0):(t(),o("div",{key:0,class:U(["p-2",{"cursor-pointer":!n.artworks.apply_explicit_filter}]),onClick:Q(H=>k(n.artworks.id,n.artworks.apply_explicit_filter,z),["prevent"])},[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":n.artworks.apply_explicit_filter}])},[c(Ae,{class:U([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(t(),o("div",_t,[e("div",null,a(h(_).loggedIn?d.$t("explicitContentAlert"):d.$t("explicitContentAlertForGuest")),1),e("button",kt,a(d.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)],10,gt)),d.isMobile()?(t(),q(j,{key:1,to:n.artworks.apply_explicit_filter?null:"/a/"+n.artworks.id,onClick:Q(H=>k(n.artworks.id,n.artworks.apply_explicit_filter,z),["prevent"]),class:"cursor-pointer"},{default:Y(()=>[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"m-2":n.artworks.apply_explicit_filter}])},[c(Ae,{class:U([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(t(),o("div",yt,[e("div",null,a(h(_).loggedIn?d.$t("explicitContentAlert"):d.$t("explicitContentAlertForGuest")),1),e("button",$t,a(d.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)]),_:2},1032,["to","onClick"])):i("",!0)])])):i("",!0)]),e("div",xt,[h(_).loggedIn?(t(),o("div",Mt,[e("span",{class:"leading-8",onClick:H=>l.value.includes(n.id)?B(n.id):I(n.id)},[M(c(x,{id:"profileFeedLikeButton-"+n.id,name:"i-ri-heart-3-line",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[F,l.value.includes(n.id)]]),M(c(x,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[F,!l.value.includes(n.id)]]),O(" "+a(d.thousand(n._count.feed_likes)),1)],8,Ct),e("span",{class:"leading-8",onClick:Q(H=>C(n.id),["prevent"])},[c(x,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+a(d.thousand(n._count.feed_comments)),1)],8,It),e("div",Et,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:H=>m(n.id,z)},[e("span",null,[c(x,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,Lt),e("div",At,[e("div",Pt,[e("div",Ft,[c(j,{to:"/feed/"+n.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[c(x,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+a(d.$t("open")),1)]),_:2},1032,["to"]),c(j,{to:"/feed/"+n.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[c(x,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+a(d.$t("openInNewTab")),1)]),_:2},1032,["to"]),h(_).loggedIn&&n.user_id&&h(_).user.id===n.user_id?(t(),o("div",Tt)):i("",!0),h(_).loggedIn&&n.user_id&&h(_).user.id===n.user_id?(t(),o("div",{key:1,to:"/feed/"+n.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:E[2]||(E[2]=H=>d.openModal("profile-feed-deletion-confirm-modal"))},[c(x,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+a(d.$t("delete")),1)],8,St)):i("",!0)])])])])])):i("",!0)])])])]))),128)),c(h(Ge),{load:s},{loading:Y(()=>[e("div",jt,[c(x,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":Y(()=>[e("div",Rt,[Ut,O(" "+a(d.$t("nothingToShow")),1)])]),"no-more":Y(()=>[e("div",Bt,a(d.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Ot,[c(Ke,{ref_key:"chronologicalFeedModalViewRef",ref:S,section:"chronological-feed"},null,512)]),e("div",zt,[c(ye,{ref_key:"artworkModalViewRef",ref:g,section:"artwork"},null,512)]),c(me,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${d.$t("alert.areYouSure")} ${d.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:E[3]||(E[3]=n=>J())},null,8,["message"])])}}},Dt=se(Vt,[["__scopeId","data-v-09d27964"]]),Nt={id:"lists"},qt=["id"],Ht={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(u,{emit:A}){const _=u,{oApiConfiguration:r,fetchOptions:P}=te(),f=Ye(r,P()),$="profile",y=p(!0);Fe(()=>{b()});const b=async()=>{const[j,n]=await v();m.value=j,n.record_total<=w.value.perPage&&C(),n.record_total===0&&I()},m=p([]),w=p({perPage:24,page:0}),v=async()=>{w.value.page===0&&(y.value=!0);const[j,n,z]=await f.getUserArtworks({userId:_.userId,pagination:{page:w.value.page,perPage:w.value.perPage}});if(z)W();else return n.record_total<=w.value.perPage&&C(),n.record_total===0&&I(),w.value.page+=1,s(),[j,n]},s=()=>{y.value=!1,l.value=!1,B.value=!1},S=p(!0),C=()=>{S.value=!1},g=p({delay:!1}),k=async()=>{g.value.delay=!0;const[j,n]=await v();for(let z=0;z<j.length;z++)m.value.push(j[z]);g.value.delay=!1,dataPagination.next_previous.next_page||C(),dataPagination.next_previous.next_page&&dataPagination.current_page===g.maxLoad&&(C(),g.showDiscoveryButton=!0)},l=p(!1),I=()=>{l.value=!0,C(),A("onEmpty")},B=p(!1),W=()=>{y.value=!1,B.value=!0,C()},J=p(null),d=(j,n=!1)=>{J.value.view(j,n),oe().openModal($+"-modal")},E=j=>{A("feedSelectedItems",j)};return(j,n)=>(t(),o("div",Nt,[M(e("div",null,[(t(),q(xe,null,[M(c(Me,{"section-class":"work-grid",works:m.value,view:d,"manage-mode":u.manageMode,onFeedManageList:E},null,8,["works","manage-mode"]),[[F,!l.value]])],1024)),M(e("div",{class:U(["primary-button",g.value.delay?"animate-pulse":""]),onClick:k},a(j.$t("loadMore")),3),[[F,S.value]])],512),[[F,!y.value]]),c(re,{loading:y.value,empty:l.value,error:B.value,fetch:v},null,8,["loading","empty","error"]),e("div",{id:$+"-modal",class:"modal work-view"},[M(c(ye,{ref_key:"profileModalViewRef",ref:J,section:$},null,512),[[F,!y.value]])],8,qt)]))}},Gt=se(Ht,[["__scopeId","data-v-6fbdcb8f"]]),Wt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Jt={class:"title"},Kt=["name"],Yt=["placeholder"],Qt=["placeholder"],Xt=["for"],Zt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),eo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},to=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),oo=[to],lo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},so=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ao=[so],no={class:"ml-2"},io={class:"flex flex-row gap-2 justify-end mt-2"},ro={type:"submit",class:"primary-button"},uo={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:A}){const _=u,{oApiConfiguration:r,fetchOptions:P}=te(),f=fe(r,P()),{t:$}=ke(),y="create-album-form",b=p({title:"",description:"",isPublic:1,category:"artwork"}),m=async()=>{$e().validate(y,$);try{let w=!1,v={};if(_.category){const[s,S,C]=await f.createAlbum(_.category,b.value);w=s,v=S}w&&(oe().closeModal(_.modalId),A("created",v))}catch{}};return(w,v)=>(t(),o("div",null,[e("div",Wt,[e("div",null,[e("span",Jt,a(w.$t("albums.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:v[4]||(v[4]=Q(s=>m(),["prevent"]))},[e("n-validate",{for:"title",name:w.$t("title")},[M(e("input",{"onUpdate:modelValue":v[0]||(v[0]=s=>b.value.title=s),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:w.$t("title")},null,8,Yt),[[ie,b.value.title]])],8,Kt),M(e("textarea",{"onUpdate:modelValue":v[1]||(v[1]=s=>b.value.description=s),class:"form-input theme-color-secondary",placeholder:w.$t("description"),"data-gramm":"false"},null,8,Qt),[[ie,b.value.description]]),e("label",{for:b.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:v[2]||(v[2]=s=>b.value.isPublic=!b.value.isPublic)},[Zt,b.value.isPublic?(t(),o("span",eo,oo)):i("",!0),b.value.isPublic?i("",!0):(t(),o("span",lo,ao))]),e("span",no,a(w.$t("private")),1)],8,Xt),e("div",io,[e("button",{class:"cancel-button",onClick:v[3]||(v[3]=Q(s=>w.closeModal(u.modalId),["prevent"]))},a(w.$t("cancel")),1),e("button",ro,a(w.$t("create")),1)])],32)])])]))}},co={id:"lists"},mo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},vo={class:"mb-2 text-base font-bold"},fo={class:"mb-2"},po=O(),ho={class:"italic"},wo=["id"],bo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(u,{expose:A,emit:_}){const r=u,{oApiConfiguration:P,fetchOptions:f}=te(),$=fe(P,f()),y=p(r.id);Te(()=>r.id,(d,E)=>{y.value=d}),ce(async()=>{await w()});const b=p(!0),m=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),w=async()=>{b.value=!0,await v(),await s(),b.value=!1},v=async()=>{const[d,E]=await $.getInfo(y.value);m.value.info=d.data},s=async()=>{const[d,E,j]=await $.listAlbumItems({albumId:y.value,pagination:{page:m.value.pagination.page,perPage:m.value.pagination.page===0?m.value.pagination.firstLoad:m.value.pagination.perPage}});E?m.value.pagination.page===0?m.value.pagination.page=m.value.pagination.firstLoad/m.value.pagination.perPage:m.value.pagination.page+=m.value.pagination.page!==0?1:2:m.value.loadMore=!1,d!==null&&d.length?(d.forEach(n=>{m.value.list.push(n.artworks)}),_("onAlbumEmpty",!1)):(m.value.empty=!0,_("onAlbumEmpty",!0))},S=()=>{m.value.loadMore=!0,m.value.pagination.page=0,m.value.list=[]},C=p([]),g=d=>{C.value=d,_("feedManageList",d)},k=p(!1);let l;const I=async()=>{const[d,E]=await $.removeItems(r.id,C.value);d&&(he().splash(l,k,"item-removed-alert"),S(),await w())},B=p("album"),W=p(null),J=(d,E=!1)=>{W.value.view(d,E),oe().openModal(B.value+"-modal")};return A({fetchInfo:v,removeItems:I}),(d,E)=>(t(),o("div",co,[e("div",{class:"hidden",onClick:E[0]||(E[0]=j=>v())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=j=>I())}),e("div",mo,[e("div",vo,a(m.value.info.name),1),e("div",fo,a(m.value.info.description),1),e("div",null,[e("b",null,a(d.$t("private"))+":",1),po,e("span",ho,a(m.value.info.is_public?d.$t("no"):d.$t("yes")),1)]),e("div",null,[e("b",null,a(d.$t("createdAt")),1),O(" "+a(d.formatDate(m.value.info.created_at)),1)])]),M(e("div",null,[(t(),q(xe,null,[M(c(Me,{"section-class":"work-grid",works:m.value.list,view:J,"manage-mode":u.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[F,!m.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:E[2]||(E[2]=j=>s())},a(d.$t("loadMore")),513),[[F,m.value.loadMore]])],512),[[F,!b.value]]),c(re,{loading:b.value,empty:m.value.empty,error:!1,fetch:w},null,8,["loading","empty"]),b.value?i("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[c(ye,{ref_key:"albumModalViewRef",ref:W,section:B.value},null,8,["section"])],8,wo)),M(c(pe,{id:"item-removed-alert",text:d.$t("albums.itemRemoved")},null,8,["text"]),[[F,k.value]])]))}},go=se(bo,[["__scopeId","data-v-2ee448ae"]]),_o={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ko={class:"title"},yo=["name"],$o=["placeholder"],xo=["placeholder"],Mo=["for"],Co=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Io={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Eo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Lo=[Eo],Ao={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Po=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Fo=[Po],To={class:"ml-2"},So={class:"flex flex-row gap-2 justify-end mt-2"},jo={type:"submit",class:"primary-button"},Ro={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:A,emit:_}){const r=u,{oApiConfiguration:P,fetchOptions:f}=te(),$=fe(P,f()),{t:y}=ke(),b=p(!0),m=async C=>{if(C){S(),b.value=!0;const[g,k]=await $.getInfo(C),l=g.data;v.value.id=C,v.value.name=l.name,v.value.description=l.description,v.value.isPublic=!!l.is_public,b.value=!1}},w="update-album-form",v=p({id:0,name:"",description:"",isPublic:!1}),s=async()=>{$e().validate(w,y);const[C,g]=await $.update({id:v.value.id,name:v.value.name,description:v.value.description,isPublic:v.value.isPublic?1:0});g||(oe().closeModal(r.modalId),_("updated",v.value),S())},S=()=>{v.value={id:0,name:"",description:"",isPublic:0}};return A({fetch:m}),(C,g)=>(t(),o("div",null,[e("div",_o,[e("div",null,[e("span",ko,a(C.$t("albums.edit.form.title")),1),b.value?i("",!0):(t(),o("form",{key:0,id:w,class:"mt-2",onSubmit:g[4]||(g[4]=Q(k=>s(),["prevent"]))},[e("n-validate",{for:"title",name:C.$t("title")},[M(e("input",{"onUpdate:modelValue":g[0]||(g[0]=k=>v.value.name=k),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:C.$t("title")},null,8,$o),[[ie,v.value.name]])],8,yo),M(e("textarea",{"onUpdate:modelValue":g[1]||(g[1]=k=>v.value.description=k),class:"form-input theme-color-secondary",placeholder:C.$t("description"),"data-gramm":"false"},null,8,xo),[[ie,v.value.description]]),e("label",{for:v.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:g[2]||(g[2]=k=>v.value.isPublic=!v.value.isPublic)},[Co,v.value.isPublic?(t(),o("span",Io,Lo)):i("",!0),v.value.isPublic?i("",!0):(t(),o("span",Ao,Fo))]),e("span",To,a(C.$t("private")),1)],8,Mo),e("div",So,[e("button",{class:"cancel-button",onClick:g[3]||(g[3]=Q(k=>C.closeModal(u.modalId),["prevent"]))},a(C.$t("cancel")),1),e("button",jo,a(C.$t("save")),1)])],32))])])]))}},Ue=""+new URL("folder.11be08fa.png",import.meta.url).href,Ie=u=>(ge("data-v-eccd717d"),u=u(),_e(),u),Uo={class:"mb-2"},Bo={key:0},Oo=Ie(()=>e("img",{src:Ue,class:"rounded"},null,-1)),zo=[Oo],Vo={key:1},Do={class:"relative text-center"},No={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},qo={class:"overflow-hidden rounded-md"},Ho=["src"],Go={key:2,class:"imgrid"},Wo={class:"relative text-center"},Jo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ko={class:"overflow-hidden rounded-md"},Yo=["src"],Qo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Xo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Zo={key:3,class:"imgrid"},el={class:"relative text-center"},tl={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ol={class:"overflow-hidden rounded-md"},ll=["src"],sl={key:4,class:"imgrid"},al={class:"relative text-center"},nl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},il={class:"overflow-hidden rounded-md"},rl=["src"],ul={key:5,class:"imgrid"},dl={key:0,class:"relative text-center"},cl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ml={class:"overflow-hidden rounded-md"},vl=["src"],fl={key:1,class:"relative text-center"},pl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},hl={class:"overflow-hidden rounded-md"},wl=["src"],bl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(u){const A=le(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(r,P)=>(t(),o("div",Uo,[!u.album.album_has_artworks||u.album._count.album_has_artworks===0?(t(),o("div",Bo,zo)):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("div",Vo,[e("div",Do,[r.applyExplicitFilter(h(A),u.album.album_has_artworks[0].artworks.is_explicit)?(t(),o("span",No,a(r.$t("explicitContent")),1)):i("",!0),e("div",qo,[u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("img",{key:0,src:r.artworkThumb(u.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,u.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),u.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...f)=>r.imageLoadError&&r.imageLoadError(...f))},null,42,Ho)):i("",!0)])])])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===2?(t(),o("div",Go,[(t(!0),o(Z,null,ee(u.album.album_has_artworks,(f,$)=>(t(),o("div",{key:$,class:U(_[2][$])},[e("div",Wo,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",Jo,a(r.$t("explicitContent")),1)):i("",!0),e("div",Ko,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,Yo)])])],2))),128)),Qo,Xo])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===3?(t(),o("div",Zo,[(t(!0),o(Z,null,ee(u.album.album_has_artworks,(f,$)=>(t(),o("div",{key:$,class:U(_[3][$])},[e("div",el,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",tl,a(r.$t("explicitContent")),1)):i("",!0),e("div",ol,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,ll)])])],2))),128))])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===4?(t(),o("div",sl,[(t(!0),o(Z,null,ee(u.album.album_has_artworks,(f,$)=>(t(),o("div",{key:$},[e("div",al,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",nl,a(r.$t("explicitContent")),1)):i("",!0),e("div",il,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,rl)])])]))),128))])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks>4?(t(),o("div",ul,[(t(!0),o(Z,null,ee(u.album.album_has_artworks,(f,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",dl,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",cl,a(r.$t("explicitContent")),1)):i("",!0),e("div",ml,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,vl)])])):(t(),o("div",fl,[e("span",pl,"+"+a(u.album._count.album_has_artworks-4),1),e("div",hl,[e("img",{src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,wl)])]))]))),128))])):i("",!0)]))}},gl=se(bl,[["__scopeId","data-v-eccd717d"]]),_l={class:"mb-2 w-full"},kl={key:0,class:"flex flex-row justify-between"},yl={class:"flex flex-row"},$l={key:0},xl={key:1,class:"flex flex-row justify-between"},Ml={class:"flex flex-row"},Cl={class:"flex flex-row gap-2"},Il={class:"flex flex-row gap-2"},El={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Ll=["onClick"],Al={class:"flex flex-row pb-1 mt-4 font-bold"},Pl={class:"text-xs font-normal"},Fl={__name:"Album",props:{userId:{type:Number,default:0}},setup(u){const A=u,_=le(),{oApiConfiguration:r,fetchOptions:P}=te(),f=fe(r,P());ce(()=>{s()});const $=p(!0),y=p("artwork"),b=p(0),m=p([]),w=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),v=p({artwork:0}),s=async()=>{$.value=!0;const[V,G,R]=await f.fetchAlbums(A.userId,y.value,w.value.pagination.page===0?w.value.pagination.firstLoad:w.value.pagination.perPage,w.value.pagination.page);if(R)l();else{V.length||(w.value.manageMode=!1,g()),V.forEach(K=>{m.value.push(K)}),w.value.pagination.page+=w.value.pagination.firstLoad/w.value.pagination.perPage,w.value.showLoadMore=G;const[D]=await f.countArtworkAlbums(A.userId);v.value.artwork=D}$.value=!1},S=async()=>await s(),C=p(!1),g=()=>{C.value=!0,w.value.showLoadMore=!1},k=p(!1),l=()=>{$.value=!1,k.value=!0,w.value.showLoadMore=!1},I=async()=>{$.value=!1,C.value=!1,k.value=!1,w.value.pagination.page=0,m.value=[],await s()},B=p(!1);let W;const J=async()=>{he().splash(W,B,"created-alert"),await I()},d=p(null),E=()=>{d.value.fetch(b.value),oe().openModal("album-edit-form-modal")},j=p(null),n=V=>{j.value.fetchInfo(),m.value.forEach(G=>{G.id===V.id&&(G.name=V.name,G.description=V.description,G.is_public=V.isPublic)})},z=()=>{j.value.removeItems()},H=p([]),ue=V=>{H.value=V},X=async()=>{if(b.value!==0){const[V,G]=await f.deleteAlbum(b.value);V&&(b.value=0,I())}},ne=V=>{w.value.showManageButton=!V,w.value.manageMode=!1},de=()=>{b.value=0,w.value.showManageButton=!1,w.value.manageMode=!1};return(V,G)=>(t(),o("div",null,[e("div",_l,[b.value?i("",!0):(t(),o("div",kl,[e("div",yl,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:G[0]||(G[0]=R=>y.value="artwork")},[O(a(V.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},a(v.value.artwork),3)],2)]),h(_).loggedIn&&h(_).user.id===u.userId?(t(),o("div",$l,[e("div",{class:"icon-button",onClick:G[1]||(G[1]=R=>V.openModal("album-form-modal"))},[c(x,{name:"i-ion-add-outline"})])])):i("",!0)])),b.value?(t(),o("div",xl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:G[2]||(G[2]=R=>de())},[c(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",Ml,[M(e("div",Cl,[e("button",{class:"action-button secondary-button",onClick:G[3]||(G[3]=R=>w.value.manageMode=!w.value.manageMode)},[c(x,{name:w.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(w.value.manageMode?V.$t("quit"):V.$t("manage")),1)]),M(e("button",{class:U(["flex flex-row",H.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:G[4]||(G[4]=R=>H.value.length>0?V.openModal("item-deletion-confirm-modal"):null)},[c(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(V.$t("albums.removeSelected")),1)],2),[[F,w.value.manageMode]])],512),[[F,h(_).loggedIn&&h(_).user.id===u.userId&&w.value.showManageButton]]),M(e("div",Il,[e("button",{class:"icon-button",onClick:G[5]||(G[5]=R=>E())},[c(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:G[6]||(G[6]=R=>V.openModal("album-deletion-confirm-modal"))},[c(x,{name:"i-akar-icons-trash-bin"})])],512),[[F,h(_).loggedIn&&h(_).user.id===u.userId&&!w.value.manageMode]])])])):i("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(V.$t("albums.manageModeActiveMessage")),513),[[F,w.value.manageMode]])]),b.value?i("",!0):(t(),o("div",El,[(t(!0),o(Z,null,ee(m.value,R=>(t(),o("div",{key:R.id,class:U(["p-3 rounded-md cursor-pointer",R.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:D=>b.value=R.id},[R.type==="artwork"?(t(),q(gl,{key:0,album:R},null,8,["album"])):i("",!0),e("div",Al,[R.is_public?i("",!0):(t(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Pl,a(R.name),1)])],10,Ll))),128))])),w.value.showLoadMore&&!b.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:S},a(V.$t("loadMore")),1)):i("",!0),c(re,{loading:$.value,empty:C.value,error:k.value,fetch:s},null,8,["loading","empty","error"]),!$.value&&!b.value?(t(),q(uo,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:y.value,class:"modal",onCreated:J},null,8,["category"])):i("",!0),M(c(pe,{id:"created-alert",text:V.$t("albums.created")},null,8,["text"]),[[F,B.value]]),!$.value&&b.value?(t(),q(Ro,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:d,"modal-id":"album-edit-form-modal","album-id":b.value,class:"modal",onUpdated:n},null,8,["album-id"])):i("",!0),c(me,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:X},null,8,["message"]),c(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:z},null,8,["message"]),b.value&&!$.value?(t(),q(go,{key:4,id:b.value,ref_key:"albumDetailRef",ref:j,"manage-mode":w.value.manageMode,onOnAlbumEmpty:ne,onFeedManageList:ue},null,8,["id","manage-mode"])):i("",!0)]))}},Tl=se(Fl,[["__scopeId","data-v-7bee1255"]]),Sl=O(" PRO "),Ee={__name:"ProBadge",setup(u){const A=le();return(_,r)=>{const P=ve;return h(A).i502p00r0?i("",!0):(t(),q(P,{key:0,to:"/pro",class:"py-1 px-2 font-bold text-black align-middle bg-yellow-200 rounded-md text-xxs hover:text-black"},{default:Y(()=>[Sl]),_:1}))}}},jl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Rl={class:"title"},Ul=["placeholder"],Bl=["placeholder"],Ol=["for"],zl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Vl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Dl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Nl=[Dl],ql={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Hl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Gl=[Hl],Wl={class:"flex flex-row gap-x-1"},Jl={class:"flex flex-row gap-2 justify-end mt-2"},Kl={type:"submit",class:"primary-button"},Yl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:A}){const _=u,r=le(),{oApiConfiguration:P,fetchOptions:f}=te(),$=we(P,f()),{t:y}=ke(),b="create-collection-form",m=p({title:"",description:"",isPublic:1,category:"artwork"}),w=async()=>{$e().validate(b,y);try{let v=!1,s={};if(_.category){const[S,C,g]=await $.createCollection(_.category,m.value);g||(v=S,s=C)}v&&(oe().closeModal(_.modalId),A("created",s))}catch{}};return(v,s)=>(t(),o("div",null,[e("div",jl,[e("div",null,[e("span",Rl,a(v.$t("collections.create.form.title")),1),e("form",{id:b,class:"mt-2",onSubmit:s[4]||(s[4]=Q(S=>w(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=S=>m.value.title=S),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:v.$t("title")},null,8,Ul),[[ie,m.value.title]])]),M(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=S=>m.value.description=S),class:"form-input theme-color-secondary",placeholder:v.$t("description"),"data-gramm":"false"},null,8,Bl),[[ie,m.value.description]]),e("label",{for:m.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:s[2]||(s[2]=S=>h(r).i502p00r0?m.value.isPublic=!m.value.isPublic:m.value.isPublic=!0)},[zl,m.value.isPublic?(t(),o("span",Vl,Nl)):i("",!0),m.value.isPublic?i("",!0):(t(),o("span",ql,Gl))]),e("div",Wl,[e("span",{class:U(["ml-2",{"leading-6":!h(r).i502p00r0}])},a(v.$t("private")),3),c(Ee)])],8,Ol),e("div",Jl,[e("button",{class:"cancel-button",onClick:s[3]||(s[3]=Q(S=>v.closeModal(u.modalId),["prevent"]))},a(v.$t("cancel")),1),e("button",Kl,a(v.$t("create")),1)])],32)])])]))}},Ql={id:"lists"},Xl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Zl={class:"text-base font-bold mb-2"},es={class:"mb-2"},ts=O(),os={class:"italic"},ls=["id"],ss={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(u,{expose:A,emit:_}){const r=u,{oApiConfiguration:P,fetchOptions:f}=te(),$=we(P,f()),y=p(r.id);Te(()=>r.id,(d,E)=>{y.value=d}),ce(async()=>{await w()});const b=p(!0),m=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),w=async()=>{b.value=!0,await v(),await s(),b.value=!1},v=async()=>{const[d,E]=await $.getInfo(y.value);m.value.info=d.data},s=async()=>{const[d,E,j]=await $.listCollectionItems({collectionId:y.value,pagination:{page:m.value.pagination.page,perPage:m.value.pagination.page===0?m.value.pagination.firstLoad:m.value.pagination.perPage}});E?m.value.pagination.page===0?m.value.pagination.page=m.value.pagination.firstLoad/m.value.pagination.perPage:m.value.pagination.page+=m.value.pagination.page!==0?1:2:m.value.loadMore=!1,d!==null&&d.length?(d.forEach(n=>{m.value.list.push(n.artworks)}),_("onCollectionEmpty",!1)):(m.value.empty=!0,_("onCollectionEmpty",!0))},S=()=>{m.value.loadMore=!0,m.value.pagination.page=0,m.value.list=[]},C=p([]),g=d=>{C.value=d,_("feedManageList",d)},k=p(!1);let l;const I=async()=>{const[d,E]=await $.removeItem({collectionId:r.id,type:r.type,workId:C.value});E||(he().splash(l,k,"item-removed-alert"),S(),await w(),_("feedManageList",[]))},B=p("collection"),W=p(null),J=(d,E=!1)=>{W.value.view(d,E),oe().openModal(B.value+"-modal")};return A({fetchInfo:v,removeItem:I}),(d,E)=>(t(),o("div",Ql,[e("div",{class:"hidden",onClick:E[0]||(E[0]=j=>v())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=j=>I())}),e("div",Xl,[e("div",Zl,a(m.value.info.name),1),e("div",es,a(m.value.info.description),1),e("div",null,[e("b",null,a(d.$t("private"))+":",1),ts,e("span",os,a(m.value.info.is_public?d.$t("no"):d.$t("yes")),1)]),e("div",null,[e("b",null,a(d.$t("createdAt")),1),O(" "+a(d.formatDate(m.value.info.created_at)),1)])]),M(e("div",null,[(t(),q(xe,null,[M(c(Me,{"section-class":"work-grid",works:m.value.list,view:J,"manage-mode":u.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[F,!m.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:E[2]||(E[2]=j=>s())},a(d.$t("loadMore")),513),[[F,m.value.loadMore]])],512),[[F,!b.value]]),c(re,{loading:b.value,empty:m.value.empty,error:!1,fetch:w},null,8,["loading","empty"]),b.value?i("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[c(ye,{ref_key:"collectionModalViewRef",ref:W,section:B.value},null,8,["section"])],8,ls)),M(c(pe,{id:"item-removed-alert",text:d.$t("collections.itemRemoved")},null,8,["text"]),[[F,k.value]])]))}},as=se(ss,[["__scopeId","data-v-28a81b65"]]),ns={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},is={class:"title"},rs=["placeholder"],us=["placeholder"],ds=["for"],cs=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ms={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},vs=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),fs=[vs],ps={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},hs=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ws=[hs],bs={class:"flex flex-row gap-x-1"},gs={class:"ml-2"},_s={class:"flex flex-row gap-2 justify-end mt-2"},ks={type:"submit",class:"primary-button"},ys={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:A,emit:_}){const r=u,P=le(),{t:f}=ke(),{oApiConfiguration:$,fetchOptions:y}=te(),b=we($,y()),m=p(!0),w=async g=>{if(g){C(),m.value=!0;const[k,l]=await b.getInfo(g);if(!l){const I=k.data;s.value.id=g,s.value.name=I.name,s.value.description=I.description,s.value.isPublic=!!I.is_public,m.value=!1}}},v="edit-collection-form",s=p({id:0,name:"",description:"",isPublic:!1}),S=async()=>{$e().validate(v,f);const[g,k]=await b.update({id:s.value.id,name:s.value.name,description:s.value.description,isPublic:s.value.isPublic?1:0});k||(oe().closeModal(r.modalId),_("updated",s.value),C())},C=()=>{s.value={id:0,name:"",description:"",isPublic:0}};return A({fetch:w}),(g,k)=>(t(),o("div",null,[e("div",{class:"hidden",onClick:k[0]||(k[0]=l=>w(0))}),e("div",ns,[e("div",null,[e("span",is,a(g.$t("collections.edit.form.title")),1),m.value?i("",!0):(t(),o("form",{key:0,id:v,class:"mt-2",onSubmit:k[5]||(k[5]=Q(l=>S(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":k[1]||(k[1]=l=>s.value.name=l),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,rs),[[ie,s.value.name]])]),M(e("textarea",{"onUpdate:modelValue":k[2]||(k[2]=l=>s.value.description=l),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,us),[[ie,s.value.description]]),e("label",{for:s.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:k[3]||(k[3]=l=>h(P).i502p00r0?s.value.isPublic=!s.value.isPublic:s.value.isPublic=!0)},[cs,s.value.isPublic?(t(),o("span",ms,fs)):i("",!0),s.value.isPublic?i("",!0):(t(),o("span",ps,ws))]),e("div",bs,[e("span",gs,a(g.$t("private")),1),c(Ee)])],8,ds),e("div",_s,[e("button",{class:"cancel-button",onClick:k[4]||(k[4]=Q(l=>g.closeModal(u.modalId),["prevent"]))},a(g.$t("cancel")),1),e("button",ks,a(g.$t("save")),1)])],32))])])]))}},Le=u=>(ge("data-v-a484fb7b"),u=u(),_e(),u),$s={class:"mb-2"},xs={key:0},Ms=Le(()=>e("img",{src:Ue,class:"rounded"},null,-1)),Cs=[Ms],Is={key:1},Es={class:"relative text-center"},Ls={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},As={class:"overflow-hidden rounded-md"},Ps=["src"],Fs={key:2,class:"imgrid"},Ts={class:"relative text-center"},Ss={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},js={class:"overflow-hidden rounded-md"},Rs=["src"],Us=Le(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Bs=Le(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Os={key:3,class:"imgrid"},zs={class:"relative text-center"},Vs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ds={class:"overflow-hidden rounded-md"},Ns=["src"],qs={key:4,class:"imgrid"},Hs={class:"relative text-center"},Gs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Ws={class:"overflow-hidden rounded-md"},Js=["src"],Ks={key:5,class:"imgrid"},Ys={key:0,class:"relative text-center"},Qs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Xs={class:"overflow-hidden rounded-md"},Zs=["src"],ea={key:1,class:"relative text-center"},ta={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},oa={class:"overflow-hidden rounded-md"},la=["src"],sa={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(u){const A=le(),_={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(r,P)=>(t(),o("div",$s,[!u.collection.collection_has_artworks||u.collection._count.collection_has_artworks===0?(t(),o("div",xs,Cs)):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("div",Is,[e("div",Es,[r.applyExplicitFilter(h(A),u.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),o("span",Ls,a(r.$t("explicitContent")),1)):i("",!0),e("div",As,[u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("img",{key:0,src:r.artworkThumb(u.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,u.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),u.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...f)=>r.imageLoadError&&r.imageLoadError(...f))},null,42,Ps)):i("",!0)])])])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===2?(t(),o("div",Fs,[(t(!0),o(Z,null,ee(u.collection.collection_has_artworks,(f,$)=>(t(),o("div",{key:$,class:U(_[2][$])},[e("div",Ts,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",Ss,a(r.$t("explicitContent")),1)):i("",!0),e("div",js,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,Rs)])])],2))),128)),Us,Bs])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===3?(t(),o("div",Os,[(t(!0),o(Z,null,ee(u.collection.collection_has_artworks,(f,$)=>(t(),o("div",{key:$,class:U(_[3][$])},[e("div",zs,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",Vs,a(r.$t("explicitContent")),1)):i("",!0),e("div",Ds,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,Ns)])])],2))),128))])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===4?(t(),o("div",qs,[(t(!0),o(Z,null,ee(u.collection.collection_has_artworks,(f,$)=>(t(),o("div",{key:$},[e("div",Hs,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",Gs,a(r.$t("explicitContent")),1)):i("",!0),e("div",Ws,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,Js)])])]))),128))])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks>4?(t(),o("div",Ks,[(t(!0),o(Z,null,ee(u.collection.collection_has_artworks,(f,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",Ys,[r.applyExplicitFilter(h(A),f.artworks.is_explicit)?(t(),o("span",Qs,a(r.$t("explicitContent")),1)):i("",!0),e("div",Xs,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,Zs)])])):(t(),o("div",ea,[e("span",ta,"+"+a(u.collection._count.collection_has_artworks-4),1),e("div",oa,[e("img",{src:r.artworkThumb(f.artworks.artwork_assets[0].bucket,f.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":r.applyExplicitFilter(h(A),f.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...y)=>r.imageLoadError&&r.imageLoadError(...y))},null,42,la)])]))]))),128))])):i("",!0)]))}},aa=se(sa,[["__scopeId","data-v-a484fb7b"]]),na={class:"mb-2 w-full"},ia={key:0,class:"flex flex-row justify-between"},ra={class:"flex flex-row"},ua={key:0},da={key:1,class:"flex flex-row justify-between"},ca={class:"flex flex-row"},ma={class:"flex flex-row gap-2"},va={class:"flex flex-row gap-2"},fa={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},pa=["onClick"],ha={class:"flex flex-row pb-1 mt-4 font-bold"},wa={class:"text-xs font-normal"},ba={__name:"Collection",props:{userId:{type:Number,default:0}},setup(u){const A=u,_=le();ce(()=>{C()});const{oApiConfiguration:r,fetchOptions:P}=te(),f=we(r,P());Fe(()=>{w()});const $=p(!0),y=p("artwork"),b=p(0),m=p(!1),w=async()=>{const[R,D]=await f.proCanCreateCollection({type:y.value});D?m.value=!1:m.value=R},v=p([]),s=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),S=p({artwork:0}),C=async()=>{$.value=!0;const[R,D,K]=await f.fetchCollections({userId:A.userId,type:y.value,pagination:{page:s.value.pagination.page,perPage:s.value.pagination.page===0?s.value.pagination.firstLoad:s.value.pagination.perPage}});if(K)B();else{R.length||(s.value.manageMode=!1,l()),R.forEach(L=>{v.value.push(L)}),s.value.pagination.page+=s.value.pagination.firstLoad/s.value.pagination.perPage,s.value.showLoadMore=D;const[T]=await f.countArtworkCollections(A.userId);S.value.artwork=T}$.value=!1},g=async()=>await C(),k=p(!1),l=()=>{k.value=!0,s.value.showLoadMore=!1},I=p(!1),B=()=>{$.value=!1,I.value=!0,s.value.showLoadMore=!1},W=async()=>{$.value=!1,k.value=!1,I.value=!1,s.value.pagination.page=0,v.value=[],await C()},J=R=>{s.value.showManageButton=!0,R&&(s.value.showManageButton=!1)},d=p(!1);let E;const j=async()=>{await w(),he().splash(E,d,"created-alert"),await W()},n=p(null),z=()=>{n.value.fetch(b.value),oe().openModal("collection-edit-form-modal")},H=p(null),ue=R=>{H.value.fetchInfo(),v.value.forEach(D=>{D.id===R.id&&(D.name=R.name,D.description=R.description,D.is_public=R.isPublic)})},X=p([]),ne=R=>{X.value=R},de=()=>{H.value.removeItem()},V=async()=>{if(b.value!==0){const[R,D]=await f.deleteCollection(b.value);R&&(await w(),b.value=0,W())}},G=()=>{b.value=0,s.value.showManageButton=!1,s.value.manageMode=!1};return(R,D)=>(t(),o("div",null,[e("div",na,[b.value?i("",!0):(t(),o("div",ia,[e("div",ra,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:D[0]||(D[0]=K=>y.value="artwork")},[O(a(R.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},a(S.value.artwork),3)],2)]),h(_).loggedIn&&h(_).user.id===u.userId?(t(),o("div",ua,[e("div",{class:"flex flex-row icon-button",onClick:D[1]||(D[1]=K=>m.value?R.openModal("collection-form-modal"):null)},[c(x,{name:"i-ion-add-outline"}),m.value?i("",!0):(t(),q(Ee,{key:0,class:"ml-1"}))])])):i("",!0)])),b.value?(t(),o("div",da,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:D[2]||(D[2]=K=>G())},[c(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",ca,[M(e("div",ma,[e("button",{class:"action-button secondary-button",onClick:D[3]||(D[3]=K=>s.value.manageMode=!s.value.manageMode)},[c(x,{name:s.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(s.value.manageMode?R.$t("quit"):R.$t("manage")),1)]),M(e("button",{class:U(["flex flex-row",X.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:D[4]||(D[4]=K=>X.value.length>0?R.openModal("item-deletion-confirm-modal"):null)},[c(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(R.$t("collections.removeSelected")),1)],2),[[F,s.value.manageMode]])],512),[[F,h(_).loggedIn&&h(_).user.id===u.userId&&s.value.showManageButton]]),M(e("div",va,[e("button",{class:"icon-button",onClick:D[5]||(D[5]=K=>z())},[c(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:D[6]||(D[6]=K=>R.openModal("collection-deletion-confirm-modal"))},[c(x,{name:"i-akar-icons-trash-bin"})])],512),[[F,h(_).loggedIn&&h(_).user.id===u.userId&&!s.value.manageMode]])])])):i("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(R.$t("collections.manageModeActiveMessage")),513),[[F,s.value.manageMode]])]),b.value?i("",!0):(t(),o("div",fa,[(t(!0),o(Z,null,ee(v.value,K=>(t(),o("div",{key:K.id,class:U(["p-3 rounded-md cursor-pointer",K.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:T=>b.value=K.id},[K.type==="artwork"?(t(),q(aa,{key:0,collection:K},null,8,["collection"])):i("",!0),e("div",ha,[K.is_public?i("",!0):(t(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",wa,a(K.name),1)])],10,pa))),128))])),s.value.showLoadMore&&!b.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:g},a(R.$t("loadMore")),1)):i("",!0),c(re,{loading:$.value,empty:k.value,error:I.value,fetch:C},null,8,["loading","empty","error"]),!$.value&&!b.value?(t(),q(Yl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:y.value,class:"modal",onCreated:j},null,8,["category"])):i("",!0),M(c(pe,{id:"created-alert",text:R.$t("collections.created")},null,8,["text"]),[[F,d.value]]),!$.value&&b.value?(t(),q(ys,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:n,"modal-id":"collection-edit-form-modal","collection-id":b.value,class:"modal",onUpdated:ue},null,8,["collection-id"])):i("",!0),c(me,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:V},null,8,["message"]),c(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:de},null,8,["message"]),b.value&&!$.value?(t(),q(as,{key:4,id:b.value,ref_key:"collectionDetailRef",ref:H,"manage-mode":s.value.manageMode,type:y.value,onOnCollectionEmpty:J,onFeedManageList:ne},null,8,["id","manage-mode","type"])):i("",!0)]))}},ga=se(ba,[["__scopeId","data-v-c63e6fa4"]]),_a={class:"text-lg font-bold"},ka={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ya={class:"flex flex-row w-full"},$a=["src"],xa={class:"flex flex-col justify-between p-3 w-full text-white"},Ma={class:"flex flex-col"},Ca={class:"font-bold"},Ia={class:"text-xxs"},Ea={class:"flex flex-row w-full"},La={key:0,class:"flex flex-row"},Aa=["onClick"],Pa=["onMouseover","onClick"],Fa={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(u){const A=u,_=le(),{oApiConfiguration:r,fetchOptions:P}=te(),f=Ce(r,P());ce(()=>{s()});const $=p([]),y=p(!0),b=p({page:0,perPage:12}),m=p(!1),w=p(!1),v=p(!1),s=async()=>{S(),y.value=!0;const[g,k]=await f.getFollowerList({userId:A.userId,pagination:{page:b.value.page,perPage:b.value.perPage}});k?m.value=!0:(g.followers.length||(w.value=!0),g.followers.forEach(l=>{$.value.push(l)}),b.value.page+=1,g.pagination.next_previous.next_page?v.value=!0:v.value=!1),y.value=!1},S=()=>{w.value=!1,m.value=!1},C=p(0);return(g,k)=>{const l=ve;return t(),o("div",null,[e("div",_a,a(g.$t("followers")),1),e("div",ka,[(t(!0),o(Z,null,ee($.value,(I,B)=>(t(),q(l,{key:I.id,to:"/profile/"+I.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(I.cover_bucket&&I.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g.avatarCoverUrl(I.cover_bucket,I.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+h(je)+");background-size:cover;")},{default:Y(()=>[e("div",ya,[e("img",{src:g.avatarCoverUrl(I.avatar_bucket,I.avatar_filename),class:"avatar",onError:k[0]||(k[0]=(...W)=>g.imageLoadError&&g.imageLoadError(...W))},null,40,$a),e("div",xa,[e("div",Ma,[e("span",Ca,a(I.name),1),e("span",Ia,a(I.pen_name),1)]),e("div",Ea,[h(_).loggedIn&&I.id!==h(_).user.id?(t(),o("div",La,[M(e("div",{class:"flex flex-row",onClick:Q(W=>g.followUser(B,I.id),["prevent"])},[c(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Aa),[[F,!I.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:W=>C.value=I.id,onMouseout:k[1]||(k[1]=W=>C.value=0),onClick:Q(W=>g.unfollowUser(B,I.id),["prevent"])},[M(c(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,C.value!==I.id]]),M(c(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,C.value&&C.value===I.id]])],40,Pa),[[F,I.is_following]])])):i("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:k[2]||(k[2]=I=>s())},a(g.$t("loadMore")),513),[[F,v.value]]),c(re,{loading:y.value,empty:w.value,error:m.value,fetch:s},null,8,["loading","empty","error"])])}}},Ta=se(Fa,[["__scopeId","data-v-b2599f1b"]]),Sa={class:"text-lg font-bold"},ja={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},Ra={class:"flex flex-row w-full"},Ua=["src"],Ba={class:"flex flex-col justify-between p-3 w-full text-white"},Oa={class:"flex flex-col"},za={class:"font-bold"},Va={class:"text-xxs"},Da={class:"flex flex-row w-full"},Na={key:0,class:"flex flex-row"},qa=["onClick"],Ha=["onMouseover","onClick"],Ga={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(u){const A=u,_=le(),{oApiConfiguration:r,fetchOptions:P}=te(),f=Ce(r,P());ce(()=>{S()});const $=async()=>{y.value=[],m.value.page=0,await S()},y=p([]),b=p(!0),m=p({page:0,perPage:12}),w=p(!1),v=p(!1),s=p(!1),S=async()=>{C(),b.value=!0;const[k,l]=await f.getFollowingList({userId:A.userId,pagination:{page:m.value.page,perPage:m.value.perPage}});l?w.value=!0:(k.followings.length||(v.value=!0),k.followings.forEach(I=>{y.value.push(I)}),m.value.page+=1,k.pagination.next_previous.next_page?s.value=!0:s.value=!1),b.value=!1},C=()=>{v.value=!1,w.value=!1},g=p(0);return(k,l)=>{const I=ve;return t(),o("div",null,[e("div",Sa,a(k.$t("followings")),1),e("div",ja,[(t(!0),o(Z,null,ee(y.value,(B,W)=>(t(),q(I,{key:B.id,to:"/profile/"+B.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(B.cover_bucket&&B.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+k.avatarCoverUrl(B.cover_bucket,B.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+h(je)+");background-size:cover;")},{default:Y(()=>[e("div",Ra,[e("img",{src:k.avatarCoverUrl(B.avatar_bucket,B.avatar_filename),class:"avatar",onError:l[0]||(l[0]=(...J)=>k.imageLoadError&&k.imageLoadError(...J))},null,40,Ua),e("div",Ba,[e("div",Oa,[e("span",za,a(B.name),1),e("span",Va,a(B.pen_name),1)]),e("div",Da,[h(_).loggedIn&&B.id!==h(_).user.id?(t(),o("div",Na,[M(e("div",{class:"flex flex-row",onClick:Q(J=>k.followUser(W,B.id),["prevent"])},[c(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,qa),[[F,!B.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:J=>g.value=B.id,onMouseout:l[1]||(l[1]=J=>g.value=0),onClick:Q(J=>k.unfollowUser(W,B.id),["prevent"])},[M(c(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,g.value!==B.id]]),M(c(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,g.value&&g.value===B.id]])],40,Ha),[[F,B.is_following]])])):i("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"primary-button mt-4",onClick:l[2]||(l[2]=B=>S())},a(k.$t("loadMore")),513),[[F,s.value]]),c(re,{loading:b.value,empty:v.value,error:w.value,fetch:$},null,8,["loading","empty","error"])])}}},Wa=se(Ga,[["__scopeId","data-v-5ff9c687"]]),Ja=u=>(ge("data-v-bafd430f"),u=u(),_e(),u),Ka=["src"],Ya={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Qa={class:"flex-row justify-between hidden-md-flex"},Xa={class:"mr-6 w-1/5"},Za=["src"],en={class:"mt-2"},tn={class:"flex flex-row"},on={class:"flex flex-row"},ln=O("\xA0 "),sn=O("\xA0 "),an={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},nn={class:"flex flex-col w-full"},rn={class:"flex flex-row w-full"},un={class:"w-9/12"},dn={class:"text-base font-semibold"},cn=O("\xA0 "),mn={class:"mr-2 italic"},vn={class:"flex flex-row mt-2"},fn={key:0,class:"mr-1"},pn={class:"flex flex-row"},hn={class:"mr-1"},wn={key:0,class:"flex flex-row"},bn=O(" he/his "),gn={key:1,class:"flex flex-row"},_n=O(" she/her "),kn={class:"float-right w-3/12 text-right"},yn={class:"flex flex-row shadow-md primary-button"},$n={class:"leading-4"},xn={key:1,class:"mt-4"},Mn=["href"],Cn=["href"],In=["href"],En=["href"],Ln=["href"],An={key:0,class:"mt-4"},Pn=["id","innerHTML"],Fn=["id"],Tn={class:"flex flex-col text-center md:hidden"},Sn=["src"],jn={class:"mt-4 text-base font-semibold"},Rn={class:"flex flex-row justify-center mt-4"},Un={key:0,class:"flex flex-row mr-1"},Bn={class:"mr-1"},On={key:0,class:"flex flex-row"},zn=O(" he/his "),Vn={key:1,class:"flex flex-row"},Dn=O(" she/her "),Nn={key:0,class:"mx-2 mt-4 text-center"},qn=["id","innerHTML"],Hn=["id"],Gn={key:1,class:"flex flex-row justify-center mt-4"},Wn=["href"],Jn=["href"],Kn=["href"],Yn=["href"],Qn=["href"],Xn={class:"flex flex-row justify-center w-full md:hidden"},Zn=O("\xA0 "),ei=O("\xA0 "),ti={class:"flex flex-row"},oi={class:"flex flex-row"},li={class:"mt-2"},si={class:"flex flex-row justify-center md:hidden"},ai={class:"flex flex-row justify-between mt-2 md:mt-6"},ni={class:"hidden flex-col lg:w-1/5 md:flex"},ii={class:"profile-navigation_wrapper"},ri={class:"hidden-lg-flex"},ui=Ja(()=>e("span",{class:"hidden-lg-flex"},null,-1)),di={class:"profile-navigation_wrapper"},ci={class:"hidden-lg-flex"},mi={class:"hidden-lg-flex"},vi={class:"profile-navigation_wrapper"},fi={class:"hidden-lg-flex"},pi={class:"hidden-lg-flex"},hi={class:"w-full md:ml-6"},wi={key:0},bi={class:"flex flex-row w-full"},gi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},_i={key:1},ki={key:2},yi={key:3},$i={key:4},xi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(u){const A=u,_=le(),{oApiConfiguration:r,fetchOptions:P}=te(),f=Ce(r,P()),$=fe(r,P()),y=we(r,P()),b=Ne(),m=Pe(),{o:w}=b.query,v=p(!0),s=w!=null?p(w):p("dashboard"),S=p("artwork"),C=qe(()=>A.userLogon&&_.loggedIn?_.user.id:A.id),g=p({manageMode:!1,showManageMode:!0});ce(async()=>{await B()});const k=T=>{s.value=T,g.value.manageMode=!1,w!=null&&m.push("/profile")},l=p({}),I=p({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),B=async()=>{v.value=!0;try{const[T]=await f.getInfo(C.value);if(l.value=T,_.loggedIn&&_.user.id!==C.value){const[Ve]=await f.isFollowing(C.value);X.value=Ve.is_following}const[L]=await f.countFeeds(C.value);I.value.feed=L;const[ae]=await f.countArtworks(C.value);I.value.artwork=ae;const[N]=await f.countFollowers(C.value);I.value.followers=N;const[Be]=await f.countFollowings(C.value);I.value.followings=Be;const[Oe]=await $.countAlbums(C.value);I.value.album=Oe;const[ze]=await y.countCollections(C.value);I.value.collection=ze}catch{}v.value=!1},W=p(null),J=p([]),d=T=>{J.value=T},E=()=>{g.value.showManageMode=!1},j=p(null),n=()=>{oe().openModal("album-selection-modal")},z=p(!1);let H;const ue=()=>{he().splash(H,z,"item-added-to-album-alert")},X=p(!1),ne=p(null),de=p("i-ri-user-follow-fill"),V=(T,L)=>{de.value=T,ne.value=L},G=async T=>{const[L,ae]=await f.follow(T);ae||(X.value=!0)},R=async T=>{const[L,ae]=await f.unfollow(T);ae||(X.value=!1)},D=p(!0),K=(T,L,ae,N)=>{D.value=!1,Re().readMore(T,L,ae,N)};return(T,L)=>{const ae=ve;return t(),q(We,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:Y(()=>[e("div",null,[e("img",{src:T.avatarCoverUrl(l.value.cover_bucket,l.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:L[0]||(L[0]=(...N)=>T.defaultCoverImage&&T.defaultCoverImage(...N))},null,40,Ka),h(_).loggedIn&&h(_).user.id===l.value.id?(t(),q(ae,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:Y(()=>[c(x,{name:"i-ph-gear-six"})]),_:1})):i("",!0)]),e("div",Ya,[e("div",Qa,[e("div",Xa,[e("img",{src:T.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:L[1]||(L[1]=(...N)=>T.defaultCoverImage&&T.defaultCoverImage(...N))},null,40,Za),e("div",en,[h(_).loggedIn&&l.value.id!==h(_).user.id?(t(),o("div",{key:0,class:U(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":X.value}]),onClick:L[2]||(L[2]=N=>X.value?R(l.value.id):G(l.value.id)),onMouseover:L[3]||(L[3]=N=>V("i-ri-user-unfollow-fill",T.$t("unfollow"))),onMouseleave:L[4]||(L[4]=N=>V("i-ri-user-follow-fill",T.$t("following")))},[M(e("div",tn,[c(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(T.$t("follow")),1)],512),[[F,!X.value]]),M(e("div",on,[c(x,{name:de.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(ne.value===null?T.$t("following"):ne.value),1)],512),[[F,X.value]])],34)):i("",!0),e("div",{class:U(["flex-row justify-center border hidden-md-flex",l.value.id==h(_).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:L[5]||(L[5]=N=>s.value="followerList")},[e("b",null,a(I.value.followers),1),ln,e("i",null,a(T.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:L[6]||(L[6]=N=>s.value="followingList")},[e("b",null,a(I.value.followings),1),sn,e("i",null,a(T.$t("following").toLowerCase()),1)])],2)])]),e("div",an,[e("div",nn,[e("div",rn,[e("div",un,[e("div",null,[e("span",dn,a(l.value.name),1),cn,e("span",mn,a(l.value.username),1)]),e("div",vn,[l.value.pen_name&&l.value.pen_name!==""?(t(),o("div",fn,[e("span",pn,[c(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name),1)])])):i("",!0),e("div",hn,[l.value.gender==="m"?(t(),o("span",wn,[c(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),bn])):i("",!0),l.value.gender==="f"?(t(),o("span",gn,[c(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),_n])):i("",!0)])])]),e("div",kn,[h(_).loggedIn&&h(_).user.id===l.value.id?(t(),q(ae,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:Y(()=>[e("button",yn,[c(x,{name:"i-ph-gear-six",class:"mr-2"}),e("span",$n,a(T.$t("profile.setting")),1)])]),_:1})):i("",!0),l.value.user_socials?(t(),o("div",xn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Mn)):i("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Cn)):i("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,In)):i("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,En)):i("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"heart",class:"text-xl"})],8,Ln)):i("",!0)])):i("",!0)])]),e("div",null,[l.value.bio?(t(),o("p",An,[e("div",{id:"user-bio-"+l.value.id,innerHTML:l.value.bio.length>300?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Pn),l.value.bio.length>300?(t(),o("a",{key:0,id:"user-bio-read-more-"+l.value.id,class:"href",onClick:L[7]||(L[7]=Q(N=>K(l.value.bio,l.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},a(T.$t("readMore")),9,Fn)):i("",!0)])):i("",!0)])])])]),e("div",Tn,[e("img",{src:T.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:L[8]||(L[8]=(...N)=>T.imageLoadError&&T.imageLoadError(...N))},null,40,Sn),e("div",jn,a(l.value.name),1),e("div",null,a(l.value.username),1),e("div",Rn,[l.value.pen_name?(t(),o("span",Un,[c(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name&&l.value.pen_name!==""?l.value.pen_name:"-"),1)])):i("",!0),e("div",Bn,[l.value.gender==="m"?(t(),o("span",On,[c(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),zn])):i("",!0),l.value.gender==="f"?(t(),o("span",Vn,[c(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),Dn])):i("",!0)])]),l.value.bio?(t(),o("div",Nn,[e("div",{id:"mobile__user-bio-"+l.value.id,innerHTML:l.value.bio.length>150?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,qn),l.value.bio.length>150?(t(),o("a",{key:0,id:"mobile__user-bio-read-more-"+l.value.id,class:"href",onClick:L[9]||(L[9]=Q(N=>K(l.value.bio,l.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},a(T.$t("readMore")),9,Hn)):i("",!0)])):i("",!0),l.value.user_socials?(t(),o("div",Gn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Wn)):i("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Jn)):i("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Kn)):i("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Yn)):i("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(x,{name:"i-ri-heart-3-line",class:"text-xl"})],8,Qn)):i("",!0)])):i("",!0),e("div",Xn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:L[10]||(L[10]=N=>s.value="followerList")},[e("b",null,a(I.value.followers),1),Zn,e("i",null,a(T.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:L[11]||(L[11]=N=>s.value="followingList")},[e("b",null,a(I.value.followings),1),ei,e("i",null,a(T.$t("following")),1)])]),h(_).loggedIn&&l.value.id!==h(_).user.id?(t(),o("div",{key:2,class:U(["mt-2 w-auto",X.value?"danger-button":"primary-button"]),onClick:L[12]||(L[12]=N=>X.value?R(l.value.id):G(l.value.id))},[M(e("div",ti,[c(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(T.$t("follow")),1)],512),[[F,!X.value]]),M(e("div",oi,[c(x,{name:de.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(ne.value===null?T.$t("following"):ne.value),1)],512),[[F,X.value]])],2)):i("",!0)]),e("div",li,[e("div",si,[e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":h(s)=="dashboard"}]),onClick:L[13]||(L[13]=N=>k("dashboard"))},[e("div",null,[M(c(x,{name:"i-ion-home-outline",class:"text-white"},null,512),[[F,h(s)=="dashboard"]]),M(c(x,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[F,h(s)!="dashboard"]])]),e("span",null,a(T.$t("dashboard")),1)],2),e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":h(s)=="albums"}]),onClick:L[14]||(L[14]=N=>k("albums"))},[e("div",null,[M(c(x,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[F,h(s)=="albums"]]),M(c(x,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[F,h(s)!="albums"]])]),e("span",null,a(T.$t("albums.album")),1)],2),e("div",{class:U(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":h(s)=="collections"}]),onClick:L[15]||(L[15]=N=>k("collections"))},[e("div",null,[M(c(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,h(s)=="collections"]]),M(c(x,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[F,h(s)!="collections"]])]),e("span",null,a(T.$t("collections.collection")),1)],2)]),e("div",ai,[e("div",ni,[e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":h(s)==="dashboard"}]),onClick:L[16]||(L[16]=N=>k("dashboard"))},[e("div",ii,[M(c(x,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[F,h(s)==="dashboard"]]),M(c(x,{name:"i-humbleicons-dashboard"},null,512),[[F,h(s)!=="dashboard"]]),e("label",ri,a(T.$t("dashboard")),1)]),ui],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":h(s)==="albums"}]),onClick:L[17]||(L[17]=N=>k("albums"))},[e("div",di,[M(c(x,{name:"i-bx-photo-album",class:"text-white"},null,512),[[F,h(s)==="albums"]]),M(c(x,{name:"i-bx-photo-album"},null,512),[[F,h(s)!=="albums"]]),e("label",ci,a(T.$t("albums.album")),1)]),e("span",mi,a(I.value.album),1)],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":h(s)==="collections"}]),onClick:L[18]||(L[18]=N=>k("collections"))},[e("div",vi,[M(c(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,h(s)==="collections"]]),M(c(x,{name:"i-majesticons-bookmark-line"},null,512),[[F,h(s)!=="collections"]]),e("label",fi,a(T.$t("collections.collection")),1)]),e("span",pi,a(I.value.collection),1)],2)]),e("div",hi,[h(s)==="dashboard"?(t(),o("div",wi,[e("div",bi,[e("div",{class:U(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":S.value==="feed"}]),onClick:L[19]||(L[19]=N=>S.value="feed")},[O(a(T.$t("feed"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",S.value==="feed"?"theme-color":"button-color text-white"])},a(I.value.feed),3)],2),e("div",{class:U(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":S.value==="artwork"}]),onClick:L[20]||(L[20]=N=>S.value="artwork")},[O(a(T.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",S.value==="artwork"?"theme-color":"button-color text-white"])},a(I.value.artwork),3)],2)]),M(e("div",gi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:L[21]||(L[21]=N=>g.value.manageMode=!g.value.manageMode)},[c(x,{name:g.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(g.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),M(e("button",{class:"w-full primary-button md:w-auto",onClick:L[22]||(L[22]=N=>n())},[c(x,{name:"i-ion-add-outline"}),O(" "+a(T.$t("albums.addToAlbum")),1)],512),[[F,g.value.manageMode]])],512),[[F,!v.value&&h(_).loggedIn&&h(_).user.id===l.value.id&&S.value==="artwork"&&g.value.showManageMode]]),c(re,{loading:v.value},null,8,["loading"]),M(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},a(T.$t("profile.manageModeActiveMessage")),513),[[F,g.value.manageMode]]),e("div",null,[S.value==="feed"?(t(),q(Dt,{key:0,ref:"feedListRef",class:"mt-2","user-id":l.value.id},null,8,["user-id"])):i("",!0),!v.value&&S.value==="artwork"?(t(),q(Gt,{key:1,ref_key:"artworkListRef",ref:W,"user-id":l.value.id,"manage-mode":g.value.manageMode,onFeedSelectedItems:d,onOnEmpty:E},null,8,["user-id","manage-mode"])):i("",!0)])])):i("",!0),h(s)==="albums"?(t(),o("div",_i,[v.value?i("",!0):(t(),q(Tl,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):i("",!0),h(s)==="collections"?(t(),o("div",ki,[v.value?i("",!0):(t(),q(ga,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):i("",!0),h(s)==="followerList"?(t(),o("div",yi,[v.value?i("",!0):(t(),q(Ta,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):i("",!0),h(s)==="followingList"?(t(),o("div",$i,[v.value?i("",!0):(t(),q(Wa,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):i("",!0)])])])]),v.value?i("",!0):(t(),q(He,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:j,class:"modal","work-ids":J.value,onAddedToAlbum:ue},null,8,["work-ids"])),M(c(pe,{id:"item-added-to-album-alert",text:T.$t("albums.itemAdded")},null,8,["text"]),[[F,z.value]])]),_:1})}}},Si=se(xi,[["__scopeId","data-v-bafd430f"]]);export{Si as P};
