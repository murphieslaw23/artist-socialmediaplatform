import{i as te,j as Z,a4 as De,k as Fe,r as p,o,m as l,U as Q,V as X,p as e,e as d,w as Y,q as O,t as a,s as r,F as K,b as M,v as P,J as R,u as f,c as q,K as x,G as ee,x as ge,L as _e,M as ke,a3 as Me,a6 as Ce,A as ye,E as ae,D as Te,l as ue,a7 as Ne,aF as Se,aG as je,T as qe,C as He}from"./entry.879fa290.js";import{M as $e,_ as me,b as Ue,W as Ie,e as ve,f as fe,S as pe,d as he,g as we,h as Ge}from"./ModalView.20a27763.js";import{J as We,u as xe,L as Je}from"./Layout.b50292ba.js";import{a as Ke}from"./useFeed.ea08ed29.js";import{I as Pe,F as Ye}from"./FeedModalView.d8762133.js";import{_ as oe}from"./_plugin-vue_export-helper.a1a6add7.js";import{u as Qe}from"./useArtwork.23f2471a.js";import{_ as ne}from"./LoadingEmptyErrorMessage.c774b096.js";import{u as Ee}from"./useUser.c1a51eb5.js";const be=c=>(_e("data-v-fbe45aca"),c=c(),ke(),c),Xe={class:"mx-auto w-full md:w-2/3"},Ze={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},et={class:"w-full"},tt={key:0,class:"p-4 user-info"},ot=["src"],lt={class:"name"},st=be(()=>e("br",null,null,-1)),at=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),nt={class:"text-xxs"},it={class:"px-2 md:px-4"},rt=["id","innerHTML"],ut=["id","onClick"],dt={key:1,class:"my-2 w-full rounded-md theme-color"},ct={key:0,class:"p-2 md:p-4 user-info"},mt=["src"],vt={class:"name"},ft=be(()=>e("br",null,null,-1)),pt=be(()=>e("span",{class:"mx-1"},"\xB7",-1)),ht={class:"px-2 mt-2 md:px-4"},wt={class:"text-xs font-semibold"},bt=["id"],gt=["id","onClick"],_t=["onClick"],kt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},yt={class:"mx-auto mt-2 primary-button"},$t={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},xt={class:"mx-auto mt-2 primary-button"},Mt={class:"float-right mx-4 mt-2 interactions"},Ct={key:0,class:"reactions"},It=["onClick"],Et=["onClick"],Lt={class:"option dropdown"},At=["onClick"],Pt={class:"option-dropdown dropdown-menu"},Ft={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Tt={class:"menu-wrapper"},St={key:0,class:"custom-divider"},jt=["to"],Ut={class:"mx-auto text-center"},Rt={class:"mx-auto mt-10 text-center"},Bt=be(()=>e("b",null,"(\u3186_\u3186)",-1)),zt={class:"mx-auto text-center"},Ot={id:"chronological-feed-modal",class:"modal work-view"},Vt={id:"artwork-modal",class:"modal work-view"},Dt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(c){const F=c,w=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),v=Ke(u,A()),{generateArtworkThumb:$}=De();Fe();const _=p(0),y=p(0),i=(m,C)=>{_.value=m,y.value=C},U=p([]),b=p({page:0,perPage:10}),t=async({loaded:m})=>{const[C,B]=await v.getFeedByUserId({userId:F.userId,pagination:{page:b.value.page,perPage:b.value.perPage}});b.value.page+=1;for(let n=0;n<C.feeds.length;n++){const D=C.feeds[n];if(D.liked&&s.value.push(D.id),D.artworks){D.artworks.images=[],D.artworks.apply_explicit_filter=!1;for(let G=0;G<D.artworks.artwork_assets.length;G++)if(G<=3){const ie=await $(D.artworks.artwork_assets[G].bucket,D.artworks.artwork_assets[G].filename,"feed");D.artworks.images.push(ie)}D.artworks!=null&&(!w.loggedIn&&D.artworks.is_explicit||D.artworks.is_explicit&&!w.user.user_settings.show_explicit)&&(D.artworks.apply_explicit_filter=!0)}U.value.push(D)}m(C.feeds.length,b.value.perPage)},T=p(null),S=m=>{T.value.view(m),ee().openModal("chronological-feed-modal")},g=p(null),h=(m,C,B)=>{C?(console.log("removing explicit filter.."),U.value[B].artworks.apply_explicit_filter=!1):(g.value.view(m),ee().openModal("artwork-modal"))},s=p([]),k=async m=>{const[C,B]=await v.like({feedId:m});if(C){s.value.push(m);const n=document.getElementById(`profileFeedLikeButton-${m}`);n.classList.add("animate-bounce"),setInterval(()=>{n.classList.remove("animate-bounce")},2500)}},z=async m=>{const[C,B]=await v.unlike({feedId:m});if(C){const n=s.value.indexOf(m);s.value.splice(n,1)}},H=(m,C,B,n)=>{Ue().readMore(m,C,B,n)},W=async()=>{const[m,C]=await v.remove(_.value);m&&U.value.splice(y.value,1)};return(m,C)=>{const B=ge;return o(),l("div",Xe,[(o(!0),l(Q,null,X(U.value,(n,D)=>(o(),l("div",{key:n.id},[e("div",Ze,[e("div",et,[n.users?(o(),l("div",tt,[d(B,{to:"/profile/"+n.users.username},{default:Y(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(n.users.avatar_bucket,n.users.avatar_filename),onError:C[0]||(C[0]=(...G)=>m.imageLoadError&&m.imageLoadError(...G))},null,40,ot)]),_:2},1032,["to"]),e("div",lt,[d(B,{to:"/profile/"+n.users.username,class:"fullname"},{default:Y(()=>[O(a(n.users.name),1)]),_:2},1032,["to"]),st,d(B,{to:"/profile/"+n.users.username,class:"username hover:underline"},{default:Y(()=>[O(" @"+a(n.users.username),1)]),_:2},1032,["to"]),at,e("span",nt,a(m.formatDate(n.scheduled_post?n.scheduled_post:n.created_at,!0)),1)])])):r("",!0),e("div",it,[e("p",{id:"feed-text-"+n.id,innerHTML:n.text.split("<br>").length>3&&n.text.length>300?`${n.text.slice(0,300)}...`:n.text},null,8,rt),n.text.split("<br>").length>3&&n.text.length>300?(o(),l("a",{key:0,id:"feed-read-more-"+n.id,class:"href",onClick:K(G=>H(n.text,n.id,"feed-read-more-","feed-text-"),["prevent"])},a(m.$t("readMore")),9,ut)):r("",!0),n.artworks?(o(),l("div",dt,[n.artworks.users?(o(),l("div",ct,[d(B,{to:"/profile/"+n.artworks.users.username},{default:Y(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(n.artworks.users.avatar_bucket,n.artworks.users.avatar_filename),onError:C[1]||(C[1]=(...G)=>m.imageLoadError&&m.imageLoadError(...G))},null,40,mt)]),_:2},1032,["to"]),e("div",vt,[d(B,{to:"/profile/"+n.artworks.users.username,class:"fullname hover:href"},{default:Y(()=>[O(a(n.artworks.users.name),1)]),_:2},1032,["to"]),ft,d(B,{to:"/profile/"+n.artworks.users.username,class:"hover:underline text-xxs"},{default:Y(()=>[O(" @"+a(n.artworks.users.username),1)]),_:2},1032,["to"]),pt,d(B,{to:"/a/"+n.artworks.id,class:"hover:underline text-xxs"},{default:Y(()=>[O(a(m.formatDate(n.artworks.scheduled_post?n.artworks.scheduled_post:n.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):r("",!0),e("div",ht,[e("span",wt,a(n.artworks.title),1),M(e("p",null,[e("span",{id:"feed-description-"+n.artworks.id},a(n.artworks.description.length>300?`${n.artworks.description.slice(0,300)}...`:n.artworks.description),9,bt),n.artworks.description.length>300?(o(),l("a",{key:0,id:"feed-read-more-"+n.artworks.id,class:"href",onClick:K(G=>H(n.artworks.description,n.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},a(m.$t("readMore")),9,gt)):r("",!0)],512),[[P,n.artworks.description]])]),e("div",null,[m.isMobile()?r("",!0):(o(),l("div",{key:0,class:R(["p-2",{"cursor-pointer":!n.artworks.apply_explicit_filter}]),onClick:K(G=>h(n.artworks.id,n.artworks.apply_explicit_filter,D),["prevent"])},[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":n.artworks.apply_explicit_filter}])},[d(Pe,{class:R([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(o(),l("div",kt,[e("div",null,a(f(w).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",yt,a(m.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)],10,_t)),m.isMobile()?(o(),q(B,{key:1,to:n.artworks.apply_explicit_filter?null:"/a/"+n.artworks.id,onClick:K(G=>h(n.artworks.id,n.artworks.apply_explicit_filter,D),["prevent"]),class:"cursor-pointer"},{default:Y(()=>[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"m-2":n.artworks.apply_explicit_filter}])},[d(Pe,{class:R([{"blur-3xl unclickable":n.artworks.apply_explicit_filter},n.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:n.artworks},null,8,["class","work"]),n.artworks.apply_explicit_filter?(o(),l("div",$t,[e("div",null,a(f(w).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",xt,a(m.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)]),_:2},1032,["to","onClick"])):r("",!0)])])):r("",!0)]),e("div",Mt,[f(w).loggedIn?(o(),l("div",Ct,[e("span",{class:"leading-8",onClick:G=>s.value.includes(n.id)?z(n.id):k(n.id)},[M(d(x,{id:"profileFeedLikeButton-"+n.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[P,s.value.includes(n.id)]]),M(d(x,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[P,!s.value.includes(n.id)]]),O(" "+a(m.thousand(n._count.feed_likes)),1)],8,It),e("span",{class:"leading-8",onClick:K(G=>S(n.id),["prevent"])},[d(x,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+a(m.thousand(n._count.feed_comments)),1)],8,Et),e("div",Lt,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:G=>i(n.id,D)},[e("span",null,[d(x,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,At),e("div",Pt,[e("div",Ft,[e("div",Tt,[d(B,{to:"/feed/"+n.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[d(x,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+a(m.$t("open")),1)]),_:2},1032,["to"]),d(B,{to:"/feed/"+n.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:Y(()=>[d(x,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+a(m.$t("openInNewTab")),1)]),_:2},1032,["to"]),f(w).loggedIn&&n.user_id&&f(w).user.id===n.user_id?(o(),l("div",St)):r("",!0),f(w).loggedIn&&n.user_id&&f(w).user.id===n.user_id?(o(),l("div",{key:1,to:"/feed/"+n.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:C[2]||(C[2]=G=>m.openModal("profile-feed-deletion-confirm-modal"))},[d(x,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+a(m.$t("delete")),1)],8,jt)):r("",!0)])])])])])):r("",!0)])])])]))),128)),d(f(We),{load:t},{loading:Y(()=>[e("div",Ut,[d(x,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":Y(()=>[e("div",Rt,[Bt,O(" "+a(m.$t("nothingToShow")),1)])]),"no-more":Y(()=>[e("div",zt,a(m.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Ot,[d(Ye,{ref_key:"chronologicalFeedModalViewRef",ref:T,section:"chronological-feed"},null,512)]),e("div",Vt,[d($e,{ref_key:"artworkModalViewRef",ref:g,section:"artwork"},null,512)]),d(me,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:C[3]||(C[3]=n=>W())},null,8,["message"])])}}},Nt=oe(Dt,[["__scopeId","data-v-fbe45aca"]]),qt={id:"lists"},Ht=["id"],Gt={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(c,{emit:F}){const w=c,{oApiConfiguration:u,fetchOptions:A}=Z(),v=Qe(u,A()),$="profile",_=p(!0);Me(()=>{y()});const y=async()=>{const[B,n]=await b();i.value=B,n.record_total<=U.value.perPage&&S(),n.record_total===0&&k()},i=p([]),U=p({perPage:24,page:0}),b=async()=>{U.value.page===0&&(_.value=!0);const[B,n,D]=await v.getUserArtworks({userId:w.userId,pagination:{page:U.value.page,perPage:U.value.perPage}});if(D)H();else return n.record_total<=U.value.perPage&&S(),n.record_total===0&&k(),U.value.page+=1,t(),[B,n]},t=()=>{_.value=!1,s.value=!1,z.value=!1},T=p(!0),S=()=>{T.value=!1},g=p({delay:!1}),h=async()=>{g.value.delay=!0;const[B,n]=await b();for(let D=0;D<B.length;D++)i.value.push(B[D]);g.value.delay=!1,dataPagination.next_previous.next_page||S(),dataPagination.next_previous.next_page&&dataPagination.current_page===g.maxLoad&&(S(),g.showDiscoveryButton=!0)},s=p(!1),k=()=>{s.value=!0,S(),F("onEmpty")},z=p(!1),H=()=>{_.value=!1,z.value=!0,S()},W=p(null),m=(B,n=!1)=>{W.value.view(B,n),ee().openModal($+"-modal")},C=B=>{F("feedSelectedItems",B)};return(B,n)=>(o(),l("div",qt,[M(e("div",null,[(o(),q(Ce,null,[M(d(Ie,{"section-class":"work-grid",works:i.value,view:m,"manage-mode":c.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[P,!s.value]])],1024)),M(e("div",{class:R(["primary-button",g.value.delay?"animate-pulse":""]),onClick:h},a(B.$t("loadMore")),3),[[P,T.value]])],512),[[P,!_.value]]),d(ne,{loading:_.value,empty:s.value,error:z.value,fetch:b},null,8,["loading","empty","error"]),e("div",{id:$+"-modal",class:"modal work-view"},[M(d($e,{ref_key:"profileModalViewRef",ref:W,section:$},null,512),[[P,!_.value]])],8,Ht)]))}},Wt=oe(Gt,[["__scopeId","data-v-6fbdcb8f"]]),Jt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Kt={class:"title"},Yt=["name"],Qt=["placeholder"],Xt=["placeholder"],Zt=["for"],eo=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),to={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},oo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),lo=[oo],so={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ao=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),no=[ao],io={class:"flex flex-row gap-x-1"},ro={class:"flex flex-row gap-2 justify-end mt-2"},uo={type:"submit",class:"primary-button"},co={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(c,{emit:F}){const w=c,u=te(),{oApiConfiguration:A,fetchOptions:v}=Z(),$=ve(A,v()),{t:_}=ye(),y="create-album-form",i=p({title:"",description:"",isPublic:1,category:"artwork"}),U=async()=>{xe().validate(y,_);try{let b=!1,t={};if(w.category){const[T,S,g]=await $.createAlbum(w.category,i.value);b=T,t=S}b&&(ee().closeModal(w.modalId),F("created",t))}catch{}};return(b,t)=>(o(),l("div",null,[e("div",Jt,[e("div",null,[e("span",Kt,a(b.$t("albums.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:t[4]||(t[4]=K(T=>U(),["prevent"]))},[e("n-validate",{for:"title",name:b.$t("title")},[M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=T=>i.value.title=T),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:b.$t("title")},null,8,Qt),[[ae,i.value.title]])],8,Yt),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=T=>i.value.description=T),class:"form-input theme-color-secondary",placeholder:b.$t("description"),"data-gramm":"false"},null,8,Xt),[[ae,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:t[2]||(t[2]=T=>f(u).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[eo,i.value.isPublic?(o(),l("span",to,lo)):r("",!0),i.value.isPublic?r("",!0):(o(),l("span",so,no))]),e("div",io,[e("span",{class:R(["ml-2",{"leading-6":!f(u).i502p00r0}])},a(b.$t("private")),3),d(fe)])],8,Zt),e("div",ro,[e("button",{class:"cancel-button",onClick:t[3]||(t[3]=K(T=>b.closeModal(c.modalId),["prevent"]))},a(b.$t("cancel")),1),e("button",uo,a(b.$t("create")),1)])],32)])])]))}},mo={id:"lists"},vo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},fo={class:"mb-2 text-base font-bold"},po={class:"mb-2"},ho=O(),wo={class:"italic"},bo=["id"],go={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(c,{expose:F,emit:w}){const u=c,{oApiConfiguration:A,fetchOptions:v}=Z(),$=ve(A,v()),_=p(u.id);Te(()=>u.id,(m,C)=>{_.value=m}),ue(async()=>{await U()});const y=p(!0),i=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),U=async()=>{y.value=!0,await b(),await t(),y.value=!1},b=async()=>{const[m,C]=await $.getInfo(_.value);i.value.info=m.data},t=async()=>{const[m,C,B]=await $.listAlbumItems({albumId:_.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});C?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,m!==null&&m.length?(m.forEach(n=>{i.value.list.push(n.artworks)}),w("onAlbumEmpty",!1)):(i.value.empty=!0,w("onAlbumEmpty",!0))},T=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},S=p([]),g=m=>{S.value=m,w("feedManageList",m)},h=p(!1);let s;const k=async()=>{const[m,C]=await $.removeItems(u.id,S.value);m&&(he().splash(s,h,"item-removed-alert"),T(),await U())},z=p("album"),H=p(null),W=(m,C=!1)=>{H.value.view(m,C),ee().openModal(z.value+"-modal")};return F({fetchInfo:b,removeItems:k}),(m,C)=>(o(),l("div",mo,[e("div",{class:"hidden",onClick:C[0]||(C[0]=B=>b())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=B=>k())}),e("div",vo,[e("div",fo,a(i.value.info.name),1),e("div",po,a(i.value.info.description),1),e("div",null,[e("b",null,a(m.$t("private"))+":",1),ho,e("span",wo,a(i.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,a(m.$t("createdAt")),1),O(" "+a(m.formatDate(i.value.info.created_at)),1)])]),M(e("div",null,[(o(),q(Ce,null,[M(d(Ie,{"section-class":"work-grid",works:i.value.list,view:W,"manage-mode":c.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[P,!i.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=B=>t())},a(m.$t("loadMore")),513),[[P,i.value.loadMore]])],512),[[P,!y.value]]),d(ne,{loading:y.value,empty:i.value.empty,error:!1,fetch:U},null,8,["loading","empty"]),y.value?r("",!0):(o(),l("div",{key:0,id:z.value+"-modal",class:"modal work-view"},[d($e,{ref_key:"albumModalViewRef",ref:H,section:z.value},null,8,["section"])],8,bo)),M(d(pe,{id:"item-removed-alert",text:m.$t("albums.itemRemoved")},null,8,["text"]),[[P,h.value]])]))}},_o=oe(go,[["__scopeId","data-v-2ee448ae"]]),ko={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},yo={class:"title"},$o=["name"],xo=["placeholder"],Mo=["placeholder"],Co=["for"],Io=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Eo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Lo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ao=[Lo],Po={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Fo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),To=[Fo],So={class:"flex flex-row gap-x-1"},jo={class:"flex flex-row gap-2 justify-end mt-2"},Uo={type:"submit",class:"primary-button"},Ro={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(c,{expose:F,emit:w}){const u=c,A=te(),{oApiConfiguration:v,fetchOptions:$}=Z(),_=ve(v,$()),{t:y}=ye(),i=p(!0),U=async g=>{if(g){S(),i.value=!0;const[h,s]=await _.getInfo(g),k=h.data;t.value.id=g,t.value.name=k.name,t.value.description=k.description,t.value.isPublic=!!k.is_public,i.value=!1}},b="update-album-form",t=p({id:0,name:"",description:"",isPublic:!1}),T=async()=>{xe().validate(b,y);const[g,h]=await _.update({id:t.value.id,name:t.value.name,description:t.value.description,isPublic:t.value.isPublic?1:0});h||(ee().closeModal(u.modalId),w("updated",t.value),S())},S=()=>{t.value={id:0,name:"",description:"",isPublic:0}};return F({fetch:U}),(g,h)=>{const s=Ne("ProBadge");return o(),l("div",null,[e("div",ko,[e("div",null,[e("span",yo,a(g.$t("albums.edit.form.title")),1),i.value?r("",!0):(o(),l("form",{key:0,id:b,class:"mt-2",onSubmit:h[4]||(h[4]=K(k=>T(),["prevent"]))},[e("n-validate",{for:"title",name:g.$t("title")},[M(e("input",{"onUpdate:modelValue":h[0]||(h[0]=k=>t.value.name=k),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,xo),[[ae,t.value.name]])],8,$o),M(e("textarea",{"onUpdate:modelValue":h[1]||(h[1]=k=>t.value.description=k),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,Mo),[[ae,t.value.description]]),e("label",{for:t.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:h[2]||(h[2]=k=>f(A).i502p00r0?t.value.isPublic=!t.value.isPublic:t.value.isPublic=!0)},[Io,t.value.isPublic?(o(),l("span",Eo,Ao)):r("",!0),t.value.isPublic?r("",!0):(o(),l("span",Po,To))]),e("div",So,[e("span",{class:R(["ml-2",{"leading-6":!f(A).i502p00r0}])},a(g.$t("private")),3),d(s)])],8,Co),e("div",jo,[e("button",{class:"cancel-button",onClick:h[3]||(h[3]=K(k=>g.closeModal(c.modalId),["prevent"]))},a(g.$t("cancel")),1),e("button",Uo,a(g.$t("save")),1)])],32))])])])}}},Re=""+new URL("folder.11be08fa.png",import.meta.url).href,Le=c=>(_e("data-v-eccd717d"),c=c(),ke(),c),Bo={class:"mb-2"},zo={key:0},Oo=Le(()=>e("img",{src:Re,class:"rounded"},null,-1)),Vo=[Oo],Do={key:1},No={class:"relative text-center"},qo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ho={class:"overflow-hidden rounded-md"},Go=["src"],Wo={key:2,class:"imgrid"},Jo={class:"relative text-center"},Ko={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Yo={class:"overflow-hidden rounded-md"},Qo=["src"],Xo=Le(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Zo=Le(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),el={key:3,class:"imgrid"},tl={class:"relative text-center"},ol={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ll={class:"overflow-hidden rounded-md"},sl=["src"],al={key:4,class:"imgrid"},nl={class:"relative text-center"},il={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},rl={class:"overflow-hidden rounded-md"},ul=["src"],dl={key:5,class:"imgrid"},cl={key:0,class:"relative text-center"},ml={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},vl={class:"overflow-hidden rounded-md"},fl=["src"],pl={key:1,class:"relative text-center"},hl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},wl={class:"overflow-hidden rounded-md"},bl=["src"],gl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(c){const F=te(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(u,A)=>(o(),l("div",Bo,[!c.album.album_has_artworks||c.album._count.album_has_artworks===0?(o(),l("div",zo,Vo)):r("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===1?(o(),l("div",Do,[e("div",No,[u.applyExplicitFilter(f(F),c.album.album_has_artworks[0].artworks.is_explicit)?(o(),l("span",qo,a(u.$t("explicitContent")),1)):r("",!0),e("div",Ho,[c.album.album_has_artworks&&c.album._count.album_has_artworks===1?(o(),l("img",{key:0,src:u.artworkThumb(c.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,c.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),c.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...v)=>u.imageLoadError&&u.imageLoadError(...v))},null,42,Go)):r("",!0)])])])):r("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===2?(o(),l("div",Wo,[(o(!0),l(Q,null,X(c.album.album_has_artworks,(v,$)=>(o(),l("div",{key:$,class:R(w[2][$])},[e("div",Jo,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",Ko,a(u.$t("explicitContent")),1)):r("",!0),e("div",Yo,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,Qo)])])],2))),128)),Xo,Zo])):r("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===3?(o(),l("div",el,[(o(!0),l(Q,null,X(c.album.album_has_artworks,(v,$)=>(o(),l("div",{key:$,class:R(w[3][$])},[e("div",tl,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",ol,a(u.$t("explicitContent")),1)):r("",!0),e("div",ll,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,sl)])])],2))),128))])):r("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===4?(o(),l("div",al,[(o(!0),l(Q,null,X(c.album.album_has_artworks,(v,$)=>(o(),l("div",{key:$},[e("div",nl,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",il,a(u.$t("explicitContent")),1)):r("",!0),e("div",rl,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,ul)])])]))),128))])):r("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks>4?(o(),l("div",dl,[(o(!0),l(Q,null,X(c.album.album_has_artworks,(v,$)=>(o(),l("div",{key:$},[$<3?(o(),l("div",cl,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",ml,a(u.$t("explicitContent")),1)):r("",!0),e("div",vl,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,fl)])])):(o(),l("div",pl,[e("span",hl,"+"+a(c.album._count.album_has_artworks-4),1),e("div",wl,[e("img",{src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),onError:A[5]||(A[5]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,bl)])]))]))),128))])):r("",!0)]))}},_l=oe(gl,[["__scopeId","data-v-eccd717d"]]),kl={class:"mb-2 w-full"},yl={key:0,class:"flex flex-row justify-between"},$l={class:"flex flex-row"},xl={key:0},Ml={key:1,class:"flex flex-row justify-between"},Cl={class:"flex flex-row"},Il={class:"flex flex-row gap-2"},El={class:"flex flex-row gap-2"},Ll={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},Al=["onClick"],Pl={class:"flex flex-row pb-1 mt-4 font-bold"},Fl={class:"text-xs font-normal"},Tl={__name:"Album",props:{userId:{type:Number,default:0}},setup(c){const F=c,w=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),v=ve(u,A());Me(()=>{U()}),ue(()=>{S()});const $=p(!0),_=p("artwork"),y=p(0),i=p(!1),U=async()=>{if(w.i502p00r0)i.value=!0;else{console.log(_.value);const[E,j]=await v.proCanCreateAlbum({type:_.value});console.log(E),j?i.value=!1:i.value=E}},b=p([]),t=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),T=p({artwork:0}),S=async()=>{$.value=!0;const[E,j,V]=await v.fetchAlbums(F.userId,_.value,t.value.pagination.page===0?t.value.pagination.firstLoad:t.value.pagination.perPage,t.value.pagination.page);if(V)z();else{E.length||(t.value.manageMode=!1,s()),E.forEach(I=>{b.value.push(I)}),t.value.pagination.page+=t.value.pagination.firstLoad/t.value.pagination.perPage,t.value.showLoadMore=j;const[L]=await v.countArtworkAlbums(F.userId);T.value.artwork=L}$.value=!1},g=async()=>await S(),h=p(!1),s=()=>{h.value=!0,t.value.showLoadMore=!1},k=p(!1),z=()=>{$.value=!1,k.value=!0,t.value.showLoadMore=!1},H=async()=>{$.value=!1,h.value=!1,k.value=!1,t.value.pagination.page=0,b.value=[],await S()},W=p(!1);let m;const C=async()=>{await U(),he().splash(m,W,"created-alert"),await H()},B=p(null),n=()=>{B.value.fetch(y.value),ee().openModal("album-edit-form-modal")},D=p(null),G=E=>{D.value.fetchInfo(),b.value.forEach(j=>{j.id===E.id&&(j.name=E.name,j.description=E.description,j.is_public=E.isPublic)})},ie=()=>{D.value.removeItems()},J=p([]),se=E=>{J.value=E},re=async()=>{if(y.value!==0){const[E,j]=await v.deleteAlbum(y.value);E&&(await U(),y.value=0,H())}},de=E=>{t.value.showManageButton=!E,t.value.manageMode=!1},ce=()=>{y.value=0,t.value.showManageButton=!1,t.value.manageMode=!1};return(E,j)=>(o(),l("div",null,[e("div",kl,[y.value?r("",!0):(o(),l("div",yl,[e("div",$l,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":_.value==="artwork"}]),onClick:j[0]||(j[0]=V=>_.value="artwork")},[O(a(E.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",_.value==="artwork"?"theme-color":"button-color text-white"])},a(T.value.artwork),3)],2)]),f(w).loggedIn&&f(w).user.id===c.userId?(o(),l("div",xl,[e("div",{class:"flex flex-row icon-button",onClick:j[1]||(j[1]=V=>i.value?E.openModal("album-form-modal"):null)},[d(x,{name:"i-ion-add-outline"}),i.value?r("",!0):(o(),q(fe,{key:0,class:"ml-1"}))])])):r("",!0)])),y.value?(o(),l("div",Ml,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>ce())},[d(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",Cl,[M(e("div",Il,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>t.value.manageMode=!t.value.manageMode)},[d(x,{name:t.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(t.value.manageMode?E.$t("quit"):E.$t("manage")),1)]),M(e("button",{class:R(["flex flex-row",J.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>J.value.length>0?E.openModal("item-deletion-confirm-modal"):null)},[d(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(E.$t("albums.removeSelected")),1)],2),[[P,t.value.manageMode]])],512),[[P,f(w).loggedIn&&f(w).user.id===c.userId&&t.value.showManageButton]]),M(e("div",El,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>n())},[d(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>E.openModal("album-deletion-confirm-modal"))},[d(x,{name:"i-akar-icons-trash-bin"})])],512),[[P,f(w).loggedIn&&f(w).user.id===c.userId&&!t.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(E.$t("albums.manageModeActiveMessage")),513),[[P,t.value.manageMode]])]),y.value?r("",!0):(o(),l("div",Ll,[(o(!0),l(Q,null,X(b.value,V=>(o(),l("div",{key:V.id,class:R(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:L=>y.value=V.id},[V.type==="artwork"?(o(),q(_l,{key:0,album:V},null,8,["album"])):r("",!0),e("div",Pl,[V.is_public?r("",!0):(o(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Fl,a(V.name),1)])],10,Al))),128))])),t.value.showLoadMore&&!y.value?(o(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:g},a(E.$t("loadMore")),1)):r("",!0),d(ne,{loading:$.value,empty:h.value,error:k.value,fetch:S},null,8,["loading","empty","error"]),!$.value&&!y.value?(o(),q(co,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:_.value,class:"modal",onCreated:C},null,8,["category"])):r("",!0),M(d(pe,{id:"created-alert",text:E.$t("albums.created")},null,8,["text"]),[[P,W.value]]),!$.value&&y.value?(o(),q(Ro,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:B,"modal-id":"album-edit-form-modal","album-id":y.value,class:"modal",onUpdated:G},null,8,["album-id"])):r("",!0),d(me,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:re},null,8,["message"]),d(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:ie},null,8,["message"]),y.value&&!$.value?(o(),q(_o,{key:4,id:y.value,ref_key:"albumDetailRef",ref:D,"manage-mode":t.value.manageMode,onOnAlbumEmpty:de,onFeedManageList:se},null,8,["id","manage-mode"])):r("",!0)]))}},Sl=oe(Tl,[["__scopeId","data-v-2c84c220"]]),jl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ul={class:"title"},Rl=["placeholder"],Bl=["placeholder"],zl=["for"],Ol=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Vl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Dl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Nl=[Dl],ql={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Hl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Gl=[Hl],Wl={class:"flex flex-row gap-x-1"},Jl={class:"flex flex-row gap-2 justify-end mt-2"},Kl={type:"submit",class:"primary-button"},Yl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(c,{emit:F}){const w=c,u=te(),{oApiConfiguration:A,fetchOptions:v}=Z(),$=we(A,v()),{t:_}=ye(),y="create-collection-form",i=p({title:"",description:"",isPublic:1,category:"artwork"}),U=async()=>{xe().validate(y,_);try{let b=!1,t={};if(w.category){const[T,S,g]=await $.createCollection(w.category,i.value);g||(b=T,t=S)}b&&(ee().closeModal(w.modalId),F("created",t))}catch{}};return(b,t)=>(o(),l("div",null,[e("div",jl,[e("div",null,[e("span",Ul,a(b.$t("collections.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:t[4]||(t[4]=K(T=>U(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=T=>i.value.title=T),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:b.$t("title")},null,8,Rl),[[ae,i.value.title]])]),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=T=>i.value.description=T),class:"form-input theme-color-secondary",placeholder:b.$t("description"),"data-gramm":"false"},null,8,Bl),[[ae,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:t[2]||(t[2]=T=>f(u).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[Ol,i.value.isPublic?(o(),l("span",Vl,Nl)):r("",!0),i.value.isPublic?r("",!0):(o(),l("span",ql,Gl))]),e("div",Wl,[e("span",{class:R(["ml-2",{"leading-6":!f(u).i502p00r0}])},a(b.$t("private")),3),d(fe)])],8,zl),e("div",Jl,[e("button",{class:"cancel-button",onClick:t[3]||(t[3]=K(T=>b.closeModal(c.modalId),["prevent"]))},a(b.$t("cancel")),1),e("button",Kl,a(b.$t("create")),1)])],32)])])]))}},Ql={id:"lists"},Xl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Zl={class:"text-base font-bold mb-2"},es={class:"mb-2"},ts=O(),os={class:"italic"},ls=["id"],ss={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(c,{expose:F,emit:w}){const u=c,{oApiConfiguration:A,fetchOptions:v}=Z(),$=we(A,v()),_=p(u.id);Te(()=>u.id,(m,C)=>{_.value=m}),ue(async()=>{await U()});const y=p(!0),i=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),U=async()=>{y.value=!0,await b(),await t(),y.value=!1},b=async()=>{const[m,C]=await $.getInfo(_.value);i.value.info=m.data},t=async()=>{const[m,C,B]=await $.listCollectionItems({collectionId:_.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});C?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,m!==null&&m.length?(m.forEach(n=>{i.value.list.push(n.artworks)}),w("onCollectionEmpty",!1)):(i.value.empty=!0,w("onCollectionEmpty",!0))},T=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},S=p([]),g=m=>{S.value=m,w("feedManageList",m)},h=p(!1);let s;const k=async()=>{const[m,C]=await $.removeItem({collectionId:u.id,type:u.type,workId:S.value});C||(he().splash(s,h,"item-removed-alert"),T(),await U(),w("feedManageList",[]))},z=p("collection"),H=p(null),W=(m,C=!1)=>{H.value.view(m,C),ee().openModal(z.value+"-modal")};return F({fetchInfo:b,removeItem:k}),(m,C)=>(o(),l("div",Ql,[e("div",{class:"hidden",onClick:C[0]||(C[0]=B=>b())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=B=>k())}),e("div",Xl,[e("div",Zl,a(i.value.info.name),1),e("div",es,a(i.value.info.description),1),e("div",null,[e("b",null,a(m.$t("private"))+":",1),ts,e("span",os,a(i.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,a(m.$t("createdAt")),1),O(" "+a(m.formatDate(i.value.info.created_at)),1)])]),M(e("div",null,[(o(),q(Ce,null,[M(d(Ie,{"section-class":"work-grid",works:i.value.list,view:W,"manage-mode":c.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[P,!i.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=B=>t())},a(m.$t("loadMore")),513),[[P,i.value.loadMore]])],512),[[P,!y.value]]),d(ne,{loading:y.value,empty:i.value.empty,error:!1,fetch:U},null,8,["loading","empty"]),y.value?r("",!0):(o(),l("div",{key:0,id:z.value+"-modal",class:"modal work-view"},[d($e,{ref_key:"collectionModalViewRef",ref:H,section:z.value},null,8,["section"])],8,ls)),M(d(pe,{id:"item-removed-alert",text:m.$t("collections.itemRemoved")},null,8,["text"]),[[P,h.value]])]))}},as=oe(ss,[["__scopeId","data-v-28a81b65"]]),ns={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},is={class:"title"},rs=["placeholder"],us=["placeholder"],ds=["for"],cs=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ms={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},vs=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),fs=[vs],ps={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},hs=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ws=[hs],bs={class:"flex flex-row gap-x-1"},gs={class:"flex flex-row gap-2 justify-end mt-2"},_s={type:"submit",class:"primary-button"},ks={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(c,{expose:F,emit:w}){const u=c,A=te(),{t:v}=ye(),{oApiConfiguration:$,fetchOptions:_}=Z(),y=we($,_()),i=p(!0),U=async g=>{if(g){S(),i.value=!0;const[h,s]=await y.getInfo(g);if(!s){const k=h.data;t.value.id=g,t.value.name=k.name,t.value.description=k.description,t.value.isPublic=!!k.is_public,i.value=!1}}},b="edit-collection-form",t=p({id:0,name:"",description:"",isPublic:!1}),T=async()=>{xe().validate(b,v);const[g,h]=await y.update({id:t.value.id,name:t.value.name,description:t.value.description,isPublic:t.value.isPublic?1:0});h||(ee().closeModal(u.modalId),w("updated",t.value),S())},S=()=>{t.value={id:0,name:"",description:"",isPublic:0}};return F({fetch:U}),(g,h)=>(o(),l("div",null,[e("div",{class:"hidden",onClick:h[0]||(h[0]=s=>U(0))}),e("div",ns,[e("div",null,[e("span",is,a(g.$t("collections.edit.form.title")),1),i.value?r("",!0):(o(),l("form",{key:0,id:b,class:"mt-2",onSubmit:h[5]||(h[5]=K(s=>T(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":h[1]||(h[1]=s=>t.value.name=s),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,rs),[[ae,t.value.name]])]),M(e("textarea",{"onUpdate:modelValue":h[2]||(h[2]=s=>t.value.description=s),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,us),[[ae,t.value.description]]),e("label",{for:t.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:h[3]||(h[3]=s=>f(A).i502p00r0?t.value.isPublic=!t.value.isPublic:t.value.isPublic=!0)},[cs,t.value.isPublic?(o(),l("span",ms,fs)):r("",!0),t.value.isPublic?r("",!0):(o(),l("span",ps,ws))]),e("div",bs,[e("span",{class:R(["ml-2",{"leading-6":!f(A).i502p00r0}])},a(g.$t("private")),3),d(fe)])],8,ds),e("div",gs,[e("button",{class:"cancel-button",onClick:h[4]||(h[4]=K(s=>g.closeModal(c.modalId),["prevent"]))},a(g.$t("cancel")),1),e("button",_s,a(g.$t("save")),1)])],32))])])]))}},Ae=c=>(_e("data-v-a484fb7b"),c=c(),ke(),c),ys={class:"mb-2"},$s={key:0},xs=Ae(()=>e("img",{src:Re,class:"rounded"},null,-1)),Ms=[xs],Cs={key:1},Is={class:"relative text-center"},Es={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ls={class:"overflow-hidden rounded-md"},As=["src"],Ps={key:2,class:"imgrid"},Fs={class:"relative text-center"},Ts={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ss={class:"overflow-hidden rounded-md"},js=["src"],Us=Ae(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Rs=Ae(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Bs={key:3,class:"imgrid"},zs={class:"relative text-center"},Os={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Vs={class:"overflow-hidden rounded-md"},Ds=["src"],Ns={key:4,class:"imgrid"},qs={class:"relative text-center"},Hs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Gs={class:"overflow-hidden rounded-md"},Ws=["src"],Js={key:5,class:"imgrid"},Ks={key:0,class:"relative text-center"},Ys={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Qs={class:"overflow-hidden rounded-md"},Xs=["src"],Zs={key:1,class:"relative text-center"},ea={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},ta={class:"overflow-hidden rounded-md"},oa=["src"],la={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(c){const F=te(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(u,A)=>(o(),l("div",ys,[!c.collection.collection_has_artworks||c.collection._count.collection_has_artworks===0?(o(),l("div",$s,Ms)):r("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===1?(o(),l("div",Cs,[e("div",Is,[u.applyExplicitFilter(f(F),c.collection.collection_has_artworks[0].artworks.is_explicit)?(o(),l("span",Es,a(u.$t("explicitContent")),1)):r("",!0),e("div",Ls,[c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===1?(o(),l("img",{key:0,src:u.artworkThumb(c.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,c.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),c.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...v)=>u.imageLoadError&&u.imageLoadError(...v))},null,42,As)):r("",!0)])])])):r("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===2?(o(),l("div",Ps,[(o(!0),l(Q,null,X(c.collection.collection_has_artworks,(v,$)=>(o(),l("div",{key:$,class:R(w[2][$])},[e("div",Fs,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",Ts,a(u.$t("explicitContent")),1)):r("",!0),e("div",Ss,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,js)])])],2))),128)),Us,Rs])):r("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===3?(o(),l("div",Bs,[(o(!0),l(Q,null,X(c.collection.collection_has_artworks,(v,$)=>(o(),l("div",{key:$,class:R(w[3][$])},[e("div",zs,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",Os,a(u.$t("explicitContent")),1)):r("",!0),e("div",Vs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,Ds)])])],2))),128))])):r("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===4?(o(),l("div",Ns,[(o(!0),l(Q,null,X(c.collection.collection_has_artworks,(v,$)=>(o(),l("div",{key:$},[e("div",qs,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",Hs,a(u.$t("explicitContent")),1)):r("",!0),e("div",Gs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,Ws)])])]))),128))])):r("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks>4?(o(),l("div",Js,[(o(!0),l(Q,null,X(c.collection.collection_has_artworks,(v,$)=>(o(),l("div",{key:$},[$<3?(o(),l("div",Ks,[u.applyExplicitFilter(f(F),v.artworks.is_explicit)?(o(),l("span",Ys,a(u.$t("explicitContent")),1)):r("",!0),e("div",Qs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,Xs)])])):(o(),l("div",Zs,[e("span",ea,"+"+a(c.collection._count.collection_has_artworks-4),1),e("div",ta,[e("img",{src:u.artworkThumb(v.artworks.artwork_assets[0].bucket,v.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":u.applyExplicitFilter(f(F),v.artworks.is_explicit)}]),onError:A[5]||(A[5]=(..._)=>u.imageLoadError&&u.imageLoadError(..._))},null,42,oa)])]))]))),128))])):r("",!0)]))}},sa=oe(la,[["__scopeId","data-v-a484fb7b"]]),aa={class:"mb-2 w-full"},na={key:0,class:"flex flex-row justify-between"},ia={class:"flex flex-row"},ra={key:0},ua={key:1,class:"flex flex-row justify-between"},da={class:"flex flex-row"},ca={class:"flex flex-row gap-2"},ma={class:"flex flex-row gap-2"},va={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},fa=["onClick"],pa={class:"flex flex-row pb-1 mt-4 font-bold"},ha={class:"text-xs font-normal"},wa={__name:"Collection",props:{userId:{type:Number,default:0}},setup(c){const F=c,w=te();ue(()=>{S()});const{oApiConfiguration:u,fetchOptions:A}=Z(),v=we(u,A());Me(()=>{U()});const $=p(!0),_=p("artwork"),y=p(0),i=p(!1),U=async()=>{if(w.i502p00r0)i.value=!0;else{const[E,j]=await v.proCanCreateCollection({type:_.value});j?i.value=!1:i.value=E}},b=p([]),t=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),T=p({artwork:0}),S=async()=>{$.value=!0;const[E,j,V]=await v.fetchCollections({userId:F.userId,type:_.value,pagination:{page:t.value.pagination.page,perPage:t.value.pagination.page===0?t.value.pagination.firstLoad:t.value.pagination.perPage}});if(V)z();else{E.length||(t.value.manageMode=!1,s()),E.forEach(I=>{b.value.push(I)}),t.value.pagination.page+=t.value.pagination.firstLoad/t.value.pagination.perPage,t.value.showLoadMore=j;const[L]=await v.countArtworkCollections(F.userId);T.value.artwork=L}$.value=!1},g=async()=>await S(),h=p(!1),s=()=>{h.value=!0,t.value.showLoadMore=!1},k=p(!1),z=()=>{$.value=!1,k.value=!0,t.value.showLoadMore=!1},H=async()=>{$.value=!1,h.value=!1,k.value=!1,t.value.pagination.page=0,b.value=[],await S()},W=E=>{t.value.showManageButton=!0,E&&(t.value.showManageButton=!1)},m=p(!1);let C;const B=async()=>{await U(),he().splash(C,m,"created-alert"),await H()},n=p(null),D=()=>{n.value.fetch(y.value),ee().openModal("collection-edit-form-modal")},G=p(null),ie=E=>{G.value.fetchInfo(),b.value.forEach(j=>{j.id===E.id&&(j.name=E.name,j.description=E.description,j.is_public=E.isPublic)})},J=p([]),se=E=>{J.value=E},re=()=>{G.value.removeItem()},de=async()=>{if(y.value!==0){const[E,j]=await v.deleteCollection(y.value);E&&(await U(),y.value=0,H())}},ce=()=>{y.value=0,t.value.showManageButton=!1,t.value.manageMode=!1};return(E,j)=>(o(),l("div",null,[e("div",aa,[y.value?r("",!0):(o(),l("div",na,[e("div",ia,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":_.value==="artwork"}]),onClick:j[0]||(j[0]=V=>_.value="artwork")},[O(a(E.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",_.value==="artwork"?"theme-color":"button-color text-white"])},a(T.value.artwork),3)],2)]),f(w).loggedIn&&f(w).user.id===c.userId?(o(),l("div",ra,[e("div",{class:"flex flex-row icon-button",onClick:j[1]||(j[1]=V=>i.value?E.openModal("collection-form-modal"):null)},[d(x,{name:"i-ion-add-outline"}),i.value?r("",!0):(o(),q(fe,{key:0,class:"ml-1"}))])])):r("",!0)])),y.value?(o(),l("div",ua,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:j[2]||(j[2]=V=>ce())},[d(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",da,[M(e("div",ca,[e("button",{class:"action-button secondary-button",onClick:j[3]||(j[3]=V=>t.value.manageMode=!t.value.manageMode)},[d(x,{name:t.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(t.value.manageMode?E.$t("quit"):E.$t("manage")),1)]),M(e("button",{class:R(["flex flex-row",J.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:j[4]||(j[4]=V=>J.value.length>0?E.openModal("item-deletion-confirm-modal"):null)},[d(x,{name:"i-akar-icons-trash-bin"}),O(" "+a(E.$t("collections.removeSelected")),1)],2),[[P,t.value.manageMode]])],512),[[P,f(w).loggedIn&&f(w).user.id===c.userId&&t.value.showManageButton]]),M(e("div",ma,[e("button",{class:"icon-button",onClick:j[5]||(j[5]=V=>D())},[d(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:j[6]||(j[6]=V=>E.openModal("collection-deletion-confirm-modal"))},[d(x,{name:"i-akar-icons-trash-bin"})])],512),[[P,f(w).loggedIn&&f(w).user.id===c.userId&&!t.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(E.$t("collections.manageModeActiveMessage")),513),[[P,t.value.manageMode]])]),y.value?r("",!0):(o(),l("div",va,[(o(!0),l(Q,null,X(b.value,V=>(o(),l("div",{key:V.id,class:R(["p-3 rounded-md cursor-pointer",V.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:L=>y.value=V.id},[V.type==="artwork"?(o(),q(sa,{key:0,collection:V},null,8,["collection"])):r("",!0),e("div",pa,[V.is_public?r("",!0):(o(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",ha,a(V.name),1)])],10,fa))),128))])),t.value.showLoadMore&&!y.value?(o(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:g},a(E.$t("loadMore")),1)):r("",!0),d(ne,{loading:$.value,empty:h.value,error:k.value,fetch:S},null,8,["loading","empty","error"]),!$.value&&!y.value?(o(),q(Yl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:_.value,class:"modal",onCreated:B},null,8,["category"])):r("",!0),M(d(pe,{id:"created-alert",text:E.$t("collections.created")},null,8,["text"]),[[P,m.value]]),!$.value&&y.value?(o(),q(ks,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:n,"modal-id":"collection-edit-form-modal","collection-id":y.value,class:"modal",onUpdated:ie},null,8,["collection-id"])):r("",!0),d(me,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:de},null,8,["message"]),d(me,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:re},null,8,["message"]),y.value&&!$.value?(o(),q(as,{key:4,id:y.value,ref_key:"collectionDetailRef",ref:G,"manage-mode":t.value.manageMode,type:_.value,onOnCollectionEmpty:W,onFeedManageList:se},null,8,["id","manage-mode","type"])):r("",!0)]))}},ba=oe(wa,[["__scopeId","data-v-9e4fc7e6"]]),ga={class:"text-lg font-bold"},_a={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ka={class:"flex flex-row w-full"},ya=["src"],$a={class:"flex flex-col justify-between p-3 w-full text-white"},xa={class:"flex flex-col"},Ma={class:"font-bold"},Ca={class:"text-xxs"},Ia={class:"flex flex-row w-full"},Ea={key:0,class:"flex flex-row"},La=["onClick"],Aa=["onMouseover","onClick"],Pa={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(c){const F=c,w=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),v=Ee(u,A());ue(()=>{t()});const $=p([]),_=p(!0),y=p({page:0,perPage:12}),i=p(!1),U=p(!1),b=p(!1),t=async()=>{T(),_.value=!0;const[g,h]=await v.getFollowerList({userId:F.userId,pagination:{page:y.value.page,perPage:y.value.perPage}});h?i.value=!0:(g.followers.length||(U.value=!0),g.followers.forEach(s=>{$.value.push(s)}),y.value.page+=1,g.pagination.next_previous.next_page?b.value=!0:b.value=!1),_.value=!1},T=()=>{U.value=!1,i.value=!1},S=p(0);return(g,h)=>{const s=ge;return o(),l("div",null,[e("div",ga,a(g.$t("followers")),1),e("div",_a,[(o(!0),l(Q,null,X($.value,(k,z)=>(o(),q(s,{key:k.id,to:"/profile/"+k.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(k.cover_bucket&&k.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g.avatarCoverUrl(k.cover_bucket,k.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+f(je)+");background-size:cover;")},{default:Y(()=>[e("div",ka,[e("img",{src:g.avatarCoverUrl(k.avatar_bucket,k.avatar_filename),class:"avatar",onError:h[0]||(h[0]=(...H)=>g.imageLoadError&&g.imageLoadError(...H))},null,40,ya),e("div",$a,[e("div",xa,[e("span",Ma,a(k.name),1),e("span",Ca,a(k.pen_name),1)]),e("div",Ia,[f(w).loggedIn&&k.id!==f(w).user.id?(o(),l("div",Ea,[M(e("div",{class:"flex flex-row",onClick:K(H=>g.followUser(z,k.id),["prevent"])},[d(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,La),[[P,!k.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:H=>S.value=k.id,onMouseout:h[1]||(h[1]=H=>S.value=0),onClick:K(H=>g.unfollowUser(z,k.id),["prevent"])},[M(d(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,S.value!==k.id]]),M(d(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,S.value&&S.value===k.id]])],40,Aa),[[P,k.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:h[2]||(h[2]=k=>t())},a(g.$t("loadMore")),513),[[P,b.value]]),d(ne,{loading:_.value,empty:U.value,error:i.value,fetch:t},null,8,["loading","empty","error"])])}}},Fa=oe(Pa,[["__scopeId","data-v-b2599f1b"]]),Ta={class:"text-lg font-bold"},Sa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ja={class:"flex flex-row w-full"},Ua=["src"],Ra={class:"flex flex-col justify-between p-3 w-full text-white"},Ba={class:"flex flex-col"},za={class:"font-bold"},Oa={class:"text-xxs"},Va={class:"flex flex-row w-full"},Da={key:0,class:"flex flex-row"},Na=["onClick"],qa=["onMouseover","onClick"],Ha={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(c){const F=c,w=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),v=Ee(u,A());ue(()=>{T()});const $=async()=>{_.value=[],i.value.page=0,await T()},_=p([]),y=p(!0),i=p({page:0,perPage:12}),U=p(!1),b=p(!1),t=p(!1),T=async()=>{S(),y.value=!0;const[h,s]=await v.getFollowingList({userId:F.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});s?U.value=!0:(h.followings.length||(b.value=!0),h.followings.forEach(k=>{_.value.push(k)}),i.value.page+=1,h.pagination.next_previous.next_page?t.value=!0:t.value=!1),y.value=!1},S=()=>{b.value=!1,U.value=!1},g=p(0);return(h,s)=>{const k=ge;return o(),l("div",null,[e("div",Ta,a(h.$t("followings")),1),e("div",Sa,[(o(!0),l(Q,null,X(_.value,(z,H)=>(o(),q(k,{key:z.id,to:"/profile/"+z.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(z.cover_bucket&&z.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+h.avatarCoverUrl(z.cover_bucket,z.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+f(je)+");background-size:cover;")},{default:Y(()=>[e("div",ja,[e("img",{src:h.avatarCoverUrl(z.avatar_bucket,z.avatar_filename),class:"avatar",onError:s[0]||(s[0]=(...W)=>h.imageLoadError&&h.imageLoadError(...W))},null,40,Ua),e("div",Ra,[e("div",Ba,[e("span",za,a(z.name),1),e("span",Oa,a(z.pen_name),1)]),e("div",Va,[f(w).loggedIn&&z.id!==f(w).user.id?(o(),l("div",Da,[M(e("div",{class:"flex flex-row",onClick:K(W=>h.followUser(H,z.id),["prevent"])},[d(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Na),[[P,!z.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:W=>g.value=z.id,onMouseout:s[1]||(s[1]=W=>g.value=0),onClick:K(W=>h.unfollowUser(H,z.id),["prevent"])},[M(d(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,g.value!==z.id]]),M(d(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,g.value&&g.value===z.id]])],40,qa),[[P,z.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"primary-button mt-4",onClick:s[2]||(s[2]=z=>T())},a(h.$t("loadMore")),513),[[P,t.value]]),d(ne,{loading:y.value,empty:b.value,error:U.value,fetch:$},null,8,["loading","empty","error"])])}}},Ga=oe(Ha,[["__scopeId","data-v-5ff9c687"]]),Wa=c=>(_e("data-v-c5fd5a2e"),c=c(),ke(),c),Ja=["src"],Ka={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ya={class:"flex-row justify-between hidden-md-flex"},Qa={class:"mr-6 w-1/5"},Xa=["src"],Za={class:"mt-2"},en={class:"flex flex-row"},tn={class:"flex flex-row"},on=O("\xA0 "),ln=O("\xA0 "),sn={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},an={class:"flex flex-col w-full"},nn={class:"flex flex-row w-full"},rn={class:"w-9/12"},un={class:"text-base font-semibold"},dn=O("\xA0 "),cn={class:"mr-2 italic"},mn={class:"flex flex-row mt-2"},vn={key:0,class:"mr-1"},fn={class:"flex flex-row"},pn={class:"mr-1"},hn={key:0,class:"flex flex-row"},wn=O(" he/his "),bn={key:1,class:"flex flex-row"},gn=O(" she/her "),_n={class:"float-right w-3/12 text-right"},kn={class:"flex flex-row shadow-md primary-button"},yn={class:"leading-4"},$n={key:1,class:"mt-4"},xn=["href"],Mn=["href"],Cn=["href"],In=["href"],En=["href"],Ln={key:0,class:"mt-4"},An=["id","innerHTML"],Pn=["id"],Fn={class:"flex flex-col text-center md:hidden"},Tn=["src"],Sn={class:"mt-4 text-base font-semibold"},jn={class:"flex flex-row justify-center mt-4"},Un={key:0,class:"flex flex-row mr-1"},Rn={class:"mr-1"},Bn={key:0,class:"flex flex-row"},zn=O(" he/his "),On={key:1,class:"flex flex-row"},Vn=O(" she/her "),Dn={key:0,class:"mx-2 mt-4 text-center"},Nn=["id","innerHTML"],qn=["id"],Hn={key:1,class:"flex flex-row justify-center mt-4"},Gn=["href"],Wn=["href"],Jn=["href"],Kn=["href"],Yn=["href"],Qn={class:"flex flex-row justify-center w-full md:hidden"},Xn=O("\xA0 "),Zn=O("\xA0 "),ei={class:"flex flex-row"},ti={class:"flex flex-row"},oi={class:"mt-2"},li={class:"flex flex-row justify-center md:hidden"},si={class:"flex flex-row justify-between mt-2 md:mt-6"},ai={class:"hidden flex-col lg:w-1/5 md:flex"},ni={class:"profile-navigation_wrapper"},ii={class:"hidden-lg-flex"},ri=Wa(()=>e("span",{class:"hidden-lg-flex"},null,-1)),ui={class:"profile-navigation_wrapper"},di={class:"hidden-lg-flex"},ci={class:"hidden-lg-flex"},mi={class:"profile-navigation_wrapper"},vi={class:"hidden-lg-flex"},fi={class:"hidden-lg-flex"},pi={class:"w-full md:ml-6"},hi={key:0},wi={class:"flex flex-row w-full"},bi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},gi={key:1},_i={key:2},ki={key:3},yi={key:4},$i={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(c){const F=c,w=te(),{oApiConfiguration:u,fetchOptions:A}=Z(),v=Ee(u,A()),$=ve(u,A()),_=we(u,A()),y=qe(),i=Fe(),{o:U}=y.query,b=p(!0),t=U!=null?p(U):p("dashboard"),T=p("artwork"),S=He(()=>F.userLogon&&w.loggedIn?w.user.id:F.id),g=p({manageMode:!1,showManageMode:!0});ue(async()=>{await z()});const h=L=>{t.value=L,g.value.manageMode=!1,U!=null&&i.push("/profile")},s=p({}),k=p({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),z=async()=>{b.value=!0;try{const[L]=await v.getInfo(S.value);if(s.value=L,w.loggedIn&&w.user.id!==S.value){const[Ve]=await v.isFollowing(S.value);J.value=Ve.is_following}const[I]=await v.countFeeds(S.value);k.value.feed=I;const[le]=await v.countArtworks(S.value);k.value.artwork=le;const[N]=await v.countFollowers(S.value);k.value.followers=N;const[Be]=await v.countFollowings(S.value);k.value.followings=Be;const[ze]=await $.countAlbums(S.value);k.value.album=ze;const[Oe]=await _.countCollections(S.value);k.value.collection=Oe}catch{}b.value=!1},H=p(null),W=p([]),m=L=>{W.value=L},C=()=>{g.value.showManageMode=!1},B=p(null),n=()=>{ee().openModal("album-selection-modal")},D=p(!1);let G;const ie=()=>{he().splash(G,D,"item-added-to-album-alert")},J=p(!1),se=p(null),re=p("i-ri-user-follow-fill"),de=(L,I)=>{re.value=L,se.value=I},ce=async L=>{const[I,le]=await v.follow(L);le||(J.value=!0)},E=async L=>{const[I,le]=await v.unfollow(L);le||(J.value=!1)},j=p(!0),V=(L,I,le,N)=>{j.value=!1,Ue().readMore(L,I,le,N)};return(L,I)=>{const le=ge;return o(),q(Je,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:Y(()=>[e("div",null,[e("img",{src:L.avatarCoverUrl(s.value.cover_bucket,s.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:I[0]||(I[0]=(...N)=>L.defaultCoverImage&&L.defaultCoverImage(...N))},null,40,Ja),f(w).loggedIn&&f(w).user.id===s.value.id?(o(),q(le,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:Y(()=>[d(x,{name:"i-ph-gear-six"})]),_:1})):r("",!0)]),e("div",Ka,[e("div",Ya,[e("div",Qa,[e("img",{src:L.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:I[1]||(I[1]=(...N)=>L.defaultCoverImage&&L.defaultCoverImage(...N))},null,40,Xa),e("div",Za,[f(w).loggedIn&&s.value.id!==f(w).user.id?(o(),l("div",{key:0,class:R(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":J.value}]),onClick:I[2]||(I[2]=N=>J.value?E(s.value.id):ce(s.value.id)),onMouseover:I[3]||(I[3]=N=>de("i-ri-user-unfollow-fill",L.$t("unfollow"))),onMouseleave:I[4]||(I[4]=N=>de("i-ri-user-follow-fill",L.$t("following")))},[M(e("div",en,[d(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(L.$t("follow")),1)],512),[[P,!J.value]]),M(e("div",tn,[d(x,{name:re.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(se.value===null?L.$t("following"):se.value),1)],512),[[P,J.value]])],34)):r("",!0),e("div",{class:R(["flex-row justify-center border hidden-md-flex",s.value.id==f(w).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:I[5]||(I[5]=N=>t.value="followerList")},[e("b",null,a(k.value.followers),1),on,e("i",null,a(L.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:I[6]||(I[6]=N=>t.value="followingList")},[e("b",null,a(k.value.followings),1),ln,e("i",null,a(L.$t("following").toLowerCase()),1)])],2)])]),e("div",sn,[e("div",an,[e("div",nn,[e("div",rn,[e("div",null,[e("span",un,a(s.value.name),1),dn,e("span",cn,a(s.value.username),1)]),e("div",mn,[s.value.pen_name&&s.value.pen_name!==""?(o(),l("div",vn,[e("span",fn,[d(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(s.value.pen_name),1)])])):r("",!0),e("div",pn,[s.value.gender==="m"?(o(),l("span",hn,[d(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),wn])):r("",!0),s.value.gender==="f"?(o(),l("span",bn,[d(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),gn])):r("",!0)])])]),e("div",_n,[f(w).loggedIn&&f(w).user.id===s.value.id?(o(),q(le,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:Y(()=>[e("button",kn,[d(x,{name:"i-ph-gear-six",class:"mr-2"}),e("span",yn,a(L.$t("profile.setting")),1)])]),_:1})):r("",!0),s.value.user_socials?(o(),l("div",$n,[s.value.user_socials.facebook?(o(),l("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,xn)):r("",!0),s.value.user_socials.instagram?(o(),l("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Mn)):r("",!0),s.value.user_socials.twitter?(o(),l("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Cn)):r("",!0),s.value.user_socials.youtube?(o(),l("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,In)):r("",!0),s.value.user_socials.patreon?(o(),l("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"heart",class:"text-xl"})],8,En)):r("",!0)])):r("",!0)])]),e("div",null,[s.value.bio?(o(),l("p",Ln,[e("div",{id:"user-bio-"+s.value.id,innerHTML:s.value.bio.length>300?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,An),s.value.bio.length>300?(o(),l("a",{key:0,id:"user-bio-read-more-"+s.value.id,class:"href",onClick:I[7]||(I[7]=K(N=>V(s.value.bio,s.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},a(L.$t("readMore")),9,Pn)):r("",!0)])):r("",!0)])])])]),e("div",Fn,[e("img",{src:L.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:I[8]||(I[8]=(...N)=>L.imageLoadError&&L.imageLoadError(...N))},null,40,Tn),e("div",Sn,a(s.value.name),1),e("div",null,a(s.value.username),1),e("div",jn,[s.value.pen_name?(o(),l("span",Un,[d(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(s.value.pen_name&&s.value.pen_name!==""?s.value.pen_name:"-"),1)])):r("",!0),e("div",Rn,[s.value.gender==="m"?(o(),l("span",Bn,[d(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),zn])):r("",!0),s.value.gender==="f"?(o(),l("span",On,[d(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),Vn])):r("",!0)])]),s.value.bio?(o(),l("div",Dn,[e("div",{id:"mobile__user-bio-"+s.value.id,innerHTML:s.value.bio.length>150?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,Nn),s.value.bio.length>150?(o(),l("a",{key:0,id:"mobile__user-bio-read-more-"+s.value.id,class:"href",onClick:I[9]||(I[9]=K(N=>V(s.value.bio,s.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},a(L.$t("readMore")),9,qn)):r("",!0)])):r("",!0),s.value.user_socials?(o(),l("div",Hn,[s.value.user_socials.facebook?(o(),l("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Gn)):r("",!0),s.value.user_socials.instagram?(o(),l("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Wn)):r("",!0),s.value.user_socials.twitter?(o(),l("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Jn)):r("",!0),s.value.user_socials.youtube?(o(),l("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Kn)):r("",!0),s.value.user_socials.patreon?(o(),l("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[d(x,{name:"i-ion-heart",class:"text-xl"})],8,Yn)):r("",!0)])):r("",!0),e("div",Qn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:I[10]||(I[10]=N=>t.value="followerList")},[e("b",null,a(k.value.followers),1),Xn,e("i",null,a(L.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:I[11]||(I[11]=N=>t.value="followingList")},[e("b",null,a(k.value.followings),1),Zn,e("i",null,a(L.$t("following")),1)])]),f(w).loggedIn&&s.value.id!==f(w).user.id?(o(),l("div",{key:2,class:R(["mt-2 w-auto",J.value?"danger-button":"primary-button"]),onClick:I[12]||(I[12]=N=>J.value?E(s.value.id):ce(s.value.id))},[M(e("div",ei,[d(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(L.$t("follow")),1)],512),[[P,!J.value]]),M(e("div",ti,[d(x,{name:re.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(se.value===null?L.$t("following"):se.value),1)],512),[[P,J.value]])],2)):r("",!0)]),e("div",oi,[e("div",li,[e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(t)=="dashboard"}]),onClick:I[13]||(I[13]=N=>h("dashboard"))},[e("div",null,[M(d(x,{name:"i-ion-home-outline",class:"text-white"},null,512),[[P,f(t)=="dashboard"]]),M(d(x,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[P,f(t)!="dashboard"]])]),e("span",null,a(L.$t("dashboard")),1)],2),e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(t)=="albums"}]),onClick:I[14]||(I[14]=N=>h("albums"))},[e("div",null,[M(d(x,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[P,f(t)=="albums"]]),M(d(x,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[P,f(t)!="albums"]])]),e("span",null,a(L.$t("albums.album")),1)],2),e("div",{class:R(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(t)=="collections"}]),onClick:I[15]||(I[15]=N=>h("collections"))},[e("div",null,[M(d(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,f(t)=="collections"]]),M(d(x,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[P,f(t)!="collections"]])]),e("span",null,a(L.$t("collections.collection")),1)],2)]),e("div",si,[e("div",ai,[e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(t)==="dashboard"}]),onClick:I[16]||(I[16]=N=>h("dashboard"))},[e("div",ni,[M(d(x,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[P,f(t)==="dashboard"]]),M(d(x,{name:"i-humbleicons-dashboard"},null,512),[[P,f(t)!=="dashboard"]]),e("label",ii,a(L.$t("dashboard")),1)]),ri],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(t)==="albums"}]),onClick:I[17]||(I[17]=N=>h("albums"))},[e("div",ui,[M(d(x,{name:"i-bx-photo-album",class:"text-white"},null,512),[[P,f(t)==="albums"]]),M(d(x,{name:"i-bx-photo-album"},null,512),[[P,f(t)!=="albums"]]),e("label",di,a(L.$t("albums.album")),1)]),e("span",ci,a(k.value.album),1)],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(t)==="collections"}]),onClick:I[18]||(I[18]=N=>h("collections"))},[e("div",mi,[M(d(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,f(t)==="collections"]]),M(d(x,{name:"i-majesticons-bookmark-line"},null,512),[[P,f(t)!=="collections"]]),e("label",vi,a(L.$t("collections.collection")),1)]),e("span",fi,a(k.value.collection),1)],2)]),e("div",pi,[f(t)==="dashboard"?(o(),l("div",hi,[e("div",wi,[e("div",{class:R(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":T.value==="feed"}]),onClick:I[19]||(I[19]=N=>T.value="feed")},[O(a(L.$t("feed"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",T.value==="feed"?"theme-color":"button-color text-white"])},a(k.value.feed),3)],2),e("div",{class:R(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":T.value==="artwork"}]),onClick:I[20]||(I[20]=N=>T.value="artwork")},[O(a(L.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",T.value==="artwork"?"theme-color":"button-color text-white"])},a(k.value.artwork),3)],2)]),M(e("div",bi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:I[21]||(I[21]=N=>g.value.manageMode=!g.value.manageMode)},[d(x,{name:g.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(g.value.manageMode?L.$t("quit"):L.$t("manage")),1)]),M(e("button",{class:"w-full primary-button md:w-auto",onClick:I[22]||(I[22]=N=>n())},[d(x,{name:"i-ion-add-outline"}),O(" "+a(L.$t("albums.addToAlbum")),1)],512),[[P,g.value.manageMode]])],512),[[P,!b.value&&f(w).loggedIn&&f(w).user.id===s.value.id&&T.value==="artwork"&&g.value.showManageMode]]),d(ne,{loading:b.value},null,8,["loading"]),M(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},a(L.$t("profile.manageModeActiveMessage")),513),[[P,g.value.manageMode]]),e("div",null,[T.value==="feed"?(o(),q(Nt,{key:0,ref:"feedListRef",class:"mt-2","user-id":s.value.id},null,8,["user-id"])):r("",!0),!b.value&&T.value==="artwork"?(o(),q(Wt,{key:1,ref_key:"artworkListRef",ref:H,"user-id":s.value.id,"manage-mode":g.value.manageMode,onFeedSelectedItems:m,onOnEmpty:C},null,8,["user-id","manage-mode"])):r("",!0)])])):r("",!0),f(t)==="albums"?(o(),l("div",gi,[b.value?r("",!0):(o(),q(Sl,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),f(t)==="collections"?(o(),l("div",_i,[b.value?r("",!0):(o(),q(ba,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),f(t)==="followerList"?(o(),l("div",ki,[b.value?r("",!0):(o(),q(Fa,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0),f(t)==="followingList"?(o(),l("div",yi,[b.value?r("",!0):(o(),q(Ga,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):r("",!0)])])])]),b.value?r("",!0):(o(),q(Ge,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:B,class:"modal","work-ids":W.value,onAddedToAlbum:ie},null,8,["work-ids"])),M(d(pe,{id:"item-added-to-album-alert",text:L.$t("albums.itemAdded")},null,8,["text"]),[[P,D.value]])]),_:1})}}},Ti=oe($i,[["__scopeId","data-v-c5fd5a2e"]]);export{Ti as P};
