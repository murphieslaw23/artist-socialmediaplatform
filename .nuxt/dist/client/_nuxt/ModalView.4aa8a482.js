import{B as pt,e as z,f as W,R as F,W as ht,X as Xt,Y as vt,r as b,u as O,Z as Zt,$ as ea,k as Se,D as Ue,P as ft,o as y,l as _,m as r,b as x,w as J,p as T,t as g,s as I,v as A,q as S,F as pe,J as D,M as he,N as ve,x as Pe,h as Ee,j as ta,c as ie,i as _e,I as Qe,E as Re,G as K,C as ze,K as wt,L as gt,a0 as aa,H as sa,a as oa,a1 as ot,a2 as la,a3 as na,a4 as lt}from"./entry.64996531.js";import{u as yt,_ as L}from"./Icon.1a411f0f.js";import{_ as bt,u as kt}from"./ErrorMessages.9a8b0e4d.js";import{_ as fe}from"./_plugin-vue_export-helper.a1a6add7.js";import{S as We}from"./Spinner.13f27c72.js";import{U as Ve}from"./user-counters-api.38d2e3f3.js";import{u as ra}from"./useFeed.be617097.js";const ce=function(s){return{addWorkToAlbum:async(t,a={})=>{const e="/albums/add-work",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},createAlbum:async(t,a={})=>{const e="/albums/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},deleteAlbum:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling deleteAlbum.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},c={},p=new URLSearchParams(o.search);for(const w in c)p.set(w,c[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumById:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumById.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...a},d={},c={},p=new URLSearchParams(o.search);for(const w in c)p.set(w,c[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumItems:async(t,a,e,o={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumItems.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const c={method:"GET",...d,...o},p={},h={};a!==void 0&&(h.per_page=a),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return c.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:c}},getCurrentAlbumSaveInfo:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(a==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const o="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(a))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},c={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...c,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listUserAlbums:async(t,a,e,o,l={})=>{if(t==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserAlbums.");if(o==null)throw new F("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),d=new URL(n,"https://example.com");let c;s&&(c=s.baseOptions);const p={method:"GET",...c,...l},h={},w={};a!==void 0&&(w.per_page=a),e!==void 0&&(w.page=e),o!==void 0&&(w.type=o);const v=new URLSearchParams(d.search);for(const u in w)v.set(u,w[u]);for(const u in l.params)v.set(u,l.params[u]);d.search=new URLSearchParams(v).toString();let i=c&&c.headers?c.headers:{};return p.headers={...h,...i,...l.headers},{url:d.pathname+d.search+d.hash,options:p}},removeWorkFromAlbum:async(t,a={})=>{const e="/albums/work/remove",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},updateAlbum:async(t,a={})=>{const e="/albums",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}}}},ue=function(s){return{async addWorkToAlbum(t,a){const e=await ce(s).addWorkToAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async createAlbum(t,a){const e=await ce(s).createAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async deleteAlbum(t,a){const e=await ce(s).deleteAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumById(t,a){const e=await ce(s).getAlbumById(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumItems(t,a,e,o){const l=await ce(s).getAlbumItems(t,a,e,o);return(n=z,d=W)=>{const c={...l.options,url:d+l.url};return n.request(c)}},async getCurrentAlbumSaveInfo(t,a,e){const o=await ce(s).getCurrentAlbumSaveInfo(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listUserAlbums(t,a,e,o,l){const n=await ce(s).listUserAlbums(t,a,e,o,l);return(d=z,c=W)=>{const p={...n.options,url:c+n.url};return d.request(p)}},async removeWorkFromAlbum(t,a){const e=await ce(s).removeWorkFromAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async updateAlbum(t,a){const e=await ce(s).updateAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class de extends pt{async addWorkToAlbum(t,a){return ue(this.configuration).addWorkToAlbum(t,a).then(e=>e(this.axios,this.basePath))}async createAlbum(t,a){return ue(this.configuration).createAlbum(t,a).then(e=>e(this.axios,this.basePath))}async deleteAlbum(t,a){return ue(this.configuration).deleteAlbum(t,a).then(e=>e(this.axios,this.basePath))}async getAlbumById(t,a){return ue(this.configuration).getAlbumById(t,a).then(e=>e(this.axios,this.basePath))}async getAlbumItems(t,a,e,o){return ue(this.configuration).getAlbumItems(t,a,e,o).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(t,a,e){return ue(this.configuration).getCurrentAlbumSaveInfo(t,a,e).then(o=>o(this.axios,this.basePath))}async listUserAlbums(t,a,e,o,l){return ue(this.configuration).listUserAlbums(t,a,e,o,l).then(n=>n(this.axios,this.basePath))}async removeWorkFromAlbum(t,a){return ue(this.configuration).removeWorkFromAlbum(t,a).then(e=>e(this.axios,this.basePath))}async updateAlbum(t,a){return ue(this.configuration).updateAlbum(t,a).then(e=>e(this.axios,this.basePath))}}const ne=function(s){return{addItemForLater:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling addItemForLater.");const o="/collections/later",l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"POST",...n,...e},c={},p={};t!==void 0&&(p.type=t),c["Content-Type"]="application/json";const h=new URLSearchParams(l.search);for(const i in p)h.set(i,p[i]);for(const i in e.params)h.set(i,e.params[i]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};d.headers={...c,...w,...e.headers};const v=typeof a!="string"||d.headers["Content-Type"]==="application/json";return d.data=v?JSON.stringify(a!==void 0?a:{}):a||"",{url:l.pathname+l.search+l.hash,options:d}},addItemToCollection:async(t,a,e,o={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling addItemToCollection.");if(a==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const c={method:"POST",...d,...o},p={},h={};t!==void 0&&(h.type=t),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const u in h)w.set(u,h[u]);for(const u in o.params)w.set(u,o.params[u]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};c.headers={...p,...v,...o.headers};const i=typeof e!="string"||c.headers["Content-Type"]==="application/json";return c.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:c}},collectionsIdDelete:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},c={},p=new URLSearchParams(o.search);for(const w in c)p.set(w,c[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},create:async(t,a={})=>{const e="/collections/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},detail:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling detail.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...a},d={},c={},p=new URLSearchParams(o.search);for(const w in c)p.set(w,c[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getCurrentSaveInfo:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(a==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const o="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(a))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},c={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...c,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listCollectionItems:async(t,a,e,o={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling listCollectionItems.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const c={method:"GET",...d,...o},p={},h={};a!==void 0&&(h.per_page=a),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return c.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:c}},listUserCollections:async(t,a,e,o,l,n={})=>{if(t==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(a==null)throw new F("type","Required parameter type was null or undefined when calling listUserCollections.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserCollections.");if(o==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const d="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),c=new URL(d,"https://example.com");let p;s&&(p=s.baseOptions);const h={method:"GET",...p,...n},w={},v={};a!==void 0&&(v.type=a),l!==void 0&&(v.name=l),e!==void 0&&(v.page=e),o!==void 0&&(v.per_page=o);const i=new URLSearchParams(c.search);for(const k in v)i.set(k,v[k]);for(const k in n.params)i.set(k,n.params[k]);c.search=new URLSearchParams(i).toString();let u=p&&p.headers?p.headers:{};return h.headers={...w,...u,...n.headers},{url:c.pathname+c.search+c.hash,options:h}},removeItemFromCollection:async(t,a,e,o={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(a==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const c={method:"DELETE",...d,...o},p={},h={};t!==void 0&&(h.type=t),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const u in h)w.set(u,h[u]);for(const u in o.params)w.set(u,o.params[u]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};c.headers={...p,...v,...o.headers};const i=typeof e!="string"||c.headers["Content-Type"]==="application/json";return c.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:c}},updateCollection:async(t,a={})=>{const e="/collections",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...a},d={},c={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in c)p.set(v,c[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}}}},re=function(s){return{async addItemForLater(t,a,e){const o=await ne(s).addItemForLater(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async addItemToCollection(t,a,e,o){const l=await ne(s).addItemToCollection(t,a,e,o);return(n=z,d=W)=>{const c={...l.options,url:d+l.url};return n.request(c)}},async collectionsIdDelete(t,a){const e=await ne(s).collectionsIdDelete(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async create(t,a){const e=await ne(s).create(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async detail(t,a){const e=await ne(s).detail(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getCurrentSaveInfo(t,a,e){const o=await ne(s).getCurrentSaveInfo(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listCollectionItems(t,a,e,o){const l=await ne(s).listCollectionItems(t,a,e,o);return(n=z,d=W)=>{const c={...l.options,url:d+l.url};return n.request(c)}},async listUserCollections(t,a,e,o,l,n){const d=await ne(s).listUserCollections(t,a,e,o,l,n);return(c=z,p=W)=>{const h={...d.options,url:p+d.url};return c.request(h)}},async removeItemFromCollection(t,a,e,o){const l=await ne(s).removeItemFromCollection(t,a,e,o);return(n=z,d=W)=>{const c={...l.options,url:d+l.url};return n.request(c)}},async updateCollection(t,a){const e=await ne(s).updateCollection(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class me extends pt{async addItemForLater(t,a,e){return re(this.configuration).addItemForLater(t,a,e).then(o=>o(this.axios,this.basePath))}async addItemToCollection(t,a,e,o){return re(this.configuration).addItemToCollection(t,a,e,o).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(t,a){return re(this.configuration).collectionsIdDelete(t,a).then(e=>e(this.axios,this.basePath))}async create(t,a){return re(this.configuration).create(t,a).then(e=>e(this.axios,this.basePath))}async detail(t,a){return re(this.configuration).detail(t,a).then(e=>e(this.axios,this.basePath))}async getCurrentSaveInfo(t,a,e){return re(this.configuration).getCurrentSaveInfo(t,a,e).then(o=>o(this.axios,this.basePath))}async listCollectionItems(t,a,e,o){return re(this.configuration).listCollectionItems(t,a,e,o).then(l=>l(this.axios,this.basePath))}async listUserCollections(t,a,e,o,l,n){return re(this.configuration).listUserCollections(t,a,e,o,l,n).then(d=>d(this.axios,this.basePath))}async removeItemFromCollection(t,a,e,o){return re(this.configuration).removeItemFromCollection(t,a,e,o).then(l=>l(this.axios,this.basePath))}async updateCollection(t,a){return re(this.configuration).updateCollection(t,a).then(e=>e(this.axios,this.basePath))}}function nt(){return{animate:a=>{const e=document.getElementById(a);e==null||e.classList.add("animate-bounce"),setInterval(()=>{e==null||e.classList.remove("animate-bounce")},2500)}}}function ia(){const s=(a,e,o)=>{e.value=!1,clearTimeout(a),e.value=!0,a=setTimeout(()=>{e.value=!1,t(o)},2e3)},t=a=>{const e=document.getElementById(a);e==null||e.classList.add("fade"),e==null||e.classList.add("fade-out")};return{splash:s,hide:t}}var rt;const Ce=typeof window<"u",ca=s=>typeof s=="string",He=()=>{};Ce&&((rt=window==null?void 0:window.navigator)==null?void 0:rt.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ye(s){return typeof s=="function"?s():O(s)}function ua(s){return s}function Ke(s){return Zt()?(ea(s),!0):!1}function da(s,t=!0){ht()?Xt(s):t?s():vt(s)}function ma(s,t=!0){ht()?Se(s):t?s():vt(s)}function pa(s,t,a={}){const{immediate:e=!0}=a,o=b(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function d(){o.value=!1,n()}function c(...p){n(),o.value=!0,l=setTimeout(()=>{o.value=!1,l=null,s(...p)},Ye(t))}return e&&(o.value=!0,Ce&&c()),Ke(d),{isPending:o,start:c,stop:d}}function ha(s){var t;const a=Ye(s);return(t=a==null?void 0:a.$el)!=null?t:a}const xt=Ce?window:void 0;Ce&&window.document;const va=Ce?window.navigator:void 0;Ce&&window.location;function fa(...s){let t,a,e,o;if(ca(s[0])?([a,e,o]=s,t=xt):[t,a,e,o]=s,!t)return He;let l=He;const n=Ue(()=>ha(t),c=>{l(),c&&(c.addEventListener(a,e,o),l=()=>{c.removeEventListener(a,e,o),l=He})},{immediate:!0,flush:"post"}),d=()=>{n(),l()};return Ke(d),d}function _t(s,t=!1){const a=b(),e=()=>a.value=Boolean(s());return e(),ma(e,t),a}function wa(s,t={}){const{window:a=xt}=t,e=_t(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let o;const l=b(!1),n=()=>{!e.value||(o||(o=a.matchMedia(s)),l.value=o.matches)};return da(()=>{n(),o&&("addEventListener"in o?o.addEventListener("change",n):o.addListener(n),Ke(()=>{"removeEventListener"in o?o.removeEventListener("change",n):o.removeListener(n)}))}),l}function ga(s={}){const{navigator:t=va,read:a=!1,source:e,copiedDuring:o=1500}=s,l=["copy","cut"],n=_t(()=>t&&"clipboard"in t),d=b(""),c=b(!1),p=pa(()=>c.value=!1,o);function h(){t.clipboard.readText().then(v=>{d.value=v})}if(n.value&&a)for(const v of l)fa(v,h);async function w(v=Ye(e)){n.value&&v!=null&&(await t.clipboard.writeText(v),d.value=v,c.value=!0,p.start())}return{isSupported:n,text:d,copied:c,copy:w}}const Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Je="__vueuse_ssr_handlers__";Ge[Je]=Ge[Je]||{};Ge[Je];var it;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(it||(it={}));var ya=Object.defineProperty,ct=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,ut=(s,t,a)=>t in s?ya(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,xa=(s,t)=>{for(var a in t||(t={}))ba.call(t,a)&&ut(s,a,t[a]);if(ct)for(var a of ct(t))ka.call(t,a)&&ut(s,a,t[a]);return s};const _a={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};xa({linear:ua},_a);function Ca(){return{readMore:(t,a,e,o)=>{const l=document.getElementById(`${o}${a}`);l!==null&&(l.innerHTML=t);const n=document.getElementById(`${e}${a}`);n==null||n.remove()}}}const $a={class:"flex-col info"},Ia={key:0,class:"user-info"},Aa={class:"flex flex-row w-full"},Ra=["src"],Sa={class:"w-full name"},Pa={class:"flex flex-row justify-between"},Oa={class:"flex flex-col"},La={class:"mb-2 text-base font-bold"},Ua={key:1,class:"mb-4"},Va=["id"],Ea=["id"],qa={class:"mb-4"},Ma={key:2,class:"tags"},Ta={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(s){ft();const t=(a,e,o,l)=>{Ca().readMore(a,e,o,l)};return(a,e)=>{const o=Pe;return y(),_("section",$a,[s.artworkDetail.users?(y(),_("div",Ia,[r("div",Aa,[x(o,{to:"/profile/"+s.artworkDetail.users.username},{default:J(()=>[r("img",{class:"avatar",src:a.avatarCoverUrl(s.artworkDetail.users.avatar_bucket,s.artworkDetail.users.avatar_filename),onError:e[0]||(e[0]=(...l)=>a.imageLoadError&&a.imageLoadError(...l))},null,40,Ra)]),_:1},8,["to"]),r("div",Sa,[r("div",Pa,[r("div",Oa,[x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"fullname"},{default:J(()=>[T(g(s.artworkDetail.users.name),1)]),_:1},8,["to"]),x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"username"},{default:J(()=>[T(" @"+g(s.artworkDetail.users.username),1)]),_:1},8,["to"])]),I(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:e[1]||(e[1]=l=>a.closeModal(s.section+"-modal"))}," ESC ",512),[[A,s.isModal]])])])])])):S("",!0),r("div",La,g(s.artworkDetail.title),1),s.artworkDetail.description?(y(),_("div",Ua,[r("span",{id:"mview-"+s.isDesktop+"-description-"+s.artworkDetail.id},g(s.artworkDetail.description.length>300?`${s.artworkDetail.description.slice(0,300)}...`:s.artworkDetail.description),9,Va),s.artworkDetail.description.length>300?(y(),_("a",{key:0,id:"mview-"+s.isDesktop+"-read-more-"+s.artworkDetail.id,class:"href",onClick:e[2]||(e[2]=pe(l=>t(s.artworkDetail.description,s.artworkDetail.id,"mview-"+s.isDesktop+"-read-more-","mview-"+s.isDesktop+"-description-"),["prevent"]))},g(a.$t("readMore")),9,Ea)):S("",!0)])):S("",!0),r("div",qa,[r("span",{class:D({"font-bold italic text-red-400":s.previewMode})},g(s.previewMode?a.$t("willBePublishedOn"):a.$t("publishedOn")),3),T(" "+g(a.formatDate(s.artworkDetail.scheduled_post)),1)]),s.artworkDetail.artwork_has_tags&&s.artworkDetail.artwork_has_tags.length?(y(),_("div",Ma,[(y(!0),_(he,null,ve(s.artworkDetail.artwork_has_tags,l=>(y(),_("span",{key:l.artwork_tags.id,class:"tag"},[x(o,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:J(()=>[T(g(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):S("",!0)])}}},dt=fe(Ta,[["__scopeId","data-v-9fd3d44f"]]),Ba=["href","onClick"],Fa={class:"overflow-hidden relative text-center rounded-md"},Da={key:0},ja={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Na=["href"],Ha=["src"],Qa={class:"relative text-center overflow-hidden rounded-md"},za={key:0},Wa={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ga=["href"],Ja=["src"],Ya={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(s,{emit:t}){const a=s,e=Ee();Ue(()=>a.currentWorkId,h=>{l.value=h});const o=ta(),l=b(a.currentWorkId),n=wa("(min-width: 1024px)"),d=h=>{n.value&&!a.isMiniList||a.isMiniList?(l.value=h,a.view(h)):o.replace({path:"/a/"+h})},c=b([]),p=h=>{if(c.value.includes(h)){const w=c.value.indexOf(h);c.value.splice(w,1)}else c.value.push(h);t("feedManageList",c.value)};return Ue(()=>a.manageMode,h=>{h===!1&&(c.value=[])}),(h,w)=>{const v=Pe;return y(),_("section",{class:D(s.sectionClass)},[(y(!0),_(he,null,ve(s.works,i=>(y(),_("span",{key:i.id,class:D(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&l.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":c.value.includes(i.id)||l.value==i.id}])},[!h.isMobile()&&!s.isHref&&!s.isMiniList?(y(),_("a",{key:0,href:"/a/"+i.id,onClick:pe(u=>s.manageMode?p(i.id):s.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Fa,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Da,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",ja,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,class:D([{"animate-wigglefast":s.manageMode}])},[r("img",{class:D(["object-cover w-full h-full unselectable",{"blur-lg brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[0]||(w[0]=(...u)=>h.imageLoadError&&h.imageLoadError(...u))},null,42,Ha)],10,Na)])],8,Ba)):(y(),ie(v,{key:1,onClick:u=>s.manageMode?p(i.id):d(i.id)},{default:J(()=>[r("div",Qa,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",za,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",Wa,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,onClick:w[2]||(w[2]=pe(u=>h.void,["prevent"])),class:D([{"animate-wigglefast":s.manageMode}])},[r("img",{class:D(["object-cover w-full h-full unselectable",{"blur-sm brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[1]||(w[1]=(...u)=>h.imageLoadError&&h.imageLoadError(...u))},null,42,Ja)],10,Ga)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ka=fe(Ya,[["__scopeId","data-v-bcf61861"]]),Xa={class:"artist-works"},Za={class:"heading"},es={key:0,class:"pagination-controller"},ts={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(s){const t=s,a=t.artworkDetail,{oApiConfiguration:e,fetchOptions:o}=_e(),l=yt(e,o()),n=b(null);Se(()=>{t.keepArtistPageNumber||(c.page=-1),p(a.users.id)});const d=b([]),c=Qe({page:0,perPage:t.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),p=async(v,i)=>{c.options.nextPrevLoading=!0,v!==n.value&&(n.value=v,c.page=-1),i==="prev"?c.page-=1:c.page+=1;const[u,k,V]=await l.getUserArtworks({userId:v,pagination:{page:c.page,perPage:c.perPage}});V?w():(k.next_previous.prev_page===null||k.next_previous.prev_page===void 0?c.options.disableArtistPrevButton=!0:c.options.disableArtistPrevButton=!1,k.next_previous.next_page===null||k.next_previous.next_page===void 0?c.options.disableArtistNextButton=!0:c.options.disableArtistNextButton=!1,d.value=u),c.options.nextPrevLoading=!1},h=b(!1),w=()=>{h.value=!0};return(v,i)=>{const u=Pe;return y(),_("div",Xa,[r("div",Za,[r("span",null,[T(g(v.$t("artworks.moreArtworkBy"))+" ",1),s.artworkDetail.users?(y(),ie(u,{key:0,to:"/profile/"+s.artworkDetail.users.username,class:"text-colored"},{default:J(()=>[T(g(s.artworkDetail.users.username)+" <"+g(s.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):S("",!0)]),x(u,{to:"/profile/"+s.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:J(()=>[x(L,{name:"i-ci-external-link"})]),_:1},8,["to"])]),I(x(Ka,{class:D(["gap-2 md:gap-4",[c.options.nextPrevLoading?"animate-pulse":"",s.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:d.value,view:s.view,"is-href":s.isHref,"is-mini-list":!0,"current-work-id":s.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[A,!h.value]]),s.artworkDetail.users?(y(),_("div",es,[r("span",{onClick:i[0]||(i[0]=k=>c.options.disableArtistPrevButton?null:p(s.artworkDetail.users.id,"prev"))},[x(L,{name:"i-ion-chevron-back"})]),r("span",{onClick:i[1]||(i[1]=k=>c.options.disableArtistNextButton?null:p(s.artworkDetail.users.id,"next"))},[x(L,{name:"i-ion-chevron-forward"})])])):S("",!0)])}}},mt=fe(ts,[["__scopeId","data-v-3bd8634b"]]);function as(s,t){return{createCollection:async(i,u)=>{try{const{data:k}=await new me(s).create({name:u.title,description:u.description,is_public:u.isPublic?1:0,type:i},t);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new me(s).detail(i,t)).data,null]}catch(u){return[null,u]}},countCollections:async i=>{try{const{data:u}=await new Ve(s).countUserCollections(i,t);return[u.data.total,null]}catch(u){return[null,u]}},countArtworkCollections:async i=>{try{const{data:u}=await new Ve(s).countUserArtworkCollections(i,t);return[u.data.total,null]}catch(u){return[null,u]}},fetchCollections:async i=>{try{const{data:u}=await new me(s).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,t),k=u.data.collections,V=u.data.pagination;let R=!0;return V.current_page===V.total_page&&(R=!1),[k,R,null]}catch(u){return[null,!1,u]}},listCollectionItems:async i=>{try{const{data:u}=await new me(s).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,t),k=u.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[u.data.items,V,null]}catch(u){return[null,!1,u]}},getCurrentSaveInfo:async(i,u)=>{try{const{data:k}=await new me(s).getCurrentSaveInfo(i,u,t);return[k.data,null]}catch(k){return[null,k]}},addItem:async i=>{try{return await new me(s).addItemToCollection(i.type,i.collectionId,{id:i.workId},t),[!0,null]}catch(u){return[null,u]}},removeItem:async i=>{try{const{data:u}=await new me(s).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},t);return[u.success,null]}catch(u){return[null,u]}},update:async i=>{try{const{data:u}=await new me(s).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[u.success,null]}catch(u){return[null,u]}},deleteCollection:async i=>{try{const{data:u}=await new me(s).collectionsIdDelete(i,t);return[u.success,null]}catch(u){return[null,u]}}}}const ss={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},os={class:"flex flex-row justify-between w-full"},ls={class:"title"},ns={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},rs={class:"list"},is={class:"overflow-y-scroll pr-2 max-h-60"},cs=["onClick"],us={class:"flex flex-row justify-between"},ds={class:"flex float-right flex-row gap-2 mt-4"},ms=["placeholder"],ps={class:"flex flex-row justify-between mt-2"},hs={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(s,{expose:t,emit:a}){const e=s,o=Ee(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=as(l,n());Se(()=>{v(),u()});const c=b({pagination:{page:0,perPage:10},loading:!1}),p=b(!1),h=b(!1),w=b([]),v=async(E=!1)=>{E||(c.value.loading=!0);const[q,Q,Z]=await d.fetchCollections({userId:o.user.id,type:"artwork",pagination:{page:c.value.pagination.page,perPage:c.value.pagination.perPage}});c.value.loading=!1,Z&&(p.value=!0),Z||(q&&q.length>0?(Q?(c.value.pagination.page+=1,k.value=!0):k.value=!1,q.forEach(ye=>{w.value.push(ye)})):h.value=!0)},i=b([]),u=async()=>{p.value=!1,i.value=[],R.value=[],Y.value=[],await setTimeout(async()=>{const[E,q]=await d.getCurrentSaveInfo("artwork",e.workId);if(q)p.value=!0;else for(const Q of E)R.value.push(Q.collection_id),i.value.push(Q.collection_id)},300)},k=b(!0),V=async()=>{await v({isLoadMore:!0}),await u()},R=b([]),Y=b([]),j=E=>{if(R.value.includes(E)){Y.value.push(E);const q=R.value.indexOf(E);R.value.splice(q,1)}else if(R.value.push(E),Y.value.includes(E)){const q=Y.value.indexOf(E);Y.value.splice(q,1)}},G=async()=>{try{for(const q of R.value)await d.addItem({collectionId:q,type:"artwork",workId:e.workId});if(Y.value.length)for(const q of Y.value)await d.removeItem({collectionId:q,type:"artwork",workId:e.workId});let E=!1;R.value.length===0&&i.value.length===Y.value.length&&(E=!0),await u(),K().closeModal(e.modalId),a("save",E)}catch{}},$=b(""),X=b(!1),oe=async()=>{X.value=!1;const[E,q,Q]=await d.createCollection("artwork",{title:$.value,isPublic:1,description:""});E?(w.value=[],H(),c.value.pagination.page=0,await v(),await u(),$.value="",N()):X.value=!0},se=b(!1),N=()=>{se.value=!0,setInterval(()=>{se.value=!1},5e3)},H=()=>{R.value=[]},B=()=>{K().closeModal(e.modalId),H()};return t({fetchCurrentSaved:u}),(E,q)=>(y(),_("div",null,[r("div",ss,[r("div",null,[r("div",os,[r("span",ls,g(E.$t("collections.addItem.form.title")),1),r("div",ns,[r("div",{class:"modal-close",onClick:q[0]||(q[0]=Q=>B())},[x(L,{name:"close",class:"text-2xl"})])])]),I(r("div",rs,[r("div",is,[(y(!0),_(he,null,ve(w.value,(Q,Z)=>(y(),_("div",{key:Q.id,class:D(["item",[{"mt-2":Z!==0},R.value.includes(Q.id)?"button-color text-white":"theme-color-secondary"]]),onClick:ye=>j(Q.id)},[r("div",us,[r("span",null,g(Q.name),1),r("span",{class:D(["ml-2 font-bold",R.value.includes(Q.id)?"text-white":"text-colored"])},g(Q._count.collection_has_artworks),3)])],10,cs))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=Q=>V())},[x(L,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[A,k.value]]),r("div",ds,[r("button",{class:"cancel-button",onClick:q[2]||(q[2]=Q=>B())},g(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:q[3]||(q[3]=Q=>G())},g(E.$t("save")),1)])],512),[[A,!c.value.loading&&!p.value&&!h.value]]),I(r("div",null,[I(r("input",{"onUpdate:modelValue":q[4]||(q[4]=Q=>$.value=Q),type:"text",class:D(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":X.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,ms),[[Re,$.value]]),r("div",ps,[r("div",null,[I(r("span",{class:"font-bold text-green-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.collectionCreated")),513),[[A,se.value]]),I(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[A,X.value]])]),I(r("button",{class:"primary-button",onClick:q[5]||(q[5]=Q=>oe())},g(E.$t("create")),513),[[A,$.value&&$.value.length>0]])])],512),[[A,!c.value.loading&&!p.value&&!h.value]])]),x(bt,{loading:c.value.loading,empty:h.value,error:p.value,fetch:v},null,8,["loading","empty","error"])])]))}},vs=fe(hs,[["__scopeId","data-v-d55eb6f5"]]);function fs(s,t){return{createAlbum:async(i,u)=>{try{const{data:k}=await new de(s).createAlbum({name:u.title,description:u.description,is_public:u.isPublic?1:0,type:i},t);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new de(s).getAlbumById(i,t)).data,null]}catch(u){return[null,u]}},countAlbums:async i=>{try{const{data:u}=await new Ve(s).countUserAlbums(i,t);return[u.data.total,null]}catch(u){return[null,u]}},countArtworkAlbums:async i=>{try{const{data:u}=await new Ve(s).countUserArtworkAlbums(i,t);return[u.data.total,null]}catch(u){return[null,u]}},fetchAlbums:async(i,u,k,V)=>{try{const{data:R}=await new de(s).listUserAlbums(i,k,V,u,t),Y=R.data.pagination;let j=!0;return Y.current_page===Y.total_page&&(j=!1),[R.data.albums,j,null]}catch(R){return[null,!1,R]}},listAlbumItems:async i=>{try{const{data:u}=await new de(s).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,t),k=u.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[u.data.works,V,null]}catch(u){return[null,!1,u]}},getCurrentSaveInfo:async(i,u)=>{try{const{data:k}=await new de(s).getCurrentAlbumSaveInfo(i,u,t);return[k.data,null]}catch(k){return[null,k]}},addItems:async(i,u)=>{try{for(const k of i)await new de(s).addWorkToAlbum({album_id:k,work_ids:u},t);return[!0,null]}catch(k){return[null,k]}},removeItems:async(i,u)=>{try{const{data:k}=await new de(s).removeWorkFromAlbum({album_id:i,work_ids:u},t);return[k.success,null]}catch(k){return[null,k]}},update:async i=>{try{const{data:u}=await new de(s).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[u.success,null]}catch(u){return[null,u]}},deleteAlbum:async i=>{try{const{data:u}=await new de(s).deleteAlbum(i,t);return[u.success,null]}catch(u){return[null,u]}}}}const ws={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},gs={class:"flex flex-row justify-between w-full"},ys={class:"title"},bs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ks={class:"list"},xs={class:"overflow-y-scroll pr-2 max-h-60"},_s=["onClick"],Cs={class:"flex float-right flex-row gap-2 mt-4"},$s={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(s,{expose:t,emit:a}){const e=s;Se(()=>{u(),e.workIds.length||R()});const o=Ee(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=fs(l,n()),c=async()=>{p.value=[],h.value.pagination.page=0,k(),await u()},p=b([]),h=b({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=b(!0),v=b(!1),i=b(!1),u=async()=>{k(),w.value=!0;const[N,H,B]=await d.fetchAlbums(o.user.id,"artwork",h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage,h.value.pagination.page);B&&(v.value=!0),N.length?(H?(h.value.pagination.page+=1,h.value.showLoadMore=!0):h.value.showLoadMore=!1,N.forEach(E=>{p.value.push(E)})):i.value=!0,w.value=!1},k=()=>{i.value=!1,v.value=!1},V=b([]),R=async()=>{V.value=[],j.value=[],G.value=[];const[N,H]=await d.getCurrentSaveInfo("artwork",e.workId);for(const B of N)j.value.push(B.album_id),V.value.push(B.album_id)},Y=async()=>{await u(),await R()},j=b([]),G=b([]),$=N=>{if(j.value.includes(N)){G.value.push(N);const H=j.value.indexOf(N);j.value.splice(H,1)}else if(j.value.push(N),G.value.includes(N)){const H=G.value.indexOf(N);G.value.splice(H,1)}},X=async()=>{const[N,H]=await d.addItems(j.value,e.workIds.length?e.workIds:[e.workId]);if(!e.workIds.length&&G.value.length)for(const B of G.value)await d.removeItems(B,[e.workId]);if(N){let B=!1;e.workIds.length||j.value.length===0&&V.value.length===G.value.length&&(B=!0),oe(),K().closeModal(e.modalId),a("addedToAlbum",e.workIds.length?!0:B)}},oe=()=>{j.value=[]},se=()=>{K().closeModal(e.modalId),oe()};return t({fetchCurrentSaved:R,fetchAlbums:u}),(N,H)=>(y(),_("div",null,[r("div",ws,[r("div",null,[r("div",gs,[r("span",ys,g(N.$t("albums.selectAlbums")),1),r("div",bs,[r("div",{class:"modal-close",onClick:H[0]||(H[0]=B=>se())},[x(L,{name:"close",class:"text-2xl"})])])]),r("div",ks,[I(r("div",null,[r("div",xs,[(y(!0),_(he,null,ve(p.value,(B,E)=>(y(),_("div",{key:B.id,class:D(["item",[{"mt-2":E!==0},j.value.includes(B.id)?"button-color text-white":"theme-color-secondary"]]),onClick:q=>$(B.id)},[r("span",null,g(B.name),1),r("span",{class:D(["ml-2 font-bold",j.value.includes(B.id)?"text-white":"text-colored"])},g(B._count.album_has_artworks),3)],10,_s))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:H[1]||(H[1]=B=>Y())}," Load More ",512),[[A,h.value.showLoadMore]]),r("div",Cs,[r("button",{class:"cancel-button",onClick:H[2]||(H[2]=B=>se())},g(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:H[3]||(H[3]=B=>X())},g(N.$t("save")),1)])],512),[[A,!w.value&&!i.value&&!v.value]])])]),x(bt,{loading:w.value,empty:i.value,error:v.value,fetch:c},null,8,["loading","empty","error"])])]))}},Is=fe($s,[["__scopeId","data-v-65bdacb6"]]),As={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Rs={class:"mb-4"},Ss={class:"flex flex-row justify-end gap-2"},Ps={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(s,{emit:t}){const a=s,e=o=>{o&&t("onAccept",!0),K().closeModal(a.modalId)};return(o,l)=>(y(),_("div",null,[r("div",As,[r("p",Rs,g(s.message),1),r("div",Ss,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>e(!1))},g(o.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>e(!0))},g(o.$t("yes")),1)])])]))}},Os={class:"splash"},Ls={class:"flex flex-row"},Us={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(s){return(t,a)=>(y(),_("div",Os,[r("div",Ls,[x(L,{name:s.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,g(s.text),1)])]))}},Vs=fe(Us,[["__scopeId","data-v-78b30520"]]),Ct=s=>(wt("data-v-93d8d761"),s=s(),gt(),s),Es={class:"opt-modal modal-layer"},qs={class:"opt-modal__title"},Ms={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ts={class:"opt-modal__content"},Bs={class:"report"},Fs={class:"report__reason_opt"},Ds={class:"report__title"},js=["onClick"],Ns={class:"report__title"},Hs=["placeholder"],Qs={class:"report__buttons"},zs={class:"text-justify"},Ws={class:"mt-2"},Gs=Ct(()=>r("i",null,"Your report ID:",-1)),Js=T("\xA0 "),Ys=Ct(()=>r("i",null,"Report date:",-1)),Ks=T("\xA0 "),Xs={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(s){const t=s,{oApiConfiguration:a,fetchOptions:e}=_e(),o=kt(a,e()),l=b(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=b({selectedReasons:[],reasonDescription:"",enableSubmit:ze(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),d=i=>{if(!n.value.selectedReasons.includes(i))n.value.selectedReasons.push(i);else{const u=n.value.selectedReasons.indexOf(i);n.value.selectedReasons.splice(u,1)}},c=b(!1),p=b({}),h=async()=>{c.value=!1,p.value={};const[i,u,k]=await o.createNewReport({type:t.type,postId:t.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});k&&!i||(c.value=!0,p.value=u)},w=()=>{K().closeModal("report-modal"),v()},v=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",c.value=!1};return(i,u)=>{const k=Pe;return y(),_("div",null,[r("div",Es,[r("div",qs,[r("h1",null,g(c.value?i.$t("reports.reportSubmitted"):s.reportStatus.id?i.$t("reports.alreadyReported"):i.$t("reports.title")),1),r("div",Ms,[r("div",{class:"modal-close",onClick:u[0]||(u[0]=V=>w())},[x(L,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",Ts,[I(r("div",Bs,[r("div",Fs,[r("div",Ds,g(i.$t("reports.selectReasons")),1),(y(!0),_(he,null,ve(l.value,V=>(y(),_("span",{key:V,class:D([n.value.selectedReasons.includes(V)?"button-color":"theme-color-secondary"]),onClick:R=>d(V)},[r("div",null,[I(x(L,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[A,!n.value.selectedReasons.includes(V)]]),I(x(L,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[A,n.value.selectedReasons.includes(V)]])]),r("div",{class:D(["reason",[n.value.selectedReasons.includes(V)?"text-white":"text-color-secondary"]])},g(i.$t("reports.reasons."+V)),3)],10,js))),128))]),r("div",null,[r("div",Ns,g(i.$t("reports.describeReason")),1),I(r("textarea",{"onUpdate:modelValue":u[1]||(u[1]=V=>n.value.reasonDescription=V),class:"report__reason_description",placeholder:i.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Hs),[[Re,n.value.reasonDescription]])]),r("div",Qs,[r("button",{class:"cancel-button",onClick:u[2]||(u[2]=V=>w())},g(i.$t("cancel")),1),r("button",{class:D(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:u[3]||(u[3]=V=>n.value.enableSubmit?h():null)},g(i.$t("report")),3)])],512),[[A,!c.value&&!s.reportStatus.id]]),I(r("div",null,[r("div",zs,g(i.$t("reports.reportSubmittedMessage")),1),r("div",Ws,[r("div",null,[Gs,Js,r("b",null,"#"+g(p.value.id),1)]),r("div",null,[Ys,Ks,r("b",null,g(i.formatDate(p.value.created_at)),1)])])],512),[[A,c.value]]),I(r("div",null,[T(g(i.$t("reports.alreadyReportedDescription"))+" ",1),x(k,{class:"underline href",to:"/reports"},{default:J(()=>[T(g(i.$t("reports.reportStatus")),1)]),_:1})],512),[[A,s.reportStatus.id]])])])])}}},Zs=fe(Xs,[["__scopeId","data-v-93d8d761"]]),eo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},to={class:"title"},ao={class:"mt-2"},so={class:"alert-success"},oo={class:"italic"},lo={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},no=["placeholder"],ro={class:"flex float-right flex-row gap-2"},io={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(s){const t=s,{oApiConfiguration:a,fetchOptions:e}=_e(),o=ra(a,e()),l=()=>{d.value=""},n=()=>{c.value=!1,p.value=!1,h.value=!1,K().closeModal("share-to-feed-modal"),l()},d=b(""),c=b(!1),p=b(!1),h=b(!1),w=async()=>{c.value=!1,p.value=!0,h.value=!1;const[v,i,u]=await o.shareArtworkToFeed({text:d.value,workId:t.postId});v?(h.value=!0,setTimeout(()=>{n()},500)):c.value=!0,p.value=!1};return(v,i)=>(y(),_("div",null,[r("div",eo,[r("span",to,g(v.$t("feeds.share.artwork.title")),1),r("div",ao,[I(r("div",so,[r("span",oo,g(v.$t("feeds.share.artwork.success")),1)],512),[[A,h.value]]),I(r("div",lo,[x(We,{class:"mr-2"}),T(" "+g(v.$t("feeds.form.postingYourUpdate")),1)],512),[[A,p.value]]),I(r("div",{class:"alert-danger"},g(v.$t("feeds.form.postFailure")),513),[[A,c.value]]),I(r("textarea",{"onUpdate:modelValue":i[0]||(i[0]=u=>d.value=u),class:"input form-input textarea",placeholder:v.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,no),[[Re,d.value]]),r("div",ro,[r("button",{class:"cancel-button",onClick:i[1]||(i[1]=u=>n())},g(v.$t("cancel")),1),r("button",{class:D([d.value!==""?"primary-button":"disabled-button"]),onClick:i[2]||(i[2]=u=>w())},g(v.$t("share")),3)])])])]))}},$t=s=>(wt("data-v-37cef98e"),s=s(),gt(),s),co={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},uo={class:"flex flex-row justify-center mb-2"},mo=$t(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),po={class:"font-bold cursor-pointer"},ho={class:"mr-2 font-normal"},vo={class:"italic"},fo={key:1,class:"alert-success"},wo={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},go={class:"mr-4"},yo={class:"image-list"},bo=["src","data-source"],ko={class:"interactions"},xo={class:"reaction-counters"},_o={class:"counter"},Co={key:1,class:"counter"},$o={key:2,class:"counter"},Io={key:3,class:"counter"},Ao={key:0,class:"reactions"},Ro={class:"inline-block relative z-30 dropdown"},So={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Po={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Oo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Lo={key:2,class:"custom-divider"},Uo={key:4,class:"custom-divider"},Vo=["to"],Eo={class:"comments"},qo={key:0,class:"comment-box"},Mo={class:"flex flex-col"},To={class:"flex relative flex-col"},Bo=["readonly","rows","placeholder"],Fo={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Do={class:"comment-content"},jo=["src"],No={class:"w-full"},Ho={class:"flex justify-between"},Qo={class:"comment-time"},zo={class:"mt-4 reactions"},Wo=["onClick"],Go={key:0},Jo={key:0,class:"flex flex-row"},Yo=["onClick"],Ko=["onClick"],Xo={class:"inline-block relative ml-2 dropdown"},Zo={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},el={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},tl=["onClick"],al={key:0,class:"-mb-4 comment-box"},sl={class:"flex flex-col"},ol={class:"flex relative flex-col"},ll=["id","readonly","rows","placeholder"],nl=["onClick"],rl=["id"],il={key:0,class:"w-full"},cl={class:"float-left mb-2 text-xs italic text-color-secondary"},ul=["onClick"],dl={class:"flex flex-row justify-between"},ml=["src"],pl={class:"transition-all duration-150 cursor-pointer hover:font-bold"},hl={class:"leading-6 comment-time"},vl={class:"mt-2"},fl={key:0,class:"mt-2 reactions"},wl=$t(()=>r("span",null,null,-1)),gl={class:"flex flex-row"},yl=["onClick"],bl={class:"inline-block relative ml-2 dropdown"},kl={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},xl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},_l={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Cl=["onClick"],$l=["onClick"],Il={key:3,class:"mt-4 w-full text-xs italic text-center"},Al={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},setup(s,{expose:t}){const a=s,e=Ee(),{oApiConfiguration:o,fetchOptions:l}=_e(),{applyExplicitFilter:n,removeExplicitFilter:d,generateSemiCompressedArtworkUrl:c}=aa(),p=yt(o,l()),h=kt(o,l()),w=sa(),{$router:v}=oa(),i=ft();Ue(()=>i.query,()=>{u(),K().closeModal("collection-selection-modal"),K().closeModal("album-selection-modal"),K().closeModal("report-modal")}),Se(()=>{a.id!==""&&H(a.id),window.addEventListener("keydown",m=>{const f=document.getElementById("collection-selection-modal"),P=document.getElementById("album-selection-modal"),U=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");m.key==="Escape"&&(!f||f.style.display!="flex")&&(!P||P.style.display!="flex")&&(!U||U.style.display!="flex")&&!ae.length&&u()})});const u=()=>{K().closeModal(`${a.section}-modal`)},k=b(!1),V=()=>{k.value=!1,d()},R=a.id==="",Y=async m=>{await p.incraseViewCount(m)},j=b(!1),G=b(!0),$=b({}),X=b(!1),oe=b(!1),se=b(!1),N=b([]),H=async m=>{ee.value="",Z.value=[],le.value=[],G.value=!0;const[f,P]=await p.getWorkById(m);P?Dt():($.value=f,N.value=[],f.artwork_assets.forEach(ae=>{N.value.push({thumbnail:c(ae.bucket,ae.filename,!0),source:c(ae.bucket,ae.filename,!1)})}),!e.loggedIn&&f.is_explicit||f.is_explicit&&!e.user.user_settings.show_explicit?(k.value=!0,n()):k.value=!1,X.value=f.liked,oe.value=f.saved,se.value=f.in_album,ot().formatApiToWeb(f.scheduled_post)<ot().currentUtcTime()?(await It(m),e.loggedIn&&await E(m),(!e.loggedIn||e.user.id!==f.users.id)&&await Y(m)):e.user.id!==f.users.id?v.push("/"):j.value=!0),G.value=!1},B=b({}),E=async m=>{const[f,P]=await h.getReportStatus({type:"artwork",postId:m});P||(f.length?B.value=f[0]:B.value={})},q=async()=>{const[m,f]=await p.like({workId:$.value.id});if(m){X.value=!0;const P=document.getElementById("like-button");P.classList.add("animate-bounce"),setInterval(()=>{P.classList.remove("animate-bounce")},2500)}},Q=async()=>{const[m,f]=await p.unlike({workId:$.value.id});m&&(X.value=!1)},Z=b([]),ye=Qe({perPage:3,page:0}),$e=b([]),Xe=async m=>{const[f,P]=await p.getComments({workId:m,pagination:{page:ye.page,perPage:ye.perPage}});if(f)return f.pagination.current_page===f.pagination.first_last.last_page?Oe.value=!1:Oe.value=!0,f.comments.forEach(U=>{U.liked&&we.value.push(U.id),$e.value.push(U.id)}),f.comments},It=async m=>{try{(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},Oe=b(!1),At=async m=>{try{ye.page+=1,(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},ee=b(),qe=200,Rt=ze(()=>ee.value!=null&&ee.value!==""?qe-ee.value.length:qe),be=b(!1),St=async()=>{be.value=!0;try{const[m,f,P]=await p.addComment({workId:$.value.id,comment:ee.value});m&&(ee.value="",Z.value.splice(0,0,f),Z.value.join(),$e.value.splice(0,0,f.id),$e.value.join())}catch{}be.value=!1},Pt=async m=>{const[f,P]=await p.deleteComment({commentId:m});if(f){const U=$e.value.indexOf(m);Z.value.splice(U,1),$e.value.splice(U,1)}},we=b([]),Ot=async m=>{const[f,P]=await p.likeComment({commentId:m});if(f){we.value.push(m);const U=document.getElementById(`comment-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Lt=async m=>{const[f,P]=await p.unlikeComment({commentId:m});if(f){const U=we.value.indexOf(m);we.value.splice(U,1)}},Me=Qe({perPage:2,page:0}),le=b([]),ke=b([]),Te=b(!0),Ze=async m=>{const[f,P,U]=await p.getCommentReplies({commentId:m,pagination:{page:Me.page,perPage:Me.perPage}});if(!U)return P.current_page===P.first_last.last_page&&(Te.value=!1),f.map(ae=>ke.value.push(ae.id)),f},Ie=b(0),Be=async m=>{Te.value=!0,ke.value=[];try{const f=await Ze(m);le.value={[m]:f},f.forEach(U=>{U.liked&&ge.value.push(U.id)}),Ie.value&&Fe(Ie.value);const P=document.getElementById(`comment-replies-${m}`);P.classList.add("flex"),P.classList.remove("hidden"),Ie.value=m}catch{}},Fe=m=>{const f=document.getElementById(`comment-replies-${m}`);f.classList.remove("flex"),f.classList.add("hidden"),Ie.value=0},Ut=async m=>{Me.page+=1;try{(await Ze(m)).forEach(P=>{le.value[m].push(P)})}catch{}},Le=b(0),Vt=async m=>{await Be(m),Le.value=m},te=b(),De=200,Et=ze(()=>te.value!=null&&te.value!==""?De-te.value.length:De),xe=b(!1),qt=async m=>{xe.value=!0;try{const[f,P,U]=await p.addReply({commentId:m,reply:te.value});f&&(Be(m),te.value="",le.value[m].splice(0,0,P),le.value[m].join(),Le.value=0,ke.value.splice(0,0,P.id),ke.value.join())}catch{}xe.value=!1},Mt=async(m,f)=>{const[P,U]=await p.deleteReply({replyId:f});if(P){const ae=ke.value.indexOf(f);le.value[m].splice(ae,1),ke.value.splice(ae,1)}},ge=b([]),Tt=async m=>{const[f,P]=await p.likeReply({replyId:m});if(f){ge.value.push(m);const U=document.getElementById(`reply-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Bt=async m=>{const[f,P]=await p.unlikeReply({replyId:m});if(f){const U=ge.value.indexOf(m);ge.value.splice(U,1)}},Ft=b(!1),Dt=()=>{Ft.value=!0},je=b(!1),Ne=b(!1),et=async m=>{const[f,P]=await p.deleteWork({workId:[m]});f&&(Ne.value=!0,setTimeout(()=>{v.push("/")},1500))},tt=b(null),jt=()=>{K().openModal("collection-selection-modal"),tt.value.fetchCurrentSaved()},Nt=m=>{m?oe.value=!1:oe.value=!0,nt().animate("save-to-collection-button")},at=b(null),Ht=()=>{K().openModal("album-selection-modal"),at.value.fetchCurrentSaved()},Qt=m=>{m?se.value=!1:se.value=!0,nt().animate("save-to-album-button")},zt=()=>{K().openModal("share-to-feed-modal")},st=b(!1);let Wt;const Gt=m=>{const f=b(w.public.appUrl+m),{copy:P}=ga({source:f});P(),ia().splash(Wt,st,"copy-alert")},Jt=b(null),Yt=()=>{K().openModal("report-modal")};return t({view:H}),(m,f)=>{const P=na("viewer"),U=Pe,ae=lt("lazy"),Kt=lt("auto-animate");return y(),_("div",{class:D(["work-container work-view",R?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:D(["left-side",{"overflow-y-scroll mr-6":R}])},[j.value&&!Ne.value?(y(),_("div",co,[r("div",uo,[x(L,{name:"i-ion-alert-outline"}),mo]),r("div",po,[r("span",{class:"text-red-500",onClick:f[0]||(f[0]=C=>je.value=!0)},g(m.$t("artworks.deleteArtwork")),1),I(r("div",null,[r("span",ho,[T(g(m.$t("alert.areYouSure"))+" ",1),r("span",vo,"("+g(m.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:f[1]||(f[1]=C=>et($.value.id))},g(m.$t("yes")),1),r("span",{class:"hover:underline",onClick:f[2]||(f[2]=C=>je.value=!1)},g(m.$t("no")),1)],512),[[A,je.value]])])])):S("",!0),Ne.value?(y(),_("div",fo,g(m.$t("artworks.successDelete")),1)):S("",!0),I(r("div",wo,[r("span",go,g(O(e).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:f[3]||(f[3]=pe(C=>V(),["prevent"]))},g(m.$t("show")),1)],512),[[A,k.value]]),r("div",yo,[x(P,{options:{url:"data-source"},images:N.value,class:"overflow-hidden rounded-md"},{default:J(()=>[(y(!0),_(he,null,ve(N.value,(C,M)=>I((y(),_("img",{key:C.thumbnail,loading:"lazy",src:C.thumbnail,"data-source":C.source,class:D(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":k.value},k.value?"brightness-50":"brightness-100"]),onError:f[4]||(f[4]=(...Ae)=>m.imageLoadError&&m.imageLoadError(...Ae))},null,42,bo)),[[ae,C.thumbnail]])),128))]),_:1},8,["images"])]),I(r("div",ko,[r("div",xo,[$.value.is_explicit?(y(),_("span",{key:0,class:D(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",R?"theme-color-secondary":"bg-tag"])},"E",2)):S("",!0),I(r("span",_o,[r("b",null,g(m.shortNumber($.value.views)),1),T(" "+g(m.$t("count.views")),1)],512),[[A,$.value.views>0]]),$.value._count?I((y(),_("span",Co,[r("b",null,g(m.thousand($.value._count.artwork_likes)),1),T(" "+g(m.$t("count.likes")),1)],512)),[[A,$.value._count.artwork_likes>0]]):S("",!0),$.value._count?I((y(),_("span",$o,[r("b",null,g(m.thousand($.value._count.artwork_comments)),1),T(" "+g(m.$t("count.comments")),1)],512)),[[A,$.value._count.artwork_comments>0]]):S("",!0),$.value._count?I((y(),_("span",Io,[r("b",null,g(m.thousand($.value._count.artwork_collection_has_works)),1)],512)),[[A,$.value._count.artwork_collection_has_works]]):S("",!0)]),O(e).loggedIn&&!j.value?(y(),_("div",Ao,[r("span",{onClick:f[5]||(f[5]=C=>X.value?Q():q())},[I(x(L,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[A,X.value]]),I(x(L,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[A,!X.value]])]),O(e).loggedIn?(y(),_("span",{key:0,onClick:f[6]||(f[6]=C=>jt())},[I(x(L,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[A,oe.value]]),I(x(L,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[A,!oe.value]])])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("span",{key:1,onClick:f[7]||(f[7]=C=>Ht())},[I(x(L,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[A,se.value]]),I(x(L,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[A,!se.value]])])):S("",!0),r("span",{onClick:f[8]||(f[8]=C=>zt())},[I(x(L,{name:"i-uil-share",class:"hover:text-blue-500"},null,512),[[A,!X.value]])]),r("div",Ro,[r("button",So,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Po,[r("div",Oo,[R?(y(),ie(U,{key:0,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(m.$t("open")),1)]),_:1},8,["to"])):S("",!0),R?(y(),ie(U,{key:1,to:"/a/"+$.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(m.$t("openInNewTab")),1)]),_:1},8,["to"])):S("",!0),R?(y(),_("div",Lo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id!=$.value.users.id&&!O(e).user.is_admin&&!O(e).user.is_moderator?(y(),_("div",{key:3,to:"#",class:D(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!R}]),onClick:f[9]||(f[9]=C=>Yt())},[x(L,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(m.$t("report")),1)],2)):S("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:f[10]||(f[10]=C=>Gt("/a/"+$.value.id))},[x(L,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(m.$t("copySharableLink")),1)]),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",Uo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),ie(U,{key:5,to:"/works/update/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("update")),1)]),_:1},8,["to"])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",{key:6,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:f[11]||(f[11]=C=>m.openModal("work-deletion-confirm-modal"))},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,Vo)):S("",!0)])])])])):S("",!0)],512),[[A,O(e).loggedIn]]),x(dt,{section:s.section,class:"flex-md-hidden","is-modal":R,"artwork-detail":$.value,"preview-mode":j.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(y(),ie(la,null,[G.value?S("",!0):(y(),ie(mt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":$.value,view:H,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:D(["right-side",{"pr-3 overflow-y-scroll":R}])},[x(dt,{section:s.section,class:"hidden-md-flex","is-modal":R,"artwork-detail":$.value,"preview-mode":j.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),G.value?S("",!0):(y(),ie(mt,{key:0,class:"flex-md-hidden","artwork-detail":$.value,view:H,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),r("section",Eo,[O(e).loggedIn&&!j.value?(y(),_("div",qo,[r("div",Mo,[r("div",To,[I(r("textarea",{"onUpdate:modelValue":f[12]||(f[12]=C=>ee.value=C),class:D(["input form-input",[{"cursor-not-allowed":be.value},{"theme-color-secondary textarea":R}]]),readonly:be.value,cols:"30",rows:ee.value!=null&&ee.value!=""?"8":"0",placeholder:m.$t("comments.inputPlaceholder"),maxlength:qe,"data-gramm":"false"},null,10,Bo),[[Re,ee.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(Rt)),513),[[A,ee.value!=null&&ee.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:f[13]||(f[13]=pe(C=>St(),["prevent"]))},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,ee.value!=null&&ee.value!=""&&!be.value]]),I(x(We,null,null,512),[[A,be.value]])])])])])):S("",!0),O(e).loggedIn?S("",!0):(y(),_("div",Fo,g(m.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",Do,[(y(!0),_(he,null,ve(Z.value,C=>I((y(),_("div",{key:C.id,class:"flex flex-row w-full comment-item"},[x(U,{class:"mr-2",to:"/profile/"+C.users.username},{default:J(()=>[r("img",{class:"w-10 h-10 avatar",src:m.avatarCoverUrl(C.users.avatar_bucket,C.users.avatar_filename),onError:f[14]||(f[14]=(...M)=>m.imageLoadError&&m.imageLoadError(...M))},null,40,jo)]),_:2},1032,["to"]),r("div",No,[r("div",{class:D(["p-3 w-full rounded-md",R?"theme-color-secondary":"theme-color"])},[r("div",Ho,[x(U,{to:"/profile/"+C.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:J(()=>[T(g(C.users.name),1)]),_:2},1032,["to"]),r("div",Qo,g(m.formatDate(C.created_at,!0)),1)]),r("div",null,g(C.comment),1),r("div",zo,[r("div",{class:"cursor-pointer hover:underline",onClick:M=>Ie.value==C.id?Fe(C.id):Be(C.id)},[C._count.artwork_comment_has_replies>0?(y(),_("span",Go,[r("b",null,g(m.shortNumber(C._count.artwork_comment_has_replies)),1),T(" "+g(C._count.artwork_comment_has_replies>1?m.$t("comments.replies.replies").toLowerCase():m.$t("comments.replies.reply").toLowerCase()),1)])):S("",!0)],8,Wo),O(e).loggedIn?(y(),_("div",Jo,[r("span",{class:"reaction",onClick:M=>we.value.includes(C.id)?Lt(C.id):Ot(C.id)},[I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!we.value.includes(C.id)]]),I(x(L,{id:"comment-like-button-"+C.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,we.value.includes(C.id)]]),T(" "+g(m.shortNumber(C._count.artwork_comment_has_likes)),1)],8,Yo),r("span",{class:"reaction",onClick:M=>Vt(C.id)},[x(L,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Ko),r("div",Xo,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:f[15]||(f[15]=M=>Le.value=0)},[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Zo,[r("div",el,[x(U,{to:"/profile/"+C.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[16]||(f[16]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===C.users.id?(y(),_("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>Pt(C.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,tl)):S("",!0)])])])])):S("",!0)])],2),O(e).loggedIn?I((y(),_("div",al,[r("div",sl,[r("div",ol,[I(r("textarea",{id:"reply-"+C.id,"onUpdate:modelValue":f[17]||(f[17]=M=>te.value=M),class:D(["mt-2 w-full input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":R}]]),readonly:xe.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:m.$t("comments.replies.write"),maxlength:De,"data-gramm":"false"},null,10,ll),[[Re,te.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(Et)),513),[[A,te.value!=null&&te.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:pe(M=>qt(C.id),["prevent"])},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,te.value!=null&&te.value!=""&&!xe.value]]),I(x(We,null,null,512),[[A,xe.value]])],8,nl)])])],512)),[[A,Le.value===C.id]]):S("",!0),r("div",{id:"comment-replies-"+C.id,class:"hidden flex-col mt-2"},[le.value[C.id]&&le.value[C.id].length?(y(),_("div",il,[r("span",cl,g(m.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>Fe(C.id)},g(m.$t("hide")),9,ul)])):S("",!0),(y(!0),_(he,null,ve(le.value[C.id],M=>(y(),_("div",{key:M.id,class:D(["p-3 mb-2 w-full rounded-md border-l-4",R?"theme-color-secondary":"theme-color"])},[r("div",dl,[x(U,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:J(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:m.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:f[18]||(f[18]=(...Ae)=>m.imageLoadError&&m.imageLoadError(...Ae))},null,40,ml),r("span",pl,g(M.users.name),1)]),_:2},1032,["to"]),r("span",hl,g(m.formatDate(M.created_at,!0)),1)]),r("div",vl,g(M.content),1),O(e).loggedIn?(y(),_("div",fl,[wl,r("div",gl,[r("span",{class:"reaction",onClick:Ae=>ge.value.includes(M.id)?Bt(M.id):Tt(M.id)},[I(x(L,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,ge.value.includes(M.id)]]),I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!ge.value.includes(M.id)]]),T(" "+g(m.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,yl),r("div",bl,[r("button",kl,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",xl,[r("div",_l,[x(U,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[19]||(f[19]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===M.users.id?(y(),_("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ae=>Mt(C.id,M.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,Cl)):S("",!0)])])])])])):S("",!0)],2))),128)),le.value[C.id]&&Te.value?(y(),_("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Ut(C.id)},g(m.$t("comments.replies.loadMore")),9,$l)):S("",!0)],8,rl)])])),[[Kt]])),128))]),$.value._count?I((y(),_("div",{key:2,class:"text-center capitalize href",onClick:f[20]||(f[20]=pe(C=>At($.value.id),["prevent"]))},g(m.$t("comments.loadOlder")),513)),[[A,$.value._count.artwork_comments>3&&Oe.value]]):S("",!0),I(r("div",{class:"w-full text-xs italic text-center"},g(m.$t("comments.reachedTheEnd")),513),[[A,Z.value.length&&!Oe.value]]),O(e).loggedIn&&!Z.value.length&&!j.value?(y(),_("div",Il,g(m.$t("comments.noCommentYet")),1)):S("",!0)])],2),G.value?S("",!0):(y(),ie(vs,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:tt,"work-id":$.value.id,class:"modal",onSave:Nt},null,8,["work-id"])),!G.value&&O(e).loggedIn&&$.value.users&&O(e).user.id==$.value.users.id?(y(),ie(O(Is),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:at,"modal-id":"album-selection-modal","work-id":$.value.id,class:"modal",onAddedToAlbum:Qt},null,8,["work-id"])):S("",!0),x(Ps,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:f[21]||(f[21]=C=>et($.value.id))},null,8,["message"]),x(Zs,{id:"report-modal",ref_key:"reportModalRef",ref:Jt,class:"modal",type:"artwork","post-id":$.value.id,"report-status":B.value},null,8,["post-id","report-status"]),x(io,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":$.value.id},null,8,["post-id"]),I(x(Vs,{id:"copy-alert",text:m.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[A,st.value]])],2)}}},El=fe(Al,[["__scopeId","data-v-37cef98e"]]);export{El as M,Vs as S,Ka as W,Ps as _,vs as a,Ca as b,ga as c,ia as d,fs as e,as as f,Is as g,nt as u};
