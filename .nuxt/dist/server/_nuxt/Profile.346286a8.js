import{c as X,d as Y,n as Re,e as Ae,i as Q,_ as fe,h as he,S as Pe,k as Ue}from"../server.mjs";import{ref as f,openBlock as t,createElementBlock as l,Fragment as J,renderList as K,createElementVNode as e,createVNode as c,withCtx as W,createTextVNode as O,toDisplayString as a,createCommentVNode as r,withModifiers as G,withDirectives as C,vShow as F,normalizeClass as U,unref as p,createBlock as N,pushScopeId as we,popScopeId as be,onBeforeMount as $e,KeepAlive as xe,vModelText as oe,watch as Fe,resolveComponent as Be,onMounted as ge,normalizeStyle as Se,computed as ze}from"vue";import"vue-router";import{M as _e,_ as re,u as Te,W as Me,e as ue,f as de,S as ce,c as me,g as ve,h as Oe}from"./ModalView.c47a766d.js";import{J as Ve,u as ke,L as Ne}from"./Layout.5e9abb83.js";import{_ as Z,a as M,u as De}from"./Icon.9f42b73b.js";import{a as qe}from"./useFeed.a26f6bd0.js";import{I as Le,F as He}from"./FeedModalView.99885a71.js";import{_ as le}from"./LoadingEmptyErrorMessage.4c604397.js";import{u as Ce}from"./useUser.396da3bd.js";const pe=m=>(we("data-v-fbe45aca"),m=m(),be(),m),Ge={class:"mx-auto w-full md:w-2/3"},We={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},Je={class:"w-full"},Ke={key:0,class:"p-4 user-info"},Ye=["src"],Qe={class:"name"},Xe=pe(()=>e("br",null,null,-1)),Ze=pe(()=>e("span",{class:"mx-1"},"\xB7",-1)),et={class:"text-xxs"},tt={class:"px-2 md:px-4"},ot=["id","innerHTML"],lt=["id","onClick"],st={key:1,class:"my-2 w-full rounded-md theme-color"},at={key:0,class:"p-2 md:p-4 user-info"},nt=["src"],it={class:"name"},rt=pe(()=>e("br",null,null,-1)),ut=pe(()=>e("span",{class:"mx-1"},"\xB7",-1)),dt={class:"px-2 mt-2 md:px-4"},ct={class:"text-xs font-semibold"},mt=["id"],vt=["id","onClick"],pt=["onClick"],ft={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},ht={class:"mx-auto mt-2 primary-button"},wt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},bt={class:"mx-auto mt-2 primary-button"},gt={class:"float-right mx-4 mt-2 interactions"},_t={key:0,class:"reactions"},kt=["onClick"],yt=["onClick"],$t={class:"option dropdown"},xt=["onClick"],Mt={class:"option-dropdown dropdown-menu"},Ct={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},It={class:"menu-wrapper"},Et={key:0,class:"custom-divider"},Lt=["to"],At={class:"mx-auto text-center"},Pt={class:"mx-auto mt-10 text-center"},Ft=pe(()=>e("b",null,"(\u3186_\u3186)",-1)),St={class:"mx-auto text-center"},Tt={id:"chronological-feed-modal",class:"modal work-view"},jt={id:"artwork-modal",class:"modal work-view"},Rt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(m){const S=m,b=X(),{oApiConfiguration:d,fetchOptions:P}=Y(),h=qe(d,P()),{generateArtworkThumb:x}=Re();Ae();const k=f(0),y=f(0),i=(v,E)=>{k.value=v,y.value=E},$=f([]),w=f({page:0,perPage:10}),o=async({loaded:v})=>{const[E,B]=await h.getFeedByUserId({userId:S.userId,pagination:{page:w.value.page,perPage:w.value.perPage}});w.value.page+=1;for(let s=0;s<E.feeds.length;s++){const V=E.feeds[s];if(V.liked&&R.value.push(V.id),V.artworks){V.artworks.images=[],V.artworks.apply_explicit_filter=!1;for(let q=0;q<V.artworks.artwork_assets.length;q++)if(q<=3){const te=await x(V.artworks.artwork_assets[q].bucket,V.artworks.artwork_assets[q].filename,"feed");V.artworks.images.push(te)}V.artworks!=null&&(!b.loggedIn&&V.artworks.is_explicit||V.artworks.is_explicit&&!b.user.user_settings.show_explicit)&&(V.artworks.apply_explicit_filter=!0)}$.value.push(V)}v(E.feeds.length,w.value.perPage)},j=f(null),n=v=>{j.value.view(v),Q().openModal("chronological-feed-modal")},g=f(null),_=(v,E,B)=>{E?(console.log("removing explicit filter.."),$.value[B].artworks.apply_explicit_filter=!1):(g.value.view(v),Q().openModal("artwork-modal"))},R=f([]),L=async v=>{const[E,B]=await h.like({feedId:v});if(E){R.value.push(v);const s=document.getElementById(`profileFeedLikeButton-${v}`);s.classList.add("animate-bounce"),setInterval(()=>{s.classList.remove("animate-bounce")},2500)}},z=async v=>{const[E,B]=await h.unlike({feedId:v});if(E){const s=R.value.indexOf(v);R.value.splice(s,1)}},D=(v,E,B,s)=>{Te().readMore(v,E,B,s)},H=async()=>{const[v,E]=await h.remove(k.value);v&&$.value.splice(y.value,1)};return(v,E)=>{const B=fe;return t(),l("div",Ge,[(t(!0),l(J,null,K($.value,(s,V)=>(t(),l("div",{key:s.id},[e("div",We,[e("div",Je,[s.users?(t(),l("div",Ke,[c(B,{to:"/profile/"+s.users.username},{default:W(()=>[e("img",{class:"avatar",src:v.avatarCoverUrl(s.users.avatar_bucket,s.users.avatar_filename),onError:E[0]||(E[0]=(...q)=>v.imageLoadError&&v.imageLoadError(...q))},null,40,Ye)]),_:2},1032,["to"]),e("div",Qe,[c(B,{to:"/profile/"+s.users.username,class:"fullname"},{default:W(()=>[O(a(s.users.name),1)]),_:2},1032,["to"]),Xe,c(B,{to:"/profile/"+s.users.username,class:"username hover:underline"},{default:W(()=>[O(" @"+a(s.users.username),1)]),_:2},1032,["to"]),Ze,e("span",et,a(v.formatDate(s.scheduled_post?s.scheduled_post:s.created_at,!0)),1)])])):r("",!0),e("div",tt,[e("p",{id:"feed-text-"+s.id,innerHTML:s.text.split("<br>").length>3&&s.text.length>300?`${s.text.slice(0,300)}...`:s.text},null,8,ot),s.text.split("<br>").length>3&&s.text.length>300?(t(),l("a",{key:0,id:"feed-read-more-"+s.id,class:"href",onClick:G(q=>D(s.text,s.id,"feed-read-more-","feed-text-"),["prevent"])},a(v.$t("readMore")),9,lt)):r("",!0),s.artworks?(t(),l("div",st,[s.artworks.users?(t(),l("div",at,[c(B,{to:"/profile/"+s.artworks.users.username},{default:W(()=>[e("img",{class:"avatar",src:v.avatarCoverUrl(s.artworks.users.avatar_bucket,s.artworks.users.avatar_filename),onError:E[1]||(E[1]=(...q)=>v.imageLoadError&&v.imageLoadError(...q))},null,40,nt)]),_:2},1032,["to"]),e("div",it,[c(B,{to:"/profile/"+s.artworks.users.username,class:"fullname hover:href"},{default:W(()=>[O(a(s.artworks.users.name),1)]),_:2},1032,["to"]),rt,c(B,{to:"/profile/"+s.artworks.users.username,class:"hover:underline text-xxs"},{default:W(()=>[O(" @"+a(s.artworks.users.username),1)]),_:2},1032,["to"]),ut,c(B,{to:"/a/"+s.artworks.id,class:"hover:underline text-xxs"},{default:W(()=>[O(a(v.formatDate(s.artworks.scheduled_post?s.artworks.scheduled_post:s.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):r("",!0),e("div",dt,[e("span",ct,a(s.artworks.title),1),C(e("p",null,[e("span",{id:"feed-description-"+s.artworks.id},a(s.artworks.description.length>300?`${s.artworks.description.slice(0,300)}...`:s.artworks.description),9,mt),s.artworks.description.length>300?(t(),l("a",{key:0,id:"feed-read-more-"+s.artworks.id,class:"href",onClick:G(q=>D(s.artworks.description,s.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},a(v.$t("readMore")),9,vt)):r("",!0)],512),[[F,s.artworks.description]])]),e("div",null,[v.isMobile()?r("",!0):(t(),l("div",{key:0,class:U(["p-2",{"cursor-pointer":!s.artworks.apply_explicit_filter}]),onClick:G(q=>_(s.artworks.id,s.artworks.apply_explicit_filter,V),["prevent"])},[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":s.artworks.apply_explicit_filter}])},[c(Le,{class:U([{"blur-3xl unclickable":s.artworks.apply_explicit_filter},s.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:s.artworks},null,8,["class","work"]),s.artworks.apply_explicit_filter?(t(),l("div",ft,[e("div",null,a(p(b).loggedIn?v.$t("explicitContentAlert"):v.$t("explicitContentAlertForGuest")),1),e("button",ht,a(v.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)],10,pt)),v.isMobile()?(t(),N(B,{key:1,to:s.artworks.apply_explicit_filter?null:"/a/"+s.artworks.id,onClick:G(q=>_(s.artworks.id,s.artworks.apply_explicit_filter,V),["prevent"]),class:"cursor-pointer"},{default:W(()=>[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"m-2":s.artworks.apply_explicit_filter}])},[c(Le,{class:U([{"blur-3xl unclickable":s.artworks.apply_explicit_filter},s.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:s.artworks},null,8,["class","work"]),s.artworks.apply_explicit_filter?(t(),l("div",wt,[e("div",null,a(p(b).loggedIn?v.$t("explicitContentAlert"):v.$t("explicitContentAlertForGuest")),1),e("button",bt,a(v.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)]),_:2},1032,["to","onClick"])):r("",!0)])])):r("",!0)]),e("div",gt,[p(b).loggedIn?(t(),l("div",_t,[e("span",{class:"leading-8",onClick:q=>R.value.includes(s.id)?z(s.id):L(s.id)},[C(c(M,{id:"profileFeedLikeButton-"+s.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[F,R.value.includes(s.id)]]),C(c(M,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[F,!R.value.includes(s.id)]]),O(" "+a(v.thousand(s._count.feed_likes)),1)],8,kt),e("span",{class:"leading-8",onClick:G(q=>n(s.id),["prevent"])},[c(M,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+a(v.thousand(s._count.feed_comments)),1)],8,yt),e("div",$t,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:q=>i(s.id,V)},[e("span",null,[c(M,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,xt),e("div",Mt,[e("div",Ct,[e("div",It,[c(B,{to:"/feed/"+s.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[c(M,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+a(v.$t("open")),1)]),_:2},1032,["to"]),c(B,{to:"/feed/"+s.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[c(M,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+a(v.$t("openInNewTab")),1)]),_:2},1032,["to"]),p(b).loggedIn&&s.user_id&&p(b).user.id===s.user_id?(t(),l("div",Et)):r("",!0),p(b).loggedIn&&s.user_id&&p(b).user.id===s.user_id?(t(),l("div",{key:1,to:"/feed/"+s.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:E[2]||(E[2]=q=>v.openModal("profile-feed-deletion-confirm-modal"))},[c(M,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+a(v.$t("delete")),1)],8,Lt)):r("",!0)])])])])])):r("",!0)])])])]))),128)),c(p(Ve),{load:o},{loading:W(()=>[e("div",At,[c(M,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":W(()=>[e("div",Pt,[Ft,O(" "+a(v.$t("nothingToShow")),1)])]),"no-more":W(()=>[e("div",St,a(v.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Tt,[c(He,{ref_key:"chronologicalFeedModalViewRef",ref:j,section:"chronological-feed"},null,512)]),e("div",jt,[c(_e,{ref_key:"artworkModalViewRef",ref:g,section:"artwork"},null,512)]),c(re,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${v.$t("alert.areYouSure")} ${v.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:E[3]||(E[3]=s=>H())},null,8,["message"])])}}},Ut=Z(Rt,[["__scopeId","data-v-fbe45aca"]]),Bt={id:"lists"},zt=["id"],Ot={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(m,{emit:S}){const b=m,{oApiConfiguration:d,fetchOptions:P}=Y(),h=De(d,P()),x="profile",k=f(!0);$e(()=>{y()});const y=async()=>{const[B,s]=await w();i.value=B,s.record_total<=$.value.perPage&&n(),s.record_total===0&&L()},i=f([]),$=f({perPage:24,page:0}),w=async()=>{$.value.page===0&&(k.value=!0);const[B,s,V]=await h.getUserArtworks({userId:b.userId,pagination:{page:$.value.page,perPage:$.value.perPage}});if(V)D();else return s.record_total<=$.value.perPage&&n(),s.record_total===0&&L(),$.value.page+=1,o(),[B,s]},o=()=>{k.value=!1,R.value=!1,z.value=!1},j=f(!0),n=()=>{j.value=!1},g=f({delay:!1}),_=async()=>{g.value.delay=!0;const[B,s]=await w();for(let V=0;V<B.length;V++)i.value.push(B[V]);g.value.delay=!1,dataPagination.next_previous.next_page||n(),dataPagination.next_previous.next_page&&dataPagination.current_page===g.maxLoad&&(n(),g.showDiscoveryButton=!0)},R=f(!1),L=()=>{R.value=!0,n(),S("onEmpty")},z=f(!1),D=()=>{k.value=!1,z.value=!0,n()},H=f(null),v=(B,s=!1)=>{H.value.view(B,s),Q().openModal(x+"-modal")},E=B=>{S("feedSelectedItems",B)};return(B,s)=>(t(),l("div",Bt,[C(e("div",null,[(t(),N(xe,null,[C(c(Me,{"section-class":"work-grid",works:i.value,view:v,"manage-mode":m.manageMode,onFeedManageList:E},null,8,["works","manage-mode"]),[[F,!R.value]])],1024)),C(e("div",{class:U(["primary-button",g.value.delay?"animate-pulse":""]),onClick:_},a(B.$t("loadMore")),3),[[F,j.value]])],512),[[F,!k.value]]),c(le,{loading:k.value,empty:R.value,error:z.value,fetch:w},null,8,["loading","empty","error"]),e("div",{id:x+"-modal",class:"modal work-view"},[C(c(_e,{ref_key:"profileModalViewRef",ref:H,section:x},null,512),[[F,!k.value]])],8,zt)]))}},Vt=Z(Ot,[["__scopeId","data-v-6fbdcb8f"]]),Nt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Dt={class:"title"},qt=["name"],Ht=["placeholder"],Gt=["placeholder"],Wt=["for"],Jt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Kt={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Yt=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Qt=[Yt],Xt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Zt=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),eo=[Zt],to={class:"flex flex-row gap-x-1"},oo={class:"flex flex-row gap-2 justify-end mt-2"},lo={type:"submit",class:"primary-button"},so={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:S}){const b=m,d=X(),{oApiConfiguration:P,fetchOptions:h}=Y(),x=ue(P,h()),{t:k}=he(),y="create-album-form",i=f({title:"",description:"",isPublic:1,category:"artwork"}),$=async()=>{ke().validate(y,k);try{let w=!1,o={};if(b.category){const[j,n,g]=await x.createAlbum(b.category,i.value);w=j,o=n}w&&(Q().closeModal(b.modalId),S("created",o))}catch{}};return(w,o)=>(t(),l("div",null,[e("div",Nt,[e("div",null,[e("span",Dt,a(w.$t("albums.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:o[4]||(o[4]=G(j=>$(),["prevent"]))},[e("n-validate",{for:"title",name:w.$t("title")},[C(e("input",{"onUpdate:modelValue":o[0]||(o[0]=j=>i.value.title=j),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:w.$t("title")},null,8,Ht),[[oe,i.value.title]])],8,qt),C(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=j=>i.value.description=j),class:"form-input theme-color-secondary",placeholder:w.$t("description"),"data-gramm":"false"},null,8,Gt),[[oe,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:o[2]||(o[2]=j=>p(d).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[Jt,i.value.isPublic?(t(),l("span",Kt,Qt)):r("",!0),i.value.isPublic?r("",!0):(t(),l("span",Xt,eo))]),e("div",to,[e("span",{class:U(["ml-2",{"leading-6":!p(d).i502p00r0}])},a(w.$t("private")),3),c(de)])],8,Wt),e("div",oo,[e("button",{class:"cancel-button",onClick:o[3]||(o[3]=G(j=>w.closeModal(m.modalId),["prevent"]))},a(w.$t("cancel")),1),e("button",lo,a(w.$t("create")),1)])],32)])])]))}},ao={id:"lists"},no={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},io={class:"mb-2 text-base font-bold"},ro={class:"mb-2"},uo=O(),co={class:"italic"},mo=["id"],vo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(m,{expose:S,emit:b}){const d=m,{oApiConfiguration:P,fetchOptions:h}=Y(),x=ue(P,h()),k=f(d.id);Fe(()=>d.id,(v,E)=>{k.value=v});const y=f(!0),i=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),$=async()=>{y.value=!0,await w(),await o(),y.value=!1},w=async()=>{const[v,E]=await x.getInfo(k.value);i.value.info=v.data},o=async()=>{const[v,E,B]=await x.listAlbumItems({albumId:k.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});E?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,v!==null&&v.length?(v.forEach(s=>{i.value.list.push(s.artworks)}),b("onAlbumEmpty",!1)):(i.value.empty=!0,b("onAlbumEmpty",!0))},j=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},n=f([]),g=v=>{n.value=v,b("feedManageList",v)},_=f(!1);let R;const L=async()=>{const[v,E]=await x.removeItems(d.id,n.value);v&&(me().splash(R,_,"item-removed-alert"),j(),await $())},z=f("album"),D=f(null),H=(v,E=!1)=>{D.value.view(v,E),Q().openModal(z.value+"-modal")};return S({fetchInfo:w,removeItems:L}),(v,E)=>(t(),l("div",ao,[e("div",{class:"hidden",onClick:E[0]||(E[0]=B=>w())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=B=>L())}),e("div",no,[e("div",io,a(i.value.info.name),1),e("div",ro,a(i.value.info.description),1),e("div",null,[e("b",null,a(v.$t("private"))+":",1),uo,e("span",co,a(i.value.info.is_public?v.$t("no"):v.$t("yes")),1)]),e("div",null,[e("b",null,a(v.$t("createdAt")),1),O(" "+a(v.formatDate(i.value.info.created_at)),1)])]),C(e("div",null,[(t(),N(xe,null,[C(c(Me,{"section-class":"work-grid",works:i.value.list,view:H,"manage-mode":m.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[F,!i.value.empty]])],1024)),C(e("div",{class:"primary-button",onClick:E[2]||(E[2]=B=>o())},a(v.$t("loadMore")),513),[[F,i.value.loadMore]])],512),[[F,!y.value]]),c(le,{loading:y.value,empty:i.value.empty,error:!1,fetch:$},null,8,["loading","empty"]),y.value?r("",!0):(t(),l("div",{key:0,id:z.value+"-modal",class:"modal work-view"},[c(_e,{ref_key:"albumModalViewRef",ref:D,section:z.value},null,8,["section"])],8,mo)),C(c(ce,{id:"item-removed-alert",text:v.$t("albums.itemRemoved")},null,8,["text"]),[[F,_.value]])]))}},po=Z(vo,[["__scopeId","data-v-2ee448ae"]]),fo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ho={class:"title"},wo=["name"],bo=["placeholder"],go=["placeholder"],_o=["for"],ko=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),yo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},$o=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),xo=[$o],Mo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Co=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Io=[Co],Eo={class:"flex flex-row gap-x-1"},Lo={class:"flex flex-row gap-2 justify-end mt-2"},Ao={type:"submit",class:"primary-button"},Po={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:S,emit:b}){const d=m,P=X(),{oApiConfiguration:h,fetchOptions:x}=Y(),k=ue(h,x()),{t:y}=he(),i=f(!0),$=async g=>{if(g){n(),i.value=!0;const[_,R]=await k.getInfo(g),L=_.data;o.value.id=g,o.value.name=L.name,o.value.description=L.description,o.value.isPublic=!!L.is_public,i.value=!1}},w="update-album-form",o=f({id:0,name:"",description:"",isPublic:!1}),j=async()=>{ke().validate(w,y);const[g,_]=await k.update({id:o.value.id,name:o.value.name,description:o.value.description,isPublic:o.value.isPublic?1:0});_||(Q().closeModal(d.modalId),b("updated",o.value),n())},n=()=>{o.value={id:0,name:"",description:"",isPublic:0}};return S({fetch:$}),(g,_)=>{const R=Be("ProBadge");return t(),l("div",null,[e("div",fo,[e("div",null,[e("span",ho,a(g.$t("albums.edit.form.title")),1),i.value?r("",!0):(t(),l("form",{key:0,id:w,class:"mt-2",onSubmit:_[4]||(_[4]=G(L=>j(),["prevent"]))},[e("n-validate",{for:"title",name:g.$t("title")},[C(e("input",{"onUpdate:modelValue":_[0]||(_[0]=L=>o.value.name=L),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,bo),[[oe,o.value.name]])],8,wo),C(e("textarea",{"onUpdate:modelValue":_[1]||(_[1]=L=>o.value.description=L),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,go),[[oe,o.value.description]]),e("label",{for:o.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[2]||(_[2]=L=>p(P).i502p00r0?o.value.isPublic=!o.value.isPublic:o.value.isPublic=!0)},[ko,o.value.isPublic?(t(),l("span",yo,xo)):r("",!0),o.value.isPublic?r("",!0):(t(),l("span",Mo,Io))]),e("div",Eo,[e("span",{class:U(["ml-2",{"leading-6":!p(P).i502p00r0}])},a(g.$t("private")),3),c(R)])],8,_o),e("div",Lo,[e("button",{class:"cancel-button",onClick:_[3]||(_[3]=G(L=>g.closeModal(m.modalId),["prevent"]))},a(g.$t("cancel")),1),e("button",Ao,a(g.$t("save")),1)])],32))])])])}}},je=""+globalThis.__buildAssetsURL("folder.11be08fa.png"),Ie=m=>(we("data-v-eccd717d"),m=m(),be(),m),Fo={class:"mb-2"},So={key:0},To=Ie(()=>e("img",{src:je,class:"rounded"},null,-1)),jo=[To],Ro={key:1},Uo={class:"relative text-center"},Bo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},zo={class:"overflow-hidden rounded-md"},Oo=["src"],Vo={key:2,class:"imgrid"},No={class:"relative text-center"},Do={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},qo={class:"overflow-hidden rounded-md"},Ho=["src"],Go=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Wo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Jo={key:3,class:"imgrid"},Ko={class:"relative text-center"},Yo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Qo={class:"overflow-hidden rounded-md"},Xo=["src"],Zo={key:4,class:"imgrid"},el={class:"relative text-center"},tl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ol={class:"overflow-hidden rounded-md"},ll=["src"],sl={key:5,class:"imgrid"},al={key:0,class:"relative text-center"},nl={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},il={class:"overflow-hidden rounded-md"},rl=["src"],ul={key:1,class:"relative text-center"},dl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},cl={class:"overflow-hidden rounded-md"},ml=["src"],vl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(m){const S=X(),b={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,P)=>(t(),l("div",Fo,[!m.album.album_has_artworks||m.album._count.album_has_artworks===0?(t(),l("div",So,jo)):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(t(),l("div",Ro,[e("div",Uo,[d.applyExplicitFilter(p(S),m.album.album_has_artworks[0].artworks.is_explicit)?(t(),l("span",Bo,a(d.$t("explicitContent")),1)):r("",!0),e("div",zo,[m.album.album_has_artworks&&m.album._count.album_has_artworks===1?(t(),l("img",{key:0,src:d.artworkThumb(m.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,m.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),m.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...h)=>d.imageLoadError&&d.imageLoadError(...h))},null,42,Oo)):r("",!0)])])])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===2?(t(),l("div",Vo,[(t(!0),l(J,null,K(m.album.album_has_artworks,(h,x)=>(t(),l("div",{key:x,class:U(b[2][x])},[e("div",No,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",Do,a(d.$t("explicitContent")),1)):r("",!0),e("div",qo,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ho)])])],2))),128)),Go,Wo])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===3?(t(),l("div",Jo,[(t(!0),l(J,null,K(m.album.album_has_artworks,(h,x)=>(t(),l("div",{key:x,class:U(b[3][x])},[e("div",Ko,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",Yo,a(d.$t("explicitContent")),1)):r("",!0),e("div",Qo,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Xo)])])],2))),128))])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks===4?(t(),l("div",Zo,[(t(!0),l(J,null,K(m.album.album_has_artworks,(h,x)=>(t(),l("div",{key:x},[e("div",el,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",tl,a(d.$t("explicitContent")),1)):r("",!0),e("div",ol,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,ll)])])]))),128))])):r("",!0),m.album.album_has_artworks&&m.album._count.album_has_artworks>4?(t(),l("div",sl,[(t(!0),l(J,null,K(m.album.album_has_artworks,(h,x)=>(t(),l("div",{key:x},[x<3?(t(),l("div",al,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",nl,a(d.$t("explicitContent")),1)):r("",!0),e("div",il,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,rl)])])):(t(),l("div",ul,[e("span",dl,"+"+a(m.album._count.album_has_artworks-4),1),e("div",cl,[e("img",{src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,ml)])]))]))),128))])):r("",!0)]))}},pl=Z(vl,[["__scopeId","data-v-eccd717d"]]),fl={class:"mb-2 w-full"},hl={key:0,class:"flex flex-row justify-between"},wl={class:"flex flex-row"},bl={key:0},gl={key:1,class:"flex flex-row justify-between"},_l={class:"flex flex-row"},kl={class:"flex flex-row gap-2"},yl={class:"flex flex-row gap-2"},$l={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},xl=["onClick"],Ml={class:"flex flex-row pb-1 mt-4 font-bold"},Cl={class:"text-xs font-normal"},Il={__name:"Album",props:{userId:{type:Number,default:0}},setup(m){const S=m,b=X(),{oApiConfiguration:d,fetchOptions:P}=Y(),h=ue(d,P());$e(()=>{$()}),ge(()=>{n()});const x=f(!0),k=f("artwork"),y=f(0),i=f(!1),$=async()=>{if(b.i502p00r0)i.value=!0;else{console.log(k.value);const[u,A]=await h.proCanCreateAlbum({type:k.value});console.log(u),A?i.value=!1:i.value=u}},w=f([]),o=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),j=f({artwork:0}),n=async()=>{x.value=!0;const[u,A,I]=await h.fetchAlbums(S.userId,k.value,o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage,o.value.pagination.page);if(I)z();else{u.length||(o.value.manageMode=!1,R()),u.forEach(ye=>{w.value.push(ye)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=A;const[ie]=await h.countArtworkAlbums(S.userId);j.value.artwork=ie}x.value=!1},g=async()=>await n(),_=f(!1),R=()=>{_.value=!0,o.value.showLoadMore=!1},L=f(!1),z=()=>{x.value=!1,L.value=!0,o.value.showLoadMore=!1},D=async()=>{x.value=!1,_.value=!1,L.value=!1,o.value.pagination.page=0,w.value=[],await n()},H=f(!1);let v;const E=async()=>{await $(),me().splash(v,H,"created-alert"),await D()},B=f(null),s=()=>{B.value.fetch(y.value),Q().openModal("album-edit-form-modal")},V=f(null),q=u=>{V.value.fetchInfo(),w.value.forEach(A=>{A.id===u.id&&(A.name=u.name,A.description=u.description,A.is_public=u.isPublic)})},te=()=>{V.value.removeItems()},ee=f([]),se=u=>{ee.value=u},ne=async()=>{if(y.value!==0){const[u,A]=await h.deleteAlbum(y.value);u&&(await $(),y.value=0,D())}},ae=u=>{o.value.showManageButton=!u,o.value.manageMode=!1},T=()=>{y.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(u,A)=>(t(),l("div",null,[e("div",fl,[y.value?r("",!0):(t(),l("div",hl,[e("div",wl,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":k.value==="artwork"}]),onClick:A[0]||(A[0]=I=>k.value="artwork")},[O(a(u.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",k.value==="artwork"?"theme-color":"button-color text-white"])},a(j.value.artwork),3)],2)]),p(b).loggedIn&&p(b).user.id===m.userId?(t(),l("div",bl,[e("div",{class:"flex flex-row icon-button",onClick:A[1]||(A[1]=I=>i.value?u.openModal("album-form-modal"):null)},[c(M,{name:"i-ion-add-outline"}),i.value?r("",!0):(t(),N(de,{key:0,class:"ml-1"}))])])):r("",!0)])),y.value?(t(),l("div",gl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:A[2]||(A[2]=I=>T())},[c(M,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",_l,[C(e("div",kl,[e("button",{class:"action-button secondary-button",onClick:A[3]||(A[3]=I=>o.value.manageMode=!o.value.manageMode)},[c(M,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(o.value.manageMode?u.$t("quit"):u.$t("manage")),1)]),C(e("button",{class:U(["flex flex-row",ee.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:A[4]||(A[4]=I=>ee.value.length>0?u.openModal("item-deletion-confirm-modal"):null)},[c(M,{name:"i-akar-icons-trash-bin"}),O(" "+a(u.$t("albums.removeSelected")),1)],2),[[F,o.value.manageMode]])],512),[[F,p(b).loggedIn&&p(b).user.id===m.userId&&o.value.showManageButton]]),C(e("div",yl,[e("button",{class:"icon-button",onClick:A[5]||(A[5]=I=>s())},[c(M,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:A[6]||(A[6]=I=>u.openModal("album-deletion-confirm-modal"))},[c(M,{name:"i-akar-icons-trash-bin"})])],512),[[F,p(b).loggedIn&&p(b).user.id===m.userId&&!o.value.manageMode]])])])):r("",!0),C(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(u.$t("albums.manageModeActiveMessage")),513),[[F,o.value.manageMode]])]),y.value?r("",!0):(t(),l("div",$l,[(t(!0),l(J,null,K(w.value,I=>(t(),l("div",{key:I.id,class:U(["p-3 rounded-md cursor-pointer",I.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ie=>y.value=I.id},[I.type==="artwork"?(t(),N(pl,{key:0,album:I},null,8,["album"])):r("",!0),e("div",Ml,[I.is_public?r("",!0):(t(),N(M,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Cl,a(I.name),1)])],10,xl))),128))])),o.value.showLoadMore&&!y.value?(t(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:g},a(u.$t("loadMore")),1)):r("",!0),c(le,{loading:x.value,empty:_.value,error:L.value,fetch:n},null,8,["loading","empty","error"]),!x.value&&!y.value?(t(),N(so,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:k.value,class:"modal",onCreated:E},null,8,["category"])):r("",!0),C(c(ce,{id:"created-alert",text:u.$t("albums.created")},null,8,["text"]),[[F,H.value]]),!x.value&&y.value?(t(),N(Po,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:B,"modal-id":"album-edit-form-modal","album-id":y.value,class:"modal",onUpdated:q},null,8,["album-id"])):r("",!0),c(re,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:ne},null,8,["message"]),c(re,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:te},null,8,["message"]),y.value&&!x.value?(t(),N(po,{key:4,id:y.value,ref_key:"albumDetailRef",ref:V,"manage-mode":o.value.manageMode,onOnAlbumEmpty:ae,onFeedManageList:se},null,8,["id","manage-mode"])):r("",!0)]))}},El=Z(Il,[["__scopeId","data-v-2c84c220"]]),Ll={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Al={class:"title"},Pl=["placeholder"],Fl=["placeholder"],Sl=["for"],Tl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),jl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Rl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ul=[Rl],Bl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},zl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ol=[zl],Vl={class:"flex flex-row gap-x-1"},Nl={class:"flex flex-row gap-2 justify-end mt-2"},Dl={type:"submit",class:"primary-button"},ql={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(m,{emit:S}){const b=m,d=X(),{oApiConfiguration:P,fetchOptions:h}=Y(),x=ve(P,h()),{t:k}=he(),y="create-collection-form",i=f({title:"",description:"",isPublic:1,category:"artwork"}),$=async()=>{ke().validate(y,k);try{let w=!1,o={};if(b.category){const[j,n,g]=await x.createCollection(b.category,i.value);g||(w=j,o=n)}w&&(Q().closeModal(b.modalId),S("created",o))}catch{}};return(w,o)=>(t(),l("div",null,[e("div",Ll,[e("div",null,[e("span",Al,a(w.$t("collections.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:o[4]||(o[4]=G(j=>$(),["prevent"]))},[e("n-validate",null,[C(e("input",{"onUpdate:modelValue":o[0]||(o[0]=j=>i.value.title=j),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:w.$t("title")},null,8,Pl),[[oe,i.value.title]])]),C(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=j=>i.value.description=j),class:"form-input theme-color-secondary",placeholder:w.$t("description"),"data-gramm":"false"},null,8,Fl),[[oe,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:o[2]||(o[2]=j=>p(d).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[Tl,i.value.isPublic?(t(),l("span",jl,Ul)):r("",!0),i.value.isPublic?r("",!0):(t(),l("span",Bl,Ol))]),e("div",Vl,[e("span",{class:U(["ml-2",{"leading-6":!p(d).i502p00r0}])},a(w.$t("private")),3),c(de)])],8,Sl),e("div",Nl,[e("button",{class:"cancel-button",onClick:o[3]||(o[3]=G(j=>w.closeModal(m.modalId),["prevent"]))},a(w.$t("cancel")),1),e("button",Dl,a(w.$t("create")),1)])],32)])])]))}},Hl={id:"lists"},Gl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Wl={class:"text-base font-bold mb-2"},Jl={class:"mb-2"},Kl=O(),Yl={class:"italic"},Ql=["id"],Xl={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(m,{expose:S,emit:b}){const d=m,{oApiConfiguration:P,fetchOptions:h}=Y(),x=ve(P,h()),k=f(d.id);Fe(()=>d.id,(v,E)=>{k.value=v});const y=f(!0),i=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),$=async()=>{y.value=!0,await w(),await o(),y.value=!1},w=async()=>{const[v,E]=await x.getInfo(k.value);i.value.info=v.data},o=async()=>{const[v,E,B]=await x.listCollectionItems({collectionId:k.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});E?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,v!==null&&v.length?(v.forEach(s=>{i.value.list.push(s.artworks)}),b("onCollectionEmpty",!1)):(i.value.empty=!0,b("onCollectionEmpty",!0))},j=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},n=f([]),g=v=>{n.value=v,b("feedManageList",v)},_=f(!1);let R;const L=async()=>{const[v,E]=await x.removeItem({collectionId:d.id,type:d.type,workId:n.value});E||(me().splash(R,_,"item-removed-alert"),j(),await $(),b("feedManageList",[]))},z=f("collection"),D=f(null),H=(v,E=!1)=>{D.value.view(v,E),Q().openModal(z.value+"-modal")};return S({fetchInfo:w,removeItem:L}),(v,E)=>(t(),l("div",Hl,[e("div",{class:"hidden",onClick:E[0]||(E[0]=B=>w())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=B=>L())}),e("div",Gl,[e("div",Wl,a(i.value.info.name),1),e("div",Jl,a(i.value.info.description),1),e("div",null,[e("b",null,a(v.$t("private"))+":",1),Kl,e("span",Yl,a(i.value.info.is_public?v.$t("no"):v.$t("yes")),1)]),e("div",null,[e("b",null,a(v.$t("createdAt")),1),O(" "+a(v.formatDate(i.value.info.created_at)),1)])]),C(e("div",null,[(t(),N(xe,null,[C(c(Me,{"section-class":"work-grid",works:i.value.list,view:H,"manage-mode":m.manageMode,onFeedManageList:g},null,8,["works","manage-mode"]),[[F,!i.value.empty]])],1024)),C(e("div",{class:"primary-button",onClick:E[2]||(E[2]=B=>o())},a(v.$t("loadMore")),513),[[F,i.value.loadMore]])],512),[[F,!y.value]]),c(le,{loading:y.value,empty:i.value.empty,error:!1,fetch:$},null,8,["loading","empty"]),y.value?r("",!0):(t(),l("div",{key:0,id:z.value+"-modal",class:"modal work-view"},[c(_e,{ref_key:"collectionModalViewRef",ref:D,section:z.value},null,8,["section"])],8,Ql)),C(c(ce,{id:"item-removed-alert",text:v.$t("collections.itemRemoved")},null,8,["text"]),[[F,_.value]])]))}},Zl=Z(Xl,[["__scopeId","data-v-28a81b65"]]),es={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ts={class:"title"},os=["placeholder"],ls=["placeholder"],ss=["for"],as=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ns={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},is=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),rs=[is],us={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ds=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),cs=[ds],ms={class:"flex flex-row gap-x-1"},vs={class:"flex flex-row gap-2 justify-end mt-2"},ps={type:"submit",class:"primary-button"},fs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(m,{expose:S,emit:b}){const d=m,P=X(),{t:h}=he(),{oApiConfiguration:x,fetchOptions:k}=Y(),y=ve(x,k()),i=f(!0),$=async g=>{if(g){n(),i.value=!0;const[_,R]=await y.getInfo(g);if(!R){const L=_.data;o.value.id=g,o.value.name=L.name,o.value.description=L.description,o.value.isPublic=!!L.is_public,i.value=!1}}},w="edit-collection-form",o=f({id:0,name:"",description:"",isPublic:!1}),j=async()=>{ke().validate(w,h);const[g,_]=await y.update({id:o.value.id,name:o.value.name,description:o.value.description,isPublic:o.value.isPublic?1:0});_||(Q().closeModal(d.modalId),b("updated",o.value),n())},n=()=>{o.value={id:0,name:"",description:"",isPublic:0}};return S({fetch:$}),(g,_)=>(t(),l("div",null,[e("div",{class:"hidden",onClick:_[0]||(_[0]=R=>$(0))}),e("div",es,[e("div",null,[e("span",ts,a(g.$t("collections.edit.form.title")),1),i.value?r("",!0):(t(),l("form",{key:0,id:w,class:"mt-2",onSubmit:_[5]||(_[5]=G(R=>j(),["prevent"]))},[e("n-validate",null,[C(e("input",{"onUpdate:modelValue":_[1]||(_[1]=R=>o.value.name=R),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:g.$t("title")},null,8,os),[[oe,o.value.name]])]),C(e("textarea",{"onUpdate:modelValue":_[2]||(_[2]=R=>o.value.description=R),class:"form-input theme-color-secondary",placeholder:g.$t("description"),"data-gramm":"false"},null,8,ls),[[oe,o.value.description]]),e("label",{for:o.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[3]||(_[3]=R=>p(P).i502p00r0?o.value.isPublic=!o.value.isPublic:o.value.isPublic=!0)},[as,o.value.isPublic?(t(),l("span",ns,rs)):r("",!0),o.value.isPublic?r("",!0):(t(),l("span",us,cs))]),e("div",ms,[e("span",{class:U(["ml-2",{"leading-6":!p(P).i502p00r0}])},a(g.$t("private")),3),c(de)])],8,ss),e("div",vs,[e("button",{class:"cancel-button",onClick:_[4]||(_[4]=G(R=>g.closeModal(m.modalId),["prevent"]))},a(g.$t("cancel")),1),e("button",ps,a(g.$t("save")),1)])],32))])])]))}},Ee=m=>(we("data-v-a484fb7b"),m=m(),be(),m),hs={class:"mb-2"},ws={key:0},bs=Ee(()=>e("img",{src:je,class:"rounded"},null,-1)),gs=[bs],_s={key:1},ks={class:"relative text-center"},ys={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},$s={class:"overflow-hidden rounded-md"},xs=["src"],Ms={key:2,class:"imgrid"},Cs={class:"relative text-center"},Is={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Es={class:"overflow-hidden rounded-md"},Ls=["src"],As=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Ps=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Fs={key:3,class:"imgrid"},Ss={class:"relative text-center"},Ts={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},js={class:"overflow-hidden rounded-md"},Rs=["src"],Us={key:4,class:"imgrid"},Bs={class:"relative text-center"},zs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Os={class:"overflow-hidden rounded-md"},Vs=["src"],Ns={key:5,class:"imgrid"},Ds={key:0,class:"relative text-center"},qs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Hs={class:"overflow-hidden rounded-md"},Gs=["src"],Ws={key:1,class:"relative text-center"},Js={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Ks={class:"overflow-hidden rounded-md"},Ys=["src"],Qs={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(m){const S=X(),b={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,P)=>(t(),l("div",hs,[!m.collection.collection_has_artworks||m.collection._count.collection_has_artworks===0?(t(),l("div",ws,gs)):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(t(),l("div",_s,[e("div",ks,[d.applyExplicitFilter(p(S),m.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),l("span",ys,a(d.$t("explicitContent")),1)):r("",!0),e("div",$s,[m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===1?(t(),l("img",{key:0,src:d.artworkThumb(m.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,m.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),m.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...h)=>d.imageLoadError&&d.imageLoadError(...h))},null,42,xs)):r("",!0)])])])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===2?(t(),l("div",Ms,[(t(!0),l(J,null,K(m.collection.collection_has_artworks,(h,x)=>(t(),l("div",{key:x,class:U(b[2][x])},[e("div",Cs,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",Is,a(d.$t("explicitContent")),1)):r("",!0),e("div",Es,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ls)])])],2))),128)),As,Ps])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===3?(t(),l("div",Fs,[(t(!0),l(J,null,K(m.collection.collection_has_artworks,(h,x)=>(t(),l("div",{key:x,class:U(b[3][x])},[e("div",Ss,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",Ts,a(d.$t("explicitContent")),1)):r("",!0),e("div",js,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Rs)])])],2))),128))])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks===4?(t(),l("div",Us,[(t(!0),l(J,null,K(m.collection.collection_has_artworks,(h,x)=>(t(),l("div",{key:x},[e("div",Bs,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",zs,a(d.$t("explicitContent")),1)):r("",!0),e("div",Os,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Vs)])])]))),128))])):r("",!0),m.collection.collection_has_artworks&&m.collection._count.collection_has_artworks>4?(t(),l("div",Ns,[(t(!0),l(J,null,K(m.collection.collection_has_artworks,(h,x)=>(t(),l("div",{key:x},[x<3?(t(),l("div",Ds,[d.applyExplicitFilter(p(S),h.artworks.is_explicit)?(t(),l("span",qs,a(d.$t("explicitContent")),1)):r("",!0),e("div",Hs,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Gs)])])):(t(),l("div",Ws,[e("span",Js,"+"+a(m.collection._count.collection_has_artworks-4),1),e("div",Ks,[e("img",{src:d.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(p(S),h.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...k)=>d.imageLoadError&&d.imageLoadError(...k))},null,42,Ys)])]))]))),128))])):r("",!0)]))}},Xs=Z(Qs,[["__scopeId","data-v-a484fb7b"]]),Zs={class:"mb-2 w-full"},ea={key:0,class:"flex flex-row justify-between"},ta={class:"flex flex-row"},oa={key:0},la={key:1,class:"flex flex-row justify-between"},sa={class:"flex flex-row"},aa={class:"flex flex-row gap-2"},na={class:"flex flex-row gap-2"},ia={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ra=["onClick"],ua={class:"flex flex-row pb-1 mt-4 font-bold"},da={class:"text-xs font-normal"},ca={__name:"Collection",props:{userId:{type:Number,default:0}},setup(m){const S=m,b=X();ge(()=>{n()});const{oApiConfiguration:d,fetchOptions:P}=Y(),h=ve(d,P());$e(()=>{$()});const x=f(!0),k=f("artwork"),y=f(0),i=f(!1),$=async()=>{if(b.i502p00r0)i.value=!0;else{const[u,A]=await h.proCanCreateCollection({type:k.value});A?i.value=!1:i.value=u}},w=f([]),o=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),j=f({artwork:0}),n=async()=>{x.value=!0;const[u,A,I]=await h.fetchCollections({userId:S.userId,type:k.value,pagination:{page:o.value.pagination.page,perPage:o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage}});if(I)z();else{u.length||(o.value.manageMode=!1,R()),u.forEach(ye=>{w.value.push(ye)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=A;const[ie]=await h.countArtworkCollections(S.userId);j.value.artwork=ie}x.value=!1},g=async()=>await n(),_=f(!1),R=()=>{_.value=!0,o.value.showLoadMore=!1},L=f(!1),z=()=>{x.value=!1,L.value=!0,o.value.showLoadMore=!1},D=async()=>{x.value=!1,_.value=!1,L.value=!1,o.value.pagination.page=0,w.value=[],await n()},H=u=>{o.value.showManageButton=!0,u&&(o.value.showManageButton=!1)},v=f(!1);let E;const B=async()=>{await $(),me().splash(E,v,"created-alert"),await D()},s=f(null),V=()=>{s.value.fetch(y.value),Q().openModal("collection-edit-form-modal")},q=f(null),te=u=>{q.value.fetchInfo(),w.value.forEach(A=>{A.id===u.id&&(A.name=u.name,A.description=u.description,A.is_public=u.isPublic)})},ee=f([]),se=u=>{ee.value=u},ne=()=>{q.value.removeItem()},ae=async()=>{if(y.value!==0){const[u,A]=await h.deleteCollection(y.value);u&&(await $(),y.value=0,D())}},T=()=>{y.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(u,A)=>(t(),l("div",null,[e("div",Zs,[y.value?r("",!0):(t(),l("div",ea,[e("div",ta,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":k.value==="artwork"}]),onClick:A[0]||(A[0]=I=>k.value="artwork")},[O(a(u.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",k.value==="artwork"?"theme-color":"button-color text-white"])},a(j.value.artwork),3)],2)]),p(b).loggedIn&&p(b).user.id===m.userId?(t(),l("div",oa,[e("div",{class:"flex flex-row icon-button",onClick:A[1]||(A[1]=I=>i.value?u.openModal("collection-form-modal"):null)},[c(M,{name:"i-ion-add-outline"}),i.value?r("",!0):(t(),N(de,{key:0,class:"ml-1"}))])])):r("",!0)])),y.value?(t(),l("div",la,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:A[2]||(A[2]=I=>T())},[c(M,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",sa,[C(e("div",aa,[e("button",{class:"action-button secondary-button",onClick:A[3]||(A[3]=I=>o.value.manageMode=!o.value.manageMode)},[c(M,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(o.value.manageMode?u.$t("quit"):u.$t("manage")),1)]),C(e("button",{class:U(["flex flex-row",ee.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:A[4]||(A[4]=I=>ee.value.length>0?u.openModal("item-deletion-confirm-modal"):null)},[c(M,{name:"i-akar-icons-trash-bin"}),O(" "+a(u.$t("collections.removeSelected")),1)],2),[[F,o.value.manageMode]])],512),[[F,p(b).loggedIn&&p(b).user.id===m.userId&&o.value.showManageButton]]),C(e("div",na,[e("button",{class:"icon-button",onClick:A[5]||(A[5]=I=>V())},[c(M,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:A[6]||(A[6]=I=>u.openModal("collection-deletion-confirm-modal"))},[c(M,{name:"i-akar-icons-trash-bin"})])],512),[[F,p(b).loggedIn&&p(b).user.id===m.userId&&!o.value.manageMode]])])])):r("",!0),C(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(u.$t("collections.manageModeActiveMessage")),513),[[F,o.value.manageMode]])]),y.value?r("",!0):(t(),l("div",ia,[(t(!0),l(J,null,K(w.value,I=>(t(),l("div",{key:I.id,class:U(["p-3 rounded-md cursor-pointer",I.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:ie=>y.value=I.id},[I.type==="artwork"?(t(),N(Xs,{key:0,collection:I},null,8,["collection"])):r("",!0),e("div",ua,[I.is_public?r("",!0):(t(),N(M,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",da,a(I.name),1)])],10,ra))),128))])),o.value.showLoadMore&&!y.value?(t(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:g},a(u.$t("loadMore")),1)):r("",!0),c(le,{loading:x.value,empty:_.value,error:L.value,fetch:n},null,8,["loading","empty","error"]),!x.value&&!y.value?(t(),N(ql,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:k.value,class:"modal",onCreated:B},null,8,["category"])):r("",!0),C(c(ce,{id:"created-alert",text:u.$t("collections.created")},null,8,["text"]),[[F,v.value]]),!x.value&&y.value?(t(),N(fs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:s,"modal-id":"collection-edit-form-modal","collection-id":y.value,class:"modal",onUpdated:te},null,8,["collection-id"])):r("",!0),c(re,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:ae},null,8,["message"]),c(re,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ne},null,8,["message"]),y.value&&!x.value?(t(),N(Zl,{key:4,id:y.value,ref_key:"collectionDetailRef",ref:q,"manage-mode":o.value.manageMode,type:k.value,onOnCollectionEmpty:H,onFeedManageList:se},null,8,["id","manage-mode","type"])):r("",!0)]))}},ma=Z(ca,[["__scopeId","data-v-9e4fc7e6"]]),va={class:"text-lg font-bold"},pa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},fa={class:"flex flex-row w-full"},ha=["src"],wa={class:"flex flex-col justify-between p-3 w-full text-white"},ba={class:"flex flex-col"},ga={class:"font-bold"},_a={class:"text-xxs"},ka={class:"flex flex-row w-full"},ya={key:0,class:"flex flex-row"},$a=["onClick"],xa=["onMouseover","onClick"],Ma={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(m){const S=m,b=X(),{oApiConfiguration:d,fetchOptions:P}=Y(),h=Ce(d,P());ge(()=>{o()});const x=f([]),k=f(!0),y=f({page:0,perPage:12}),i=f(!1),$=f(!1),w=f(!1),o=async()=>{j(),k.value=!0;const[g,_]=await h.getFollowerList({userId:S.userId,pagination:{page:y.value.page,perPage:y.value.perPage}});_?i.value=!0:(g.followers.length||($.value=!0),g.followers.forEach(R=>{x.value.push(R)}),y.value.page+=1,g.pagination.next_previous.next_page?w.value=!0:w.value=!1),k.value=!1},j=()=>{$.value=!1,i.value=!1},n=f(0);return(g,_)=>{const R=fe;return t(),l("div",null,[e("div",va,a(g.$t("followers")),1),e("div",pa,[(t(!0),l(J,null,K(x.value,(L,z)=>(t(),N(R,{key:L.id,to:"/profile/"+L.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(L.cover_bucket&&L.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g.avatarCoverUrl(L.cover_bucket,L.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+p(Pe)+");background-size:cover;")},{default:W(()=>[e("div",fa,[e("img",{src:g.avatarCoverUrl(L.avatar_bucket,L.avatar_filename),class:"avatar",onError:_[0]||(_[0]=(...D)=>g.imageLoadError&&g.imageLoadError(...D))},null,40,ha),e("div",wa,[e("div",ba,[e("span",ga,a(L.name),1),e("span",_a,a(L.pen_name),1)]),e("div",ka,[p(b).loggedIn&&L.id!==p(b).user.id?(t(),l("div",ya,[C(e("div",{class:"flex flex-row",onClick:G(D=>g.followUser(z,L.id),["prevent"])},[c(M,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,$a),[[F,!L.is_following]]),C(e("div",{class:"flex flex-row",onMouseover:D=>n.value=L.id,onMouseout:_[1]||(_[1]=D=>n.value=0),onClick:G(D=>g.unfollowUser(z,L.id),["prevent"])},[C(c(M,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,n.value!==L.id]]),C(c(M,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,n.value&&n.value===L.id]])],40,xa),[[F,L.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),C(e("div",{class:"mt-4 primary-button",onClick:_[2]||(_[2]=L=>o())},a(g.$t("loadMore")),513),[[F,w.value]]),c(le,{loading:k.value,empty:$.value,error:i.value,fetch:o},null,8,["loading","empty","error"])])}}},Ca=Z(Ma,[["__scopeId","data-v-b2599f1b"]]),Ia={class:"text-lg font-bold"},Ea={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},La={class:"flex flex-row w-full"},Aa=["src"],Pa={class:"flex flex-col justify-between p-3 w-full text-white"},Fa={class:"flex flex-col"},Sa={class:"font-bold"},Ta={class:"text-xxs"},ja={class:"flex flex-row w-full"},Ra={key:0,class:"flex flex-row"},Ua=["onClick"],Ba=["onMouseover","onClick"],za={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(m){const S=m,b=X(),{oApiConfiguration:d,fetchOptions:P}=Y(),h=Ce(d,P());ge(()=>{j()});const x=async()=>{k.value=[],i.value.page=0,await j()},k=f([]),y=f(!0),i=f({page:0,perPage:12}),$=f(!1),w=f(!1),o=f(!1),j=async()=>{n(),y.value=!0;const[_,R]=await h.getFollowingList({userId:S.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});R?$.value=!0:(_.followings.length||(w.value=!0),_.followings.forEach(L=>{k.value.push(L)}),i.value.page+=1,_.pagination.next_previous.next_page?o.value=!0:o.value=!1),y.value=!1},n=()=>{w.value=!1,$.value=!1},g=f(0);return(_,R)=>{const L=fe;return t(),l("div",null,[e("div",Ia,a(_.$t("followings")),1),e("div",Ea,[(t(!0),l(J,null,K(k.value,(z,D)=>(t(),N(L,{key:z.id,to:"/profile/"+z.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(z.cover_bucket&&z.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+_.avatarCoverUrl(z.cover_bucket,z.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+p(Pe)+");background-size:cover;")},{default:W(()=>[e("div",La,[e("img",{src:_.avatarCoverUrl(z.avatar_bucket,z.avatar_filename),class:"avatar",onError:R[0]||(R[0]=(...H)=>_.imageLoadError&&_.imageLoadError(...H))},null,40,Aa),e("div",Pa,[e("div",Fa,[e("span",Sa,a(z.name),1),e("span",Ta,a(z.pen_name),1)]),e("div",ja,[p(b).loggedIn&&z.id!==p(b).user.id?(t(),l("div",Ra,[C(e("div",{class:"flex flex-row",onClick:G(H=>_.followUser(D,z.id),["prevent"])},[c(M,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ua),[[F,!z.is_following]]),C(e("div",{class:"flex flex-row",onMouseover:H=>g.value=z.id,onMouseout:R[1]||(R[1]=H=>g.value=0),onClick:G(H=>_.unfollowUser(D,z.id),["prevent"])},[C(c(M,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,g.value!==z.id]]),C(c(M,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,g.value&&g.value===z.id]])],40,Ba),[[F,z.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),C(e("div",{class:"primary-button mt-4",onClick:R[2]||(R[2]=z=>j())},a(_.$t("loadMore")),513),[[F,o.value]]),c(le,{loading:y.value,empty:w.value,error:$.value,fetch:x},null,8,["loading","empty","error"])])}}},Oa=Z(za,[["__scopeId","data-v-5ff9c687"]]),Va=m=>(we("data-v-c5fd5a2e"),m=m(),be(),m),Na=["src"],Da={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},qa={class:"flex-row justify-between hidden-md-flex"},Ha={class:"mr-6 w-1/5"},Ga=["src"],Wa={class:"mt-2"},Ja={class:"flex flex-row"},Ka={class:"flex flex-row"},Ya=O("\xA0 "),Qa=O("\xA0 "),Xa={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},Za={class:"flex flex-col w-full"},en={class:"flex flex-row w-full"},tn={class:"w-9/12"},on={class:"text-base font-semibold"},ln=O("\xA0 "),sn={class:"mr-2 italic"},an={class:"flex flex-row mt-2"},nn={key:0,class:"mr-1"},rn={class:"flex flex-row"},un={class:"mr-1"},dn={key:0,class:"flex flex-row"},cn=O(" he/his "),mn={key:1,class:"flex flex-row"},vn=O(" she/her "),pn={class:"float-right w-3/12 text-right"},fn={class:"flex flex-row shadow-md primary-button"},hn={class:"leading-4"},wn={key:1,class:"mt-4"},bn=["href"],gn=["href"],_n=["href"],kn=["href"],yn=["href"],$n={key:0,class:"mt-4"},xn=["id","innerHTML"],Mn=["id"],Cn={class:"flex flex-col text-center md:hidden"},In=["src"],En={class:"mt-4 text-base font-semibold"},Ln={class:"flex flex-row justify-center mt-4"},An={key:0,class:"flex flex-row mr-1"},Pn={class:"mr-1"},Fn={key:0,class:"flex flex-row"},Sn=O(" he/his "),Tn={key:1,class:"flex flex-row"},jn=O(" she/her "),Rn={key:0,class:"mx-2 mt-4 text-center"},Un=["id","innerHTML"],Bn=["id"],zn={key:1,class:"flex flex-row justify-center mt-4"},On=["href"],Vn=["href"],Nn=["href"],Dn=["href"],qn=["href"],Hn={class:"flex flex-row justify-center w-full md:hidden"},Gn=O("\xA0 "),Wn=O("\xA0 "),Jn={class:"flex flex-row"},Kn={class:"flex flex-row"},Yn={class:"mt-2"},Qn={class:"flex flex-row justify-center md:hidden"},Xn={class:"flex flex-row justify-between mt-2 md:mt-6"},Zn={class:"hidden flex-col lg:w-1/5 md:flex"},ei={class:"profile-navigation_wrapper"},ti={class:"hidden-lg-flex"},oi=Va(()=>e("span",{class:"hidden-lg-flex"},null,-1)),li={class:"profile-navigation_wrapper"},si={class:"hidden-lg-flex"},ai={class:"hidden-lg-flex"},ni={class:"profile-navigation_wrapper"},ii={class:"hidden-lg-flex"},ri={class:"hidden-lg-flex"},ui={class:"w-full md:ml-6"},di={key:0},ci={class:"flex flex-row w-full"},mi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},vi={key:1},pi={key:2},fi={key:3},hi={key:4},wi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(m){const S=m,b=X(),{oApiConfiguration:d,fetchOptions:P}=Y(),h=Ce(d,P());ue(d,P()),ve(d,P());const x=Ue(),k=Ae(),{o:y}=x.query,i=f(!0),$=y!=null?f(y):f("dashboard"),w=f("artwork");ze(()=>S.userLogon&&b.loggedIn?b.user.id:S.id);const o=f({manageMode:!1,showManageMode:!0}),j=T=>{$.value=T,o.value.manageMode=!1,y!=null&&k.push("/profile")},n=f({}),g=f({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),_=f(null),R=f([]),L=T=>{R.value=T},z=()=>{o.value.showManageMode=!1},D=f(null),H=()=>{Q().openModal("album-selection-modal")},v=f(!1);let E;const B=()=>{me().splash(E,v,"item-added-to-album-alert")},s=f(!1),V=f(null),q=f("i-ri-user-follow-fill"),te=(T,u)=>{q.value=T,V.value=u},ee=async T=>{const[u,A]=await h.follow(T);A||(s.value=!0)},se=async T=>{const[u,A]=await h.unfollow(T);A||(s.value=!1)},ne=f(!0),ae=(T,u,A,I)=>{ne.value=!1,Te().readMore(T,u,A,I)};return(T,u)=>{const A=fe;return t(),N(Ne,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:W(()=>[e("div",null,[e("img",{src:T.avatarCoverUrl(n.value.cover_bucket,n.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:u[0]||(u[0]=(...I)=>T.defaultCoverImage&&T.defaultCoverImage(...I))},null,40,Na),p(b).loggedIn&&p(b).user.id===n.value.id?(t(),N(A,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:W(()=>[c(M,{name:"i-ph-gear-six"})]),_:1})):r("",!0)]),e("div",Da,[e("div",qa,[e("div",Ha,[e("img",{src:T.avatarCoverUrl(n.value.avatar_bucket,n.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:u[1]||(u[1]=(...I)=>T.defaultCoverImage&&T.defaultCoverImage(...I))},null,40,Ga),e("div",Wa,[p(b).loggedIn&&n.value.id!==p(b).user.id?(t(),l("div",{key:0,class:U(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":s.value}]),onClick:u[2]||(u[2]=I=>s.value?se(n.value.id):ee(n.value.id)),onMouseover:u[3]||(u[3]=I=>te("i-ri-user-unfollow-fill",T.$t("unfollow"))),onMouseleave:u[4]||(u[4]=I=>te("i-ri-user-follow-fill",T.$t("following")))},[C(e("div",Ja,[c(M,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(T.$t("follow")),1)],512),[[F,!s.value]]),C(e("div",Ka,[c(M,{name:q.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(V.value===null?T.$t("following"):V.value),1)],512),[[F,s.value]])],34)):r("",!0),e("div",{class:U(["flex-row justify-center border hidden-md-flex",n.value.id==p(b).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:u[5]||(u[5]=I=>$.value="followerList")},[e("b",null,a(g.value.followers),1),Ya,e("i",null,a(T.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:u[6]||(u[6]=I=>$.value="followingList")},[e("b",null,a(g.value.followings),1),Qa,e("i",null,a(T.$t("following").toLowerCase()),1)])],2)])]),e("div",Xa,[e("div",Za,[e("div",en,[e("div",tn,[e("div",null,[e("span",on,a(n.value.name),1),ln,e("span",sn,a(n.value.username),1)]),e("div",an,[n.value.pen_name&&n.value.pen_name!==""?(t(),l("div",nn,[e("span",rn,[c(M,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(n.value.pen_name),1)])])):r("",!0),e("div",un,[n.value.gender==="m"?(t(),l("span",dn,[c(M,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),cn])):r("",!0),n.value.gender==="f"?(t(),l("span",mn,[c(M,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),vn])):r("",!0)])])]),e("div",pn,[p(b).loggedIn&&p(b).user.id===n.value.id?(t(),N(A,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:W(()=>[e("button",fn,[c(M,{name:"i-ph-gear-six",class:"mr-2"}),e("span",hn,a(T.$t("profile.setting")),1)])]),_:1})):r("",!0),n.value.user_socials?(t(),l("div",wn,[n.value.user_socials.facebook?(t(),l("a",{key:0,href:"https://facebook.com/"+n.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-facebook",class:"text-xl"})],8,bn)):r("",!0),n.value.user_socials.instagram?(t(),l("a",{key:1,href:"https://instagram.com/"+n.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-instagram",class:"text-xl"})],8,gn)):r("",!0),n.value.user_socials.twitter?(t(),l("a",{key:2,href:"https://twitter.com/"+n.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-twitter",class:"text-xl"})],8,_n)):r("",!0),n.value.user_socials.youtube?(t(),l("a",{key:3,href:"https://youtube.com/channel/"+n.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-youtube",class:"text-xl"})],8,kn)):r("",!0),n.value.user_socials.patreon?(t(),l("a",{key:4,href:"https://patreon.com/"+n.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"heart",class:"text-xl"})],8,yn)):r("",!0)])):r("",!0)])]),e("div",null,[n.value.bio?(t(),l("p",$n,[e("div",{id:"user-bio-"+n.value.id,innerHTML:n.value.bio.length>300?`${n.value.bio.slice(0,300)}...`:n.value.bio},null,8,xn),n.value.bio.length>300?(t(),l("a",{key:0,id:"user-bio-read-more-"+n.value.id,class:"href",onClick:u[7]||(u[7]=G(I=>ae(n.value.bio,n.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},a(T.$t("readMore")),9,Mn)):r("",!0)])):r("",!0)])])])]),e("div",Cn,[e("img",{src:T.avatarCoverUrl(n.value.avatar_bucket,n.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:u[8]||(u[8]=(...I)=>T.imageLoadError&&T.imageLoadError(...I))},null,40,In),e("div",En,a(n.value.name),1),e("div",null,a(n.value.username),1),e("div",Ln,[n.value.pen_name?(t(),l("span",An,[c(M,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(n.value.pen_name&&n.value.pen_name!==""?n.value.pen_name:"-"),1)])):r("",!0),e("div",Pn,[n.value.gender==="m"?(t(),l("span",Fn,[c(M,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Sn])):r("",!0),n.value.gender==="f"?(t(),l("span",Tn,[c(M,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),jn])):r("",!0)])]),n.value.bio?(t(),l("div",Rn,[e("div",{id:"mobile__user-bio-"+n.value.id,innerHTML:n.value.bio.length>150?`${n.value.bio.slice(0,300)}...`:n.value.bio},null,8,Un),n.value.bio.length>150?(t(),l("a",{key:0,id:"mobile__user-bio-read-more-"+n.value.id,class:"href",onClick:u[9]||(u[9]=G(I=>ae(n.value.bio,n.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},a(T.$t("readMore")),9,Bn)):r("",!0)])):r("",!0),n.value.user_socials?(t(),l("div",zn,[n.value.user_socials.facebook?(t(),l("a",{key:0,href:"https://facebook.com/"+n.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-facebook",class:"text-xl"})],8,On)):r("",!0),n.value.user_socials.instagram?(t(),l("a",{key:1,href:"https://instagram.com/"+n.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Vn)):r("",!0),n.value.user_socials.twitter?(t(),l("a",{key:2,href:"https://twitter.com/"+n.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Nn)):r("",!0),n.value.user_socials.youtube?(t(),l("a",{key:3,href:"https://youtube.com/channel/"+n.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Dn)):r("",!0),n.value.user_socials.patreon?(t(),l("a",{key:4,href:"https://patreon.com/"+n.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(M,{name:"i-ion-heart",class:"text-xl"})],8,qn)):r("",!0)])):r("",!0),e("div",Hn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:u[10]||(u[10]=I=>$.value="followerList")},[e("b",null,a(g.value.followers),1),Gn,e("i",null,a(T.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:u[11]||(u[11]=I=>$.value="followingList")},[e("b",null,a(g.value.followings),1),Wn,e("i",null,a(T.$t("following")),1)])]),p(b).loggedIn&&n.value.id!==p(b).user.id?(t(),l("div",{key:2,class:U(["mt-2 w-auto",s.value?"danger-button":"primary-button"]),onClick:u[12]||(u[12]=I=>s.value?se(n.value.id):ee(n.value.id))},[C(e("div",Jn,[c(M,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(T.$t("follow")),1)],512),[[F,!s.value]]),C(e("div",Kn,[c(M,{name:q.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(V.value===null?T.$t("following"):V.value),1)],512),[[F,s.value]])],2)):r("",!0)]),e("div",Yn,[e("div",Qn,[e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":p($)=="dashboard"}]),onClick:u[13]||(u[13]=I=>j("dashboard"))},[e("div",null,[C(c(M,{name:"i-ion-home-outline",class:"text-white"},null,512),[[F,p($)=="dashboard"]]),C(c(M,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[F,p($)!="dashboard"]])]),e("span",null,a(T.$t("dashboard")),1)],2),e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":p($)=="albums"}]),onClick:u[14]||(u[14]=I=>j("albums"))},[e("div",null,[C(c(M,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[F,p($)=="albums"]]),C(c(M,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[F,p($)!="albums"]])]),e("span",null,a(T.$t("albums.album")),1)],2),e("div",{class:U(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":p($)=="collections"}]),onClick:u[15]||(u[15]=I=>j("collections"))},[e("div",null,[C(c(M,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,p($)=="collections"]]),C(c(M,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[F,p($)!="collections"]])]),e("span",null,a(T.$t("collections.collection")),1)],2)]),e("div",Xn,[e("div",Zn,[e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":p($)==="dashboard"}]),onClick:u[16]||(u[16]=I=>j("dashboard"))},[e("div",ei,[C(c(M,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[F,p($)==="dashboard"]]),C(c(M,{name:"i-humbleicons-dashboard"},null,512),[[F,p($)!=="dashboard"]]),e("label",ti,a(T.$t("dashboard")),1)]),oi],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":p($)==="albums"}]),onClick:u[17]||(u[17]=I=>j("albums"))},[e("div",li,[C(c(M,{name:"i-bx-photo-album",class:"text-white"},null,512),[[F,p($)==="albums"]]),C(c(M,{name:"i-bx-photo-album"},null,512),[[F,p($)!=="albums"]]),e("label",si,a(T.$t("albums.album")),1)]),e("span",ai,a(g.value.album),1)],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":p($)==="collections"}]),onClick:u[18]||(u[18]=I=>j("collections"))},[e("div",ni,[C(c(M,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,p($)==="collections"]]),C(c(M,{name:"i-majesticons-bookmark-line"},null,512),[[F,p($)!=="collections"]]),e("label",ii,a(T.$t("collections.collection")),1)]),e("span",ri,a(g.value.collection),1)],2)]),e("div",ui,[p($)==="dashboard"?(t(),l("div",di,[e("div",ci,[e("div",{class:U(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":w.value==="feed"}]),onClick:u[19]||(u[19]=I=>w.value="feed")},[O(a(T.$t("feed"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",w.value==="feed"?"theme-color":"button-color text-white"])},a(g.value.feed),3)],2),e("div",{class:U(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":w.value==="artwork"}]),onClick:u[20]||(u[20]=I=>w.value="artwork")},[O(a(T.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",w.value==="artwork"?"theme-color":"button-color text-white"])},a(g.value.artwork),3)],2)]),C(e("div",mi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:u[21]||(u[21]=I=>o.value.manageMode=!o.value.manageMode)},[c(M,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(o.value.manageMode?T.$t("quit"):T.$t("manage")),1)]),C(e("button",{class:"w-full primary-button md:w-auto",onClick:u[22]||(u[22]=I=>H())},[c(M,{name:"i-ion-add-outline"}),O(" "+a(T.$t("albums.addToAlbum")),1)],512),[[F,o.value.manageMode]])],512),[[F,!i.value&&p(b).loggedIn&&p(b).user.id===n.value.id&&w.value==="artwork"&&o.value.showManageMode]]),c(le,{loading:i.value},null,8,["loading"]),C(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},a(T.$t("profile.manageModeActiveMessage")),513),[[F,o.value.manageMode]]),e("div",null,[w.value==="feed"?(t(),N(Ut,{key:0,ref:"feedListRef",class:"mt-2","user-id":n.value.id},null,8,["user-id"])):r("",!0),!i.value&&w.value==="artwork"?(t(),N(Vt,{key:1,ref_key:"artworkListRef",ref:_,"user-id":n.value.id,"manage-mode":o.value.manageMode,onFeedSelectedItems:L,onOnEmpty:z},null,8,["user-id","manage-mode"])):r("",!0)])])):r("",!0),p($)==="albums"?(t(),l("div",vi,[i.value?r("",!0):(t(),N(El,{key:0,"user-id":n.value.id},null,8,["user-id"]))])):r("",!0),p($)==="collections"?(t(),l("div",pi,[i.value?r("",!0):(t(),N(ma,{key:0,"user-id":n.value.id},null,8,["user-id"]))])):r("",!0),p($)==="followerList"?(t(),l("div",fi,[i.value?r("",!0):(t(),N(Ca,{key:0,"user-id":n.value.id},null,8,["user-id"]))])):r("",!0),p($)==="followingList"?(t(),l("div",hi,[i.value?r("",!0):(t(),N(Oa,{key:0,"user-id":n.value.id},null,8,["user-id"]))])):r("",!0)])])])]),i.value?r("",!0):(t(),N(Oe,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:D,class:"modal","work-ids":R.value,onAddedToAlbum:B},null,8,["work-ids"])),C(c(ce,{id:"item-added-to-album-alert",text:T.$t("albums.itemAdded")},null,8,["text"]),[[F,v.value]])]),_:1})}}},Ei=Z(wi,[["__scopeId","data-v-c5fd5a2e"]]);export{Ei as P};
//# sourceMappingURL=Profile.346286a8.js.map
