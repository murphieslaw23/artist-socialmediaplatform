import{c as Z,d as Y,x as Ue,e as Ae,i as X,_ as pe,h as he,a1 as Pe,k as Be}from"../server.mjs";import{ref as p,openBlock as t,createElementBlock as l,Fragment as J,renderList as K,createElementVNode as e,createVNode as c,withCtx as G,createTextVNode as O,toDisplayString as n,createCommentVNode as u,withModifiers as H,withDirectives as I,vShow as F,normalizeClass as j,unref as f,createBlock as D,pushScopeId as we,popScopeId as be,onBeforeMount as $e,KeepAlive as xe,vModelText as oe,watch as Fe,onMounted as ge,normalizeStyle as Se,computed as ze}from"vue";import{M as ke,_ as ue,u as je,W as Me,e as de,f as le,S as ce,c as me,g as ve,h as Oe}from"./ModalView.fc4ee83d.js";import{J as Ve,u as _e,L as De}from"./Layout.2ddecdfc.js";import{_ as ee,a as C,u as Ne}from"./Icon.87522030.js";import{a as qe}from"./useFeed.b8b7dd2b.js";import{I as Le,F as He}from"./FeedModalView.7fc0d1ba.js";import{_ as se}from"./LoadingEmptyErrorMessage.4c6a7625.js";import{u as Ce}from"./useUser.15d84743.js";const fe=v=>(we("data-v-82394942"),v=v(),be(),v),We={class:"mx-auto w-full md:w-2/3"},Ge={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},Je={class:"w-full"},Ke={key:0,class:"p-4 user-info"},Ye=["src"],Qe={class:"name"},Xe=fe(()=>e("br",null,null,-1)),Ze=fe(()=>e("span",{class:"mx-1"},"\xB7",-1)),et={class:"text-xxs"},tt={class:"px-2 md:px-4"},ot=["id","innerHTML"],lt=["id","onClick"],st={key:1,class:"my-2 w-full rounded-md theme-color"},at={key:0,class:"p-2 md:p-4 user-info"},nt=["src"],it={class:"name"},rt=fe(()=>e("br",null,null,-1)),ut=fe(()=>e("span",{class:"mx-1"},"\xB7",-1)),dt={class:"px-2 mt-2 md:px-4"},ct={class:"text-xs font-semibold"},mt=["id"],vt=["id","onClick"],ft=["onClick"],pt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},ht={class:"mx-auto mt-2 primary-button"},wt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},bt={class:"mx-auto mt-2 primary-button"},gt={class:"float-right mx-4 mt-2 interactions"},kt={key:0,class:"reactions"},_t=["onClick"],yt=["onClick"],$t={class:"option dropdown"},xt=["onClick"],Mt={class:"option-dropdown dropdown-menu"},Ct={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},It={class:"menu-wrapper"},Et={key:0,class:"custom-divider"},Lt=["to"],At={class:"mx-auto text-center"},Pt={class:"mx-auto mt-10 text-center"},Ft=fe(()=>e("b",null,"(\u3186_\u3186)",-1)),St={class:"mx-auto text-center"},jt={id:"chronological-feed-modal",class:"modal work-view"},Tt={id:"artwork-modal",class:"modal work-view"},Rt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(v){const T=v,w=Z(),{oApiConfiguration:m,fetchOptions:S}=Y(),h=qe(m,S()),{generateArtworkThumb:g}=Ue();Ae();const y=p(0),_=p(0),i=(r,A)=>{y.value=r,_.value=A},k=p([]),b=p({page:0,perPage:10}),o=async({loaded:r})=>{const[A,z]=await h.getFeedByUserId({userId:T.userId,pagination:{page:b.value.page,perPage:b.value.perPage}});b.value.page+=1;for(let a=0;a<A.feeds.length;a++){const V=A.feeds[a];if(V.liked&&x.value.push(V.id),V.artworks){V.artworks.images=[],V.artworks.apply_explicit_filter=!1;for(let N=0;N<V.artworks.artwork_assets.length;N++)if(N<=3){const te=await g(V.artworks.artwork_assets[N].bucket,V.artworks.artwork_assets[N].filename,"feed");V.artworks.images.push(te)}V.artworks!=null&&(!w.loggedIn&&V.artworks.is_explicit||V.artworks.is_explicit&&!w.user.user_settings.show_explicit)&&(V.artworks.apply_explicit_filter=!0)}k.value.push(V)}r(A.feeds.length,b.value.perPage)},U=p(null),s=r=>{U.value.view(r),X().openModal("chronological-feed-modal")},$=p(null),M=(r,A,z)=>{A?k.value[z].artworks.apply_explicit_filter=!1:($.value.view(r),X().openModal("artwork-modal"))},x=p([]),L=async r=>{const[A,z]=await h.like({feedId:r});if(A){x.value.push(r);const a=document.getElementById(`profileFeedLikeButton-${r}`);a.classList.add("animate-bounce"),setInterval(()=>{a.classList.remove("animate-bounce")},2500)}},q=async r=>{const[A,z]=await h.unlike({feedId:r});if(A){const a=x.value.indexOf(r);x.value.splice(a,1)}},B=(r,A,z,a)=>{je().readMore(r,A,z,a)},W=async()=>{const[r,A]=await h.remove(y.value);r&&k.value.splice(_.value,1)};return(r,A)=>{const z=pe;return t(),l("div",We,[(t(!0),l(J,null,K(k.value,(a,V)=>(t(),l("div",{key:a.id},[e("div",Ge,[e("div",Je,[a.users?(t(),l("div",Ke,[c(z,{to:"/profile/"+a.users.username},{default:G(()=>[e("img",{class:"avatar",src:r.avatarCoverUrl(a.users.avatar_bucket,a.users.avatar_filename),onError:A[0]||(A[0]=(...N)=>r.imageLoadError&&r.imageLoadError(...N))},null,40,Ye)]),_:2},1032,["to"]),e("div",Qe,[c(z,{to:"/profile/"+a.users.username,class:"fullname"},{default:G(()=>[O(n(a.users.name),1)]),_:2},1032,["to"]),Xe,c(z,{to:"/profile/"+a.users.username,class:"username hover:underline"},{default:G(()=>[O(" @"+n(a.users.username),1)]),_:2},1032,["to"]),Ze,e("span",et,n(r.formatDate(a.scheduled_post?a.scheduled_post:a.created_at,!0)),1)])])):u("",!0),e("div",tt,[e("p",{id:"feed-text-"+a.id,innerHTML:a.text.split("<br>").length>3&&a.text.length>300?`${a.text.slice(0,300)}...`:a.text},null,8,ot),a.text.split("<br>").length>3&&a.text.length>300?(t(),l("a",{key:0,id:"feed-read-more-"+a.id,class:"href",onClick:H(N=>B(a.text,a.id,"feed-read-more-","feed-text-"),["prevent"])},n(r.$t("readMore")),9,lt)):u("",!0),a.artworks?(t(),l("div",st,[a.artworks.users?(t(),l("div",at,[c(z,{to:"/profile/"+a.artworks.users.username},{default:G(()=>[e("img",{class:"avatar",src:r.avatarCoverUrl(a.artworks.users.avatar_bucket,a.artworks.users.avatar_filename),onError:A[1]||(A[1]=(...N)=>r.imageLoadError&&r.imageLoadError(...N))},null,40,nt)]),_:2},1032,["to"]),e("div",it,[c(z,{to:"/profile/"+a.artworks.users.username,class:"fullname hover:href"},{default:G(()=>[O(n(a.artworks.users.name),1)]),_:2},1032,["to"]),rt,c(z,{to:"/profile/"+a.artworks.users.username,class:"hover:underline text-xxs"},{default:G(()=>[O(" @"+n(a.artworks.users.username),1)]),_:2},1032,["to"]),ut,c(z,{to:"/a/"+a.artworks.id,class:"hover:underline text-xxs"},{default:G(()=>[O(n(r.formatDate(a.artworks.scheduled_post?a.artworks.scheduled_post:a.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):u("",!0),e("div",dt,[e("span",ct,n(a.artworks.title),1),I(e("p",null,[e("span",{id:"feed-description-"+a.artworks.id},n(a.artworks.description.length>300?`${a.artworks.description.slice(0,300)}...`:a.artworks.description),9,mt),a.artworks.description.length>300?(t(),l("a",{key:0,id:"feed-read-more-"+a.artworks.id,class:"href",onClick:H(N=>B(a.artworks.description,a.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},n(r.$t("readMore")),9,vt)):u("",!0)],512),[[F,a.artworks.description]])]),e("div",null,[r.isMobile()?u("",!0):(t(),l("div",{key:0,class:j(["p-2",{"cursor-pointer":!a.artworks.apply_explicit_filter}]),onClick:H(N=>M(a.artworks.id,a.artworks.apply_explicit_filter,V),["prevent"])},[e("div",{class:j(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":a.artworks.apply_explicit_filter}])},[c(Le,{class:j([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),l("div",pt,[e("div",null,n(f(w).loggedIn?r.$t("explicitContentAlert"):r.$t("explicitContentAlertForGuest")),1),e("button",ht,n(r.$t("explicitShowMeThisContent")),1)])):u("",!0)],2)],10,ft)),r.isMobile()?(t(),D(z,{key:1,to:a.artworks.apply_explicit_filter?null:"/a/"+a.artworks.id,onClick:H(N=>M(a.artworks.id,a.artworks.apply_explicit_filter,V),["prevent"]),class:"cursor-pointer"},{default:G(()=>[e("div",{class:j(["overflow-hidden relative p-2 rounded-md",{"m-2":a.artworks.apply_explicit_filter}])},[c(Le,{class:j([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),l("div",wt,[e("div",null,n(f(w).loggedIn?r.$t("explicitContentAlert"):r.$t("explicitContentAlertForGuest")),1),e("button",bt,n(r.$t("explicitShowMeThisContent")),1)])):u("",!0)],2)]),_:2},1032,["to","onClick"])):u("",!0)])])):u("",!0)]),e("div",gt,[f(w).loggedIn?(t(),l("div",kt,[e("span",{class:"leading-8",onClick:N=>x.value.includes(a.id)?q(a.id):L(a.id)},[I(c(C,{id:"profileFeedLikeButton-"+a.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[F,x.value.includes(a.id)]]),I(c(C,{name:"i-ri-heart-3-line",class:"mr-1 icon-color hover:text-red-500"},null,512),[[F,!x.value.includes(a.id)]]),O(" "+n(r.thousand(a._count.feed_likes)),1)],8,_t),e("span",{class:"leading-8",onClick:H(N=>s(a.id),["prevent"])},[c(C,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+n(r.thousand(a._count.feed_comments)),1)],8,yt),e("div",$t,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:N=>i(a.id,V)},[e("span",null,[c(C,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,xt),e("div",Mt,[e("div",Ct,[e("div",It,[c(z,{to:"/feed/"+a.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:G(()=>[c(C,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+n(r.$t("open")),1)]),_:2},1032,["to"]),c(z,{to:"/feed/"+a.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:G(()=>[c(C,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+n(r.$t("openInNewTab")),1)]),_:2},1032,["to"]),f(w).loggedIn&&a.user_id&&f(w).user.id===a.user_id?(t(),l("div",Et)):u("",!0),f(w).loggedIn&&a.user_id&&f(w).user.id===a.user_id?(t(),l("div",{key:1,to:"/feed/"+a.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:A[2]||(A[2]=N=>r.openModal("profile-feed-deletion-confirm-modal"))},[c(C,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+n(r.$t("delete")),1)],8,Lt)):u("",!0)])])])])])):u("",!0)])])])]))),128)),c(f(Ve),{load:o},{loading:G(()=>[e("div",At,[c(C,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":G(()=>[e("div",Pt,[Ft,O(" "+n(r.$t("nothingToShow")),1)])]),"no-more":G(()=>[e("div",St,n(r.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",jt,[c(He,{ref_key:"chronologicalFeedModalViewRef",ref:U,section:"chronological-feed"},null,512)]),e("div",Tt,[c(ke,{ref_key:"artworkModalViewRef",ref:$,section:"artwork"},null,512)]),c(ue,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${r.$t("alert.areYouSure")} ${r.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:A[3]||(A[3]=a=>W())},null,8,["message"])])}}},Ut=ee(Rt,[["__scopeId","data-v-82394942"]]),Bt={id:"lists"},zt=["id"],Ot={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(v,{emit:T}){const w=v,{oApiConfiguration:m,fetchOptions:S}=Y(),h=Ne(m,S()),g="profile",y=p(!0);$e(()=>{_()});const _=async()=>{const[z,a]=await b();i.value=z,a.record_total<=k.value.perPage&&s(),a.record_total===0&&L()},i=p([]),k=p({perPage:24,page:0}),b=async()=>{k.value.page===0&&(y.value=!0);const[z,a,V]=await h.getUserArtworks({userId:w.userId,pagination:{page:k.value.page,perPage:k.value.perPage}});if(V)B();else return a.record_total<=k.value.perPage&&s(),a.record_total===0&&L(),k.value.page+=1,o(),[z,a]},o=()=>{y.value=!1,x.value=!1,q.value=!1},U=p(!0),s=()=>{U.value=!1},$=p({delay:!1}),M=async()=>{$.value.delay=!0;const[z,a]=await b();for(let V=0;V<z.length;V++)i.value.push(z[V]);$.value.delay=!1,dataPagination.next_previous.next_page||s(),dataPagination.next_previous.next_page&&dataPagination.current_page===$.maxLoad&&(s(),$.showDiscoveryButton=!0)},x=p(!1),L=()=>{x.value=!0,s(),T("onEmpty")},q=p(!1),B=()=>{y.value=!1,q.value=!0,s()},W=p(null),r=(z,a=!1)=>{W.value.view(z,a),X().openModal(g+"-modal")},A=z=>{T("feedSelectedItems",z)};return(z,a)=>(t(),l("div",Bt,[I(e("div",null,[(t(),D(xe,null,[I(c(Me,{"section-class":"work-grid",works:i.value,view:r,"manage-mode":v.manageMode,onFeedManageList:A},null,8,["works","manage-mode"]),[[F,!x.value]])],1024)),I(e("div",{class:j(["primary-button",$.value.delay?"animate-pulse":""]),onClick:M},n(z.$t("loadMore")),3),[[F,U.value]])],512),[[F,!y.value]]),c(se,{loading:y.value,empty:x.value,error:q.value,fetch:b},null,8,["loading","empty","error"]),e("div",{id:g+"-modal",class:"modal work-view"},[I(c(ke,{ref_key:"profileModalViewRef",ref:W,section:g},null,512),[[F,!y.value]])],8,zt)]))}},Vt=ee(Ot,[["__scopeId","data-v-6fbdcb8f"]]),Dt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Nt={class:"title"},qt=["name"],Ht=["placeholder"],Wt=["placeholder"],Gt=["for"],Jt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Kt={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Yt=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Qt=[Yt],Xt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Zt=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),eo=[Zt],to={class:"flex flex-row gap-x-1"},oo={class:"flex flex-row gap-2 justify-end mt-2"},lo={type:"submit",class:"primary-button"},so={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(v,{emit:T}){const w=v,m=Z(),{oApiConfiguration:S,fetchOptions:h}=Y(),g=de(S,h()),{t:y}=he(),_="create-album-form",i=p({title:"",description:"",isPublic:1,category:"artwork"}),k=async()=>{_e().validate(_,y);try{let b=!1,o={};if(w.category){const[U,s,$]=await g.createAlbum(w.category,i.value);b=U,o=s}b&&(X().closeModal(w.modalId),T("created",o))}catch{}};return(b,o)=>(t(),l("div",null,[e("div",Dt,[e("div",null,[e("span",Nt,n(b.$t("albums.create.form.title")),1),e("form",{id:_,class:"mt-2",onSubmit:o[4]||(o[4]=H(U=>k(),["prevent"]))},[e("n-validate",{for:"title",name:b.$t("title")},[I(e("input",{"onUpdate:modelValue":o[0]||(o[0]=U=>i.value.title=U),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:b.$t("title")},null,8,Ht),[[oe,i.value.title]])],8,qt),I(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=U=>i.value.description=U),class:"form-input theme-color-secondary",placeholder:b.$t("description"),"data-gramm":"false"},null,8,Wt),[[oe,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:o[2]||(o[2]=U=>f(m).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[Jt,i.value.isPublic?(t(),l("span",Kt,Qt)):u("",!0),i.value.isPublic?u("",!0):(t(),l("span",Xt,eo))]),e("div",to,[e("span",{class:j(["ml-2",{"leading-6":!f(m).i502p00r0}])},n(b.$t("private")),3),c(le)])],8,Gt),e("div",oo,[e("button",{class:"cancel-button",onClick:o[3]||(o[3]=H(U=>b.closeModal(v.modalId),["prevent"]))},n(b.$t("cancel")),1),e("button",lo,n(b.$t("create")),1)])],32)])])]))}},ao={id:"lists"},no={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},io={class:"mb-2 text-base font-bold"},ro={class:"mb-2"},uo={class:"italic"},co=["id"],mo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(v,{expose:T,emit:w}){const m=v,{oApiConfiguration:S,fetchOptions:h}=Y(),g=de(S,h()),y=p(m.id);Fe(()=>m.id,(r,A)=>{y.value=r});const _=p(!0),i=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),k=async()=>{_.value=!0,await b(),await o(),_.value=!1},b=async()=>{const[r,A]=await g.getInfo(y.value);i.value.info=r.data},o=async()=>{const[r,A,z]=await g.listAlbumItems({albumId:y.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});A?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,r!==null&&r.length?(r.forEach(a=>{i.value.list.push(a.artworks)}),w("onAlbumEmpty",!1)):(i.value.empty=!0,w("onAlbumEmpty",!0))},U=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},s=p([]),$=r=>{s.value=r,w("feedManageList",r)},M=p(!1);let x;const L=async()=>{const[r,A]=await g.removeItems(m.id,s.value);r&&(me().splash(x,M,"item-removed-alert"),U(),await k())},q=p("album"),B=p(null),W=(r,A=!1)=>{B.value.view(r,A),X().openModal(q.value+"-modal")};return T({fetchInfo:b,removeItems:L}),(r,A)=>(t(),l("div",ao,[e("div",{class:"hidden",onClick:A[0]||(A[0]=z=>b())}),e("div",{class:"hidden",onClick:A[1]||(A[1]=z=>L())}),e("div",no,[e("div",io,n(i.value.info.name),1),e("div",ro,n(i.value.info.description),1),e("div",null,[e("b",null,n(r.$t("private"))+":",1),O(),e("span",uo,n(i.value.info.is_public?r.$t("no"):r.$t("yes")),1)]),e("div",null,[e("b",null,n(r.$t("createdAt")),1),O(" "+n(r.formatDate(i.value.info.created_at)),1)])]),I(e("div",null,[(t(),D(xe,null,[I(c(Me,{"section-class":"work-grid",works:i.value.list,view:W,"manage-mode":v.manageMode,onFeedManageList:$},null,8,["works","manage-mode"]),[[F,!i.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:A[2]||(A[2]=z=>o())},n(r.$t("loadMore")),513),[[F,i.value.loadMore]])],512),[[F,!_.value]]),c(se,{loading:_.value,empty:i.value.empty,error:!1,fetch:k},null,8,["loading","empty"]),_.value?u("",!0):(t(),l("div",{key:0,id:q.value+"-modal",class:"modal work-view"},[c(ke,{ref_key:"albumModalViewRef",ref:B,section:q.value},null,8,["section"])],8,co)),I(c(ce,{id:"item-removed-alert",text:r.$t("albums.itemRemoved")},null,8,["text"]),[[F,M.value]])]))}},vo=ee(mo,[["__scopeId","data-v-2ee448ae"]]),fo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},po={class:"title"},ho=["name"],wo=["placeholder"],bo=["placeholder"],go=["for"],ko=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),_o={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},yo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),$o=[yo],xo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Mo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Co=[Mo],Io={class:"flex flex-row gap-x-1"},Eo={class:"flex flex-row gap-2 justify-end mt-2"},Lo={type:"submit",class:"primary-button"},Ao={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(v,{expose:T,emit:w}){const m=v,S=Z(),{oApiConfiguration:h,fetchOptions:g}=Y(),y=de(h,g()),{t:_}=he(),i=p(!0),k=async $=>{if($){s(),i.value=!0;const[M,x]=await y.getInfo($),L=M.data;o.value.id=$,o.value.name=L.name,o.value.description=L.description,o.value.isPublic=!!L.is_public,i.value=!1}},b="update-album-form",o=p({id:0,name:"",description:"",isPublic:!1}),U=async()=>{_e().validate(b,_);const[$,M]=await y.update({id:o.value.id,name:o.value.name,description:o.value.description,isPublic:o.value.isPublic?1:0});M||(X().closeModal(m.modalId),w("updated",o.value),s())},s=()=>{o.value={id:0,name:"",description:"",isPublic:0}};return T({fetch:k}),($,M)=>(t(),l("div",null,[e("div",fo,[e("div",null,[e("span",po,n($.$t("albums.edit.form.title")),1),i.value?u("",!0):(t(),l("form",{key:0,id:b,class:"mt-2",onSubmit:M[4]||(M[4]=H(x=>U(),["prevent"]))},[e("n-validate",{for:"title",name:$.$t("title")},[I(e("input",{"onUpdate:modelValue":M[0]||(M[0]=x=>o.value.name=x),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:$.$t("title")},null,8,wo),[[oe,o.value.name]])],8,ho),I(e("textarea",{"onUpdate:modelValue":M[1]||(M[1]=x=>o.value.description=x),class:"form-input theme-color-secondary",placeholder:$.$t("description"),"data-gramm":"false"},null,8,bo),[[oe,o.value.description]]),e("label",{for:o.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:M[2]||(M[2]=x=>f(S).i502p00r0?o.value.isPublic=!o.value.isPublic:o.value.isPublic=!0)},[ko,o.value.isPublic?(t(),l("span",_o,$o)):u("",!0),o.value.isPublic?u("",!0):(t(),l("span",xo,Co))]),e("div",Io,[e("span",{class:j(["ml-2",{"leading-6":!f(S).i502p00r0}])},n($.$t("private")),3),c(le)])],8,go),e("div",Eo,[e("button",{class:"cancel-button",onClick:M[3]||(M[3]=H(x=>$.closeModal(v.modalId),["prevent"]))},n($.$t("cancel")),1),e("button",Lo,n($.$t("save")),1)])],32))])])]))}},Te=""+globalThis.__buildAssetsURL("folder.11be08fa.png"),Ie=v=>(we("data-v-eccd717d"),v=v(),be(),v),Po={class:"mb-2"},Fo={key:0},So=Ie(()=>e("img",{src:Te,class:"rounded"},null,-1)),jo=[So],To={key:1},Ro={class:"relative text-center"},Uo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Bo={class:"overflow-hidden rounded-md"},zo=["src"],Oo={key:2,class:"imgrid"},Vo={class:"relative text-center"},Do={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},No={class:"overflow-hidden rounded-md"},qo=["src"],Ho=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Wo=Ie(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Go={key:3,class:"imgrid"},Jo={class:"relative text-center"},Ko={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Yo={class:"overflow-hidden rounded-md"},Qo=["src"],Xo={key:4,class:"imgrid"},Zo={class:"relative text-center"},el={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},tl={class:"overflow-hidden rounded-md"},ol=["src"],ll={key:5,class:"imgrid"},sl={key:0,class:"relative text-center"},al={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},nl={class:"overflow-hidden rounded-md"},il=["src"],rl={key:1,class:"relative text-center"},ul={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},dl={class:"overflow-hidden rounded-md"},cl=["src"],ml={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(v){const T=Z(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(m,S)=>(t(),l("div",Po,[!v.album.album_has_artworks||v.album._count.album_has_artworks===0?(t(),l("div",Fo,jo)):u("",!0),v.album.album_has_artworks&&v.album._count.album_has_artworks===1?(t(),l("div",To,[e("div",Ro,[m.applyExplicitFilter(f(T),v.album.album_has_artworks[0].artworks.is_explicit)?(t(),l("span",Uo,n(m.$t("explicitContent")),1)):u("",!0),e("div",Bo,[v.album.album_has_artworks&&v.album._count.album_has_artworks===1?(t(),l("img",{key:0,src:m.artworkThumb(v.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,v.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:j(["object-cover object-top rounded",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),v.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:S[0]||(S[0]=(...h)=>m.imageLoadError&&m.imageLoadError(...h))},null,42,zo)):u("",!0)])])])):u("",!0),v.album.album_has_artworks&&v.album._count.album_has_artworks===2?(t(),l("div",Oo,[(t(!0),l(J,null,K(v.album.album_has_artworks,(h,g)=>(t(),l("div",{key:g,class:j(w[2][g])},[e("div",Vo,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Do,n(m.$t("explicitContent")),1)):u("",!0),e("div",No,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[1]||(S[1]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,qo)])])],2))),128)),Ho,Wo])):u("",!0),v.album.album_has_artworks&&v.album._count.album_has_artworks===3?(t(),l("div",Go,[(t(!0),l(J,null,K(v.album.album_has_artworks,(h,g)=>(t(),l("div",{key:g,class:j(w[3][g])},[e("div",Jo,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Ko,n(m.$t("explicitContent")),1)):u("",!0),e("div",Yo,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[2]||(S[2]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,Qo)])])],2))),128))])):u("",!0),v.album.album_has_artworks&&v.album._count.album_has_artworks===4?(t(),l("div",Xo,[(t(!0),l(J,null,K(v.album.album_has_artworks,(h,g)=>(t(),l("div",{key:g},[e("div",Zo,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",el,n(m.$t("explicitContent")),1)):u("",!0),e("div",tl,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[3]||(S[3]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,ol)])])]))),128))])):u("",!0),v.album.album_has_artworks&&v.album._count.album_has_artworks>4?(t(),l("div",ll,[(t(!0),l(J,null,K(v.album.album_has_artworks,(h,g)=>(t(),l("div",{key:g},[g<3?(t(),l("div",sl,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",al,n(m.$t("explicitContent")),1)):u("",!0),e("div",nl,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[4]||(S[4]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,il)])])):(t(),l("div",rl,[e("span",ul,"+"+n(v.album._count.album_has_artworks-4),1),e("div",dl,[e("img",{src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),class:j(["z-0 brightness-50",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),onError:S[5]||(S[5]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,cl)])]))]))),128))])):u("",!0)]))}},vl=ee(ml,[["__scopeId","data-v-eccd717d"]]),fl={class:"mb-2 w-full"},pl={key:0,class:"flex flex-row justify-between"},hl={class:"flex flex-row"},wl={key:0},bl={key:1,class:"flex flex-row justify-between"},gl={class:"flex flex-row"},kl={class:"flex flex-row gap-2"},_l={class:"flex flex-row gap-2"},yl={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},$l=["onClick"],xl={class:"flex flex-row pb-1 mt-4 font-bold"},Ml={class:"text-xs font-normal"},Cl={__name:"Album",props:{userId:{type:Number,default:0}},setup(v){const T=v,w=Z(),{oApiConfiguration:m,fetchOptions:S}=Y(),h=de(m,S());$e(()=>{k()}),ge(()=>{s()});const g=p(!0),y=p("artwork"),_=p(0),i=p(!1),k=async()=>{if(w.i502p00r0)i.value=!0;else{const[d,P]=await h.proCanCreateAlbum({type:y.value});P?i.value=!1:i.value=d}},b=p([]),o=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),U=p({artwork:0}),s=async()=>{g.value=!0;const[d,P,E]=await h.fetchAlbums(T.userId,y.value,o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage,o.value.pagination.page);if(E)q();else{d.length||(o.value.manageMode=!1,x()),d.forEach(ye=>{b.value.push(ye)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=P;const[re]=await h.countArtworkAlbums(T.userId);U.value.artwork=re}g.value=!1},$=async()=>await s(),M=p(!1),x=()=>{M.value=!0,o.value.showLoadMore=!1},L=p(!1),q=()=>{g.value=!1,L.value=!0,o.value.showLoadMore=!1},B=async()=>{g.value=!1,M.value=!1,L.value=!1,o.value.pagination.page=0,b.value=[],await s()},W=p(!1);let r;const A=async()=>{await k(),me().splash(r,W,"created-alert"),await B()},z=p(null),a=()=>{z.value.fetch(_.value),X().openModal("album-edit-form-modal")},V=p(null),N=d=>{V.value.fetchInfo(),b.value.forEach(P=>{P.id===d.id&&(P.name=d.name,P.description=d.description,P.is_public=d.isPublic)})},te=()=>{V.value.removeItems()},Q=p([]),ae=d=>{Q.value=d},ie=async()=>{if(_.value!==0){const[d,P]=await h.deleteAlbum(_.value);d&&(await k(),_.value=0,B())}},ne=d=>{o.value.showManageButton=!d,o.value.manageMode=!1},R=()=>{_.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(d,P)=>(t(),l("div",null,[e("div",fl,[_.value?u("",!0):(t(),l("div",pl,[e("div",hl,[e("div",{class:j(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:P[0]||(P[0]=E=>y.value="artwork")},[O(n(d.$t("artworks.artwork"))+" ",1),e("span",{class:j(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},n(U.value.artwork),3)],2)]),f(w).loggedIn&&f(w).user.id===v.userId?(t(),l("div",wl,[e("div",{class:"flex flex-row icon-button",onClick:P[1]||(P[1]=E=>i.value?d.openModal("album-form-modal"):null)},[c(C,{name:"i-ion-add-outline"}),i.value?u("",!0):(t(),D(le,{key:0,class:"ml-1"}))])])):u("",!0)])),_.value?(t(),l("div",bl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:P[2]||(P[2]=E=>R())},[c(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",gl,[I(e("div",kl,[e("button",{class:"action-button secondary-button",onClick:P[3]||(P[3]=E=>o.value.manageMode=!o.value.manageMode)},[c(C,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(o.value.manageMode?d.$t("quit"):d.$t("manage")),1)]),I(e("button",{class:j(["flex flex-row",Q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:P[4]||(P[4]=E=>Q.value.length>0?d.openModal("item-deletion-confirm-modal"):null)},[c(C,{name:"i-akar-icons-trash-bin"}),O(" "+n(d.$t("albums.removeSelected")),1)],2),[[F,o.value.manageMode]])],512),[[F,f(w).loggedIn&&f(w).user.id===v.userId&&o.value.showManageButton]]),I(e("div",_l,[e("button",{class:"icon-button",onClick:P[5]||(P[5]=E=>a())},[c(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:P[6]||(P[6]=E=>d.openModal("album-deletion-confirm-modal"))},[c(C,{name:"i-akar-icons-trash-bin"})])],512),[[F,f(w).loggedIn&&f(w).user.id===v.userId&&!o.value.manageMode]])])])):u("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(d.$t("albums.manageModeActiveMessage")),513),[[F,o.value.manageMode]])]),_.value?u("",!0):(t(),l("div",yl,[(t(!0),l(J,null,K(b.value,E=>(t(),l("div",{key:E.id,class:j(["p-3 rounded-md cursor-pointer",E.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:re=>_.value=E.id},[E.type==="artwork"?(t(),D(vl,{key:0,album:E},null,8,["album"])):u("",!0),e("div",xl,[E.is_public?u("",!0):(t(),D(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Ml,n(E.name),1)])],10,$l))),128))])),o.value.showLoadMore&&!_.value?(t(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:$},n(d.$t("loadMore")),1)):u("",!0),c(se,{loading:g.value,empty:M.value,error:L.value,fetch:s},null,8,["loading","empty","error"]),!g.value&&!_.value?(t(),D(so,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:y.value,class:"modal",onCreated:A},null,8,["category"])):u("",!0),I(c(ce,{id:"created-alert",text:d.$t("albums.created")},null,8,["text"]),[[F,W.value]]),!g.value&&_.value?(t(),D(Ao,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:z,"modal-id":"album-edit-form-modal","album-id":_.value,class:"modal",onUpdated:N},null,8,["album-id"])):u("",!0),c(ue,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:ie},null,8,["message"]),c(ue,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:te},null,8,["message"]),_.value&&!g.value?(t(),D(vo,{key:4,id:_.value,ref_key:"albumDetailRef",ref:V,"manage-mode":o.value.manageMode,onOnAlbumEmpty:ne,onFeedManageList:ae},null,8,["id","manage-mode"])):u("",!0)]))}},Il=ee(Cl,[["__scopeId","data-v-b86e8269"]]),El={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ll={class:"title"},Al=["placeholder"],Pl=["placeholder"],Fl=["for"],Sl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),jl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Tl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Rl=[Tl],Ul={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Bl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),zl=[Bl],Ol={class:"flex flex-row gap-x-1"},Vl={class:"flex flex-row gap-2 justify-end mt-2"},Dl={type:"submit",class:"primary-button"},Nl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(v,{emit:T}){const w=v,m=Z(),{oApiConfiguration:S,fetchOptions:h}=Y(),g=ve(S,h()),{t:y}=he(),_="create-collection-form",i=p({title:"",description:"",isPublic:1,category:"artwork"}),k=async()=>{_e().validate(_,y);try{let b=!1,o={};if(w.category){const[U,s,$]=await g.createCollection(w.category,i.value);$||(b=U,o=s)}b&&(X().closeModal(w.modalId),T("created",o))}catch{}};return(b,o)=>(t(),l("div",null,[e("div",El,[e("div",null,[e("span",Ll,n(b.$t("collections.create.form.title")),1),e("form",{id:_,class:"mt-2",onSubmit:o[4]||(o[4]=H(U=>k(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":o[0]||(o[0]=U=>i.value.title=U),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:b.$t("title")},null,8,Al),[[oe,i.value.title]])]),I(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=U=>i.value.description=U),class:"form-input theme-color-secondary",placeholder:b.$t("description"),"data-gramm":"false"},null,8,Pl),[[oe,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:o[2]||(o[2]=U=>f(m).i502p00r0?i.value.isPublic=!i.value.isPublic:i.value.isPublic=!0)},[Sl,i.value.isPublic?(t(),l("span",jl,Rl)):u("",!0),i.value.isPublic?u("",!0):(t(),l("span",Ul,zl))]),e("div",Ol,[e("span",{class:j(["ml-2",{"leading-6":!f(m).i502p00r0}])},n(b.$t("private")),3),c(le)])],8,Fl),e("div",Vl,[e("button",{class:"cancel-button",onClick:o[3]||(o[3]=H(U=>b.closeModal(v.modalId),["prevent"]))},n(b.$t("cancel")),1),e("button",Dl,n(b.$t("create")),1)])],32)])])]))}},ql={id:"lists"},Hl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Wl={class:"text-base font-bold mb-2"},Gl={class:"mb-2"},Jl={class:"italic"},Kl=["id"],Yl={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(v,{expose:T,emit:w}){const m=v,{oApiConfiguration:S,fetchOptions:h}=Y(),g=ve(S,h()),y=p(m.id);Fe(()=>m.id,(r,A)=>{y.value=r});const _=p(!0),i=p({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),k=async()=>{_.value=!0,await b(),await o(),_.value=!1},b=async()=>{const[r,A]=await g.getInfo(y.value);i.value.info=r.data},o=async()=>{const[r,A,z]=await g.listCollectionItems({collectionId:y.value,pagination:{page:i.value.pagination.page,perPage:i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage}});A?i.value.pagination.page===0?i.value.pagination.page=i.value.pagination.firstLoad/i.value.pagination.perPage:i.value.pagination.page+=i.value.pagination.page!==0?1:2:i.value.loadMore=!1,r!==null&&r.length?(r.forEach(a=>{i.value.list.push(a.artworks)}),w("onCollectionEmpty",!1)):(i.value.empty=!0,w("onCollectionEmpty",!0))},U=()=>{i.value.loadMore=!0,i.value.pagination.page=0,i.value.list=[]},s=p([]),$=r=>{s.value=r,w("feedManageList",r)},M=p(!1);let x;const L=async()=>{const[r,A]=await g.removeItem({collectionId:m.id,type:m.type,workId:s.value});A||(me().splash(x,M,"item-removed-alert"),U(),await k(),w("feedManageList",[]))},q=p("collection"),B=p(null),W=(r,A=!1)=>{B.value.view(r,A),X().openModal(q.value+"-modal")};return T({fetchInfo:b,removeItem:L}),(r,A)=>(t(),l("div",ql,[e("div",{class:"hidden",onClick:A[0]||(A[0]=z=>b())}),e("div",{class:"hidden",onClick:A[1]||(A[1]=z=>L())}),e("div",Hl,[e("div",Wl,n(i.value.info.name),1),e("div",Gl,n(i.value.info.description),1),e("div",null,[e("b",null,n(r.$t("private"))+":",1),O(),e("span",Jl,n(i.value.info.is_public?r.$t("no"):r.$t("yes")),1)]),e("div",null,[e("b",null,n(r.$t("createdAt")),1),O(" "+n(r.formatDate(i.value.info.created_at)),1)])]),I(e("div",null,[(t(),D(xe,null,[I(c(Me,{"section-class":"work-grid",works:i.value.list,view:W,"manage-mode":v.manageMode,onFeedManageList:$},null,8,["works","manage-mode"]),[[F,!i.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:A[2]||(A[2]=z=>o())},n(r.$t("loadMore")),513),[[F,i.value.loadMore]])],512),[[F,!_.value]]),c(se,{loading:_.value,empty:i.value.empty,error:!1,fetch:k},null,8,["loading","empty"]),_.value?u("",!0):(t(),l("div",{key:0,id:q.value+"-modal",class:"modal work-view"},[c(ke,{ref_key:"collectionModalViewRef",ref:B,section:q.value},null,8,["section"])],8,Kl)),I(c(ce,{id:"item-removed-alert",text:r.$t("collections.itemRemoved")},null,8,["text"]),[[F,M.value]])]))}},Ql=ee(Yl,[["__scopeId","data-v-28a81b65"]]),Xl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Zl={class:"title"},es=["placeholder"],ts=["placeholder"],os=["for"],ls=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ss={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},as=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ns=[as],is={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},rs=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),us=[rs],ds={class:"flex flex-row gap-x-1"},cs={class:"flex flex-row gap-2 justify-end mt-2"},ms={type:"submit",class:"primary-button"},vs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(v,{expose:T,emit:w}){const m=v,S=Z(),{t:h}=he(),{oApiConfiguration:g,fetchOptions:y}=Y(),_=ve(g,y()),i=p(!0),k=async $=>{if($){s(),i.value=!0;const[M,x]=await _.getInfo($);if(!x){const L=M.data;o.value.id=$,o.value.name=L.name,o.value.description=L.description,o.value.isPublic=!!L.is_public,i.value=!1}}},b="edit-collection-form",o=p({id:0,name:"",description:"",isPublic:!1}),U=async()=>{_e().validate(b,h);const[$,M]=await _.update({id:o.value.id,name:o.value.name,description:o.value.description,isPublic:o.value.isPublic?1:0});M||(X().closeModal(m.modalId),w("updated",o.value),s())},s=()=>{o.value={id:0,name:"",description:"",isPublic:0}};return T({fetch:k}),($,M)=>(t(),l("div",null,[e("div",{class:"hidden",onClick:M[0]||(M[0]=x=>k(0))}),e("div",Xl,[e("div",null,[e("span",Zl,n($.$t("collections.edit.form.title")),1),i.value?u("",!0):(t(),l("form",{key:0,id:b,class:"mt-2",onSubmit:M[5]||(M[5]=H(x=>U(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":M[1]||(M[1]=x=>o.value.name=x),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:$.$t("title")},null,8,es),[[oe,o.value.name]])]),I(e("textarea",{"onUpdate:modelValue":M[2]||(M[2]=x=>o.value.description=x),class:"form-input theme-color-secondary",placeholder:$.$t("description"),"data-gramm":"false"},null,8,ts),[[oe,o.value.description]]),e("label",{for:o.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:M[3]||(M[3]=x=>f(S).i502p00r0?o.value.isPublic=!o.value.isPublic:o.value.isPublic=!0)},[ls,o.value.isPublic?(t(),l("span",ss,ns)):u("",!0),o.value.isPublic?u("",!0):(t(),l("span",is,us))]),e("div",ds,[e("span",{class:j(["ml-2",{"leading-6":!f(S).i502p00r0}])},n($.$t("private")),3),c(le)])],8,os),e("div",cs,[e("button",{class:"cancel-button",onClick:M[4]||(M[4]=H(x=>$.closeModal(v.modalId),["prevent"]))},n($.$t("cancel")),1),e("button",ms,n($.$t("save")),1)])],32))])])]))}},Ee=v=>(we("data-v-a484fb7b"),v=v(),be(),v),fs={class:"mb-2"},ps={key:0},hs=Ee(()=>e("img",{src:Te,class:"rounded"},null,-1)),ws=[hs],bs={key:1},gs={class:"relative text-center"},ks={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},_s={class:"overflow-hidden rounded-md"},ys=["src"],$s={key:2,class:"imgrid"},xs={class:"relative text-center"},Ms={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Cs={class:"overflow-hidden rounded-md"},Is=["src"],Es=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Ls=Ee(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),As={key:3,class:"imgrid"},Ps={class:"relative text-center"},Fs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ss={class:"overflow-hidden rounded-md"},js=["src"],Ts={key:4,class:"imgrid"},Rs={class:"relative text-center"},Us={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Bs={class:"overflow-hidden rounded-md"},zs=["src"],Os={key:5,class:"imgrid"},Vs={key:0,class:"relative text-center"},Ds={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Ns={class:"overflow-hidden rounded-md"},qs=["src"],Hs={key:1,class:"relative text-center"},Ws={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Gs={class:"overflow-hidden rounded-md"},Js=["src"],Ks={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(v){const T=Z(),w={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(m,S)=>(t(),l("div",fs,[!v.collection.collection_has_artworks||v.collection._count.collection_has_artworks===0?(t(),l("div",ps,ws)):u("",!0),v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks===1?(t(),l("div",bs,[e("div",gs,[m.applyExplicitFilter(f(T),v.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),l("span",ks,n(m.$t("explicitContent")),1)):u("",!0),e("div",_s,[v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks===1?(t(),l("img",{key:0,src:m.artworkThumb(v.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,v.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:j(["object-cover object-top rounded",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),v.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:S[0]||(S[0]=(...h)=>m.imageLoadError&&m.imageLoadError(...h))},null,42,ys)):u("",!0)])])])):u("",!0),v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks===2?(t(),l("div",$s,[(t(!0),l(J,null,K(v.collection.collection_has_artworks,(h,g)=>(t(),l("div",{key:g,class:j(w[2][g])},[e("div",xs,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Ms,n(m.$t("explicitContent")),1)):u("",!0),e("div",Cs,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[1]||(S[1]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,Is)])])],2))),128)),Es,Ls])):u("",!0),v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks===3?(t(),l("div",As,[(t(!0),l(J,null,K(v.collection.collection_has_artworks,(h,g)=>(t(),l("div",{key:g,class:j(w[3][g])},[e("div",Ps,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Fs,n(m.$t("explicitContent")),1)):u("",!0),e("div",Ss,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[2]||(S[2]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,js)])])],2))),128))])):u("",!0),v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks===4?(t(),l("div",Ts,[(t(!0),l(J,null,K(v.collection.collection_has_artworks,(h,g)=>(t(),l("div",{key:g},[e("div",Rs,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Us,n(m.$t("explicitContent")),1)):u("",!0),e("div",Bs,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[3]||(S[3]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,zs)])])]))),128))])):u("",!0),v.collection.collection_has_artworks&&v.collection._count.collection_has_artworks>4?(t(),l("div",Os,[(t(!0),l(J,null,K(v.collection.collection_has_artworks,(h,g)=>(t(),l("div",{key:g},[g<3?(t(),l("div",Vs,[m.applyExplicitFilter(f(T),h.artworks.is_explicit)?(t(),l("span",Ds,n(m.$t("explicitContent")),1)):u("",!0),e("div",Ns,[e("img",{class:j(["theme-color",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),onError:S[4]||(S[4]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,qs)])])):(t(),l("div",Hs,[e("span",Ws,"+"+n(v.collection._count.collection_has_artworks-4),1),e("div",Gs,[e("img",{src:m.artworkThumb(h.artworks.artwork_assets[0].bucket,h.artworks.artwork_assets[0].filename,"thumbnail"),class:j(["z-0 brightness-50",{"blur-sm brightness-50":m.applyExplicitFilter(f(T),h.artworks.is_explicit)}]),onError:S[5]||(S[5]=(...y)=>m.imageLoadError&&m.imageLoadError(...y))},null,42,Js)])]))]))),128))])):u("",!0)]))}},Ys=ee(Ks,[["__scopeId","data-v-a484fb7b"]]),Qs={class:"mb-2 w-full"},Xs={key:0,class:"flex flex-row justify-between"},Zs={class:"flex flex-row"},ea={key:0},ta={key:1,class:"flex flex-row justify-between"},oa={class:"flex flex-row"},la={class:"flex flex-row gap-2"},sa={class:"flex flex-row gap-2"},aa={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},na=["onClick"],ia={class:"flex flex-row pb-1 mt-4 font-bold"},ra={class:"text-xs font-normal"},ua={__name:"Collection",props:{userId:{type:Number,default:0}},setup(v){const T=v,w=Z();ge(()=>{s()});const{oApiConfiguration:m,fetchOptions:S}=Y(),h=ve(m,S());$e(()=>{k()});const g=p(!0),y=p("artwork"),_=p(0),i=p(!1),k=async()=>{if(w.i502p00r0)i.value=!0;else{const[d,P]=await h.proCanCreateCollection({type:y.value});P?i.value=!1:i.value=d}},b=p([]),o=p({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),U=p({artwork:0}),s=async()=>{g.value=!0;const[d,P,E]=await h.fetchCollections({userId:T.userId,type:y.value,pagination:{page:o.value.pagination.page,perPage:o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage}});if(E)q();else{d.length||(o.value.manageMode=!1,x()),d.forEach(ye=>{b.value.push(ye)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=P;const[re]=await h.countArtworkCollections(T.userId);U.value.artwork=re}g.value=!1},$=async()=>await s(),M=p(!1),x=()=>{M.value=!0,o.value.showLoadMore=!1},L=p(!1),q=()=>{g.value=!1,L.value=!0,o.value.showLoadMore=!1},B=async()=>{g.value=!1,M.value=!1,L.value=!1,o.value.pagination.page=0,b.value=[],await s()},W=d=>{o.value.showManageButton=!0,d&&(o.value.showManageButton=!1)},r=p(!1);let A;const z=async()=>{await k(),me().splash(A,r,"created-alert"),await B()},a=p(null),V=()=>{a.value.fetch(_.value),X().openModal("collection-edit-form-modal")},N=p(null),te=d=>{N.value.fetchInfo(),b.value.forEach(P=>{P.id===d.id&&(P.name=d.name,P.description=d.description,P.is_public=d.isPublic)})},Q=p([]),ae=d=>{Q.value=d},ie=()=>{N.value.removeItem()},ne=async()=>{if(_.value!==0){const[d,P]=await h.deleteCollection(_.value);d&&(await k(),_.value=0,B())}},R=()=>{_.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(d,P)=>(t(),l("div",null,[e("div",Qs,[_.value?u("",!0):(t(),l("div",Xs,[e("div",Zs,[e("div",{class:j(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:P[0]||(P[0]=E=>y.value="artwork")},[O(n(d.$t("artworks.artwork"))+" ",1),e("span",{class:j(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},n(U.value.artwork),3)],2)]),f(w).loggedIn&&f(w).user.id===v.userId?(t(),l("div",ea,[e("div",{class:"flex flex-row icon-button",onClick:P[1]||(P[1]=E=>i.value?d.openModal("collection-form-modal"):null)},[c(C,{name:"i-ion-add-outline"}),i.value?u("",!0):(t(),D(le,{key:0,class:"ml-1"}))])])):u("",!0)])),_.value?(t(),l("div",ta,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:P[2]||(P[2]=E=>R())},[c(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",oa,[I(e("div",la,[e("button",{class:"action-button secondary-button",onClick:P[3]||(P[3]=E=>o.value.manageMode=!o.value.manageMode)},[c(C,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(o.value.manageMode?d.$t("quit"):d.$t("manage")),1)]),I(e("button",{class:j(["flex flex-row",Q.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:P[4]||(P[4]=E=>Q.value.length>0?d.openModal("item-deletion-confirm-modal"):null)},[c(C,{name:"i-akar-icons-trash-bin"}),O(" "+n(d.$t("collections.removeSelected")),1)],2),[[F,o.value.manageMode]])],512),[[F,f(w).loggedIn&&f(w).user.id===v.userId&&o.value.showManageButton]]),I(e("div",sa,[e("button",{class:"icon-button",onClick:P[5]||(P[5]=E=>V())},[c(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:P[6]||(P[6]=E=>d.openModal("collection-deletion-confirm-modal"))},[c(C,{name:"i-akar-icons-trash-bin"})])],512),[[F,f(w).loggedIn&&f(w).user.id===v.userId&&!o.value.manageMode]])])])):u("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(d.$t("collections.manageModeActiveMessage")),513),[[F,o.value.manageMode]])]),_.value?u("",!0):(t(),l("div",aa,[(t(!0),l(J,null,K(b.value,E=>(t(),l("div",{key:E.id,class:j(["p-3 rounded-md cursor-pointer",E.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:re=>_.value=E.id},[E.type==="artwork"?(t(),D(Ys,{key:0,collection:E},null,8,["collection"])):u("",!0),e("div",ia,[E.is_public?u("",!0):(t(),D(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",ra,n(E.name),1)])],10,na))),128))])),o.value.showLoadMore&&!_.value?(t(),l("div",{key:1,class:"mt-4 w-full primary-button",onClick:$},n(d.$t("loadMore")),1)):u("",!0),c(se,{loading:g.value,empty:M.value,error:L.value,fetch:s},null,8,["loading","empty","error"]),!g.value&&!_.value?(t(),D(Nl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:y.value,class:"modal",onCreated:z},null,8,["category"])):u("",!0),I(c(ce,{id:"created-alert",text:d.$t("collections.created")},null,8,["text"]),[[F,r.value]]),!g.value&&_.value?(t(),D(vs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:a,"modal-id":"collection-edit-form-modal","collection-id":_.value,class:"modal",onUpdated:te},null,8,["collection-id"])):u("",!0),c(ue,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:ne},null,8,["message"]),c(ue,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ie},null,8,["message"]),_.value&&!g.value?(t(),D(Ql,{key:4,id:_.value,ref_key:"collectionDetailRef",ref:N,"manage-mode":o.value.manageMode,type:y.value,onOnCollectionEmpty:W,onFeedManageList:ae},null,8,["id","manage-mode","type"])):u("",!0)]))}},da=ee(ua,[["__scopeId","data-v-9e4fc7e6"]]),ca={class:"text-lg font-bold"},ma={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},va={class:"flex flex-row w-full"},fa=["src"],pa={class:"flex flex-col justify-between p-3 w-full text-white"},ha={class:"flex flex-col"},wa={class:"font-bold"},ba={class:"text-xxs"},ga={class:"flex flex-row w-full"},ka={key:0,class:"flex flex-row"},_a=["onClick"],ya=["onMouseover","onClick"],$a={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(v){const T=v,w=Z(),{oApiConfiguration:m,fetchOptions:S}=Y(),h=Ce(m,S());ge(()=>{o()});const g=p([]),y=p(!0),_=p({page:0,perPage:12}),i=p(!1),k=p(!1),b=p(!1),o=async()=>{U(),y.value=!0;const[$,M]=await h.getFollowerList({userId:T.userId,pagination:{page:_.value.page,perPage:_.value.perPage}});M?i.value=!0:($.followers.length||(k.value=!0),$.followers.forEach(x=>{g.value.push(x)}),_.value.page+=1,$.pagination.next_previous.next_page?b.value=!0:b.value=!1),y.value=!1},U=()=>{k.value=!1,i.value=!1},s=p(0);return($,M)=>{const x=pe;return t(),l("div",null,[e("div",ca,n($.$t("followers")),1),e("div",ma,[(t(!0),l(J,null,K(g.value,(L,q)=>(t(),D(x,{key:L.id,to:"/profile/"+L.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(L.cover_bucket&&L.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+$.avatarCoverUrl(L.cover_bucket,L.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+f(Pe)+");background-size:cover;")},{default:G(()=>[e("div",va,[e("img",{src:$.avatarCoverUrl(L.avatar_bucket,L.avatar_filename),class:"avatar",onError:M[0]||(M[0]=(...B)=>$.imageLoadError&&$.imageLoadError(...B))},null,40,fa),e("div",pa,[e("div",ha,[e("span",wa,n(L.name),1),e("span",ba,n(L.pen_name),1)]),e("div",ga,[f(w).loggedIn&&L.id!==f(w).user.id?(t(),l("div",ka,[I(e("div",{class:"flex flex-row",onClick:H(B=>$.followUser(q,L.id),["prevent"])},[c(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,_a),[[F,!L.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:B=>s.value=L.id,onMouseout:M[1]||(M[1]=B=>s.value=0),onClick:H(B=>$.unfollowUser(q,L.id),["prevent"])},[I(c(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,s.value!==L.id]]),I(c(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,s.value&&s.value===L.id]])],40,ya),[[F,L.is_following]])])):u("",!0)])])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"mt-4 primary-button",onClick:M[2]||(M[2]=L=>o())},n($.$t("loadMore")),513),[[F,b.value]]),c(se,{loading:y.value,empty:k.value,error:i.value,fetch:o},null,8,["loading","empty","error"])])}}},xa=ee($a,[["__scopeId","data-v-b2599f1b"]]),Ma={class:"flex flex-row justify-between"},Ca={class:"text-lg font-bold"},Ia={class:"mr-1"},Ea={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},La={class:"flex flex-col w-full"},Aa={class:"flex flex-row w-full"},Pa=["src"],Fa={class:"flex flex-col justify-between p-3 w-full text-white"},Sa={class:"flex flex-col"},ja={class:"font-bold"},Ta={class:"text-xxs"},Ra={class:"flex flex-row w-full"},Ua={key:0,class:"flex flex-row"},Ba=["onClick"],za=["onMouseover","onClick"],Oa={class:"work-grid"},Va=["href"],Da={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Na=["href"],qa=["src"],Ha={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(v){const T=v,w=Z(),{oApiConfiguration:m,fetchOptions:S}=Y(),h=Ce(m,S());ge(()=>{s(!1)});const g=p(!1),y=async x=>{_.value=[],k.value.page=0,g.value=x,await s(x)},_=p([]),i=p(!0),k=p({page:0,perPage:12}),b=p(!1),o=p(!1),U=p(!1),s=async x=>{$(),i.value=!0;const[L,q]=await h.getFollowingList({userId:T.userId,isPrivateOnly:x?1:0,pagination:{page:k.value.page,perPage:k.value.perPage}});q?b.value=!0:(L.followings.length||(o.value=!0),L.followings.forEach(B=>{_.value.push(B)}),k.value.page+=1,L.pagination.next_previous.next_page?U.value=!0:U.value=!1),i.value=!1},$=()=>{o.value=!1,b.value=!1},M=p(0);return(x,L)=>{const q=pe;return t(),l("div",null,[e("div",Ma,[e("div",Ca,n(x.$t("followings")),1),e("div",null,[f(w).loggedIn&&f(w).i502p00r0&&f(w).user.id==v.userId?(t(),l("div",{key:0,onClick:L[0]||(L[0]=B=>y(!g.value)),class:j(["flex flex-row cursor-pointer href",{"font-bold":g.value}])},[I(c(C,{name:"i-mdi-eye-check"},null,512),[[F,g.value]]),e("div",Ia,[I(c(C,{name:"i-fluent-inprivate-account-16-regular"},null,512),[[F,!g.value]]),I(c(C,{name:"i-fluent-inprivate-account-16-filled"},null,512),[[F,g.value]])]),e("span",null,n(x.$t("privateFollow")),1)],2)):u("",!0)])]),e("div",Ea,[(t(!0),l(J,null,K(_.value,(B,W)=>(t(),D(q,{key:B.id,to:"/profile/"+B.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Se(B.cover_bucket&&B.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("+x.avatarCoverUrl(B.cover_bucket,B.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("+f(Pe)+");background-size:cover;")},{default:G(()=>[e("div",La,[e("div",Aa,[e("img",{src:x.avatarCoverUrl(B.avatar_bucket,B.avatar_filename),class:j(["rounded-bl-none avatar",B.artworks.length?"rounded-r-none":"rounded-tr-none"]),onError:L[1]||(L[1]=(...r)=>x.imageLoadError&&x.imageLoadError(...r))},null,42,Pa),e("div",Fa,[e("div",Sa,[e("span",ja,n(B.name),1),e("span",Ta,n(B.pen_name),1)]),e("div",Ra,[f(w).loggedIn&&B.id!==f(w).user.id?(t(),l("div",Ua,[I(e("div",{class:"flex flex-row",onClick:H(r=>x.followUser(W,B.id),["prevent"])},[c(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ba),[[F,!B.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:r=>M.value=B.id,onMouseout:L[2]||(L[2]=r=>M.value=0),onClick:H(r=>x.unfollowUser(W,B.id),["prevent"])},[I(c(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[F,M.value!==B.id]]),I(c(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[F,M.value&&M.value===B.id]])],40,za),[[F,B.is_following]])])):u("",!0)])])]),e("div",Oa,[(t(!0),l(J,null,K(B.artworks,(r,A)=>(t(),l("div",{key:r.id,class:j(["work-thumbnail theme-color-bg",r._count.artwork_assets>1&&x.currentWorkId!=r.id?"work-multiple":""])},[e("a",{href:"/a/"+r.id,target:"_blank",class:"w-full h-full theme-color-bg"},[e("div",{class:j(["overflow-hidden relative text-center",{"rounded-bl-md":A==0},{"rounded-br-md":A==2}])},[x.applyExplicitFilter(f(w),r.is_explicit)?(t(),l("span",Da,n(x.$t("explicitContent")),1)):u("",!0),e("a",{href:"/a/"+r.id,class:j([{"animate-wigglefast":x.manageMode}])},[e("img",{class:j(["w-full h-full unselectable",{"object-cover":!x.isUncropped},x.isUncropped?"object-contain object-center h-44":"object-cover",{"blur-3xl brightness-50 unclickable":x.applyExplicitFilter(f(w),r.is_explicit)}]),src:x.artworkThumb(r.artwork_assets[0].bucket,r.artwork_assets[0].filename,"thumbnail",!1),onError:L[3]||(L[3]=(...z)=>x.imageLoadError&&x.imageLoadError(...z))},null,42,qa)],10,Na)],2)],8,Va)],2))),128))])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"mt-4 primary-button",onClick:L[4]||(L[4]=B=>s(!1))},n(x.$t("loadMore")),513),[[F,U.value]]),c(se,{loading:i.value,empty:o.value,error:b.value,fetch:y},null,8,["loading","empty","error"])])}}},Wa=ee(Ha,[["__scopeId","data-v-c5638dbd"]]),Re=v=>(we("data-v-4be5dc78"),v=v(),be(),v),Ga=["src"],Ja={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ka={class:"flex-row justify-between hidden-md-flex"},Ya={class:"mr-6 w-1/5"},Qa=["src"],Xa={class:"mt-2"},Za={class:"flex flex-row"},en={class:"flex flex-row"},tn={class:"flex flex-row text-center"},on={class:"w-full"},ln=["checked","disabled"],sn=Re(()=>e("span",{class:"ml-2"},"Follow Privately",-1)),an={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},nn={class:"flex flex-col w-full"},rn={class:"flex flex-row w-full"},un={class:"w-9/12"},dn={class:"text-base font-semibold"},cn={class:"mr-2 italic"},mn={class:"flex flex-row mt-2"},vn={key:0,class:"mr-1"},fn={class:"flex flex-row"},pn={class:"mr-1"},hn={key:0,class:"flex flex-row"},wn={key:1,class:"flex flex-row"},bn={class:"float-right w-3/12 text-right"},gn={class:"flex flex-row shadow-md primary-button"},kn={class:"leading-4"},_n={key:1,class:"mt-4"},yn=["href"],$n=["href"],xn=["href"],Mn=["href"],Cn=["href"],In={key:0,class:"mt-4"},En=["id","innerHTML"],Ln=["id"],An={class:"flex flex-col text-center md:hidden"},Pn=["src"],Fn={class:"mt-4 text-base font-semibold"},Sn={class:"flex flex-row justify-center mt-4"},jn={key:0,class:"flex flex-row mr-1"},Tn={class:"mr-1"},Rn={key:0,class:"flex flex-row"},Un={key:1,class:"flex flex-row"},Bn={key:0,class:"mx-2 mt-4 text-center"},zn=["id","innerHTML"],On=["id"],Vn={key:1,class:"flex flex-row justify-center mt-4"},Dn=["href"],Nn=["href"],qn=["href"],Hn=["href"],Wn=["href"],Gn={class:"flex flex-row justify-center w-full md:hidden"},Jn={class:"flex flex-row"},Kn={class:"flex flex-row"},Yn={class:"mt-2"},Qn={class:"flex flex-row justify-center md:hidden"},Xn={class:"flex flex-row justify-between mt-2 md:mt-6"},Zn={class:"hidden flex-col lg:w-1/5 md:flex"},ei={class:"profile-navigation_wrapper"},ti={class:"hidden-lg-flex"},oi=Re(()=>e("span",{class:"hidden-lg-flex"},null,-1)),li={class:"profile-navigation_wrapper"},si={class:"hidden-lg-flex"},ai={class:"hidden-lg-flex"},ni={class:"profile-navigation_wrapper"},ii={class:"hidden-lg-flex"},ri={class:"hidden-lg-flex"},ui={class:"w-full md:ml-6"},di={key:0},ci={class:"flex flex-row w-full"},mi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},vi={key:1},fi={key:2},pi={key:3},hi={key:4},wi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(v){const T=v,w=Z(),{oApiConfiguration:m,fetchOptions:S}=Y(),h=Ce(m,S());de(m,S()),ve(m,S());const g=Be(),y=Ae(),{o:_}=g.query,i=p(!0),k=_!=null?p(_):p("dashboard"),b=p("artwork");ze(()=>T.userLogon&&w.loggedIn?w.user.id:T.id);const o=p({manageMode:!1,showManageMode:!0}),U=R=>{k.value=R,o.value.manageMode=!1,_!=null&&y.push("/profile")},s=p({}),$=p({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),M=p(null),x=p([]),L=R=>{x.value=R},q=()=>{o.value.showManageMode=!1},B=p(null),W=()=>{X().openModal("album-selection-modal")},r=p(!1);let A;const z=()=>{me().splash(A,r,"item-added-to-album-alert")},a=p({isFollowing:!1,isPrivate:!1,followingSince:""}),V=p(null),N=p("i-ri-user-follow-fill"),te=(R,d)=>{N.value=R,V.value=d},Q=async(R,d)=>{let[P,E]=[null,!1];d?[P,E]=await h.followPrivately(R):[P,E]=await h.follow(R),E||(a.value={isFollowing:!0,isPrivate:d!=null?d:!1,followingSince:""})},ae=async R=>{const[d,P]=await h.unfollow(R);P||(a.value={isFollowing:!1,isPrivate:!1,followingSince:""})},ie=p(!0),ne=(R,d,P,E)=>{ie.value=!1,je().readMore(R,d,P,E)};return(R,d)=>{const P=pe;return t(),D(De,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:G(()=>[e("div",null,[e("img",{src:R.avatarCoverUrl(s.value.cover_bucket,s.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:d[0]||(d[0]=(...E)=>R.defaultCoverImage&&R.defaultCoverImage(...E))},null,40,Ga),f(w).loggedIn&&f(w).user.id===s.value.id?(t(),D(P,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:G(()=>[c(C,{name:"i-ph-gear-six"})]),_:1})):u("",!0)]),e("div",Ja,[e("div",Ka,[e("div",Ya,[e("img",{src:R.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:d[1]||(d[1]=(...E)=>R.defaultCoverImage&&R.defaultCoverImage(...E))},null,40,Qa),e("div",Xa,[e("div",{class:j(["flex-row justify-center border hidden-md-flex",s.value.id==f(w).user.id?"rounded-md":"rounded-t-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:d[2]||(d[2]=E=>k.value="followerList")},[e("b",null,n($.value.followers),1),O("\xA0 "),e("i",null,n(R.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:d[3]||(d[3]=E=>k.value="followingList")},[e("b",null,n($.value.followings),1),O("\xA0 "),e("i",null,n(R.$t("following").toLowerCase()),1)])],2),f(w).loggedIn&&s.value.id!==f(w).user.id?(t(),l("div",{key:0,class:j(["primary-button rounded-t-none hover:rounded-t-none",{"hover:danger-button":a.value.isFollowing}]),onClick:d[4]||(d[4]=E=>a.value.isFollowing?ae(s.value.id):Q(s.value.id)),onMouseover:d[5]||(d[5]=E=>te("i-ri-user-unfollow-fill",R.$t("unfollow"))),onMouseleave:d[6]||(d[6]=E=>te("i-ri-user-follow-fill",R.$t("following")))},[I(e("div",Za,[c(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+n(R.$t("follow")),1)],512),[[F,!a.value.isFollowing]]),I(e("div",en,[c(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+n(V.value===null?R.$t("following"):V.value),1)],512),[[F,a.value.isFollowing]])],34)):u("",!0),I(e("div",tn,[e("div",on,[e("label",{onClick:d[7]||(d[7]=E=>f(w).i502p00r0?a.value.isPrivate?Q(s.value.id,!1):Q(s.value.id,!0):null),for:"small-toggle",class:"inline-flex relative flex-row justify-center items-center mt-2 cursor-pointer"},[e("input",{id:"small-toggle",type:"checkbox",class:"sr-only peer",checked:a.value.isPrivate,disabled:!f(w).i502p00r0},null,8,ln),e("div",{class:j(["w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600",{unclickable:!f(w).i502p00r0},f(w).i502p00r0?" after:top-[2px]":" after:top-[4px]"])},null,2),sn,f(w).i502p00r0?u("",!0):(t(),D(le,{key:0,class:"ml-1"}))])])],512),[[F,a.value.isFollowing]])])]),e("div",an,[e("div",nn,[e("div",rn,[e("div",un,[e("div",null,[e("span",dn,n(s.value.name),1),O("\xA0 "),e("span",cn,n(s.value.username),1),c(le,{"force-show":s.value.is_pro},null,8,["force-show"])]),e("div",mn,[s.value.pen_name&&s.value.pen_name!==""?(t(),l("div",vn,[e("span",fn,[c(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+n(s.value.pen_name),1)])])):u("",!0),e("div",pn,[s.value.gender==="m"?(t(),l("span",hn,[c(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" he/his ")])):u("",!0),s.value.gender==="f"?(t(),l("span",wn,[c(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" she/her ")])):u("",!0)])])]),e("div",bn,[f(w).loggedIn&&f(w).user.id===s.value.id?(t(),D(P,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:G(()=>[e("button",gn,[c(C,{name:"i-ph-gear-six",class:"mr-2"}),e("span",kn,n(R.$t("profile.setting")),1)])]),_:1})):u("",!0),s.value.user_socials?(t(),l("div",_n,[s.value.user_socials.facebook?(t(),l("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,yn)):u("",!0),s.value.user_socials.instagram?(t(),l("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,$n)):u("",!0),s.value.user_socials.twitter?(t(),l("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,xn)):u("",!0),s.value.user_socials.youtube?(t(),l("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Mn)):u("",!0),s.value.user_socials.patreon?(t(),l("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"heart",class:"text-xl"})],8,Cn)):u("",!0)])):u("",!0)])]),e("div",null,[s.value.bio?(t(),l("p",In,[e("div",{id:"user-bio-"+s.value.id,innerHTML:s.value.bio.length>300?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,En),s.value.bio.length>300?(t(),l("a",{key:0,id:"user-bio-read-more-"+s.value.id,class:"href",onClick:d[8]||(d[8]=H(E=>ne(s.value.bio,s.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},n(R.$t("readMore")),9,Ln)):u("",!0)])):u("",!0)])])])]),e("div",An,[e("img",{src:R.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:d[9]||(d[9]=(...E)=>R.imageLoadError&&R.imageLoadError(...E))},null,40,Pn),e("div",Fn,n(s.value.name),1),e("div",null,n(s.value.username),1),e("div",Sn,[s.value.pen_name?(t(),l("span",jn,[c(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+n(s.value.pen_name&&s.value.pen_name!==""?s.value.pen_name:"-"),1)])):u("",!0),e("div",Tn,[s.value.gender==="m"?(t(),l("span",Rn,[c(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" he/his ")])):u("",!0),s.value.gender==="f"?(t(),l("span",Un,[c(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),O(" she/her ")])):u("",!0)])]),s.value.bio?(t(),l("div",Bn,[e("div",{id:"mobile__user-bio-"+s.value.id,innerHTML:s.value.bio.length>150?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,zn),s.value.bio.length>150?(t(),l("a",{key:0,id:"mobile__user-bio-read-more-"+s.value.id,class:"href",onClick:d[10]||(d[10]=H(E=>ne(s.value.bio,s.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},n(R.$t("readMore")),9,On)):u("",!0)])):u("",!0),s.value.user_socials?(t(),l("div",Vn,[s.value.user_socials.facebook?(t(),l("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Dn)):u("",!0),s.value.user_socials.instagram?(t(),l("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Nn)):u("",!0),s.value.user_socials.twitter?(t(),l("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,qn)):u("",!0),s.value.user_socials.youtube?(t(),l("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Hn)):u("",!0),s.value.user_socials.patreon?(t(),l("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[c(C,{name:"i-ion-heart",class:"text-xl"})],8,Wn)):u("",!0)])):u("",!0),e("div",Gn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:d[11]||(d[11]=E=>k.value="followerList")},[e("b",null,n($.value.followers),1),O("\xA0 "),e("i",null,n(R.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:d[12]||(d[12]=E=>k.value="followingList")},[e("b",null,n($.value.followings),1),O("\xA0 "),e("i",null,n(R.$t("following")),1)])]),f(w).loggedIn&&s.value.id!==f(w).user.id?(t(),l("div",{key:2,class:j(["mt-2 w-auto",a.value.isFollowing?"danger-button":"primary-button"]),onClick:d[13]||(d[13]=E=>a.value.isFollowing?ae(s.value.id):Q(s.value.id))},[I(e("div",Jn,[c(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+n(R.$t("follow")),1)],512),[[F,!a.value.isFollowing]]),I(e("div",Kn,[c(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+n(V.value===null?R.$t("following"):V.value),1)],512),[[F,a.value.isFollowing]])],2)):u("",!0)]),e("div",Yn,[e("div",Qn,[e("div",{class:j(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(k)=="dashboard"}]),onClick:d[14]||(d[14]=E=>U("dashboard"))},[e("div",null,[I(c(C,{name:"i-ion-home-outline",class:"text-white"},null,512),[[F,f(k)=="dashboard"]]),I(c(C,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[F,f(k)!="dashboard"]])]),e("span",null,n(R.$t("dashboard")),1)],2),e("div",{class:j(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(k)=="albums"}]),onClick:d[15]||(d[15]=E=>U("albums"))},[e("div",null,[I(c(C,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[F,f(k)=="albums"]]),I(c(C,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[F,f(k)!="albums"]])]),e("span",null,n(R.$t("albums.album")),1)],2),e("div",{class:j(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":f(k)=="collections"}]),onClick:d[16]||(d[16]=E=>U("collections"))},[e("div",null,[I(c(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,f(k)=="collections"]]),I(c(C,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[F,f(k)!="collections"]])]),e("span",null,n(R.$t("collections.collection")),1)],2)]),e("div",Xn,[e("div",Zn,[e("div",{class:j(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(k)==="dashboard"}]),onClick:d[17]||(d[17]=E=>U("dashboard"))},[e("div",ei,[I(c(C,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[F,f(k)==="dashboard"]]),I(c(C,{name:"i-humbleicons-dashboard"},null,512),[[F,f(k)!=="dashboard"]]),e("label",ti,n(R.$t("dashboard")),1)]),oi],2),e("div",{class:j(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(k)==="albums"}]),onClick:d[18]||(d[18]=E=>U("albums"))},[e("div",li,[I(c(C,{name:"i-bx-photo-album",class:"text-white"},null,512),[[F,f(k)==="albums"]]),I(c(C,{name:"i-bx-photo-album"},null,512),[[F,f(k)!=="albums"]]),e("label",si,n(R.$t("albums.album")),1)]),e("span",ai,n($.value.album),1)],2),e("div",{class:j(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":f(k)==="collections"}]),onClick:d[19]||(d[19]=E=>U("collections"))},[e("div",ni,[I(c(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[F,f(k)==="collections"]]),I(c(C,{name:"i-majesticons-bookmark-line"},null,512),[[F,f(k)!=="collections"]]),e("label",ii,n(R.$t("collections.collection")),1)]),e("span",ri,n($.value.collection),1)],2)]),e("div",ui,[f(k)==="dashboard"?(t(),l("div",di,[e("div",ci,[e("div",{class:j(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":b.value==="feed"}]),onClick:d[20]||(d[20]=E=>b.value="feed")},[O(n(R.$t("feed"))+" ",1),e("span",{class:j(["px-1 ml-2 rounded",b.value==="feed"?"theme-color":"button-color text-white"])},n($.value.feed),3)],2),e("div",{class:j(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":b.value==="artwork"}]),onClick:d[21]||(d[21]=E=>b.value="artwork")},[O(n(R.$t("artworks.artwork"))+" ",1),e("span",{class:j(["px-1 ml-2 rounded",b.value==="artwork"?"theme-color":"button-color text-white"])},n($.value.artwork),3)],2)]),I(e("div",mi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:d[22]||(d[22]=E=>o.value.manageMode=!o.value.manageMode)},[c(C,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(o.value.manageMode?R.$t("quit"):R.$t("manage")),1)]),I(e("button",{class:"w-full primary-button md:w-auto",onClick:d[23]||(d[23]=E=>W())},[c(C,{name:"i-ion-add-outline"}),O(" "+n(R.$t("albums.addToAlbum")),1)],512),[[F,o.value.manageMode]])],512),[[F,!i.value&&f(w).loggedIn&&f(w).user.id===s.value.id&&b.value==="artwork"&&o.value.showManageMode]]),c(se,{loading:i.value},null,8,["loading"]),I(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},n(R.$t("profile.manageModeActiveMessage")),513),[[F,o.value.manageMode]]),e("div",null,[b.value==="feed"?(t(),D(Ut,{key:0,ref:"feedListRef",class:"mt-2","user-id":s.value.id},null,8,["user-id"])):u("",!0),!i.value&&b.value==="artwork"?(t(),D(Vt,{key:1,ref_key:"artworkListRef",ref:M,"user-id":s.value.id,"manage-mode":o.value.manageMode,onFeedSelectedItems:L,onOnEmpty:q},null,8,["user-id","manage-mode"])):u("",!0)])])):u("",!0),f(k)==="albums"?(t(),l("div",vi,[i.value?u("",!0):(t(),D(Il,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):u("",!0),f(k)==="collections"?(t(),l("div",fi,[i.value?u("",!0):(t(),D(da,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):u("",!0),f(k)==="followerList"?(t(),l("div",pi,[i.value?u("",!0):(t(),D(xa,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):u("",!0),f(k)==="followingList"?(t(),l("div",hi,[i.value?u("",!0):(t(),D(Wa,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):u("",!0)])])])]),i.value?u("",!0):(t(),D(Oe,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:B,class:"modal","work-ids":x.value,onAddedToAlbum:z},null,8,["work-ids"])),I(c(ce,{id:"item-added-to-album-alert",text:R.$t("albums.itemAdded")},null,8,["text"]),[[F,r.value]])]),_:1})}}},Ii=ee(wi,[["__scopeId","data-v-4be5dc78"]]);export{Ii as P};
//# sourceMappingURL=Profile.fc674d34.js.map
