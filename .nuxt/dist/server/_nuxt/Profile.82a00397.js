import{c as oe,d as Q,n as Fe,e as Ce,i as X,_ as ve,h as pe,S as Ie,k as Se}from"../server.mjs";import{ref as h,openBlock as t,createElementBlock as s,Fragment as K,renderList as Y,createElementVNode as e,createVNode as m,withCtx as W,createTextVNode as B,toDisplayString as n,createCommentVNode as r,withModifiers as G,withDirectives as M,vShow as L,normalizeClass as R,unref as g,createBlock as q,pushScopeId as fe,popScopeId as he,onBeforeMount as Te,KeepAlive as _e,vModelText as te,watch as Ee,onMounted as we,normalizeStyle as Le,computed as je}from"vue";import"vue-router";import{M as be,_ as ie,u as Ae,W as ke,e as re,S as ue,c as de,f as ce,g as Re}from"./ModalView.59914c51.js";import{J as Ue,u as ge,L as Be}from"./Layout.1d340549.js";import{_ as Z,a as x,u as ze}from"./Icon.93e80fad.js";import{u as Oe}from"./useFeed.5ef81cdb.js";import{I as Me,F as Ve}from"./FeedModalView.ffd00e50.js";import{_ as le}from"./LoadingEmptyErrorMessage.22f8db37.js";import{u as ye}from"./useUser.6818e1d7.js";const me=u=>(fe("data-v-f1b53577"),u=u(),he(),u),Ne={class:"mx-auto w-full md:w-2/3"},De={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},qe={class:"w-full"},He={key:0,class:"p-4 user-info"},Ge=["src"],We={class:"name"},Je=me(()=>e("br",null,null,-1)),Ke=me(()=>e("span",{class:"mx-1"},"\xB7",-1)),Ye={class:"text-xxs"},Qe={class:"px-2 md:px-4"},Xe=["id","innerHTML"],Ze=["id","onClick"],et={key:1,class:"my-2 w-full rounded-md theme-color"},tt={key:0,class:"p-2 md:p-4 user-info"},ot=["src"],lt={class:"name"},st=me(()=>e("br",null,null,-1)),at=me(()=>e("span",{class:"mx-1"},"\xB7",-1)),nt={class:"px-2 mt-2 md:px-4"},it={class:"text-xs font-semibold"},rt=["id"],ut=["id","onClick"],dt=["onClick"],ct={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},mt={class:"mx-auto mt-2 primary-button"},vt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},pt={class:"mx-auto mt-2 primary-button"},ft={class:"float-right mx-4 mt-2 interactions"},ht={key:0,class:"reactions"},wt=["onClick"],bt=["onClick"],gt={class:"option dropdown"},_t=["onClick"],kt={class:"option-dropdown dropdown-menu"},yt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},$t={class:"menu-wrapper"},xt={key:0,class:"custom-divider"},Mt=["to"],Ct={class:"mx-auto text-center"},It={class:"mx-auto mt-10 text-center"},Et=me(()=>e("b",null,"(\u3186_\u3186)",-1)),Lt={class:"mx-auto text-center"},At={id:"chronological-feed-modal",class:"modal work-view"},Pt={id:"artwork-modal",class:"modal work-view"},Ft={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(u){const A=u,k=oe(),{oApiConfiguration:d,fetchOptions:P}=Q(),b=Oe(d,P()),{generateArtworkThumb:$}=Fe();Ce();const y=h(0),f=h(0),v=(c,C)=>{y.value=c,f.value=C},o=h([]),i=h({page:0,perPage:10}),I=async({loaded:c})=>{const[C,S]=await b.getFeedByUserId({userId:A.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});i.value.page+=1;for(let a=0;a<C.feeds.length;a++){const O=C.feeds[a];if(O.liked&&T.value.push(O.id),O.artworks){O.artworks.images=[],O.artworks.apply_explicit_filter=!1;for(let N=0;N<O.artworks.artwork_assets.length;N++)if(N<=3){const ee=await $(O.artworks.artwork_assets[N].bucket,O.artworks.artwork_assets[N].filename,"feed");O.artworks.images.push(ee)}O.artworks!=null&&(!k.loggedIn&&O.artworks.is_explicit||O.artworks.is_explicit&&!k.user.user_settings.show_explicit)&&(O.artworks.apply_explicit_filter=!0)}o.value.push(O)}c(C.feeds.length,i.value.perPage)},z=h(null),l=c=>{z.value.view(c),X().openModal("chronological-feed-modal")},_=h(null),E=(c,C,S)=>{C?(console.log("removing explicit filter.."),o.value[S].artworks.apply_explicit_filter=!1):(_.value.view(c),X().openModal("artwork-modal"))},T=h([]),U=async c=>{const[C,S]=await b.like({feedId:c});if(C){T.value.push(c);const a=document.getElementById(`profileFeedLikeButton-${c}`);a.classList.add("animate-bounce"),setInterval(()=>{a.classList.remove("animate-bounce")},2500)}},j=async c=>{const[C,S]=await b.unlike({feedId:c});if(C){const a=T.value.indexOf(c);T.value.splice(a,1)}},D=(c,C,S,a)=>{Ae().readMore(c,C,S,a)},H=async()=>{const[c,C]=await b.remove(y.value);c&&o.value.splice(f.value,1)};return(c,C)=>{const S=ve;return t(),s("div",Ne,[(t(!0),s(K,null,Y(o.value,(a,O)=>(t(),s("div",{key:a.id},[e("div",De,[e("div",qe,[a.users?(t(),s("div",He,[m(S,{to:"/profile/"+a.users.username},{default:W(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(a.users.avatar_bucket,a.users.avatar_filename),onError:C[0]||(C[0]=(...N)=>c.imageLoadError&&c.imageLoadError(...N))},null,40,Ge)]),_:2},1032,["to"]),e("div",We,[m(S,{to:"/profile/"+a.users.username,class:"fullname"},{default:W(()=>[B(n(a.users.name),1)]),_:2},1032,["to"]),Je,m(S,{to:"/profile/"+a.users.username,class:"username hover:underline"},{default:W(()=>[B(" @"+n(a.users.username),1)]),_:2},1032,["to"]),Ke,e("span",Ye,n(c.formatDate(a.scheduled_post?a.scheduled_post:a.created_at,!0)),1)])])):r("",!0),e("div",Qe,[e("p",{id:"feed-text-"+a.id,innerHTML:a.text.split("<br>").length>3&&a.text.length>300?`${a.text.slice(0,300)}...`:a.text},null,8,Xe),a.text.split("<br>").length>3&&a.text.length>300?(t(),s("a",{key:0,id:"feed-read-more-"+a.id,class:"href",onClick:G(N=>D(a.text,a.id,"feed-read-more-","feed-text-"),["prevent"])},n(c.$t("readMore")),9,Ze)):r("",!0),a.artworks?(t(),s("div",et,[a.artworks.users?(t(),s("div",tt,[m(S,{to:"/profile/"+a.artworks.users.username},{default:W(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(a.artworks.users.avatar_bucket,a.artworks.users.avatar_filename),onError:C[1]||(C[1]=(...N)=>c.imageLoadError&&c.imageLoadError(...N))},null,40,ot)]),_:2},1032,["to"]),e("div",lt,[m(S,{to:"/profile/"+a.artworks.users.username,class:"fullname hover:href"},{default:W(()=>[B(n(a.artworks.users.name),1)]),_:2},1032,["to"]),st,m(S,{to:"/profile/"+a.artworks.users.username,class:"hover:underline text-xxs"},{default:W(()=>[B(" @"+n(a.artworks.users.username),1)]),_:2},1032,["to"]),at,m(S,{to:"/a/"+a.artworks.id,class:"hover:underline text-xxs"},{default:W(()=>[B(n(c.formatDate(a.artworks.scheduled_post?a.artworks.scheduled_post:a.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):r("",!0),e("div",nt,[e("span",it,n(a.artworks.title),1),M(e("p",null,[e("span",{id:"feed-description-"+a.artworks.id},n(a.artworks.description.length>300?`${a.artworks.description.slice(0,300)}...`:a.artworks.description),9,rt),a.artworks.description.length>300?(t(),s("a",{key:0,id:"feed-read-more-"+a.artworks.id,class:"href",onClick:G(N=>D(a.artworks.description,a.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},n(c.$t("readMore")),9,ut)):r("",!0)],512),[[L,a.artworks.description]])]),e("div",null,[c.isMobile()?r("",!0):(t(),s("div",{key:0,class:R(["p-2",{"cursor-pointer":!a.artworks.apply_explicit_filter}]),onClick:G(N=>E(a.artworks.id,a.artworks.apply_explicit_filter,O),["prevent"])},[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":a.artworks.apply_explicit_filter}])},[m(Me,{class:R([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),s("div",ct,[e("div",null,n(g(k).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",mt,n(c.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)],10,dt)),c.isMobile()?(t(),q(S,{key:1,to:a.artworks.apply_explicit_filter?null:"/a/"+a.artworks.id,onClick:G(N=>E(a.artworks.id,a.artworks.apply_explicit_filter,O),["prevent"]),class:"cursor-pointer"},{default:W(()=>[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"m-2":a.artworks.apply_explicit_filter}])},[m(Me,{class:R([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),s("div",vt,[e("div",null,n(g(k).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",pt,n(c.$t("explicitShowMeThisContent")),1)])):r("",!0)],2)]),_:2},1032,["to","onClick"])):r("",!0)])])):r("",!0)]),e("div",ft,[g(k).loggedIn?(t(),s("div",ht,[e("span",{class:"leading-8",onClick:N=>T.value.includes(a.id)?j(a.id):U(a.id)},[M(m(x,{id:"profileFeedLikeButton-"+a.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[L,T.value.includes(a.id)]]),M(m(x,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[L,!T.value.includes(a.id)]]),B(" "+n(c.thousand(a._count.feed_likes)),1)],8,wt),e("span",{class:"leading-8",onClick:G(N=>l(a.id),["prevent"])},[m(x,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),B(" "+n(c.thousand(a._count.feed_comments)),1)],8,bt),e("div",gt,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:N=>v(a.id,O)},[e("span",null,[m(x,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,_t),e("div",kt,[e("div",yt,[e("div",$t,[m(S,{to:"/feed/"+a.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[m(x,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),B(" "+n(c.$t("open")),1)]),_:2},1032,["to"]),m(S,{to:"/feed/"+a.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[m(x,{name:"i-ci-external-link",class:"mr-2 text-base"}),B(" "+n(c.$t("openInNewTab")),1)]),_:2},1032,["to"]),g(k).loggedIn&&a.user_id&&g(k).user.id===a.user_id?(t(),s("div",xt)):r("",!0),g(k).loggedIn&&a.user_id&&g(k).user.id===a.user_id?(t(),s("div",{key:1,to:"/feed/"+a.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:C[2]||(C[2]=N=>c.openModal("profile-feed-deletion-confirm-modal"))},[m(x,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),B(" "+n(c.$t("delete")),1)],8,Mt)):r("",!0)])])])])])):r("",!0)])])])]))),128)),m(g(Ue),{load:I},{loading:W(()=>[e("div",Ct,[m(x,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":W(()=>[e("div",It,[Et,B(" "+n(c.$t("nothingToShow")),1)])]),"no-more":W(()=>[e("div",Lt,n(c.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",At,[m(Ve,{ref_key:"chronologicalFeedModalViewRef",ref:z,section:"chronological-feed"},null,512)]),e("div",Pt,[m(be,{ref_key:"artworkModalViewRef",ref:_,section:"artwork"},null,512)]),m(ie,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${c.$t("alert.areYouSure")} ${c.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:C[3]||(C[3]=a=>H())},null,8,["message"])])}}},St=Z(Ft,[["__scopeId","data-v-f1b53577"]]),Tt={id:"lists"},jt=["id"],Rt={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(u,{emit:A}){const k=u,{oApiConfiguration:d,fetchOptions:P}=Q(),b=ze(d,P()),$="profile",y=h(!0);Te(()=>{f()});const f=async()=>{const[S,a]=await i();v.value=S,a.record_total<=o.value.perPage&&l(),a.record_total===0&&U()},v=h([]),o=h({perPage:24,page:0}),i=async()=>{o.value.page===0&&(y.value=!0);const[S,a,O]=await b.getUserArtworks({userId:k.userId,pagination:{page:o.value.page,perPage:o.value.perPage}});if(O)D();else return a.record_total<=o.value.perPage&&l(),a.record_total===0&&U(),o.value.page+=1,I(),[S,a]},I=()=>{y.value=!1,T.value=!1,j.value=!1},z=h(!0),l=()=>{z.value=!1},_=h({delay:!1}),E=async()=>{_.value.delay=!0;const[S,a]=await i();for(let O=0;O<S.length;O++)v.value.push(S[O]);_.value.delay=!1,dataPagination.next_previous.next_page||l(),dataPagination.next_previous.next_page&&dataPagination.current_page===_.maxLoad&&(l(),_.showDiscoveryButton=!0)},T=h(!1),U=()=>{T.value=!0,l(),A("onEmpty")},j=h(!1),D=()=>{y.value=!1,j.value=!0,l()},H=h(null),c=(S,a=!1)=>{H.value.view(S,a),X().openModal($+"-modal")},C=S=>{A("feedSelectedItems",S)};return(S,a)=>(t(),s("div",Tt,[M(e("div",null,[(t(),q(_e,null,[M(m(ke,{"section-class":"work-grid",works:v.value,view:c,"manage-mode":u.manageMode,onFeedManageList:C},null,8,["works","manage-mode"]),[[L,!T.value]])],1024)),M(e("div",{class:R(["primary-button",_.value.delay?"animate-pulse":""]),onClick:E},n(S.$t("loadMore")),3),[[L,z.value]])],512),[[L,!y.value]]),m(le,{loading:y.value,empty:T.value,error:j.value,fetch:i},null,8,["loading","empty","error"]),e("div",{id:$+"-modal",class:"modal work-view"},[M(m(be,{ref_key:"profileModalViewRef",ref:H,section:$},null,512),[[L,!y.value]])],8,jt)]))}},Ut=Z(Rt,[["__scopeId","data-v-6fbdcb8f"]]),Bt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},zt={class:"title"},Ot=["name"],Vt=["placeholder"],Nt=["placeholder"],Dt=["for"],qt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Ht={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Gt=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Wt=[Gt],Jt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Kt=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Yt=[Kt],Qt={class:"ml-2"},Xt={class:"flex flex-row gap-2 justify-end mt-2"},Zt={type:"submit",class:"primary-button"},eo={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:A}){const k=u,{oApiConfiguration:d,fetchOptions:P}=Q(),b=re(d,P()),{t:$}=pe(),y="create-album-form",f=h({title:"",description:"",isPublic:1,category:"artwork"}),v=async()=>{ge().validate(y,$);try{let o=!1,i={};if(k.category){const[I,z,l]=await b.createAlbum(k.category,f.value);o=I,i=z}o&&(X().closeModal(k.modalId),A("created",i))}catch{}};return(o,i)=>(t(),s("div",null,[e("div",Bt,[e("div",null,[e("span",zt,n(o.$t("albums.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:i[4]||(i[4]=G(I=>v(),["prevent"]))},[e("n-validate",{for:"title",name:o.$t("title")},[M(e("input",{"onUpdate:modelValue":i[0]||(i[0]=I=>f.value.title=I),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:o.$t("title")},null,8,Vt),[[te,f.value.title]])],8,Ot),M(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=I=>f.value.description=I),class:"form-input theme-color-secondary",placeholder:o.$t("description"),"data-gramm":"false"},null,8,Nt),[[te,f.value.description]]),e("label",{for:f.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=I=>f.value.isPublic=!f.value.isPublic)},[qt,f.value.isPublic?(t(),s("span",Ht,Wt)):r("",!0),f.value.isPublic?r("",!0):(t(),s("span",Jt,Yt))]),e("span",Qt,n(o.$t("private")),1)],8,Dt),e("div",Xt,[e("button",{class:"cancel-button",onClick:i[3]||(i[3]=G(I=>o.closeModal(u.modalId),["prevent"]))},n(o.$t("cancel")),1),e("button",Zt,n(o.$t("create")),1)])],32)])])]))}},to={id:"lists"},oo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},lo={class:"mb-2 text-base font-bold"},so={class:"mb-2"},ao=B(),no={class:"italic"},io=["id"],ro={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(u,{expose:A,emit:k}){const d=u,{oApiConfiguration:P,fetchOptions:b}=Q(),$=re(P,b()),y=h(d.id);Ee(()=>d.id,(c,C)=>{y.value=c});const f=h(!0),v=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),o=async()=>{f.value=!0,await i(),await I(),f.value=!1},i=async()=>{const[c,C]=await $.getInfo(y.value);v.value.info=c.data},I=async()=>{const[c,C,S]=await $.listAlbumItems({albumId:y.value,pagination:{page:v.value.pagination.page,perPage:v.value.pagination.page===0?v.value.pagination.firstLoad:v.value.pagination.perPage}});C?v.value.pagination.page===0?v.value.pagination.page=v.value.pagination.firstLoad/v.value.pagination.perPage:v.value.pagination.page+=v.value.pagination.page!==0?1:2:v.value.loadMore=!1,c!==null&&c.length?(c.forEach(a=>{v.value.list.push(a.artworks)}),k("onAlbumEmpty",!1)):(v.value.empty=!0,k("onAlbumEmpty",!0))},z=()=>{v.value.loadMore=!0,v.value.pagination.page=0,v.value.list=[]},l=h([]),_=c=>{l.value=c,k("feedManageList",c)},E=h(!1);let T;const U=async()=>{const[c,C]=await $.removeItems(d.id,l.value);c&&(de().splash(T,E,"item-removed-alert"),z(),await o())},j=h("album"),D=h(null),H=(c,C=!1)=>{D.value.view(c,C),X().openModal(j.value+"-modal")};return A({fetchInfo:i,removeItems:U}),(c,C)=>(t(),s("div",to,[e("div",{class:"hidden",onClick:C[0]||(C[0]=S=>i())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=S=>U())}),e("div",oo,[e("div",lo,n(v.value.info.name),1),e("div",so,n(v.value.info.description),1),e("div",null,[e("b",null,n(c.$t("private"))+":",1),ao,e("span",no,n(v.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,n(c.$t("createdAt")),1),B(" "+n(c.formatDate(v.value.info.created_at)),1)])]),M(e("div",null,[(t(),q(_e,null,[M(m(ke,{"section-class":"work-grid",works:v.value.list,view:H,"manage-mode":u.manageMode,onFeedManageList:_},null,8,["works","manage-mode"]),[[L,!v.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=S=>I())},n(c.$t("loadMore")),513),[[L,v.value.loadMore]])],512),[[L,!f.value]]),m(le,{loading:f.value,empty:v.value.empty,error:!1,fetch:o},null,8,["loading","empty"]),f.value?r("",!0):(t(),s("div",{key:0,id:j.value+"-modal",class:"modal work-view"},[m(be,{ref_key:"albumModalViewRef",ref:D,section:j.value},null,8,["section"])],8,io)),M(m(ue,{id:"item-removed-alert",text:c.$t("albums.itemRemoved")},null,8,["text"]),[[L,E.value]])]))}},uo=Z(ro,[["__scopeId","data-v-2ee448ae"]]),co={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},mo={class:"title"},vo=["name"],po=["placeholder"],fo=["placeholder"],ho=["for"],wo=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),bo={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},go=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),_o=[go],ko={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},yo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),$o=[yo],xo={class:"ml-2"},Mo={class:"flex flex-row gap-2 justify-end mt-2"},Co={type:"submit",class:"primary-button"},Io={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:A,emit:k}){const d=u,{oApiConfiguration:P,fetchOptions:b}=Q(),$=re(P,b()),{t:y}=pe(),f=h(!0),v=async l=>{if(l){z(),f.value=!0;const[_,E]=await $.getInfo(l),T=_.data;i.value.id=l,i.value.name=T.name,i.value.description=T.description,i.value.isPublic=!!T.is_public,f.value=!1}},o="update-album-form",i=h({id:0,name:"",description:"",isPublic:!1}),I=async()=>{ge().validate(o,y);const[l,_]=await $.update({id:i.value.id,name:i.value.name,description:i.value.description,isPublic:i.value.isPublic?1:0});_||(X().closeModal(d.modalId),k("updated",i.value),z())},z=()=>{i.value={id:0,name:"",description:"",isPublic:0}};return A({fetch:v}),(l,_)=>(t(),s("div",null,[e("div",co,[e("div",null,[e("span",mo,n(l.$t("albums.edit.form.title")),1),f.value?r("",!0):(t(),s("form",{key:0,id:o,class:"mt-2",onSubmit:_[4]||(_[4]=G(E=>I(),["prevent"]))},[e("n-validate",{for:"title",name:l.$t("title")},[M(e("input",{"onUpdate:modelValue":_[0]||(_[0]=E=>i.value.name=E),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:l.$t("title")},null,8,po),[[te,i.value.name]])],8,vo),M(e("textarea",{"onUpdate:modelValue":_[1]||(_[1]=E=>i.value.description=E),class:"form-input theme-color-secondary",placeholder:l.$t("description"),"data-gramm":"false"},null,8,fo),[[te,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[2]||(_[2]=E=>i.value.isPublic=!i.value.isPublic)},[wo,i.value.isPublic?(t(),s("span",bo,_o)):r("",!0),i.value.isPublic?r("",!0):(t(),s("span",ko,$o))]),e("span",xo,n(l.$t("private")),1)],8,ho),e("div",Mo,[e("button",{class:"cancel-button",onClick:_[3]||(_[3]=G(E=>l.closeModal(u.modalId),["prevent"]))},n(l.$t("cancel")),1),e("button",Co,n(l.$t("save")),1)])],32))])])]))}},Pe=""+globalThis.__buildAssetsURL("folder.11be08fa.png"),$e=u=>(fe("data-v-eccd717d"),u=u(),he(),u),Eo={class:"mb-2"},Lo={key:0},Ao=$e(()=>e("img",{src:Pe,class:"rounded"},null,-1)),Po=[Ao],Fo={key:1},So={class:"relative text-center"},To={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},jo={class:"overflow-hidden rounded-md"},Ro=["src"],Uo={key:2,class:"imgrid"},Bo={class:"relative text-center"},zo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Oo={class:"overflow-hidden rounded-md"},Vo=["src"],No=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Do=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),qo={key:3,class:"imgrid"},Ho={class:"relative text-center"},Go={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Wo={class:"overflow-hidden rounded-md"},Jo=["src"],Ko={key:4,class:"imgrid"},Yo={class:"relative text-center"},Qo={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Xo={class:"overflow-hidden rounded-md"},Zo=["src"],el={key:5,class:"imgrid"},tl={key:0,class:"relative text-center"},ol={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},ll={class:"overflow-hidden rounded-md"},sl=["src"],al={key:1,class:"relative text-center"},nl={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},il={class:"overflow-hidden rounded-md"},rl=["src"],ul={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(u){const A=oe(),k={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,P)=>(t(),s("div",Eo,[!u.album.album_has_artworks||u.album._count.album_has_artworks===0?(t(),s("div",Lo,Po)):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),s("div",Fo,[e("div",So,[d.applyExplicitFilter(g(A),u.album.album_has_artworks[0].artworks.is_explicit)?(t(),s("span",To,n(d.$t("explicitContent")),1)):r("",!0),e("div",jo,[u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),s("img",{key:0,src:d.artworkThumb(u.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,u.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),u.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...b)=>d.imageLoadError&&d.imageLoadError(...b))},null,42,Ro)):r("",!0)])])])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===2?(t(),s("div",Uo,[(t(!0),s(K,null,Y(u.album.album_has_artworks,(b,$)=>(t(),s("div",{key:$,class:R(k[2][$])},[e("div",Bo,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",zo,n(d.$t("explicitContent")),1)):r("",!0),e("div",Oo,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Vo)])])],2))),128)),No,Do])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===3?(t(),s("div",qo,[(t(!0),s(K,null,Y(u.album.album_has_artworks,(b,$)=>(t(),s("div",{key:$,class:R(k[3][$])},[e("div",Ho,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",Go,n(d.$t("explicitContent")),1)):r("",!0),e("div",Wo,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Jo)])])],2))),128))])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===4?(t(),s("div",Ko,[(t(!0),s(K,null,Y(u.album.album_has_artworks,(b,$)=>(t(),s("div",{key:$},[e("div",Yo,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",Qo,n(d.$t("explicitContent")),1)):r("",!0),e("div",Xo,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Zo)])])]))),128))])):r("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks>4?(t(),s("div",el,[(t(!0),s(K,null,Y(u.album.album_has_artworks,(b,$)=>(t(),s("div",{key:$},[$<3?(t(),s("div",tl,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",ol,n(d.$t("explicitContent")),1)):r("",!0),e("div",ll,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,sl)])])):(t(),s("div",al,[e("span",nl,"+"+n(u.album._count.album_has_artworks-4),1),e("div",il,[e("img",{src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,rl)])]))]))),128))])):r("",!0)]))}},dl=Z(ul,[["__scopeId","data-v-eccd717d"]]),cl={class:"mb-2 w-full"},ml={key:0,class:"flex flex-row justify-between"},vl={class:"flex flex-row"},pl={key:0},fl={key:1,class:"flex flex-row justify-between"},hl={class:"flex flex-row"},wl={class:"flex flex-row gap-2"},bl={class:"flex flex-row gap-2"},gl={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},_l=["onClick"],kl={class:"flex flex-row pb-1 mt-4 font-bold"},yl={class:"text-xs font-normal"},$l={__name:"Album",props:{userId:{type:Number,default:0}},setup(u){const A=u,k=oe(),{oApiConfiguration:d,fetchOptions:P}=Q(),b=re(d,P());we(()=>{I()});const $=h(!0),y=h("artwork"),f=h(0),v=h([]),o=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),i=h({artwork:0}),I=async()=>{$.value=!0;const[F,p,w]=await b.fetchAlbums(A.userId,y.value,o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage,o.value.pagination.page);if(w)T();else{F.length||(o.value.manageMode=!1,_()),F.forEach(V=>{v.value.push(V)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=p;const[J]=await b.countArtworkAlbums(A.userId);i.value.artwork=J}$.value=!1},z=async()=>await I(),l=h(!1),_=()=>{l.value=!0,o.value.showLoadMore=!1},E=h(!1),T=()=>{$.value=!1,E.value=!0,o.value.showLoadMore=!1},U=async()=>{$.value=!1,l.value=!1,E.value=!1,o.value.pagination.page=0,v.value=[],await I()},j=h(!1);let D;const H=async()=>{de().splash(D,j,"created-alert"),await U()},c=h(null),C=()=>{c.value.fetch(f.value),X().openModal("album-edit-form-modal")},S=h(null),a=F=>{S.value.fetchInfo(),v.value.forEach(p=>{p.id===F.id&&(p.name=F.name,p.description=F.description,p.is_public=F.isPublic)})},O=()=>{S.value.removeItems()},N=h([]),ee=F=>{N.value=F},se=async()=>{if(f.value!==0){const[F,p]=await b.deleteAlbum(f.value);F&&(f.value=0,U())}},ae=F=>{o.value.showManageButton=!F,o.value.manageMode=!1},ne=()=>{f.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(F,p)=>(t(),s("div",null,[e("div",cl,[f.value?r("",!0):(t(),s("div",ml,[e("div",vl,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:p[0]||(p[0]=w=>y.value="artwork")},[B(n(F.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},n(i.value.artwork),3)],2)]),g(k).loggedIn&&g(k).user.id===u.userId?(t(),s("div",pl,[e("div",{class:"icon-button",onClick:p[1]||(p[1]=w=>F.openModal("album-form-modal"))},[m(x,{name:"i-ion-add-outline"})])])):r("",!0)])),f.value?(t(),s("div",fl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:p[2]||(p[2]=w=>ne())},[m(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",hl,[M(e("div",wl,[e("button",{class:"action-button secondary-button",onClick:p[3]||(p[3]=w=>o.value.manageMode=!o.value.manageMode)},[m(x,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),B(" "+n(o.value.manageMode?F.$t("quit"):F.$t("manage")),1)]),M(e("button",{class:R(["flex flex-row",N.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:p[4]||(p[4]=w=>N.value.length>0?F.openModal("item-deletion-confirm-modal"):null)},[m(x,{name:"i-akar-icons-trash-bin"}),B(" "+n(F.$t("albums.removeSelected")),1)],2),[[L,o.value.manageMode]])],512),[[L,g(k).loggedIn&&g(k).user.id===u.userId&&o.value.showManageButton]]),M(e("div",bl,[e("button",{class:"icon-button",onClick:p[5]||(p[5]=w=>C())},[m(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:p[6]||(p[6]=w=>F.openModal("album-deletion-confirm-modal"))},[m(x,{name:"i-akar-icons-trash-bin"})])],512),[[L,g(k).loggedIn&&g(k).user.id===u.userId&&!o.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(F.$t("albums.manageModeActiveMessage")),513),[[L,o.value.manageMode]])]),f.value?r("",!0):(t(),s("div",gl,[(t(!0),s(K,null,Y(v.value,w=>(t(),s("div",{key:w.id,class:R(["p-3 rounded-md cursor-pointer",w.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:J=>f.value=w.id},[w.type==="artwork"?(t(),q(dl,{key:0,album:w},null,8,["album"])):r("",!0),e("div",kl,[w.is_public?r("",!0):(t(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",yl,n(w.name),1)])],10,_l))),128))])),o.value.showLoadMore&&!f.value?(t(),s("div",{key:1,class:"mt-4 w-full primary-button",onClick:z},n(F.$t("loadMore")),1)):r("",!0),m(le,{loading:$.value,empty:l.value,error:E.value,fetch:I},null,8,["loading","empty","error"]),!$.value&&!f.value?(t(),q(eo,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:y.value,class:"modal",onCreated:H},null,8,["category"])):r("",!0),M(m(ue,{id:"created-alert",text:F.$t("albums.created")},null,8,["text"]),[[L,j.value]]),!$.value&&f.value?(t(),q(Io,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:c,"modal-id":"album-edit-form-modal","album-id":f.value,class:"modal",onUpdated:a},null,8,["album-id"])):r("",!0),m(ie,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:se},null,8,["message"]),m(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:O},null,8,["message"]),f.value&&!$.value?(t(),q(uo,{key:4,id:f.value,ref_key:"albumDetailRef",ref:S,"manage-mode":o.value.manageMode,onOnAlbumEmpty:ae,onFeedManageList:ee},null,8,["id","manage-mode"])):r("",!0)]))}},xl=Z($l,[["__scopeId","data-v-7bee1255"]]),Ml={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Cl={class:"title"},Il=["placeholder"],El=["placeholder"],Ll=["for"],Al=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Pl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Fl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Sl=[Fl],Tl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},jl=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Rl=[jl],Ul={class:"ml-2"},Bl={class:"flex flex-row gap-2 justify-end mt-2"},zl={type:"submit",class:"primary-button"},Ol={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:A}){const k=u,{oApiConfiguration:d,fetchOptions:P}=Q(),b=ce(d,P()),{t:$}=pe(),y="create-collection-form",f=h({title:"",description:"",isPublic:1,category:"artwork"}),v=async()=>{ge().validate(y,$);try{let o=!1,i={};if(k.category){const[I,z,l]=await b.createCollection(k.category,f.value);l||(o=I,i=z)}o&&(X().closeModal(k.modalId),A("created",i))}catch{}};return(o,i)=>(t(),s("div",null,[e("div",Ml,[e("div",null,[e("span",Cl,n(o.$t("collections.create.form.title")),1),e("form",{id:y,class:"mt-2",onSubmit:i[4]||(i[4]=G(I=>v(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":i[0]||(i[0]=I=>f.value.title=I),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:o.$t("title")},null,8,Il),[[te,f.value.title]])]),M(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=I=>f.value.description=I),class:"form-input theme-color-secondary",placeholder:o.$t("description"),"data-gramm":"false"},null,8,El),[[te,f.value.description]]),e("label",{for:f.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:i[2]||(i[2]=I=>f.value.isPublic=!f.value.isPublic)},[Al,f.value.isPublic?(t(),s("span",Pl,Sl)):r("",!0),f.value.isPublic?r("",!0):(t(),s("span",Tl,Rl))]),e("span",Ul,n(o.$t("private")),1)],8,Ll),e("div",Bl,[e("button",{class:"cancel-button",onClick:i[3]||(i[3]=G(I=>o.closeModal(u.modalId),["prevent"]))},n(o.$t("cancel")),1),e("button",zl,n(o.$t("create")),1)])],32)])])]))}},Vl={id:"lists"},Nl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Dl={class:"text-base font-bold mb-2"},ql={class:"mb-2"},Hl=B(),Gl={class:"italic"},Wl=["id"],Jl={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(u,{expose:A,emit:k}){const d=u,{oApiConfiguration:P,fetchOptions:b}=Q(),$=ce(P,b()),y=h(d.id);Ee(()=>d.id,(c,C)=>{y.value=c});const f=h(!0),v=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),o=async()=>{f.value=!0,await i(),await I(),f.value=!1},i=async()=>{const[c,C]=await $.getInfo(y.value);v.value.info=c.data},I=async()=>{const[c,C,S]=await $.listCollectionItems({collectionId:y.value,pagination:{page:v.value.pagination.page,perPage:v.value.pagination.page===0?v.value.pagination.firstLoad:v.value.pagination.perPage}});C?v.value.pagination.page===0?v.value.pagination.page=v.value.pagination.firstLoad/v.value.pagination.perPage:v.value.pagination.page+=v.value.pagination.page!==0?1:2:v.value.loadMore=!1,c!==null&&c.length?(c.forEach(a=>{v.value.list.push(a.artworks)}),k("onCollectionEmpty",!1)):(v.value.empty=!0,k("onCollectionEmpty",!0))},z=()=>{v.value.loadMore=!0,v.value.pagination.page=0,v.value.list=[]},l=h([]),_=c=>{l.value=c,k("feedManageList",c)},E=h(!1);let T;const U=async()=>{const[c,C]=await $.removeItem({collectionId:d.id,type:d.type,workId:l.value});C||(de().splash(T,E,"item-removed-alert"),z(),await o(),k("feedManageList",[]))},j=h("collection"),D=h(null),H=(c,C=!1)=>{D.value.view(c,C),X().openModal(j.value+"-modal")};return A({fetchInfo:i,removeItem:U}),(c,C)=>(t(),s("div",Vl,[e("div",{class:"hidden",onClick:C[0]||(C[0]=S=>i())}),e("div",{class:"hidden",onClick:C[1]||(C[1]=S=>U())}),e("div",Nl,[e("div",Dl,n(v.value.info.name),1),e("div",ql,n(v.value.info.description),1),e("div",null,[e("b",null,n(c.$t("private"))+":",1),Hl,e("span",Gl,n(v.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,n(c.$t("createdAt")),1),B(" "+n(c.formatDate(v.value.info.created_at)),1)])]),M(e("div",null,[(t(),q(_e,null,[M(m(ke,{"section-class":"work-grid",works:v.value.list,view:H,"manage-mode":u.manageMode,onFeedManageList:_},null,8,["works","manage-mode"]),[[L,!v.value.empty]])],1024)),M(e("div",{class:"primary-button",onClick:C[2]||(C[2]=S=>I())},n(c.$t("loadMore")),513),[[L,v.value.loadMore]])],512),[[L,!f.value]]),m(le,{loading:f.value,empty:v.value.empty,error:!1,fetch:o},null,8,["loading","empty"]),f.value?r("",!0):(t(),s("div",{key:0,id:j.value+"-modal",class:"modal work-view"},[m(be,{ref_key:"collectionModalViewRef",ref:D,section:j.value},null,8,["section"])],8,Wl)),M(m(ue,{id:"item-removed-alert",text:c.$t("collections.itemRemoved")},null,8,["text"]),[[L,E.value]])]))}},Kl=Z(Jl,[["__scopeId","data-v-28a81b65"]]),Yl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Ql={class:"title"},Xl=["placeholder"],Zl=["placeholder"],es=["for"],ts=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),os={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},ls=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ss=[ls],as={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ns=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),is=[ns],rs={class:"ml-2"},us={class:"flex flex-row gap-2 justify-end mt-2"},ds={type:"submit",class:"primary-button"},cs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:A,emit:k}){const d=u,{t:P}=pe(),{oApiConfiguration:b,fetchOptions:$}=Q(),y=ce(b,$()),f=h(!0),v=async l=>{if(l){z(),f.value=!0;const[_,E]=await y.getInfo(l);if(!E){const T=_.data;i.value.id=l,i.value.name=T.name,i.value.description=T.description,i.value.isPublic=!!T.is_public,f.value=!1}}},o="edit-collection-form",i=h({id:0,name:"",description:"",isPublic:!1}),I=async()=>{ge().validate(o,P);const[l,_]=await y.update({id:i.value.id,name:i.value.name,description:i.value.description,isPublic:i.value.isPublic?1:0});_||(X().closeModal(d.modalId),k("updated",i.value),z())},z=()=>{i.value={id:0,name:"",description:"",isPublic:0}};return A({fetch:v}),(l,_)=>(t(),s("div",null,[e("div",{class:"hidden",onClick:_[0]||(_[0]=E=>v(0))}),e("div",Yl,[e("div",null,[e("span",Ql,n(l.$t("collections.edit.form.title")),1),f.value?r("",!0):(t(),s("form",{key:0,id:o,class:"mt-2",onSubmit:_[5]||(_[5]=G(E=>I(),["prevent"]))},[e("n-validate",null,[M(e("input",{"onUpdate:modelValue":_[1]||(_[1]=E=>i.value.name=E),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:l.$t("title")},null,8,Xl),[[te,i.value.name]])]),M(e("textarea",{"onUpdate:modelValue":_[2]||(_[2]=E=>i.value.description=E),class:"form-input theme-color-secondary",placeholder:l.$t("description"),"data-gramm":"false"},null,8,Zl),[[te,i.value.description]]),e("label",{for:i.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[3]||(_[3]=E=>i.value.isPublic=!i.value.isPublic)},[ts,i.value.isPublic?(t(),s("span",os,ss)):r("",!0),i.value.isPublic?r("",!0):(t(),s("span",as,is))]),e("span",rs,n(l.$t("private")),1)],8,es),e("div",us,[e("button",{class:"cancel-button",onClick:_[4]||(_[4]=G(E=>l.closeModal(u.modalId),["prevent"]))},n(l.$t("cancel")),1),e("button",ds,n(l.$t("save")),1)])],32))])])]))}},xe=u=>(fe("data-v-a484fb7b"),u=u(),he(),u),ms={class:"mb-2"},vs={key:0},ps=xe(()=>e("img",{src:Pe,class:"rounded"},null,-1)),fs=[ps],hs={key:1},ws={class:"relative text-center"},bs={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},gs={class:"overflow-hidden rounded-md"},_s=["src"],ks={key:2,class:"imgrid"},ys={class:"relative text-center"},$s={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},xs={class:"overflow-hidden rounded-md"},Ms=["src"],Cs=xe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Is=xe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Es={key:3,class:"imgrid"},Ls={class:"relative text-center"},As={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ps={class:"overflow-hidden rounded-md"},Fs=["src"],Ss={key:4,class:"imgrid"},Ts={class:"relative text-center"},js={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Rs={class:"overflow-hidden rounded-md"},Us=["src"],Bs={key:5,class:"imgrid"},zs={key:0,class:"relative text-center"},Os={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Vs={class:"overflow-hidden rounded-md"},Ns=["src"],Ds={key:1,class:"relative text-center"},qs={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Hs={class:"overflow-hidden rounded-md"},Gs=["src"],Ws={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(u){const A=oe(),k={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,P)=>(t(),s("div",ms,[!u.collection.collection_has_artworks||u.collection._count.collection_has_artworks===0?(t(),s("div",vs,fs)):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),s("div",hs,[e("div",ws,[d.applyExplicitFilter(g(A),u.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),s("span",bs,n(d.$t("explicitContent")),1)):r("",!0),e("div",gs,[u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),s("img",{key:0,src:d.artworkThumb(u.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,u.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),u.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:P[0]||(P[0]=(...b)=>d.imageLoadError&&d.imageLoadError(...b))},null,42,_s)):r("",!0)])])])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===2?(t(),s("div",ks,[(t(!0),s(K,null,Y(u.collection.collection_has_artworks,(b,$)=>(t(),s("div",{key:$,class:R(k[2][$])},[e("div",ys,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",$s,n(d.$t("explicitContent")),1)):r("",!0),e("div",xs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[1]||(P[1]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Ms)])])],2))),128)),Cs,Is])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===3?(t(),s("div",Es,[(t(!0),s(K,null,Y(u.collection.collection_has_artworks,(b,$)=>(t(),s("div",{key:$,class:R(k[3][$])},[e("div",Ls,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",As,n(d.$t("explicitContent")),1)):r("",!0),e("div",Ps,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[2]||(P[2]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Fs)])])],2))),128))])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===4?(t(),s("div",Ss,[(t(!0),s(K,null,Y(u.collection.collection_has_artworks,(b,$)=>(t(),s("div",{key:$},[e("div",Ts,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",js,n(d.$t("explicitContent")),1)):r("",!0),e("div",Rs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[3]||(P[3]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Us)])])]))),128))])):r("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks>4?(t(),s("div",Bs,[(t(!0),s(K,null,Y(u.collection.collection_has_artworks,(b,$)=>(t(),s("div",{key:$},[$<3?(t(),s("div",zs,[d.applyExplicitFilter(g(A),b.artworks.is_explicit)?(t(),s("span",Os,n(d.$t("explicitContent")),1)):r("",!0),e("div",Vs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:P[4]||(P[4]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Ns)])])):(t(),s("div",Ds,[e("span",qs,"+"+n(u.collection._count.collection_has_artworks-4),1),e("div",Hs,[e("img",{src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(g(A),b.artworks.is_explicit)}]),onError:P[5]||(P[5]=(...y)=>d.imageLoadError&&d.imageLoadError(...y))},null,42,Gs)])]))]))),128))])):r("",!0)]))}},Js=Z(Ws,[["__scopeId","data-v-a484fb7b"]]),Ks={class:"mb-2 w-full"},Ys={key:0,class:"flex flex-row justify-between"},Qs={class:"flex flex-row"},Xs={key:0},Zs={key:1,class:"flex flex-row justify-between"},ea={class:"flex flex-row"},ta={class:"flex flex-row gap-2"},oa={class:"flex flex-row gap-2"},la={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},sa=["onClick"],aa={class:"flex flex-row pb-1 mt-4 font-bold"},na={class:"text-xs font-normal"},ia={__name:"Collection",props:{userId:{type:Number,default:0}},setup(u){const A=u,k=oe();we(()=>{I()});const{oApiConfiguration:d,fetchOptions:P}=Q(),b=ce(d,P()),$=h(!0),y=h("artwork"),f=h(0),v=h([]),o=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),i=h({artwork:0}),I=async()=>{$.value=!0;const[F,p,w]=await b.fetchCollections({userId:A.userId,type:y.value,pagination:{page:o.value.pagination.page,perPage:o.value.pagination.page===0?o.value.pagination.firstLoad:o.value.pagination.perPage}});if(w)T();else{F.length||(o.value.manageMode=!1,_()),F.forEach(V=>{v.value.push(V)}),o.value.pagination.page+=o.value.pagination.firstLoad/o.value.pagination.perPage,o.value.showLoadMore=p;const[J]=await b.countArtworkCollections(A.userId);i.value.artwork=J}$.value=!1},z=async()=>await I(),l=h(!1),_=()=>{l.value=!0,o.value.showLoadMore=!1},E=h(!1),T=()=>{$.value=!1,E.value=!0,o.value.showLoadMore=!1},U=async()=>{$.value=!1,l.value=!1,E.value=!1,o.value.pagination.page=0,v.value=[],await I()},j=F=>{o.value.showManageButton=!0,F&&(o.value.showManageButton=!1)},D=h(!1);let H;const c=async()=>{de().splash(H,D,"created-alert"),await U()},C=h(null),S=()=>{C.value.fetch(f.value),X().openModal("collection-edit-form-modal")},a=h(null),O=F=>{a.value.fetchInfo(),v.value.forEach(p=>{p.id===F.id&&(p.name=F.name,p.description=F.description,p.is_public=F.isPublic)})},N=h([]),ee=F=>{N.value=F},se=()=>{a.value.removeItem()},ae=async()=>{if(f.value!==0){const[F,p]=await b.deleteCollection(f.value);F&&(f.value=0,U())}},ne=()=>{f.value=0,o.value.showManageButton=!1,o.value.manageMode=!1};return(F,p)=>(t(),s("div",null,[e("div",Ks,[f.value?r("",!0):(t(),s("div",Ys,[e("div",Qs,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":y.value==="artwork"}]),onClick:p[0]||(p[0]=w=>y.value="artwork")},[B(n(F.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",y.value==="artwork"?"theme-color":"button-color text-white"])},n(i.value.artwork),3)],2)]),g(k).loggedIn&&g(k).user.id===u.userId?(t(),s("div",Xs,[e("div",{class:"icon-button",onClick:p[1]||(p[1]=w=>F.openModal("collection-form-modal"))},[m(x,{name:"i-ion-add-outline"})])])):r("",!0)])),f.value?(t(),s("div",Zs,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:p[2]||(p[2]=w=>ne())},[m(x,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",ea,[M(e("div",ta,[e("button",{class:"action-button secondary-button",onClick:p[3]||(p[3]=w=>o.value.manageMode=!o.value.manageMode)},[m(x,{name:o.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),B(" "+n(o.value.manageMode?F.$t("quit"):F.$t("manage")),1)]),M(e("button",{class:R(["flex flex-row",N.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:p[4]||(p[4]=w=>N.value.length>0?F.openModal("item-deletion-confirm-modal"):null)},[m(x,{name:"i-akar-icons-trash-bin"}),B(" "+n(F.$t("collections.removeSelected")),1)],2),[[L,o.value.manageMode]])],512),[[L,g(k).loggedIn&&g(k).user.id===u.userId&&o.value.showManageButton]]),M(e("div",oa,[e("button",{class:"icon-button",onClick:p[5]||(p[5]=w=>S())},[m(x,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:p[6]||(p[6]=w=>F.openModal("collection-deletion-confirm-modal"))},[m(x,{name:"i-akar-icons-trash-bin"})])],512),[[L,g(k).loggedIn&&g(k).user.id===u.userId&&!o.value.manageMode]])])])):r("",!0),M(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(F.$t("collections.manageModeActiveMessage")),513),[[L,o.value.manageMode]])]),f.value?r("",!0):(t(),s("div",la,[(t(!0),s(K,null,Y(v.value,w=>(t(),s("div",{key:w.id,class:R(["p-3 rounded-md cursor-pointer",w.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:J=>f.value=w.id},[w.type==="artwork"?(t(),q(Js,{key:0,collection:w},null,8,["collection"])):r("",!0),e("div",aa,[w.is_public?r("",!0):(t(),q(x,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",na,n(w.name),1)])],10,sa))),128))])),o.value.showLoadMore&&!f.value?(t(),s("div",{key:1,class:"mt-4 w-full primary-button",onClick:z},n(F.$t("loadMore")),1)):r("",!0),m(le,{loading:$.value,empty:l.value,error:E.value,fetch:I},null,8,["loading","empty","error"]),!$.value&&!f.value?(t(),q(Ol,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:y.value,class:"modal",onCreated:c},null,8,["category"])):r("",!0),M(m(ue,{id:"created-alert",text:F.$t("collections.created")},null,8,["text"]),[[L,D.value]]),!$.value&&f.value?(t(),q(cs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:C,"modal-id":"collection-edit-form-modal","collection-id":f.value,class:"modal",onUpdated:O},null,8,["collection-id"])):r("",!0),m(ie,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:ae},null,8,["message"]),m(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:se},null,8,["message"]),f.value&&!$.value?(t(),q(Kl,{key:4,id:f.value,ref_key:"collectionDetailRef",ref:a,"manage-mode":o.value.manageMode,type:y.value,onOnCollectionEmpty:j,onFeedManageList:ee},null,8,["id","manage-mode","type"])):r("",!0)]))}},ra=Z(ia,[["__scopeId","data-v-52371e9a"]]),ua={class:"text-lg font-bold"},da={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ca={class:"flex flex-row w-full"},ma=["src"],va={class:"flex flex-col justify-between p-3 w-full text-white"},pa={class:"flex flex-col"},fa={class:"font-bold"},ha={class:"text-xxs"},wa={class:"flex flex-row w-full"},ba={key:0,class:"flex flex-row"},ga=["onClick"],_a=["onMouseover","onClick"],ka={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(u){const A=u,k=oe(),{oApiConfiguration:d,fetchOptions:P}=Q(),b=ye(d,P());we(()=>{I()});const $=h([]),y=h(!0),f=h({page:0,perPage:12}),v=h(!1),o=h(!1),i=h(!1),I=async()=>{z(),y.value=!0;const[_,E]=await b.getFollowerList({userId:A.userId,pagination:{page:f.value.page,perPage:f.value.perPage}});E?v.value=!0:(_.followers.length||(o.value=!0),_.followers.forEach(T=>{$.value.push(T)}),f.value.page+=1,_.pagination.next_previous.next_page?i.value=!0:i.value=!1),y.value=!1},z=()=>{o.value=!1,v.value=!1},l=h(0);return(_,E)=>{const T=ve;return t(),s("div",null,[e("div",ua,n(_.$t("followers")),1),e("div",da,[(t(!0),s(K,null,Y($.value,(U,j)=>(t(),q(T,{key:U.id,to:"/profile/"+U.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Le(U.cover_bucket&&U.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+_.avatarCoverUrl(U.cover_bucket,U.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g(Ie)+");background-size:cover;")},{default:W(()=>[e("div",ca,[e("img",{src:_.avatarCoverUrl(U.avatar_bucket,U.avatar_filename),class:"avatar",onError:E[0]||(E[0]=(...D)=>_.imageLoadError&&_.imageLoadError(...D))},null,40,ma),e("div",va,[e("div",pa,[e("span",fa,n(U.name),1),e("span",ha,n(U.pen_name),1)]),e("div",wa,[g(k).loggedIn&&U.id!==g(k).user.id?(t(),s("div",ba,[M(e("div",{class:"flex flex-row",onClick:G(D=>_.followUser(j,U.id),["prevent"])},[m(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,ga),[[L,!U.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:D=>l.value=U.id,onMouseout:E[1]||(E[1]=D=>l.value=0),onClick:G(D=>_.unfollowUser(j,U.id),["prevent"])},[M(m(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[L,l.value!==U.id]]),M(m(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[L,l.value&&l.value===U.id]])],40,_a),[[L,U.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"mt-4 primary-button",onClick:E[2]||(E[2]=U=>I())},n(_.$t("loadMore")),513),[[L,i.value]]),m(le,{loading:y.value,empty:o.value,error:v.value,fetch:I},null,8,["loading","empty","error"])])}}},ya=Z(ka,[["__scopeId","data-v-b2599f1b"]]),$a={class:"text-lg font-bold"},xa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},Ma={class:"flex flex-row w-full"},Ca=["src"],Ia={class:"flex flex-col justify-between p-3 w-full text-white"},Ea={class:"flex flex-col"},La={class:"font-bold"},Aa={class:"text-xxs"},Pa={class:"flex flex-row w-full"},Fa={key:0,class:"flex flex-row"},Sa=["onClick"],Ta=["onMouseover","onClick"],ja={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(u){const A=u,k=oe(),{oApiConfiguration:d,fetchOptions:P}=Q(),b=ye(d,P());we(()=>{z()});const $=async()=>{y.value=[],v.value.page=0,await z()},y=h([]),f=h(!0),v=h({page:0,perPage:12}),o=h(!1),i=h(!1),I=h(!1),z=async()=>{l(),f.value=!0;const[E,T]=await b.getFollowingList({userId:A.userId,pagination:{page:v.value.page,perPage:v.value.perPage}});T?o.value=!0:(E.followings.length||(i.value=!0),E.followings.forEach(U=>{y.value.push(U)}),v.value.page+=1,E.pagination.next_previous.next_page?I.value=!0:I.value=!1),f.value=!1},l=()=>{i.value=!1,o.value=!1},_=h(0);return(E,T)=>{const U=ve;return t(),s("div",null,[e("div",$a,n(E.$t("followings")),1),e("div",xa,[(t(!0),s(K,null,Y(y.value,(j,D)=>(t(),q(U,{key:j.id,to:"/profile/"+j.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Le(j.cover_bucket&&j.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+E.avatarCoverUrl(j.cover_bucket,j.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+g(Ie)+");background-size:cover;")},{default:W(()=>[e("div",Ma,[e("img",{src:E.avatarCoverUrl(j.avatar_bucket,j.avatar_filename),class:"avatar",onError:T[0]||(T[0]=(...H)=>E.imageLoadError&&E.imageLoadError(...H))},null,40,Ca),e("div",Ia,[e("div",Ea,[e("span",La,n(j.name),1),e("span",Aa,n(j.pen_name),1)]),e("div",Pa,[g(k).loggedIn&&j.id!==g(k).user.id?(t(),s("div",Fa,[M(e("div",{class:"flex flex-row",onClick:G(H=>E.followUser(D,j.id),["prevent"])},[m(x,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Sa),[[L,!j.is_following]]),M(e("div",{class:"flex flex-row",onMouseover:H=>_.value=j.id,onMouseout:T[1]||(T[1]=H=>_.value=0),onClick:G(H=>E.unfollowUser(D,j.id),["prevent"])},[M(m(x,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[L,_.value!==j.id]]),M(m(x,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[L,_.value&&_.value===j.id]])],40,Ta),[[L,j.is_following]])])):r("",!0)])])])]),_:2},1032,["to","style"]))),128))]),M(e("div",{class:"primary-button mt-4",onClick:T[2]||(T[2]=j=>z())},n(E.$t("loadMore")),513),[[L,I.value]]),m(le,{loading:f.value,empty:i.value,error:o.value,fetch:$},null,8,["loading","empty","error"])])}}},Ra=Z(ja,[["__scopeId","data-v-5ff9c687"]]),Ua=u=>(fe("data-v-1ec3da97"),u=u(),he(),u),Ba=["src"],za={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Oa={class:"flex-row justify-between hidden-md-flex"},Va={class:"mr-6 w-1/5"},Na=["src"],Da={class:"mt-2"},qa={class:"flex flex-row"},Ha={class:"flex flex-row"},Ga=B("\xA0 "),Wa=B("\xA0 "),Ja={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},Ka={class:"flex flex-col w-full"},Ya={class:"flex flex-row w-full"},Qa={class:"w-9/12"},Xa={class:"text-base font-semibold"},Za=B("\xA0 "),en={class:"mr-2 italic"},tn={class:"flex flex-row mt-2"},on={key:0,class:"mr-1"},ln={class:"flex flex-row"},sn={class:"mr-1"},an={key:0,class:"flex flex-row"},nn=B(" he/his "),rn={key:1,class:"flex flex-row"},un=B(" she/her "),dn={class:"float-right w-3/12 text-right"},cn={class:"flex flex-row shadow-md primary-button"},mn={class:"leading-4"},vn={key:1,class:"mt-4"},pn=["href"],fn=["href"],hn=["href"],wn=["href"],bn=["href"],gn={key:0,class:"mt-4"},_n=["id","innerHTML"],kn=["id"],yn={class:"flex flex-col text-center md:hidden"},$n=["src"],xn={class:"mt-4 text-base font-semibold"},Mn={class:"flex flex-row justify-center mt-4"},Cn={key:0,class:"flex flex-row mr-1"},In={class:"mr-1"},En={key:0,class:"flex flex-row"},Ln=B(" he/his "),An={key:1,class:"flex flex-row"},Pn=B(" she/her "),Fn={key:0,class:"mx-2 mt-4 text-center"},Sn=["id"],Tn=["id"],jn={key:1,class:"flex flex-row justify-center mt-4"},Rn=["href"],Un=["href"],Bn=["href"],zn=["href"],On=["href"],Vn={class:"flex flex-row justify-center w-full md:hidden"},Nn=B("\xA0 "),Dn=B("\xA0 "),qn={class:"flex flex-row"},Hn={class:"flex flex-row"},Gn={class:"mt-2"},Wn={class:"flex flex-row justify-center md:hidden"},Jn={class:"flex flex-row justify-between mt-2 md:mt-6"},Kn={class:"hidden flex-col lg:w-1/5 md:flex"},Yn={class:"profile-navigation_wrapper"},Qn={class:"hidden-lg-flex"},Xn=Ua(()=>e("span",{class:"hidden-lg-flex"},null,-1)),Zn={class:"profile-navigation_wrapper"},ei={class:"hidden-lg-flex"},ti={class:"hidden-lg-flex"},oi={class:"profile-navigation_wrapper"},li={class:"hidden-lg-flex"},si={class:"hidden-lg-flex"},ai={class:"w-full md:ml-6"},ni={key:0},ii={class:"flex flex-row w-full"},ri={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},ui={key:1},di={key:2},ci={key:3},mi={key:4},vi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(u){const A=u,k=oe(),{oApiConfiguration:d,fetchOptions:P}=Q(),b=ye(d,P());re(d,P()),ce(d,P());const $=Se(),y=Ce(),{o:f}=$.query,v=h(!0),o=f!=null?h(f):h("dashboard"),i=h("artwork");je(()=>A.userLogon&&k.loggedIn?k.user.id:A.id);const I=h({manageMode:!1,showManageMode:!0}),z=p=>{o.value=p,I.value.manageMode=!1,f!=null&&y.push("/profile")},l=h({}),_=h({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),E=h(null),T=h([]),U=p=>{T.value=p},j=()=>{I.value.showManageMode=!1},D=h(null),H=()=>{X().openModal("album-selection-modal")},c=h(!1);let C;const S=()=>{de().splash(C,c,"item-added-to-album-alert")},a=h(!1),O=h(null),N=h("i-ri-user-follow-fill"),ee=(p,w)=>{N.value=p,O.value=w},se=async p=>{const[w,J]=await b.follow(p);J||(a.value=!0)},ae=async p=>{const[w,J]=await b.unfollow(p);J||(a.value=!1)},ne=h(!0),F=(p,w,J,V)=>{ne.value=!1,Ae().readMore(p,w,J,V)};return(p,w)=>{const J=ve;return t(),q(Be,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:W(()=>[e("div",null,[e("img",{src:p.avatarCoverUrl(l.value.cover_bucket,l.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:w[0]||(w[0]=(...V)=>p.defaultCoverImage&&p.defaultCoverImage(...V))},null,40,Ba),g(k).loggedIn&&g(k).user.id===l.value.id?(t(),q(J,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:W(()=>[m(x,{name:"i-ph-gear-six"})]),_:1})):r("",!0)]),e("div",za,[e("div",Oa,[e("div",Va,[e("img",{src:p.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:w[1]||(w[1]=(...V)=>p.defaultCoverImage&&p.defaultCoverImage(...V))},null,40,Na),e("div",Da,[g(k).loggedIn&&l.value.id!==g(k).user.id?(t(),s("div",{key:0,class:R(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":a.value}]),onClick:w[2]||(w[2]=V=>a.value?ae(l.value.id):se(l.value.id)),onMouseover:w[3]||(w[3]=V=>ee("i-ri-user-unfollow-fill",p.$t("unfollow"))),onMouseleave:w[4]||(w[4]=V=>ee("i-ri-user-follow-fill",p.$t("following")))},[M(e("div",qa,[m(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),B(" "+n(p.$t("follow")),1)],512),[[L,!a.value]]),M(e("div",Ha,[m(x,{name:N.value,"text-size":"text-base"},null,8,["name"]),B(" "+n(O.value===null?p.$t("following"):O.value),1)],512),[[L,a.value]])],34)):r("",!0),e("div",{class:R(["flex-row justify-center border hidden-md-flex",l.value.id==g(k).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:w[5]||(w[5]=V=>o.value="followerList")},[e("b",null,n(_.value.followers),1),Ga,e("i",null,n(p.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:w[6]||(w[6]=V=>o.value="followingList")},[e("b",null,n(_.value.followings),1),Wa,e("i",null,n(p.$t("following").toLowerCase()),1)])],2)])]),e("div",Ja,[e("div",Ka,[e("div",Ya,[e("div",Qa,[e("div",null,[e("span",Xa,n(l.value.name),1),Za,e("span",en,n(l.value.username),1)]),e("div",tn,[l.value.pen_name&&l.value.pen_name!==""?(t(),s("div",on,[e("span",ln,[m(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),B(" "+n(l.value.pen_name),1)])])):r("",!0),e("div",sn,[l.value.gender==="m"?(t(),s("span",an,[m(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),nn])):r("",!0),l.value.gender==="f"?(t(),s("span",rn,[m(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),un])):r("",!0)])])]),e("div",dn,[g(k).loggedIn&&g(k).user.id===l.value.id?(t(),q(J,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:W(()=>[e("button",cn,[m(x,{name:"i-ph-gear-six",class:"mr-2"}),e("span",mn,n(p.$t("profile.setting")),1)])]),_:1})):r("",!0),l.value.user_socials?(t(),s("div",vn,[l.value.user_socials.facebook?(t(),s("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,pn)):r("",!0),l.value.user_socials.instagram?(t(),s("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,fn)):r("",!0),l.value.user_socials.twitter?(t(),s("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,hn)):r("",!0),l.value.user_socials.youtube?(t(),s("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,wn)):r("",!0),l.value.user_socials.patreon?(t(),s("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"heart",class:"text-xl"})],8,bn)):r("",!0)])):r("",!0)])]),e("div",null,[l.value.bio?(t(),s("p",gn,[e("div",{id:"user-bio-"+l.value.id,innerHTML:l.value.bio.length>300?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,_n),l.value.bio.length>300?(t(),s("a",{key:0,id:"user-bio-read-more-"+l.value.id,class:"href",onClick:w[7]||(w[7]=G(V=>F(l.value.bio,l.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},n(p.$t("readMore")),9,kn)):r("",!0)])):r("",!0)])])])]),e("div",yn,[e("img",{src:p.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:w[8]||(w[8]=(...V)=>p.imageLoadError&&p.imageLoadError(...V))},null,40,$n),e("div",xn,n(l.value.name),1),e("div",null,n(l.value.username),1),e("div",Mn,[l.value.pen_name?(t(),s("span",Cn,[m(x,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),B(" "+n(l.value.pen_name&&l.value.pen_name!==""?l.value.pen_name:"-"),1)])):r("",!0),e("div",In,[l.value.gender==="m"?(t(),s("span",En,[m(x,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Ln])):r("",!0),l.value.gender==="f"?(t(),s("span",An,[m(x,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),Pn])):r("",!0)])]),l.value.bio?(t(),s("div",Fn,[e("span",{id:"mobile__user-bio-"+l.value.id},n(l.value.bio.length>150&&ne.value?`${l.value.bio.slice(0,150)}...`:l.value.bio),9,Sn),l.value.bio.length>150?(t(),s("a",{key:0,id:"mobile__user-bio-read-more-"+l.value.id,class:"href",onClick:w[9]||(w[9]=G(V=>F(l.value.bio,l.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},n(p.$t("readMore")),9,Tn)):r("",!0)])):r("",!0),l.value.user_socials?(t(),s("div",jn,[l.value.user_socials.facebook?(t(),s("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Rn)):r("",!0),l.value.user_socials.instagram?(t(),s("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Un)):r("",!0),l.value.user_socials.twitter?(t(),s("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Bn)):r("",!0),l.value.user_socials.youtube?(t(),s("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-logo-youtube",class:"text-xl"})],8,zn)):r("",!0),l.value.user_socials.patreon?(t(),s("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(x,{name:"i-ion-heart",class:"text-xl"})],8,On)):r("",!0)])):r("",!0),e("div",Vn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:w[10]||(w[10]=V=>o.value="followerList")},[e("b",null,n(_.value.followers),1),Nn,e("i",null,n(p.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:w[11]||(w[11]=V=>o.value="followingList")},[e("b",null,n(_.value.followings),1),Dn,e("i",null,n(p.$t("following")),1)])]),g(k).loggedIn&&l.value.id!==g(k).user.id?(t(),s("div",{key:2,class:R(["mt-2 w-auto",a.value?"danger-button":"primary-button"]),onClick:w[12]||(w[12]=V=>a.value?ae(l.value.id):se(l.value.id))},[M(e("div",qn,[m(x,{name:"i-ri-user-add-fill","text-size":"text-base"}),B(" "+n(p.$t("follow")),1)],512),[[L,!a.value]]),M(e("div",Hn,[m(x,{name:N.value,"text-size":"text-base"},null,8,["name"]),B(" "+n(O.value===null?p.$t("following"):O.value),1)],512),[[L,a.value]])],2)):r("",!0)]),e("div",Gn,[e("div",Wn,[e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":g(o)=="dashboard"}]),onClick:w[13]||(w[13]=V=>z("dashboard"))},[e("div",null,[M(m(x,{name:"i-ion-home-outline",class:"text-white"},null,512),[[L,g(o)=="dashboard"]]),M(m(x,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[L,g(o)!="dashboard"]])]),e("span",null,n(p.$t("dashboard")),1)],2),e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":g(o)=="albums"}]),onClick:w[14]||(w[14]=V=>z("albums"))},[e("div",null,[M(m(x,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[L,g(o)=="albums"]]),M(m(x,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[L,g(o)!="albums"]])]),e("span",null,n(p.$t("albums.album")),1)],2),e("div",{class:R(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":g(o)=="collections"}]),onClick:w[15]||(w[15]=V=>z("collections"))},[e("div",null,[M(m(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[L,g(o)=="collections"]]),M(m(x,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[L,g(o)!="collections"]])]),e("span",null,n(p.$t("collections.collection")),1)],2)]),e("div",Jn,[e("div",Kn,[e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":g(o)==="dashboard"}]),onClick:w[16]||(w[16]=V=>z("dashboard"))},[e("div",Yn,[M(m(x,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[L,g(o)==="dashboard"]]),M(m(x,{name:"i-humbleicons-dashboard"},null,512),[[L,g(o)!=="dashboard"]]),e("label",Qn,n(p.$t("dashboard")),1)]),Xn],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":g(o)==="albums"}]),onClick:w[17]||(w[17]=V=>z("albums"))},[e("div",Zn,[M(m(x,{name:"i-bx-photo-album",class:"text-white"},null,512),[[L,g(o)==="albums"]]),M(m(x,{name:"i-bx-photo-album"},null,512),[[L,g(o)!=="albums"]]),e("label",ei,n(p.$t("albums.album")),1)]),e("span",ti,n(_.value.album),1)],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":g(o)==="collections"}]),onClick:w[18]||(w[18]=V=>z("collections"))},[e("div",oi,[M(m(x,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[L,g(o)==="collections"]]),M(m(x,{name:"i-majesticons-bookmark-line"},null,512),[[L,g(o)!=="collections"]]),e("label",li,n(p.$t("collections.collection")),1)]),e("span",si,n(_.value.collection),1)],2)]),e("div",ai,[g(o)==="dashboard"?(t(),s("div",ni,[e("div",ii,[e("div",{class:R(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":i.value==="feed"}]),onClick:w[19]||(w[19]=V=>i.value="feed")},[B(n(p.$t("feed"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",i.value==="feed"?"theme-color":"button-color text-white"])},n(_.value.feed),3)],2),e("div",{class:R(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":i.value==="artwork"}]),onClick:w[20]||(w[20]=V=>i.value="artwork")},[B(n(p.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",i.value==="artwork"?"theme-color":"button-color text-white"])},n(_.value.artwork),3)],2)]),M(e("div",ri,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:w[21]||(w[21]=V=>I.value.manageMode=!I.value.manageMode)},[m(x,{name:I.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),B(" "+n(I.value.manageMode?p.$t("quit"):p.$t("manage")),1)]),M(e("button",{class:"w-full primary-button md:w-auto",onClick:w[22]||(w[22]=V=>H())},[m(x,{name:"i-ion-add-outline"}),B(" "+n(p.$t("albums.addToAlbum")),1)],512),[[L,I.value.manageMode]])],512),[[L,!v.value&&g(k).loggedIn&&g(k).user.id===l.value.id&&i.value==="artwork"&&I.value.showManageMode]]),m(le,{loading:v.value},null,8,["loading"]),M(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},n(p.$t("profile.manageModeActiveMessage")),513),[[L,I.value.manageMode]]),e("div",null,[i.value==="feed"?(t(),q(St,{key:0,ref:"feedListRef",class:"mt-2","user-id":l.value.id},null,8,["user-id"])):r("",!0),!v.value&&i.value==="artwork"?(t(),q(Ut,{key:1,ref_key:"artworkListRef",ref:E,"user-id":l.value.id,"manage-mode":I.value.manageMode,onFeedSelectedItems:U,onOnEmpty:j},null,8,["user-id","manage-mode"])):r("",!0)])])):r("",!0),g(o)==="albums"?(t(),s("div",ui,[v.value?r("",!0):(t(),q(xl,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),g(o)==="collections"?(t(),s("div",di,[v.value?r("",!0):(t(),q(ra,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),g(o)==="followerList"?(t(),s("div",ci,[v.value?r("",!0):(t(),q(ya,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0),g(o)==="followingList"?(t(),s("div",mi,[v.value?r("",!0):(t(),q(Ra,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):r("",!0)])])])]),v.value?r("",!0):(t(),q(Re,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:D,class:"modal","work-ids":T.value,onAddedToAlbum:S},null,8,["work-ids"])),M(m(ue,{id:"item-added-to-album-alert",text:p.$t("albums.itemAdded")},null,8,["text"]),[[L,c.value]])]),_:1})}}},xi=Z(vi,[["__scopeId","data-v-1ec3da97"]]);export{xi as P};
//# sourceMappingURL=Profile.82a00397.js.map
