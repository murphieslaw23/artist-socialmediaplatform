import{B as x,a as y,b as U,R as p,A as b,U as O,d as I}from"../server.mjs";import{S as k}from"./Icon.87522030.js";import{U as L}from"./user-counters-api.b01a31ff.js";const A=function(l){return{updateAvatarForm:async(e,r={})=>{const t="/user/update/avatar",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={},i=new FormData;e!==void 0&&i.append("avatar",e),h["Content-Type"]="multipart/form-data";const m=new URLSearchParams(a.search);for(const w in d)m.set(w,d[w]);for(const w in r.params)m.set(w,r.params[w]);a.search=new URLSearchParams(m).toString();let u=s&&s.headers?s.headers:{};return n.headers={...h,...u,...r.headers},n.data=i,{url:a.pathname+a.search+a.hash,options:n}},updateCoverForm:async(e,r={})=>{const t="/user/update/cover",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={},i=new FormData;e!==void 0&&i.append("cover",e),h["Content-Type"]="multipart/form-data";const m=new URLSearchParams(a.search);for(const w in d)m.set(w,d[w]);for(const w in r.params)m.set(w,r.params[w]);a.search=new URLSearchParams(m).toString();let u=s&&s.headers?s.headers:{};return n.headers={...h,...u,...r.headers},n.data=i,{url:a.pathname+a.search+a.hash,options:n}}}},v=function(l){return{async updateAvatarForm(e,r){const t=await A(l).updateAvatarForm(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async updateCoverForm(e,r){const t=await A(l).updateCoverForm(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}}}};class T extends x{async updateAvatarForm(e,r){return v(this.configuration).updateAvatarForm(e,r).then(t=>t(this.axios,this.basePath))}async updateCoverForm(e,r){return v(this.configuration).updateCoverForm(e,r).then(t=>t(this.axios,this.basePath))}}const P=function(l){return{countFollowers:async(e,r={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling countFollowers.");const t="/user/{user_id}/count/followers".replace("{user_id}",encodeURIComponent(String(e))),a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"GET",...s,...r},h={},d={},i=new URLSearchParams(a.search);for(const u in d)i.set(u,d[u]);for(const u in r.params)i.set(u,r.params[u]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};return n.headers={...h,...m,...r.headers},{url:a.pathname+a.search+a.hash,options:n}},countFollowings:async(e,r={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling countFollowings.");const t="/user/{user_id}/count/followings".replace("{user_id}",encodeURIComponent(String(e))),a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"GET",...s,...r},h={},d={},i=new URLSearchParams(a.search);for(const u in d)i.set(u,d[u]);for(const u in r.params)i.set(u,r.params[u]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};return n.headers={...h,...m,...r.headers},{url:a.pathname+a.search+a.hash,options:n}},followUser:async(e,r={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling followUser.");const t="/user/follows/follow/{userId}".replace("{userId}",encodeURIComponent(String(e))),a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={},i=new URLSearchParams(a.search);for(const u in d)i.set(u,d[u]);for(const u in r.params)i.set(u,r.params[u]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};return n.headers={...h,...m,...r.headers},{url:a.pathname+a.search+a.hash,options:n}},followUserPrivately:async(e,r,t={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling followUserPrivately.");if(r==null)throw new p("isPrivate","Required parameter isPrivate was null or undefined when calling followUserPrivately.");const a="/user/follows/follow/{userId}/{isPrivate}".replace("{userId}",encodeURIComponent(String(e))).replace("{isPrivate}",encodeURIComponent(String(r))),s=new URL(a,"https://example.com");let n;l&&(n=l.baseOptions);const h={method:"POST",...n,...t},d={},i={},m=new URLSearchParams(s.search);for(const w in i)m.set(w,i[w]);for(const w in t.params)m.set(w,t.params[w]);s.search=new URLSearchParams(m).toString();let u=n&&n.headers?n.headers:{};return h.headers={...d,...u,...t.headers},{url:s.pathname+s.search+s.hash,options:h}},followersList:async(e,r,t,a={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling followersList.");if(r==null)throw new p("page","Required parameter page was null or undefined when calling followersList.");if(t==null)throw new p("perPage","Required parameter perPage was null or undefined when calling followersList.");const s="/user/follows/followers/{userId}".replace("{userId}",encodeURIComponent(String(e))),n=new URL(s,"https://example.com");let h;l&&(h=l.baseOptions);const d={method:"GET",...h,...a},i={},m={};r!==void 0&&(m.page=r),t!==void 0&&(m.per_page=t);const u=new URLSearchParams(n.search);for(const f in m)u.set(f,m[f]);for(const f in a.params)u.set(f,a.params[f]);n.search=new URLSearchParams(u).toString();let w=h&&h.headers?h.headers:{};return d.headers={...i,...w,...a.headers},{url:n.pathname+n.search+n.hash,options:d}},followingList:async(e,r,t,a,s={})=>{if(e==null)throw new p("userId","Required parameter userId was null or undefined when calling followingList.");if(r==null)throw new p("privateOnly","Required parameter privateOnly was null or undefined when calling followingList.");if(t==null)throw new p("page","Required parameter page was null or undefined when calling followingList.");if(a==null)throw new p("perPage","Required parameter perPage was null or undefined when calling followingList.");const n="/user/follows/following/{userId}".replace("{userId}",encodeURIComponent(String(e))),h=new URL(n,"https://example.com");let d;l&&(d=l.baseOptions);const i={method:"GET",...d,...s},m={},u={};r!==void 0&&(u.private_only=r),t!==void 0&&(u.page=t),a!==void 0&&(u.per_page=a);const w=new URLSearchParams(h.search);for(const V in u)w.set(V,u[V]);for(const V in s.params)w.set(V,s.params[V]);h.search=new URLSearchParams(w).toString();let f=d&&d.headers?d.headers:{};return i.headers={...m,...f,...s.headers},{url:h.pathname+h.search+h.hash,options:i}},isFollowing:async(e,r={})=>{if(e==null)throw new p("userIdToCheck","Required parameter userIdToCheck was null or undefined when calling isFollowing.");const t="/user/follows/is-following/{userIdToCheck}".replace("{userIdToCheck}",encodeURIComponent(String(e))),a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"GET",...s,...r},h={},d={},i=new URLSearchParams(a.search);for(const u in d)i.set(u,d[u]);for(const u in r.params)i.set(u,r.params[u]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};return n.headers={...h,...m,...r.headers},{url:a.pathname+a.search+a.hash,options:n}},unfollowUser:async(e,r={})=>{if(e==null)throw new p("userIdToUnfollow","Required parameter userIdToUnfollow was null or undefined when calling unfollowUser.");const t="/user/follows/unfollow/{userIdToUnfollow}".replace("{userIdToUnfollow}",encodeURIComponent(String(e))),a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={},i=new URLSearchParams(a.search);for(const u in d)i.set(u,d[u]);for(const u in r.params)i.set(u,r.params[u]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};return n.headers={...h,...m,...r.headers},{url:a.pathname+a.search+a.hash,options:n}}}},g=function(l){return{async countFollowers(e,r){const t=await P(l).countFollowers(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async countFollowings(e,r){const t=await P(l).countFollowings(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async followUser(e,r){const t=await P(l).followUser(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async followUserPrivately(e,r,t){const a=await P(l).followUserPrivately(e,r,t);return(s=y,n=U)=>{const h={...a.options,url:n+a.url};return s.request(h)}},async followersList(e,r,t,a){const s=await P(l).followersList(e,r,t,a);return(n=y,h=U)=>{const d={...s.options,url:h+s.url};return n.request(d)}},async followingList(e,r,t,a,s){const n=await P(l).followingList(e,r,t,a,s);return(h=y,d=U)=>{const i={...n.options,url:d+n.url};return h.request(i)}},async isFollowing(e,r){const t=await P(l).isFollowing(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async unfollowUser(e,r){const t=await P(l).unfollowUser(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}}}};class R extends x{async countFollowers(e,r){return g(this.configuration).countFollowers(e,r).then(t=>t(this.axios,this.basePath))}async countFollowings(e,r){return g(this.configuration).countFollowings(e,r).then(t=>t(this.axios,this.basePath))}async followUser(e,r){return g(this.configuration).followUser(e,r).then(t=>t(this.axios,this.basePath))}async followUserPrivately(e,r,t){return g(this.configuration).followUserPrivately(e,r,t).then(a=>a(this.axios,this.basePath))}async followersList(e,r,t,a){return g(this.configuration).followersList(e,r,t,a).then(s=>s(this.axios,this.basePath))}async followingList(e,r,t,a,s){return g(this.configuration).followingList(e,r,t,a,s).then(n=>n(this.axios,this.basePath))}async isFollowing(e,r){return g(this.configuration).isFollowing(e,r).then(t=>t(this.axios,this.basePath))}async unfollowUser(e,r){return g(this.configuration).unfollowUser(e,r).then(t=>t(this.axios,this.basePath))}}const S=function(l){return{changeUsername:async(e,r={})=>{const t="/user/update/username",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={};h["Content-Type"]="application/json";const i=new URLSearchParams(a.search);for(const w in d)i.set(w,d[w]);for(const w in r.params)i.set(w,r.params[w]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};n.headers={...h,...m,...r.headers};const u=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=u?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},updateUserInfo:async(e,r={})=>{const t="/user/update/info",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={};h["Content-Type"]="application/json";const i=new URLSearchParams(a.search);for(const w in d)i.set(w,d[w]);for(const w in r.params)i.set(w,r.params[w]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};n.headers={...h,...m,...r.headers};const u=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=u?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},updateUserPreference:async(e,r={})=>{const t="/user/update/preference",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={};h["Content-Type"]="application/json";const i=new URLSearchParams(a.search);for(const w in d)i.set(w,d[w]);for(const w in r.params)i.set(w,r.params[w]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};n.headers={...h,...m,...r.headers};const u=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=u?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}},updateUserSocial:async(e,r={})=>{const t="/user/update/social",a=new URL(t,"https://example.com");let s;l&&(s=l.baseOptions);const n={method:"POST",...s,...r},h={},d={};h["Content-Type"]="application/json";const i=new URLSearchParams(a.search);for(const w in d)i.set(w,d[w]);for(const w in r.params)i.set(w,r.params[w]);a.search=new URLSearchParams(i).toString();let m=s&&s.headers?s.headers:{};n.headers={...h,...m,...r.headers};const u=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=u?JSON.stringify(e!==void 0?e:{}):e||"",{url:a.pathname+a.search+a.hash,options:n}}}},F=function(l){return{async changeUsername(e,r){const t=await S(l).changeUsername(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async updateUserInfo(e,r){const t=await S(l).updateUserInfo(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async updateUserPreference(e,r){const t=await S(l).updateUserPreference(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}},async updateUserSocial(e,r){const t=await S(l).updateUserSocial(e,r);return(a=y,s=U)=>{const n={...t.options,url:s+t.url};return a.request(n)}}}};class q extends x{async changeUsername(e,r){return F(this.configuration).changeUsername(e,r).then(t=>t(this.axios,this.basePath))}async updateUserInfo(e,r){return F(this.configuration).updateUserInfo(e,r).then(t=>t(this.axios,this.basePath))}async updateUserPreference(e,r){return F(this.configuration).updateUserPreference(e,r).then(t=>t(this.axios,this.basePath))}async updateUserSocial(e,r){return F(this.configuration).updateUserSocial(e,r).then(t=>t(this.axios,this.basePath))}}function z(l,e){return{checkUsernameAvailability:async c=>{try{const{data:o}=await new b(l).checkUsername({username:c});return o.success?[o.success,null]:[null,"Username is already taken"]}catch(o){return[null,o]}},checkPenNameAvailability:async c=>{try{const{data:o}=await new O(l).penNameCheck(c,e);return o.success?[o.success,null]:[null,"Pen name is already taken"]}catch(o){return[null,o]}},getInfo:async c=>{try{const{data:o}=await new O(l).getUserInfoById(c.toString(),e);return[o.data,null]}catch(o){return[null,o]}},getInfoByUsername:async c=>{try{const{data:o}=await new O(l).getUserInfoByUsername(c,e);return[o.data,null]}catch(o){return[null,o]}},searchUsers:async c=>{try{const{data:o}=await new k(l).searchUsers(c.keyword,c.pagination.page,c.pagination.perPage,e);return[o.data,null]}catch(o){return[null,o]}},updateInfo:async c=>{try{const{data:o}=await new q(l).updateUserInfo({id:c.userId,name:c.name,gender:c.gender,bio:c.bio,location:c.location,pen_name:c.penName},e);return[o.success,null]}catch(o){return[null,o]}},updateSocials:async c=>{try{const{data:o}=await new q(l).updateUserSocial({id:c.userId,facebook:c.facebook,twitter:c.twitter,instagram:c.instagram,patreon:c.patreon,youtube:c.youtube},e);return[o.success,null]}catch(o){return[null,o]}},updateSettings:async c=>{try{const{data:o}=await new q(l).updateUserPreference({id:c.userId,show_explicit:c.showExplicit?1:0},e);return[o.success,null]}catch(o){return[null,o]}},changeUsername:async c=>{try{const{data:o}=await new q(l).changeUsername({new_username:c},e);return[o.success,null]}catch(o){return[null,o]}},updateAvatar:async c=>{try{const{data:o}=await new T(l).updateAvatarForm(c,e);return[o.success,null]}catch(o){return[null,o]}},countFeeds:async c=>{try{const{data:o}=await new L(l).countUserFeeds(c,e);return[o.data.total,null]}catch(o){return[null,o]}},countArtworks:async c=>{try{const{data:o}=await new L(l).countUserArtworks(c,e);return[o.data.total,null]}catch(o){return[null,o]}},countFollowers:async c=>{try{const{data:o}=await new R(l).countFollowers(c);return[o.data.total,null]}catch(o){return[null,o]}},countFollowings:async c=>{try{const{data:o}=await new R(l).countFollowings(c);return[o.data.total,null]}catch(o){return[null,o]}},isFollowing:async c=>{try{const{data:o}=await new R(l).isFollowing(c,e);return[o.data,null]}catch(o){return[null,o]}},follow:async c=>{try{const{data:o}=await new R(l).followUser(c,e);return[o.success,null]}catch(o){return[null,o]}},followPrivately:async c=>{try{const{data:o}=await new R(l).followUserPrivately(c,!0,e);return[o.success,null]}catch(o){return[null,I().consumeReadableStreamError(o)]}},unfollow:async c=>{try{const{data:o}=await new R(l).unfollowUser(c,e);return[o.success,null]}catch(o){return[null,o]}},getFollowerList:async c=>{try{const{data:o}=await new R(l).followersList(c.userId,c.pagination.page,c.pagination.perPage,e);return[o.data,null]}catch(o){return[null,o]}},getFollowingList:async c=>{try{const{data:o}=await new R(l).followingList(c.userId,c.isPrivateOnly,c.pagination.page,c.pagination.perPage,e);return[o.data,null]}catch(o){return[null,o]}}}}export{z as u};
//# sourceMappingURL=useUser.15d84743.js.map
