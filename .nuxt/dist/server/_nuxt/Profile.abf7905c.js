import{c as Z,d as Q,n as Re,e as Ee,i as X,_ as re,h as pe,S as Le,k as Ue}from"../server.mjs";import{ref as h,openBlock as t,createElementBlock as o,Fragment as K,renderList as Y,createElementVNode as e,createVNode as v,withCtx as W,createTextVNode as O,toDisplayString as a,createCommentVNode as n,withModifiers as J,withDirectives as I,vShow as P,normalizeClass as R,unref as w,createBlock as q,pushScopeId as fe,popScopeId as he,onBeforeMount as Ae,KeepAlive as _e,vModelText as le,watch as Pe,onMounted as we,normalizeStyle as Fe,computed as Be}from"vue";import"vue-router";import{M as be,_ as ie,u as Se,W as ke,e as ue,S as de,c as ce,f as me,g as Oe}from"./ModalView.a5e9048d.js";import{J as ze,u as ge,L as Ve}from"./Layout.95ee41da.js";import{_ as ee,a as C,u as Ne}from"./Icon.b4cfd501.js";import{u as De}from"./useFeed.a9121734.js";import{I as Ie,F as qe}from"./FeedModalView.a7225a14.js";import{_ as se}from"./LoadingEmptyErrorMessage.06690c93.js";import{u as ye}from"./useUser.cf43734b.js";const ve=c=>(fe("data-v-09d27964"),c=c(),he(),c),He={class:"mx-auto w-full md:w-2/3"},Ge={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},We={class:"w-full"},Je={key:0,class:"p-4 user-info"},Ke=["src"],Ye={class:"name"},Qe=ve(()=>e("br",null,null,-1)),Xe=ve(()=>e("span",{class:"mx-1"},"\xB7",-1)),Ze={class:"text-xxs"},et={class:"px-2 md:px-4"},tt=["id","innerHTML"],ot=["id","onClick"],lt={key:1,class:"my-2 w-full rounded-md theme-color"},st={key:0,class:"p-2 md:p-4 user-info"},at=["src"],nt={class:"name"},it=ve(()=>e("br",null,null,-1)),rt=ve(()=>e("span",{class:"mx-1"},"\xB7",-1)),ut={class:"px-2 mt-2 md:px-4"},dt={class:"text-xs font-semibold"},ct=["id"],mt=["id","onClick"],vt=["onClick"],pt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},ft={class:"mx-auto mt-2 primary-button"},ht={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},wt={class:"mx-auto mt-2 primary-button"},bt={class:"float-right mx-4 mt-2 interactions"},gt={key:0,class:"reactions"},_t=["onClick"],kt=["onClick"],yt={class:"option dropdown"},$t=["onClick"],xt={class:"option-dropdown dropdown-menu"},Mt={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},Ct={class:"menu-wrapper"},It={key:0,class:"custom-divider"},Et=["to"],Lt={class:"mx-auto text-center"},At={class:"mx-auto mt-10 text-center"},Pt=ve(()=>e("b",null,"(\u3186_\u3186)",-1)),Ft={class:"mx-auto text-center"},St={id:"chronological-feed-modal",class:"modal work-view"},Tt={id:"artwork-modal",class:"modal work-view"},jt={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(c){const L=c,k=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),b=De(d,A()),{generateArtworkThumb:x}=Re();Ee();const $=h(0),g=h(0),u=(m,E)=>{$.value=m,g.value=E},i=h([]),f=h({page:0,perPage:10}),r=async({loaded:m})=>{const[E,T]=await b.getFeedByUserId({userId:L.userId,pagination:{page:f.value.page,perPage:f.value.perPage}});f.value.page+=1;for(let s=0;s<E.feeds.length;s++){const V=E.feeds[s];if(V.liked&&F.value.push(V.id),V.artworks){V.artworks.images=[],V.artworks.apply_explicit_filter=!1;for(let N=0;N<V.artworks.artwork_assets.length;N++)if(N<=3){const te=await x(V.artworks.artwork_assets[N].bucket,V.artworks.artwork_assets[N].filename,"feed");V.artworks.images.push(te)}V.artworks!=null&&(!k.loggedIn&&V.artworks.is_explicit||V.artworks.is_explicit&&!k.user.user_settings.show_explicit)&&(V.artworks.apply_explicit_filter=!0)}i.value.push(V)}m(E.feeds.length,f.value.perPage)},U=h(null),l=m=>{U.value.view(m),X().openModal("chronological-feed-modal")},_=h(null),M=(m,E,T)=>{E?(console.log("removing explicit filter.."),i.value[T].artworks.apply_explicit_filter=!1):(_.value.view(m),X().openModal("artwork-modal"))},F=h([]),S=async m=>{const[E,T]=await b.like({feedId:m});if(E){F.value.push(m);const s=document.getElementById(`profileFeedLikeButton-${m}`);s.classList.add("animate-bounce"),setInterval(()=>{s.classList.remove("animate-bounce")},2500)}},B=async m=>{const[E,T]=await b.unlike({feedId:m});if(E){const s=F.value.indexOf(m);F.value.splice(s,1)}},H=(m,E,T,s)=>{Se().readMore(m,E,T,s)},G=async()=>{const[m,E]=await b.remove($.value);m&&i.value.splice(g.value,1)};return(m,E)=>{const T=re;return t(),o("div",He,[(t(!0),o(K,null,Y(i.value,(s,V)=>(t(),o("div",{key:s.id},[e("div",Ge,[e("div",We,[s.users?(t(),o("div",Je,[v(T,{to:"/profile/"+s.users.username},{default:W(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(s.users.avatar_bucket,s.users.avatar_filename),onError:E[0]||(E[0]=(...N)=>m.imageLoadError&&m.imageLoadError(...N))},null,40,Ke)]),_:2},1032,["to"]),e("div",Ye,[v(T,{to:"/profile/"+s.users.username,class:"fullname"},{default:W(()=>[O(a(s.users.name),1)]),_:2},1032,["to"]),Qe,v(T,{to:"/profile/"+s.users.username,class:"username hover:underline"},{default:W(()=>[O(" @"+a(s.users.username),1)]),_:2},1032,["to"]),Xe,e("span",Ze,a(m.formatDate(s.scheduled_post?s.scheduled_post:s.created_at,!0)),1)])])):n("",!0),e("div",et,[e("p",{id:"feed-text-"+s.id,innerHTML:s.text.split("<br>").length>3&&s.text.length>300?`${s.text.slice(0,300)}...`:s.text},null,8,tt),s.text.split("<br>").length>3&&s.text.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+s.id,class:"href",onClick:J(N=>H(s.text,s.id,"feed-read-more-","feed-text-"),["prevent"])},a(m.$t("readMore")),9,ot)):n("",!0),s.artworks?(t(),o("div",lt,[s.artworks.users?(t(),o("div",st,[v(T,{to:"/profile/"+s.artworks.users.username},{default:W(()=>[e("img",{class:"avatar",src:m.avatarCoverUrl(s.artworks.users.avatar_bucket,s.artworks.users.avatar_filename),onError:E[1]||(E[1]=(...N)=>m.imageLoadError&&m.imageLoadError(...N))},null,40,at)]),_:2},1032,["to"]),e("div",nt,[v(T,{to:"/profile/"+s.artworks.users.username,class:"fullname hover:href"},{default:W(()=>[O(a(s.artworks.users.name),1)]),_:2},1032,["to"]),it,v(T,{to:"/profile/"+s.artworks.users.username,class:"hover:underline text-xxs"},{default:W(()=>[O(" @"+a(s.artworks.users.username),1)]),_:2},1032,["to"]),rt,v(T,{to:"/a/"+s.artworks.id,class:"hover:underline text-xxs"},{default:W(()=>[O(a(m.formatDate(s.artworks.scheduled_post?s.artworks.scheduled_post:s.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):n("",!0),e("div",ut,[e("span",dt,a(s.artworks.title),1),I(e("p",null,[e("span",{id:"feed-description-"+s.artworks.id},a(s.artworks.description.length>300?`${s.artworks.description.slice(0,300)}...`:s.artworks.description),9,ct),s.artworks.description.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+s.artworks.id,class:"href",onClick:J(N=>H(s.artworks.description,s.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},a(m.$t("readMore")),9,mt)):n("",!0)],512),[[P,s.artworks.description]])]),e("div",null,[m.isMobile()?n("",!0):(t(),o("div",{key:0,class:R(["p-2",{"cursor-pointer":!s.artworks.apply_explicit_filter}]),onClick:J(N=>M(s.artworks.id,s.artworks.apply_explicit_filter,V),["prevent"])},[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":s.artworks.apply_explicit_filter}])},[v(Ie,{class:R([{"blur-3xl unclickable":s.artworks.apply_explicit_filter},s.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:s.artworks},null,8,["class","work"]),s.artworks.apply_explicit_filter?(t(),o("div",pt,[e("div",null,a(w(k).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",ft,a(m.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)],10,vt)),m.isMobile()?(t(),q(T,{key:1,to:s.artworks.apply_explicit_filter?null:"/a/"+s.artworks.id,onClick:J(N=>M(s.artworks.id,s.artworks.apply_explicit_filter,V),["prevent"]),class:"cursor-pointer"},{default:W(()=>[e("div",{class:R(["overflow-hidden relative p-2 rounded-md",{"m-2":s.artworks.apply_explicit_filter}])},[v(Ie,{class:R([{"blur-3xl unclickable":s.artworks.apply_explicit_filter},s.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:s.artworks},null,8,["class","work"]),s.artworks.apply_explicit_filter?(t(),o("div",ht,[e("div",null,a(w(k).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),e("button",wt,a(m.$t("explicitShowMeThisContent")),1)])):n("",!0)],2)]),_:2},1032,["to","onClick"])):n("",!0)])])):n("",!0)]),e("div",bt,[w(k).loggedIn?(t(),o("div",gt,[e("span",{class:"leading-8",onClick:N=>F.value.includes(s.id)?B(s.id):S(s.id)},[I(v(C,{id:"profileFeedLikeButton-"+s.id,name:"i-ri-heart-3-line",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[P,F.value.includes(s.id)]]),I(v(C,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[P,!F.value.includes(s.id)]]),O(" "+a(m.thousand(s._count.feed_likes)),1)],8,_t),e("span",{class:"leading-8",onClick:J(N=>l(s.id),["prevent"])},[v(C,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+a(m.thousand(s._count.feed_comments)),1)],8,kt),e("div",yt,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:N=>u(s.id,V)},[e("span",null,[v(C,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,$t),e("div",xt,[e("div",Mt,[e("div",Ct,[v(T,{to:"/feed/"+s.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[v(C,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+a(m.$t("open")),1)]),_:2},1032,["to"]),v(T,{to:"/feed/"+s.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:W(()=>[v(C,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+a(m.$t("openInNewTab")),1)]),_:2},1032,["to"]),w(k).loggedIn&&s.user_id&&w(k).user.id===s.user_id?(t(),o("div",It)):n("",!0),w(k).loggedIn&&s.user_id&&w(k).user.id===s.user_id?(t(),o("div",{key:1,to:"/feed/"+s.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:E[2]||(E[2]=N=>m.openModal("profile-feed-deletion-confirm-modal"))},[v(C,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+a(m.$t("delete")),1)],8,Et)):n("",!0)])])])])])):n("",!0)])])])]))),128)),v(w(ze),{load:r},{loading:W(()=>[e("div",Lt,[v(C,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":W(()=>[e("div",At,[Pt,O(" "+a(m.$t("nothingToShow")),1)])]),"no-more":W(()=>[e("div",Ft,a(m.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",St,[v(qe,{ref_key:"chronologicalFeedModalViewRef",ref:U,section:"chronological-feed"},null,512)]),e("div",Tt,[v(be,{ref_key:"artworkModalViewRef",ref:_,section:"artwork"},null,512)]),v(ie,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:E[3]||(E[3]=s=>G())},null,8,["message"])])}}},Rt=ee(jt,[["__scopeId","data-v-09d27964"]]),Ut={id:"lists"},Bt=["id"],Ot={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(c,{emit:L}){const k=c,{oApiConfiguration:d,fetchOptions:A}=Q(),b=Ne(d,A()),x="profile",$=h(!0);Ae(()=>{g()});const g=async()=>{const[T,s]=await f();u.value=T,s.record_total<=i.value.perPage&&l(),s.record_total===0&&S()},u=h([]),i=h({perPage:24,page:0}),f=async()=>{i.value.page===0&&($.value=!0);const[T,s,V]=await b.getUserArtworks({userId:k.userId,pagination:{page:i.value.page,perPage:i.value.perPage}});if(V)H();else return s.record_total<=i.value.perPage&&l(),s.record_total===0&&S(),i.value.page+=1,r(),[T,s]},r=()=>{$.value=!1,F.value=!1,B.value=!1},U=h(!0),l=()=>{U.value=!1},_=h({delay:!1}),M=async()=>{_.value.delay=!0;const[T,s]=await f();for(let V=0;V<T.length;V++)u.value.push(T[V]);_.value.delay=!1,dataPagination.next_previous.next_page||l(),dataPagination.next_previous.next_page&&dataPagination.current_page===_.maxLoad&&(l(),_.showDiscoveryButton=!0)},F=h(!1),S=()=>{F.value=!0,l(),L("onEmpty")},B=h(!1),H=()=>{$.value=!1,B.value=!0,l()},G=h(null),m=(T,s=!1)=>{G.value.view(T,s),X().openModal(x+"-modal")},E=T=>{L("feedSelectedItems",T)};return(T,s)=>(t(),o("div",Ut,[I(e("div",null,[(t(),q(_e,null,[I(v(ke,{"section-class":"work-grid",works:u.value,view:m,"manage-mode":c.manageMode,onFeedManageList:E},null,8,["works","manage-mode"]),[[P,!F.value]])],1024)),I(e("div",{class:R(["primary-button",_.value.delay?"animate-pulse":""]),onClick:M},a(T.$t("loadMore")),3),[[P,U.value]])],512),[[P,!$.value]]),v(se,{loading:$.value,empty:F.value,error:B.value,fetch:f},null,8,["loading","empty","error"]),e("div",{id:x+"-modal",class:"modal work-view"},[I(v(be,{ref_key:"profileModalViewRef",ref:G,section:x},null,512),[[P,!$.value]])],8,Bt)]))}},zt=ee(Ot,[["__scopeId","data-v-6fbdcb8f"]]),Vt={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Nt={class:"title"},Dt=["name"],qt=["placeholder"],Ht=["placeholder"],Gt=["for"],Wt=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Jt={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Kt=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Yt=[Kt],Qt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Xt=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Zt=[Xt],eo={class:"ml-2"},to={class:"flex flex-row gap-2 justify-end mt-2"},oo={type:"submit",class:"primary-button"},lo={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(c,{emit:L}){const k=c,{oApiConfiguration:d,fetchOptions:A}=Q(),b=ue(d,A()),{t:x}=pe(),$="create-album-form",g=h({title:"",description:"",isPublic:1,category:"artwork"}),u=async()=>{ge().validate($,x);try{let i=!1,f={};if(k.category){const[r,U,l]=await b.createAlbum(k.category,g.value);i=r,f=U}i&&(X().closeModal(k.modalId),L("created",f))}catch{}};return(i,f)=>(t(),o("div",null,[e("div",Vt,[e("div",null,[e("span",Nt,a(i.$t("albums.create.form.title")),1),e("form",{id:$,class:"mt-2",onSubmit:f[4]||(f[4]=J(r=>u(),["prevent"]))},[e("n-validate",{for:"title",name:i.$t("title")},[I(e("input",{"onUpdate:modelValue":f[0]||(f[0]=r=>g.value.title=r),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:i.$t("title")},null,8,qt),[[le,g.value.title]])],8,Dt),I(e("textarea",{"onUpdate:modelValue":f[1]||(f[1]=r=>g.value.description=r),class:"form-input theme-color-secondary",placeholder:i.$t("description"),"data-gramm":"false"},null,8,Ht),[[le,g.value.description]]),e("label",{for:g.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:f[2]||(f[2]=r=>g.value.isPublic=!g.value.isPublic)},[Wt,g.value.isPublic?(t(),o("span",Jt,Yt)):n("",!0),g.value.isPublic?n("",!0):(t(),o("span",Qt,Zt))]),e("span",eo,a(i.$t("private")),1)],8,Gt),e("div",to,[e("button",{class:"cancel-button",onClick:f[3]||(f[3]=J(r=>i.closeModal(c.modalId),["prevent"]))},a(i.$t("cancel")),1),e("button",oo,a(i.$t("create")),1)])],32)])])]))}},so={id:"lists"},ao={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},no={class:"mb-2 text-base font-bold"},io={class:"mb-2"},ro=O(),uo={class:"italic"},co=["id"],mo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(c,{expose:L,emit:k}){const d=c,{oApiConfiguration:A,fetchOptions:b}=Q(),x=ue(A,b()),$=h(d.id);Pe(()=>d.id,(m,E)=>{$.value=m});const g=h(!0),u=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),i=async()=>{g.value=!0,await f(),await r(),g.value=!1},f=async()=>{const[m,E]=await x.getInfo($.value);u.value.info=m.data},r=async()=>{const[m,E,T]=await x.listAlbumItems({albumId:$.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});E?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,m!==null&&m.length?(m.forEach(s=>{u.value.list.push(s.artworks)}),k("onAlbumEmpty",!1)):(u.value.empty=!0,k("onAlbumEmpty",!0))},U=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},l=h([]),_=m=>{l.value=m,k("feedManageList",m)},M=h(!1);let F;const S=async()=>{const[m,E]=await x.removeItems(d.id,l.value);m&&(ce().splash(F,M,"item-removed-alert"),U(),await i())},B=h("album"),H=h(null),G=(m,E=!1)=>{H.value.view(m,E),X().openModal(B.value+"-modal")};return L({fetchInfo:f,removeItems:S}),(m,E)=>(t(),o("div",so,[e("div",{class:"hidden",onClick:E[0]||(E[0]=T=>f())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=T=>S())}),e("div",ao,[e("div",no,a(u.value.info.name),1),e("div",io,a(u.value.info.description),1),e("div",null,[e("b",null,a(m.$t("private"))+":",1),ro,e("span",uo,a(u.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,a(m.$t("createdAt")),1),O(" "+a(m.formatDate(u.value.info.created_at)),1)])]),I(e("div",null,[(t(),q(_e,null,[I(v(ke,{"section-class":"work-grid",works:u.value.list,view:G,"manage-mode":c.manageMode,onFeedManageList:_},null,8,["works","manage-mode"]),[[P,!u.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:E[2]||(E[2]=T=>r())},a(m.$t("loadMore")),513),[[P,u.value.loadMore]])],512),[[P,!g.value]]),v(se,{loading:g.value,empty:u.value.empty,error:!1,fetch:i},null,8,["loading","empty"]),g.value?n("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[v(be,{ref_key:"albumModalViewRef",ref:H,section:B.value},null,8,["section"])],8,co)),I(v(de,{id:"item-removed-alert",text:m.$t("albums.itemRemoved")},null,8,["text"]),[[P,M.value]])]))}},vo=ee(mo,[["__scopeId","data-v-2ee448ae"]]),po={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},fo={class:"title"},ho=["name"],wo=["placeholder"],bo=["placeholder"],go=["for"],_o=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ko={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},yo=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),$o=[yo],xo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Mo=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Co=[Mo],Io={class:"ml-2"},Eo={class:"flex flex-row gap-2 justify-end mt-2"},Lo={type:"submit",class:"primary-button"},Ao={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(c,{expose:L,emit:k}){const d=c,{oApiConfiguration:A,fetchOptions:b}=Q(),x=ue(A,b()),{t:$}=pe(),g=h(!0),u=async l=>{if(l){U(),g.value=!0;const[_,M]=await x.getInfo(l),F=_.data;f.value.id=l,f.value.name=F.name,f.value.description=F.description,f.value.isPublic=!!F.is_public,g.value=!1}},i="update-album-form",f=h({id:0,name:"",description:"",isPublic:!1}),r=async()=>{ge().validate(i,$);const[l,_]=await x.update({id:f.value.id,name:f.value.name,description:f.value.description,isPublic:f.value.isPublic?1:0});_||(X().closeModal(d.modalId),k("updated",f.value),U())},U=()=>{f.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:u}),(l,_)=>(t(),o("div",null,[e("div",po,[e("div",null,[e("span",fo,a(l.$t("albums.edit.form.title")),1),g.value?n("",!0):(t(),o("form",{key:0,id:i,class:"mt-2",onSubmit:_[4]||(_[4]=J(M=>r(),["prevent"]))},[e("n-validate",{for:"title",name:l.$t("title")},[I(e("input",{"onUpdate:modelValue":_[0]||(_[0]=M=>f.value.name=M),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:l.$t("title")},null,8,wo),[[le,f.value.name]])],8,ho),I(e("textarea",{"onUpdate:modelValue":_[1]||(_[1]=M=>f.value.description=M),class:"form-input theme-color-secondary",placeholder:l.$t("description"),"data-gramm":"false"},null,8,bo),[[le,f.value.description]]),e("label",{for:f.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:_[2]||(_[2]=M=>f.value.isPublic=!f.value.isPublic)},[_o,f.value.isPublic?(t(),o("span",ko,$o)):n("",!0),f.value.isPublic?n("",!0):(t(),o("span",xo,Co))]),e("span",Io,a(l.$t("private")),1)],8,go),e("div",Eo,[e("button",{class:"cancel-button",onClick:_[3]||(_[3]=J(M=>l.closeModal(c.modalId),["prevent"]))},a(l.$t("cancel")),1),e("button",Lo,a(l.$t("save")),1)])],32))])])]))}},Te=""+globalThis.__buildAssetsURL("folder.11be08fa.png"),$e=c=>(fe("data-v-eccd717d"),c=c(),he(),c),Po={class:"mb-2"},Fo={key:0},So=$e(()=>e("img",{src:Te,class:"rounded"},null,-1)),To=[So],jo={key:1},Ro={class:"relative text-center"},Uo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Bo={class:"overflow-hidden rounded-md"},Oo=["src"],zo={key:2,class:"imgrid"},Vo={class:"relative text-center"},No={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Do={class:"overflow-hidden rounded-md"},qo=["src"],Ho=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Go=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Wo={key:3,class:"imgrid"},Jo={class:"relative text-center"},Ko={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Yo={class:"overflow-hidden rounded-md"},Qo=["src"],Xo={key:4,class:"imgrid"},Zo={class:"relative text-center"},el={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},tl={class:"overflow-hidden rounded-md"},ol=["src"],ll={key:5,class:"imgrid"},sl={key:0,class:"relative text-center"},al={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},nl={class:"overflow-hidden rounded-md"},il=["src"],rl={key:1,class:"relative text-center"},ul={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},dl={class:"overflow-hidden rounded-md"},cl=["src"],ml={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(c){const L=Z(),k={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,A)=>(t(),o("div",Po,[!c.album.album_has_artworks||c.album._count.album_has_artworks===0?(t(),o("div",Fo,To)):n("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===1?(t(),o("div",jo,[e("div",Ro,[d.applyExplicitFilter(w(L),c.album.album_has_artworks[0].artworks.is_explicit)?(t(),o("span",Uo,a(d.$t("explicitContent")),1)):n("",!0),e("div",Bo,[c.album.album_has_artworks&&c.album._count.album_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(c.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,c.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),c.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...b)=>d.imageLoadError&&d.imageLoadError(...b))},null,42,Oo)):n("",!0)])])])):n("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===2?(t(),o("div",zo,[(t(!0),o(K,null,Y(c.album.album_has_artworks,(b,x)=>(t(),o("div",{key:x,class:R(k[2][x])},[e("div",Vo,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",No,a(d.$t("explicitContent")),1)):n("",!0),e("div",Do,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,qo)])])],2))),128)),Ho,Go])):n("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===3?(t(),o("div",Wo,[(t(!0),o(K,null,Y(c.album.album_has_artworks,(b,x)=>(t(),o("div",{key:x,class:R(k[3][x])},[e("div",Jo,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",Ko,a(d.$t("explicitContent")),1)):n("",!0),e("div",Yo,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,Qo)])])],2))),128))])):n("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks===4?(t(),o("div",Xo,[(t(!0),o(K,null,Y(c.album.album_has_artworks,(b,x)=>(t(),o("div",{key:x},[e("div",Zo,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",el,a(d.$t("explicitContent")),1)):n("",!0),e("div",tl,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,ol)])])]))),128))])):n("",!0),c.album.album_has_artworks&&c.album._count.album_has_artworks>4?(t(),o("div",ll,[(t(!0),o(K,null,Y(c.album.album_has_artworks,(b,x)=>(t(),o("div",{key:x},[x<3?(t(),o("div",sl,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",al,a(d.$t("explicitContent")),1)):n("",!0),e("div",nl,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,il)])])):(t(),o("div",rl,[e("span",ul,"+"+a(c.album._count.album_has_artworks-4),1),e("div",dl,[e("img",{src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,cl)])]))]))),128))])):n("",!0)]))}},vl=ee(ml,[["__scopeId","data-v-eccd717d"]]),pl={class:"mb-2 w-full"},fl={key:0,class:"flex flex-row justify-between"},hl={class:"flex flex-row"},wl={key:0},bl={key:1,class:"flex flex-row justify-between"},gl={class:"flex flex-row"},_l={class:"flex flex-row gap-2"},kl={class:"flex flex-row gap-2"},yl={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},$l=["onClick"],xl={class:"flex flex-row pb-1 mt-4 font-bold"},Ml={class:"text-xs font-normal"},Cl={__name:"Album",props:{userId:{type:Number,default:0}},setup(c){const L=c,k=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),b=ue(d,A());we(()=>{r()});const x=h(!0),$=h("artwork"),g=h(0),u=h([]),i=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),f=h({artwork:0}),r=async()=>{x.value=!0;const[D,y,p]=await b.fetchAlbums(L.userId,$.value,i.value.pagination.page===0?i.value.pagination.firstLoad:i.value.pagination.perPage,i.value.pagination.page);if(p)F();else{D.length||(i.value.manageMode=!1,_()),D.forEach(j=>{u.value.push(j)}),i.value.pagination.page+=i.value.pagination.firstLoad/i.value.pagination.perPage,i.value.showLoadMore=y;const[z]=await b.countArtworkAlbums(L.userId);f.value.artwork=z}x.value=!1},U=async()=>await r(),l=h(!1),_=()=>{l.value=!0,i.value.showLoadMore=!1},M=h(!1),F=()=>{x.value=!1,M.value=!0,i.value.showLoadMore=!1},S=async()=>{x.value=!1,l.value=!1,M.value=!1,i.value.pagination.page=0,u.value=[],await r()},B=h(!1);let H;const G=async()=>{ce().splash(H,B,"created-alert"),await S()},m=h(null),E=()=>{m.value.fetch(g.value),X().openModal("album-edit-form-modal")},T=h(null),s=D=>{T.value.fetchInfo(),u.value.forEach(y=>{y.id===D.id&&(y.name=D.name,y.description=D.description,y.is_public=D.isPublic)})},V=()=>{T.value.removeItems()},N=h([]),te=D=>{N.value=D},oe=async()=>{if(g.value!==0){const[D,y]=await b.deleteAlbum(g.value);D&&(g.value=0,S())}},ae=D=>{i.value.showManageButton=!D,i.value.manageMode=!1},ne=()=>{g.value=0,i.value.showManageButton=!1,i.value.manageMode=!1};return(D,y)=>(t(),o("div",null,[e("div",pl,[g.value?n("",!0):(t(),o("div",fl,[e("div",hl,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":$.value==="artwork"}]),onClick:y[0]||(y[0]=p=>$.value="artwork")},[O(a(D.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",$.value==="artwork"?"theme-color":"button-color text-white"])},a(f.value.artwork),3)],2)]),w(k).loggedIn&&w(k).user.id===c.userId?(t(),o("div",wl,[e("div",{class:"icon-button",onClick:y[1]||(y[1]=p=>D.openModal("album-form-modal"))},[v(C,{name:"i-ion-add-outline"})])])):n("",!0)])),g.value?(t(),o("div",bl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:y[2]||(y[2]=p=>ne())},[v(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",gl,[I(e("div",_l,[e("button",{class:"action-button secondary-button",onClick:y[3]||(y[3]=p=>i.value.manageMode=!i.value.manageMode)},[v(C,{name:i.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(i.value.manageMode?D.$t("quit"):D.$t("manage")),1)]),I(e("button",{class:R(["flex flex-row",N.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:y[4]||(y[4]=p=>N.value.length>0?D.openModal("item-deletion-confirm-modal"):null)},[v(C,{name:"i-akar-icons-trash-bin"}),O(" "+a(D.$t("albums.removeSelected")),1)],2),[[P,i.value.manageMode]])],512),[[P,w(k).loggedIn&&w(k).user.id===c.userId&&i.value.showManageButton]]),I(e("div",kl,[e("button",{class:"icon-button",onClick:y[5]||(y[5]=p=>E())},[v(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:y[6]||(y[6]=p=>D.openModal("album-deletion-confirm-modal"))},[v(C,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(k).loggedIn&&w(k).user.id===c.userId&&!i.value.manageMode]])])])):n("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(D.$t("albums.manageModeActiveMessage")),513),[[P,i.value.manageMode]])]),g.value?n("",!0):(t(),o("div",yl,[(t(!0),o(K,null,Y(u.value,p=>(t(),o("div",{key:p.id,class:R(["p-3 rounded-md cursor-pointer",p.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:z=>g.value=p.id},[p.type==="artwork"?(t(),q(vl,{key:0,album:p},null,8,["album"])):n("",!0),e("div",xl,[p.is_public?n("",!0):(t(),q(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",Ml,a(p.name),1)])],10,$l))),128))])),i.value.showLoadMore&&!g.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:U},a(D.$t("loadMore")),1)):n("",!0),v(se,{loading:x.value,empty:l.value,error:M.value,fetch:r},null,8,["loading","empty","error"]),!x.value&&!g.value?(t(),q(lo,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:$.value,class:"modal",onCreated:G},null,8,["category"])):n("",!0),I(v(de,{id:"created-alert",text:D.$t("albums.created")},null,8,["text"]),[[P,B.value]]),!x.value&&g.value?(t(),q(Ao,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:m,"modal-id":"album-edit-form-modal","album-id":g.value,class:"modal",onUpdated:s},null,8,["album-id"])):n("",!0),v(ie,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:oe},null,8,["message"]),v(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:V},null,8,["message"]),g.value&&!x.value?(t(),q(vo,{key:4,id:g.value,ref_key:"albumDetailRef",ref:T,"manage-mode":i.value.manageMode,onOnAlbumEmpty:ae,onFeedManageList:te},null,8,["id","manage-mode"])):n("",!0)]))}},Il=ee(Cl,[["__scopeId","data-v-7bee1255"]]),El=O(" PRO "),xe={__name:"ProBadge",setup(c){const L=Z();return(k,d)=>{const A=re;return w(L).i502p00r0?n("",!0):(t(),q(A,{key:0,to:"/pro",class:"py-1 px-2 font-bold text-black align-middle bg-yellow-200 rounded-md text-xxs hover:text-black"},{default:W(()=>[El]),_:1}))}}},Ll={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Al={class:"title"},Pl=["placeholder"],Fl=["placeholder"],Sl=["for"],Tl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),jl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Rl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Ul=[Rl],Bl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Ol=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),zl=[Ol],Vl={class:"flex flex-row gap-x-1"},Nl={class:"flex flex-row gap-2 justify-end mt-2"},Dl={type:"submit",class:"primary-button"},ql={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(c,{emit:L}){const k=c,d=Z(),{oApiConfiguration:A,fetchOptions:b}=Q(),x=me(A,b()),{t:$}=pe(),g="create-collection-form",u=h({title:"",description:"",isPublic:1,category:"artwork"}),i=async()=>{ge().validate(g,$);try{let f=!1,r={};if(k.category){const[U,l,_]=await x.createCollection(k.category,u.value);_||(f=U,r=l)}f&&(X().closeModal(k.modalId),L("created",r))}catch{}};return(f,r)=>(t(),o("div",null,[e("div",Ll,[e("div",null,[e("span",Al,a(f.$t("collections.create.form.title")),1),e("form",{id:g,class:"mt-2",onSubmit:r[4]||(r[4]=J(U=>i(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":r[0]||(r[0]=U=>u.value.title=U),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:f.$t("title")},null,8,Pl),[[le,u.value.title]])]),I(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=U=>u.value.description=U),class:"form-input theme-color-secondary",placeholder:f.$t("description"),"data-gramm":"false"},null,8,Fl),[[le,u.value.description]]),e("label",{for:u.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:r[2]||(r[2]=U=>w(d).i502p00r0?u.value.isPublic=!u.value.isPublic:u.value.isPublic=!0)},[Tl,u.value.isPublic?(t(),o("span",jl,Ul)):n("",!0),u.value.isPublic?n("",!0):(t(),o("span",Bl,zl))]),e("div",Vl,[e("span",{class:R(["ml-2",{"leading-6":!w(d).i502p00r0}])},a(f.$t("private")),3),v(xe)])],8,Sl),e("div",Nl,[e("button",{class:"cancel-button",onClick:r[3]||(r[3]=J(U=>f.closeModal(c.modalId),["prevent"]))},a(f.$t("cancel")),1),e("button",Dl,a(f.$t("create")),1)])],32)])])]))}},Hl={id:"lists"},Gl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Wl={class:"text-base font-bold mb-2"},Jl={class:"mb-2"},Kl=O(),Yl={class:"italic"},Ql=["id"],Xl={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(c,{expose:L,emit:k}){const d=c,{oApiConfiguration:A,fetchOptions:b}=Q(),x=me(A,b()),$=h(d.id);Pe(()=>d.id,(m,E)=>{$.value=m});const g=h(!0),u=h({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),i=async()=>{g.value=!0,await f(),await r(),g.value=!1},f=async()=>{const[m,E]=await x.getInfo($.value);u.value.info=m.data},r=async()=>{const[m,E,T]=await x.listCollectionItems({collectionId:$.value,pagination:{page:u.value.pagination.page,perPage:u.value.pagination.page===0?u.value.pagination.firstLoad:u.value.pagination.perPage}});E?u.value.pagination.page===0?u.value.pagination.page=u.value.pagination.firstLoad/u.value.pagination.perPage:u.value.pagination.page+=u.value.pagination.page!==0?1:2:u.value.loadMore=!1,m!==null&&m.length?(m.forEach(s=>{u.value.list.push(s.artworks)}),k("onCollectionEmpty",!1)):(u.value.empty=!0,k("onCollectionEmpty",!0))},U=()=>{u.value.loadMore=!0,u.value.pagination.page=0,u.value.list=[]},l=h([]),_=m=>{l.value=m,k("feedManageList",m)},M=h(!1);let F;const S=async()=>{const[m,E]=await x.removeItem({collectionId:d.id,type:d.type,workId:l.value});E||(ce().splash(F,M,"item-removed-alert"),U(),await i(),k("feedManageList",[]))},B=h("collection"),H=h(null),G=(m,E=!1)=>{H.value.view(m,E),X().openModal(B.value+"-modal")};return L({fetchInfo:f,removeItem:S}),(m,E)=>(t(),o("div",Hl,[e("div",{class:"hidden",onClick:E[0]||(E[0]=T=>f())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=T=>S())}),e("div",Gl,[e("div",Wl,a(u.value.info.name),1),e("div",Jl,a(u.value.info.description),1),e("div",null,[e("b",null,a(m.$t("private"))+":",1),Kl,e("span",Yl,a(u.value.info.is_public?m.$t("no"):m.$t("yes")),1)]),e("div",null,[e("b",null,a(m.$t("createdAt")),1),O(" "+a(m.formatDate(u.value.info.created_at)),1)])]),I(e("div",null,[(t(),q(_e,null,[I(v(ke,{"section-class":"work-grid",works:u.value.list,view:G,"manage-mode":c.manageMode,onFeedManageList:_},null,8,["works","manage-mode"]),[[P,!u.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:E[2]||(E[2]=T=>r())},a(m.$t("loadMore")),513),[[P,u.value.loadMore]])],512),[[P,!g.value]]),v(se,{loading:g.value,empty:u.value.empty,error:!1,fetch:i},null,8,["loading","empty"]),g.value?n("",!0):(t(),o("div",{key:0,id:B.value+"-modal",class:"modal work-view"},[v(be,{ref_key:"collectionModalViewRef",ref:H,section:B.value},null,8,["section"])],8,Ql)),I(v(de,{id:"item-removed-alert",text:m.$t("collections.itemRemoved")},null,8,["text"]),[[P,M.value]])]))}},Zl=ee(Xl,[["__scopeId","data-v-28a81b65"]]),es={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},ts={class:"title"},os=["placeholder"],ls=["placeholder"],ss=["for"],as=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),ns={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},is=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),rs=[is],us={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},ds=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),cs=[ds],ms={class:"flex flex-row gap-x-1"},vs={class:"ml-2"},ps={class:"flex flex-row gap-2 justify-end mt-2"},fs={type:"submit",class:"primary-button"},hs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(c,{expose:L,emit:k}){const d=c,A=Z(),{t:b}=pe(),{oApiConfiguration:x,fetchOptions:$}=Q(),g=me(x,$()),u=h(!0),i=async _=>{if(_){l(),u.value=!0;const[M,F]=await g.getInfo(_);if(!F){const S=M.data;r.value.id=_,r.value.name=S.name,r.value.description=S.description,r.value.isPublic=!!S.is_public,u.value=!1}}},f="edit-collection-form",r=h({id:0,name:"",description:"",isPublic:!1}),U=async()=>{ge().validate(f,b);const[_,M]=await g.update({id:r.value.id,name:r.value.name,description:r.value.description,isPublic:r.value.isPublic?1:0});M||(X().closeModal(d.modalId),k("updated",r.value),l())},l=()=>{r.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:i}),(_,M)=>(t(),o("div",null,[e("div",{class:"hidden",onClick:M[0]||(M[0]=F=>i(0))}),e("div",es,[e("div",null,[e("span",ts,a(_.$t("collections.edit.form.title")),1),u.value?n("",!0):(t(),o("form",{key:0,id:f,class:"mt-2",onSubmit:M[5]||(M[5]=J(F=>U(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":M[1]||(M[1]=F=>r.value.name=F),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:_.$t("title")},null,8,os),[[le,r.value.name]])]),I(e("textarea",{"onUpdate:modelValue":M[2]||(M[2]=F=>r.value.description=F),class:"form-input theme-color-secondary",placeholder:_.$t("description"),"data-gramm":"false"},null,8,ls),[[le,r.value.description]]),e("label",{for:r.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:M[3]||(M[3]=F=>w(A).i502p00r0?r.value.isPublic=!r.value.isPublic:r.value.isPublic=!0)},[as,r.value.isPublic?(t(),o("span",ns,rs)):n("",!0),r.value.isPublic?n("",!0):(t(),o("span",us,cs))]),e("div",ms,[e("span",vs,a(_.$t("private")),1),v(xe)])],8,ss),e("div",ps,[e("button",{class:"cancel-button",onClick:M[4]||(M[4]=J(F=>_.closeModal(c.modalId),["prevent"]))},a(_.$t("cancel")),1),e("button",fs,a(_.$t("save")),1)])],32))])])]))}},Me=c=>(fe("data-v-a484fb7b"),c=c(),he(),c),ws={class:"mb-2"},bs={key:0},gs=Me(()=>e("img",{src:Te,class:"rounded"},null,-1)),_s=[gs],ks={key:1},ys={class:"relative text-center"},$s={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},xs={class:"overflow-hidden rounded-md"},Ms=["src"],Cs={key:2,class:"imgrid"},Is={class:"relative text-center"},Es={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ls={class:"overflow-hidden rounded-md"},As=["src"],Ps=Me(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Fs=Me(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Ss={key:3,class:"imgrid"},Ts={class:"relative text-center"},js={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Rs={class:"overflow-hidden rounded-md"},Us=["src"],Bs={key:4,class:"imgrid"},Os={class:"relative text-center"},zs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Vs={class:"overflow-hidden rounded-md"},Ns=["src"],Ds={key:5,class:"imgrid"},qs={key:0,class:"relative text-center"},Hs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Gs={class:"overflow-hidden rounded-md"},Ws=["src"],Js={key:1,class:"relative text-center"},Ks={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Ys={class:"overflow-hidden rounded-md"},Qs=["src"],Xs={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(c){const L=Z(),k={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,A)=>(t(),o("div",ws,[!c.collection.collection_has_artworks||c.collection._count.collection_has_artworks===0?(t(),o("div",bs,_s)):n("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===1?(t(),o("div",ks,[e("div",ys,[d.applyExplicitFilter(w(L),c.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),o("span",$s,a(d.$t("explicitContent")),1)):n("",!0),e("div",xs,[c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(c.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,c.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:R(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),c.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...b)=>d.imageLoadError&&d.imageLoadError(...b))},null,42,Ms)):n("",!0)])])])):n("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===2?(t(),o("div",Cs,[(t(!0),o(K,null,Y(c.collection.collection_has_artworks,(b,x)=>(t(),o("div",{key:x,class:R(k[2][x])},[e("div",Is,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",Es,a(d.$t("explicitContent")),1)):n("",!0),e("div",Ls,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,As)])])],2))),128)),Ps,Fs])):n("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===3?(t(),o("div",Ss,[(t(!0),o(K,null,Y(c.collection.collection_has_artworks,(b,x)=>(t(),o("div",{key:x,class:R(k[3][x])},[e("div",Ts,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",js,a(d.$t("explicitContent")),1)):n("",!0),e("div",Rs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,Us)])])],2))),128))])):n("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks===4?(t(),o("div",Bs,[(t(!0),o(K,null,Y(c.collection.collection_has_artworks,(b,x)=>(t(),o("div",{key:x},[e("div",Os,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",zs,a(d.$t("explicitContent")),1)):n("",!0),e("div",Vs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,Ns)])])]))),128))])):n("",!0),c.collection.collection_has_artworks&&c.collection._count.collection_has_artworks>4?(t(),o("div",Ds,[(t(!0),o(K,null,Y(c.collection.collection_has_artworks,(b,x)=>(t(),o("div",{key:x},[x<3?(t(),o("div",qs,[d.applyExplicitFilter(w(L),b.artworks.is_explicit)?(t(),o("span",Hs,a(d.$t("explicitContent")),1)):n("",!0),e("div",Gs,[e("img",{class:R(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,Ws)])])):(t(),o("div",Js,[e("span",Ks,"+"+a(c.collection._count.collection_has_artworks-4),1),e("div",Ys,[e("img",{src:d.artworkThumb(b.artworks.artwork_assets[0].bucket,b.artworks.artwork_assets[0].filename,"thumbnail"),class:R(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),b.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...$)=>d.imageLoadError&&d.imageLoadError(...$))},null,42,Qs)])]))]))),128))])):n("",!0)]))}},Zs=ee(Xs,[["__scopeId","data-v-a484fb7b"]]),ea={class:"mb-2 w-full"},ta={key:0,class:"flex flex-row justify-between"},oa={class:"flex flex-row"},la={key:0},sa={key:1,class:"flex flex-row justify-between"},aa={class:"flex flex-row"},na={class:"flex flex-row gap-2"},ia={class:"flex flex-row gap-2"},ra={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ua=["onClick"],da={class:"flex flex-row pb-1 mt-4 font-bold"},ca={class:"text-xs font-normal"},ma={__name:"Collection",props:{userId:{type:Number,default:0}},setup(c){const L=c,k=Z();we(()=>{l()});const{oApiConfiguration:d,fetchOptions:A}=Q(),b=me(d,A());Ae(()=>{i()});const x=h(!0),$=h("artwork"),g=h(0),u=h(!1),i=async()=>{const[p,z]=await b.proCanCreateCollection({type:$.value});z?u.value=!1:u.value=p},f=h([]),r=h({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),U=h({artwork:0}),l=async()=>{x.value=!0;const[p,z,j]=await b.fetchCollections({userId:L.userId,type:$.value,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.page===0?r.value.pagination.firstLoad:r.value.pagination.perPage}});if(j)B();else{p.length||(r.value.manageMode=!1,F()),p.forEach(je=>{f.value.push(je)}),r.value.pagination.page+=r.value.pagination.firstLoad/r.value.pagination.perPage,r.value.showLoadMore=z;const[Ce]=await b.countArtworkCollections(L.userId);U.value.artwork=Ce}x.value=!1},_=async()=>await l(),M=h(!1),F=()=>{M.value=!0,r.value.showLoadMore=!1},S=h(!1),B=()=>{x.value=!1,S.value=!0,r.value.showLoadMore=!1},H=async()=>{x.value=!1,M.value=!1,S.value=!1,r.value.pagination.page=0,f.value=[],await l()},G=p=>{r.value.showManageButton=!0,p&&(r.value.showManageButton=!1)},m=h(!1);let E;const T=async()=>{await i(),ce().splash(E,m,"created-alert"),await H()},s=h(null),V=()=>{s.value.fetch(g.value),X().openModal("collection-edit-form-modal")},N=h(null),te=p=>{N.value.fetchInfo(),f.value.forEach(z=>{z.id===p.id&&(z.name=p.name,z.description=p.description,z.is_public=p.isPublic)})},oe=h([]),ae=p=>{oe.value=p},ne=()=>{N.value.removeItem()},D=async()=>{if(g.value!==0){const[p,z]=await b.deleteCollection(g.value);p&&(await i(),g.value=0,H())}},y=()=>{g.value=0,r.value.showManageButton=!1,r.value.manageMode=!1};return(p,z)=>(t(),o("div",null,[e("div",ea,[g.value?n("",!0):(t(),o("div",ta,[e("div",oa,[e("div",{class:R(["ml-0 primary-button theme-color-secondary",{"button-color text-white":$.value==="artwork"}]),onClick:z[0]||(z[0]=j=>$.value="artwork")},[O(a(p.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 font-normal rounded",$.value==="artwork"?"theme-color":"button-color text-white"])},a(U.value.artwork),3)],2)]),w(k).loggedIn&&w(k).user.id===c.userId?(t(),o("div",la,[e("div",{class:"flex flex-row icon-button",onClick:z[1]||(z[1]=j=>u.value?p.openModal("collection-form-modal"):null)},[v(C,{name:"i-ion-add-outline"}),u.value?n("",!0):(t(),q(xe,{key:0,class:"ml-1"}))])])):n("",!0)])),g.value?(t(),o("div",sa,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:z[2]||(z[2]=j=>y())},[v(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",aa,[I(e("div",na,[e("button",{class:"action-button secondary-button",onClick:z[3]||(z[3]=j=>r.value.manageMode=!r.value.manageMode)},[v(C,{name:r.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(r.value.manageMode?p.$t("quit"):p.$t("manage")),1)]),I(e("button",{class:R(["flex flex-row",oe.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:z[4]||(z[4]=j=>oe.value.length>0?p.openModal("item-deletion-confirm-modal"):null)},[v(C,{name:"i-akar-icons-trash-bin"}),O(" "+a(p.$t("collections.removeSelected")),1)],2),[[P,r.value.manageMode]])],512),[[P,w(k).loggedIn&&w(k).user.id===c.userId&&r.value.showManageButton]]),I(e("div",ia,[e("button",{class:"icon-button",onClick:z[5]||(z[5]=j=>V())},[v(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:z[6]||(z[6]=j=>p.openModal("collection-deletion-confirm-modal"))},[v(C,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(k).loggedIn&&w(k).user.id===c.userId&&!r.value.manageMode]])])])):n("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},a(p.$t("collections.manageModeActiveMessage")),513),[[P,r.value.manageMode]])]),g.value?n("",!0):(t(),o("div",ra,[(t(!0),o(K,null,Y(f.value,j=>(t(),o("div",{key:j.id,class:R(["p-3 rounded-md cursor-pointer",j.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:Ce=>g.value=j.id},[j.type==="artwork"?(t(),q(Zs,{key:0,collection:j},null,8,["collection"])):n("",!0),e("div",da,[j.is_public?n("",!0):(t(),q(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",ca,a(j.name),1)])],10,ua))),128))])),r.value.showLoadMore&&!g.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:_},a(p.$t("loadMore")),1)):n("",!0),v(se,{loading:x.value,empty:M.value,error:S.value,fetch:l},null,8,["loading","empty","error"]),!x.value&&!g.value?(t(),q(ql,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:$.value,class:"modal",onCreated:T},null,8,["category"])):n("",!0),I(v(de,{id:"created-alert",text:p.$t("collections.created")},null,8,["text"]),[[P,m.value]]),!x.value&&g.value?(t(),q(hs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:s,"modal-id":"collection-edit-form-modal","collection-id":g.value,class:"modal",onUpdated:te},null,8,["collection-id"])):n("",!0),v(ie,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:D},null,8,["message"]),v(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:ne},null,8,["message"]),g.value&&!x.value?(t(),q(Zl,{key:4,id:g.value,ref_key:"collectionDetailRef",ref:N,"manage-mode":r.value.manageMode,type:$.value,onOnCollectionEmpty:G,onFeedManageList:ae},null,8,["id","manage-mode","type"])):n("",!0)]))}},va=ee(ma,[["__scopeId","data-v-c63e6fa4"]]),pa={class:"text-lg font-bold"},fa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},ha={class:"flex flex-row w-full"},wa=["src"],ba={class:"flex flex-col justify-between p-3 w-full text-white"},ga={class:"flex flex-col"},_a={class:"font-bold"},ka={class:"text-xxs"},ya={class:"flex flex-row w-full"},$a={key:0,class:"flex flex-row"},xa=["onClick"],Ma=["onMouseover","onClick"],Ca={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(c){const L=c,k=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),b=ye(d,A());we(()=>{r()});const x=h([]),$=h(!0),g=h({page:0,perPage:12}),u=h(!1),i=h(!1),f=h(!1),r=async()=>{U(),$.value=!0;const[_,M]=await b.getFollowerList({userId:L.userId,pagination:{page:g.value.page,perPage:g.value.perPage}});M?u.value=!0:(_.followers.length||(i.value=!0),_.followers.forEach(F=>{x.value.push(F)}),g.value.page+=1,_.pagination.next_previous.next_page?f.value=!0:f.value=!1),$.value=!1},U=()=>{i.value=!1,u.value=!1},l=h(0);return(_,M)=>{const F=re;return t(),o("div",null,[e("div",pa,a(_.$t("followers")),1),e("div",fa,[(t(!0),o(K,null,Y(x.value,(S,B)=>(t(),q(F,{key:S.id,to:"/profile/"+S.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(S.cover_bucket&&S.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+_.avatarCoverUrl(S.cover_bucket,S.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Le)+");background-size:cover;")},{default:W(()=>[e("div",ha,[e("img",{src:_.avatarCoverUrl(S.avatar_bucket,S.avatar_filename),class:"avatar",onError:M[0]||(M[0]=(...H)=>_.imageLoadError&&_.imageLoadError(...H))},null,40,wa),e("div",ba,[e("div",ga,[e("span",_a,a(S.name),1),e("span",ka,a(S.pen_name),1)]),e("div",ya,[w(k).loggedIn&&S.id!==w(k).user.id?(t(),o("div",$a,[I(e("div",{class:"flex flex-row",onClick:J(H=>_.followUser(B,S.id),["prevent"])},[v(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,xa),[[P,!S.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:H=>l.value=S.id,onMouseout:M[1]||(M[1]=H=>l.value=0),onClick:J(H=>_.unfollowUser(B,S.id),["prevent"])},[I(v(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,l.value!==S.id]]),I(v(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,l.value&&l.value===S.id]])],40,Ma),[[P,S.is_following]])])):n("",!0)])])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"mt-4 primary-button",onClick:M[2]||(M[2]=S=>r())},a(_.$t("loadMore")),513),[[P,f.value]]),v(se,{loading:$.value,empty:i.value,error:u.value,fetch:r},null,8,["loading","empty","error"])])}}},Ia=ee(Ca,[["__scopeId","data-v-b2599f1b"]]),Ea={class:"text-lg font-bold"},La={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},Aa={class:"flex flex-row w-full"},Pa=["src"],Fa={class:"flex flex-col justify-between p-3 w-full text-white"},Sa={class:"flex flex-col"},Ta={class:"font-bold"},ja={class:"text-xxs"},Ra={class:"flex flex-row w-full"},Ua={key:0,class:"flex flex-row"},Ba=["onClick"],Oa=["onMouseover","onClick"],za={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(c){const L=c,k=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),b=ye(d,A());we(()=>{U()});const x=async()=>{$.value=[],u.value.page=0,await U()},$=h([]),g=h(!0),u=h({page:0,perPage:12}),i=h(!1),f=h(!1),r=h(!1),U=async()=>{l(),g.value=!0;const[M,F]=await b.getFollowingList({userId:L.userId,pagination:{page:u.value.page,perPage:u.value.perPage}});F?i.value=!0:(M.followings.length||(f.value=!0),M.followings.forEach(S=>{$.value.push(S)}),u.value.page+=1,M.pagination.next_previous.next_page?r.value=!0:r.value=!1),g.value=!1},l=()=>{f.value=!1,i.value=!1},_=h(0);return(M,F)=>{const S=re;return t(),o("div",null,[e("div",Ea,a(M.$t("followings")),1),e("div",La,[(t(!0),o(K,null,Y($.value,(B,H)=>(t(),q(S,{key:B.id,to:"/profile/"+B.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Fe(B.cover_bucket&&B.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+M.avatarCoverUrl(B.cover_bucket,B.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Le)+");background-size:cover;")},{default:W(()=>[e("div",Aa,[e("img",{src:M.avatarCoverUrl(B.avatar_bucket,B.avatar_filename),class:"avatar",onError:F[0]||(F[0]=(...G)=>M.imageLoadError&&M.imageLoadError(...G))},null,40,Pa),e("div",Fa,[e("div",Sa,[e("span",Ta,a(B.name),1),e("span",ja,a(B.pen_name),1)]),e("div",Ra,[w(k).loggedIn&&B.id!==w(k).user.id?(t(),o("div",Ua,[I(e("div",{class:"flex flex-row",onClick:J(G=>M.followUser(H,B.id),["prevent"])},[v(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ba),[[P,!B.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:G=>_.value=B.id,onMouseout:F[1]||(F[1]=G=>_.value=0),onClick:J(G=>M.unfollowUser(H,B.id),["prevent"])},[I(v(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,_.value!==B.id]]),I(v(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,_.value&&_.value===B.id]])],40,Oa),[[P,B.is_following]])])):n("",!0)])])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"primary-button mt-4",onClick:F[2]||(F[2]=B=>U())},a(M.$t("loadMore")),513),[[P,r.value]]),v(se,{loading:g.value,empty:f.value,error:i.value,fetch:x},null,8,["loading","empty","error"])])}}},Va=ee(za,[["__scopeId","data-v-5ff9c687"]]),Na=c=>(fe("data-v-bafd430f"),c=c(),he(),c),Da=["src"],qa={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},Ha={class:"flex-row justify-between hidden-md-flex"},Ga={class:"mr-6 w-1/5"},Wa=["src"],Ja={class:"mt-2"},Ka={class:"flex flex-row"},Ya={class:"flex flex-row"},Qa=O("\xA0 "),Xa=O("\xA0 "),Za={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},en={class:"flex flex-col w-full"},tn={class:"flex flex-row w-full"},on={class:"w-9/12"},ln={class:"text-base font-semibold"},sn=O("\xA0 "),an={class:"mr-2 italic"},nn={class:"flex flex-row mt-2"},rn={key:0,class:"mr-1"},un={class:"flex flex-row"},dn={class:"mr-1"},cn={key:0,class:"flex flex-row"},mn=O(" he/his "),vn={key:1,class:"flex flex-row"},pn=O(" she/her "),fn={class:"float-right w-3/12 text-right"},hn={class:"flex flex-row shadow-md primary-button"},wn={class:"leading-4"},bn={key:1,class:"mt-4"},gn=["href"],_n=["href"],kn=["href"],yn=["href"],$n=["href"],xn={key:0,class:"mt-4"},Mn=["id","innerHTML"],Cn=["id"],In={class:"flex flex-col text-center md:hidden"},En=["src"],Ln={class:"mt-4 text-base font-semibold"},An={class:"flex flex-row justify-center mt-4"},Pn={key:0,class:"flex flex-row mr-1"},Fn={class:"mr-1"},Sn={key:0,class:"flex flex-row"},Tn=O(" he/his "),jn={key:1,class:"flex flex-row"},Rn=O(" she/her "),Un={key:0,class:"mx-2 mt-4 text-center"},Bn=["id","innerHTML"],On=["id"],zn={key:1,class:"flex flex-row justify-center mt-4"},Vn=["href"],Nn=["href"],Dn=["href"],qn=["href"],Hn=["href"],Gn={class:"flex flex-row justify-center w-full md:hidden"},Wn=O("\xA0 "),Jn=O("\xA0 "),Kn={class:"flex flex-row"},Yn={class:"flex flex-row"},Qn={class:"mt-2"},Xn={class:"flex flex-row justify-center md:hidden"},Zn={class:"flex flex-row justify-between mt-2 md:mt-6"},ei={class:"hidden flex-col lg:w-1/5 md:flex"},ti={class:"profile-navigation_wrapper"},oi={class:"hidden-lg-flex"},li=Na(()=>e("span",{class:"hidden-lg-flex"},null,-1)),si={class:"profile-navigation_wrapper"},ai={class:"hidden-lg-flex"},ni={class:"hidden-lg-flex"},ii={class:"profile-navigation_wrapper"},ri={class:"hidden-lg-flex"},ui={class:"hidden-lg-flex"},di={class:"w-full md:ml-6"},ci={key:0},mi={class:"flex flex-row w-full"},vi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},pi={key:1},fi={key:2},hi={key:3},wi={key:4},bi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(c){const L=c,k=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),b=ye(d,A());ue(d,A()),me(d,A());const x=Ue(),$=Ee(),{o:g}=x.query,u=h(!0),i=g!=null?h(g):h("dashboard"),f=h("artwork");Be(()=>L.userLogon&&k.loggedIn?k.user.id:L.id);const r=h({manageMode:!1,showManageMode:!0}),U=y=>{i.value=y,r.value.manageMode=!1,g!=null&&$.push("/profile")},l=h({}),_=h({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),M=h(null),F=h([]),S=y=>{F.value=y},B=()=>{r.value.showManageMode=!1},H=h(null),G=()=>{X().openModal("album-selection-modal")},m=h(!1);let E;const T=()=>{ce().splash(E,m,"item-added-to-album-alert")},s=h(!1),V=h(null),N=h("i-ri-user-follow-fill"),te=(y,p)=>{N.value=y,V.value=p},oe=async y=>{const[p,z]=await b.follow(y);z||(s.value=!0)},ae=async y=>{const[p,z]=await b.unfollow(y);z||(s.value=!1)},ne=h(!0),D=(y,p,z,j)=>{ne.value=!1,Se().readMore(y,p,z,j)};return(y,p)=>{const z=re;return t(),q(Ve,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:W(()=>[e("div",null,[e("img",{src:y.avatarCoverUrl(l.value.cover_bucket,l.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:p[0]||(p[0]=(...j)=>y.defaultCoverImage&&y.defaultCoverImage(...j))},null,40,Da),w(k).loggedIn&&w(k).user.id===l.value.id?(t(),q(z,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:W(()=>[v(C,{name:"i-ph-gear-six"})]),_:1})):n("",!0)]),e("div",qa,[e("div",Ha,[e("div",Ga,[e("img",{src:y.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:p[1]||(p[1]=(...j)=>y.defaultCoverImage&&y.defaultCoverImage(...j))},null,40,Wa),e("div",Ja,[w(k).loggedIn&&l.value.id!==w(k).user.id?(t(),o("div",{key:0,class:R(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":s.value}]),onClick:p[2]||(p[2]=j=>s.value?ae(l.value.id):oe(l.value.id)),onMouseover:p[3]||(p[3]=j=>te("i-ri-user-unfollow-fill",y.$t("unfollow"))),onMouseleave:p[4]||(p[4]=j=>te("i-ri-user-follow-fill",y.$t("following")))},[I(e("div",Ka,[v(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(y.$t("follow")),1)],512),[[P,!s.value]]),I(e("div",Ya,[v(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(V.value===null?y.$t("following"):V.value),1)],512),[[P,s.value]])],34)):n("",!0),e("div",{class:R(["flex-row justify-center border hidden-md-flex",l.value.id==w(k).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:p[5]||(p[5]=j=>i.value="followerList")},[e("b",null,a(_.value.followers),1),Qa,e("i",null,a(y.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:p[6]||(p[6]=j=>i.value="followingList")},[e("b",null,a(_.value.followings),1),Xa,e("i",null,a(y.$t("following").toLowerCase()),1)])],2)])]),e("div",Za,[e("div",en,[e("div",tn,[e("div",on,[e("div",null,[e("span",ln,a(l.value.name),1),sn,e("span",an,a(l.value.username),1)]),e("div",nn,[l.value.pen_name&&l.value.pen_name!==""?(t(),o("div",rn,[e("span",un,[v(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name),1)])])):n("",!0),e("div",dn,[l.value.gender==="m"?(t(),o("span",cn,[v(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),mn])):n("",!0),l.value.gender==="f"?(t(),o("span",vn,[v(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),pn])):n("",!0)])])]),e("div",fn,[w(k).loggedIn&&w(k).user.id===l.value.id?(t(),q(z,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:W(()=>[e("button",hn,[v(C,{name:"i-ph-gear-six",class:"mr-2"}),e("span",wn,a(y.$t("profile.setting")),1)])]),_:1})):n("",!0),l.value.user_socials?(t(),o("div",bn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,gn)):n("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,_n)):n("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,kn)):n("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,yn)):n("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"heart",class:"text-xl"})],8,$n)):n("",!0)])):n("",!0)])]),e("div",null,[l.value.bio?(t(),o("p",xn,[e("div",{id:"user-bio-"+l.value.id,innerHTML:l.value.bio.length>300?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Mn),l.value.bio.length>300?(t(),o("a",{key:0,id:"user-bio-read-more-"+l.value.id,class:"href",onClick:p[7]||(p[7]=J(j=>D(l.value.bio,l.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},a(y.$t("readMore")),9,Cn)):n("",!0)])):n("",!0)])])])]),e("div",In,[e("img",{src:y.avatarCoverUrl(l.value.avatar_bucket,l.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:p[8]||(p[8]=(...j)=>y.imageLoadError&&y.imageLoadError(...j))},null,40,En),e("div",Ln,a(l.value.name),1),e("div",null,a(l.value.username),1),e("div",An,[l.value.pen_name?(t(),o("span",Pn,[v(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+a(l.value.pen_name&&l.value.pen_name!==""?l.value.pen_name:"-"),1)])):n("",!0),e("div",Fn,[l.value.gender==="m"?(t(),o("span",Sn,[v(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Tn])):n("",!0),l.value.gender==="f"?(t(),o("span",jn,[v(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),Rn])):n("",!0)])]),l.value.bio?(t(),o("div",Un,[e("div",{id:"mobile__user-bio-"+l.value.id,innerHTML:l.value.bio.length>150?`${l.value.bio.slice(0,300)}...`:l.value.bio},null,8,Bn),l.value.bio.length>150?(t(),o("a",{key:0,id:"mobile__user-bio-read-more-"+l.value.id,class:"href",onClick:p[9]||(p[9]=J(j=>D(l.value.bio,l.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},a(y.$t("readMore")),9,On)):n("",!0)])):n("",!0),l.value.user_socials?(t(),o("div",zn,[l.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+l.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,Vn)):n("",!0),l.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+l.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Nn)):n("",!0),l.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+l.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Dn)):n("",!0),l.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+l.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,qn)):n("",!0),l.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+l.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[v(C,{name:"i-ri-heart-3-line",class:"text-xl"})],8,Hn)):n("",!0)])):n("",!0),e("div",Gn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:p[10]||(p[10]=j=>i.value="followerList")},[e("b",null,a(_.value.followers),1),Wn,e("i",null,a(y.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:p[11]||(p[11]=j=>i.value="followingList")},[e("b",null,a(_.value.followings),1),Jn,e("i",null,a(y.$t("following")),1)])]),w(k).loggedIn&&l.value.id!==w(k).user.id?(t(),o("div",{key:2,class:R(["mt-2 w-auto",s.value?"danger-button":"primary-button"]),onClick:p[12]||(p[12]=j=>s.value?ae(l.value.id):oe(l.value.id))},[I(e("div",Kn,[v(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+a(y.$t("follow")),1)],512),[[P,!s.value]]),I(e("div",Yn,[v(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+a(V.value===null?y.$t("following"):V.value),1)],512),[[P,s.value]])],2)):n("",!0)]),e("div",Qn,[e("div",Xn,[e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(i)=="dashboard"}]),onClick:p[13]||(p[13]=j=>U("dashboard"))},[e("div",null,[I(v(C,{name:"i-ion-home-outline",class:"text-white"},null,512),[[P,w(i)=="dashboard"]]),I(v(C,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[P,w(i)!="dashboard"]])]),e("span",null,a(y.$t("dashboard")),1)],2),e("div",{class:R(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(i)=="albums"}]),onClick:p[14]||(p[14]=j=>U("albums"))},[e("div",null,[I(v(C,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[P,w(i)=="albums"]]),I(v(C,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[P,w(i)!="albums"]])]),e("span",null,a(y.$t("albums.album")),1)],2),e("div",{class:R(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(i)=="collections"}]),onClick:p[15]||(p[15]=j=>U("collections"))},[e("div",null,[I(v(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(i)=="collections"]]),I(v(C,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[P,w(i)!="collections"]])]),e("span",null,a(y.$t("collections.collection")),1)],2)]),e("div",Zn,[e("div",ei,[e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(i)==="dashboard"}]),onClick:p[16]||(p[16]=j=>U("dashboard"))},[e("div",ti,[I(v(C,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[P,w(i)==="dashboard"]]),I(v(C,{name:"i-humbleicons-dashboard"},null,512),[[P,w(i)!=="dashboard"]]),e("label",oi,a(y.$t("dashboard")),1)]),li],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(i)==="albums"}]),onClick:p[17]||(p[17]=j=>U("albums"))},[e("div",si,[I(v(C,{name:"i-bx-photo-album",class:"text-white"},null,512),[[P,w(i)==="albums"]]),I(v(C,{name:"i-bx-photo-album"},null,512),[[P,w(i)!=="albums"]]),e("label",ai,a(y.$t("albums.album")),1)]),e("span",ni,a(_.value.album),1)],2),e("div",{class:R(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(i)==="collections"}]),onClick:p[18]||(p[18]=j=>U("collections"))},[e("div",ii,[I(v(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(i)==="collections"]]),I(v(C,{name:"i-majesticons-bookmark-line"},null,512),[[P,w(i)!=="collections"]]),e("label",ri,a(y.$t("collections.collection")),1)]),e("span",ui,a(_.value.collection),1)],2)]),e("div",di,[w(i)==="dashboard"?(t(),o("div",ci,[e("div",mi,[e("div",{class:R(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":f.value==="feed"}]),onClick:p[19]||(p[19]=j=>f.value="feed")},[O(a(y.$t("feed"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",f.value==="feed"?"theme-color":"button-color text-white"])},a(_.value.feed),3)],2),e("div",{class:R(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":f.value==="artwork"}]),onClick:p[20]||(p[20]=j=>f.value="artwork")},[O(a(y.$t("artworks.artwork"))+" ",1),e("span",{class:R(["px-1 ml-2 rounded",f.value==="artwork"?"theme-color":"button-color text-white"])},a(_.value.artwork),3)],2)]),I(e("div",vi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:p[21]||(p[21]=j=>r.value.manageMode=!r.value.manageMode)},[v(C,{name:r.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+a(r.value.manageMode?y.$t("quit"):y.$t("manage")),1)]),I(e("button",{class:"w-full primary-button md:w-auto",onClick:p[22]||(p[22]=j=>G())},[v(C,{name:"i-ion-add-outline"}),O(" "+a(y.$t("albums.addToAlbum")),1)],512),[[P,r.value.manageMode]])],512),[[P,!u.value&&w(k).loggedIn&&w(k).user.id===l.value.id&&f.value==="artwork"&&r.value.showManageMode]]),v(se,{loading:u.value},null,8,["loading"]),I(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},a(y.$t("profile.manageModeActiveMessage")),513),[[P,r.value.manageMode]]),e("div",null,[f.value==="feed"?(t(),q(Rt,{key:0,ref:"feedListRef",class:"mt-2","user-id":l.value.id},null,8,["user-id"])):n("",!0),!u.value&&f.value==="artwork"?(t(),q(zt,{key:1,ref_key:"artworkListRef",ref:M,"user-id":l.value.id,"manage-mode":r.value.manageMode,onFeedSelectedItems:S,onOnEmpty:B},null,8,["user-id","manage-mode"])):n("",!0)])])):n("",!0),w(i)==="albums"?(t(),o("div",pi,[u.value?n("",!0):(t(),q(Il,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(i)==="collections"?(t(),o("div",fi,[u.value?n("",!0):(t(),q(va,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(i)==="followerList"?(t(),o("div",hi,[u.value?n("",!0):(t(),q(Ia,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0),w(i)==="followingList"?(t(),o("div",wi,[u.value?n("",!0):(t(),q(Va,{key:0,"user-id":l.value.id},null,8,["user-id"]))])):n("",!0)])])])]),u.value?n("",!0):(t(),q(Oe,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:H,class:"modal","work-ids":F.value,onAddedToAlbum:T},null,8,["work-ids"])),I(v(de,{id:"item-added-to-album-alert",text:y.$t("albums.itemAdded")},null,8,["text"]),[[P,m.value]])]),_:1})}}},Li=ee(bi,[["__scopeId","data-v-bafd430f"]]);export{Li as P};
//# sourceMappingURL=Profile.abf7905c.js.map
