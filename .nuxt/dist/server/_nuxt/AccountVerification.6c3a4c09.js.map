{"version":3,"file":"AccountVerification.6c3a4c09.js","sources":["../../../../components/user/account/AccountVerification.vue"],"sourcesContent":["<template>\r\n  <Layout :with-footer=\"false\">\r\n    <div class=\"mx-auto text-center\">\r\n      <div class=\"mb-4\">\r\n        {{ message }}\r\n      </div>\r\n      <span class=\"font-medium cursor-pointer link-color hover:underline\"><a href=\"/\">{{ $t('goToHome') }}</a></span>\r\n      or\r\n      <span class=\"font-medium cursor-pointer link-color hover:underline\" @click=\"openModal('auth-modal')\">{{ $t('logins.login') }}</span>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { useI18n } from 'vue-i18n'\r\n\r\n// components\r\nimport Layout from '~/components/layouts/Layout.vue'\r\n\r\n// composables\r\nconst { oApiConfiguration, fetchOptions } = useApiFetch()\r\nconst authApi = useAuth(oApiConfiguration, fetchOptions())\r\n\r\nconst { $router } = useNuxtApp()\r\nconst { t } = useI18n()\r\n\r\nonMounted (() => {\r\n  verifyAccount()\r\n})\r\n\r\nconst message = ref('')\r\n\r\nconst verifyAccount = async () => {\r\n  const { iv, content } = $router.currentRoute.value.params\r\n  \r\n  const [success, error] = await authApi.verifyEmailAddress({\r\n    iv,\r\n    content\r\n  })\r\n\r\n  if (error) {\r\n    if (error.message === 'Request failed with status code 409') {\r\n      message.value = t('registration.form.registered.accountAlreadyVerified')\r\n    } else {\r\n      message.value = t('errors.somethingWentWrong')\r\n    }\r\n  } else {\r\n    message.value = t('registration.form.registered.accountSuccessfullyVerified')\r\n  }\r\n}\r\n</script>\r\n"],"names":["oApiConfiguration","fetchOptions","useApiFetch","authApi","useAuth","$router","useNuxtApp","t","useI18n","onMounted","verifyAccount","message","ref","iv","content","success","error"],"mappings":"yfAoBA,KAAA,CAAA,kBAAAA,EAAA,aAAAC,CAAA,EAAAC,EAAA,EACAC,EAAAC,EAAAJ,EAAAC,GAAA,EAEA,CAAA,QAAAI,CAAA,EAAAC,EAAA,EACA,CAAA,EAAAC,CAAA,EAAAC,EAAA,EAEAC,EAAA,IAAA,CACAC,EAAA,CACA,CAAA,EAEA,MAAAC,EAAAC,EAAA,EAAA,EAEAF,EAAA,SAAA,CACA,KAAA,CAAA,GAAAG,EAAA,QAAAC,CAAA,EAAAT,EAAA,aAAA,MAAA,OAEA,CAAAU,EAAAC,CAAA,EAAA,MAAAb,EAAA,mBAAA,CACA,GAAAU,EACA,QAAAC,CACA,CAAA,EAEAE,EACAA,EAAA,UAAA,sCACAL,EAAA,MAAAJ,EAAA,qDAAA,EAEAI,EAAA,MAAAJ,EAAA,2BAAA,EAGAI,EAAA,MAAAJ,EAAA,0DAAA,CAEA"}