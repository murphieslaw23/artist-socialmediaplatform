{"version":3,"file":"TagFilterSelection.616fe277.js","sources":["../../../../components/globals/TagFilterSelection.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"hidden\" @click=\"init()\" />\r\n\r\n    <div class=\"w-full modal-layer xl:w-3/12 lg:w-2/5\">\r\n      <div>\r\n        <h1 class=\"mb-2 text-sm\">{{ $t('pickUpToTags') }}</h1>\r\n\r\n        <div class=\"input-block\">\r\n          <tags-input \r\n            v-model=\"tags\"\r\n            :placeholder=\"$t('tags')\"\r\n            :typeahead=\"true\"\r\n            :limit=\"10\"\r\n            :hide-input-on-limit=\"true\"\r\n            :typeahead-style=\"'dropdown'\"\r\n            :typeahead-activation-threshold=\"3\"\r\n            :typeahead-show-on-focus=\"true\"\r\n            :typeahead-hide-discard=\"true\"\r\n            :typeahead-url=\"apiUrl+'/artworks/tags/search?keyword=:search'\"\r\n            :add-tags-on-comma=\"true\"\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"flex float-right flex-row gap-2 mt-4\">\r\n          <button class=\"cancel-button\" @click=\"closeModal('tag-filter-selection-modal')\">\r\n            {{ $t('cancel') }}\r\n          </button>\r\n          <!-- <button class=\"cancel-button\" @click=\"clearSelectedTags()\">\r\n            {{ $t('clear') }}\r\n          </button> -->\r\n          <button class=\"primary-button\" @click=\"applyTags()\">\r\n            {{ $t('apply') }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst emits = defineEmits (['apply'])\r\n\r\nconst rConfig = useRuntimeConfig()\r\nconst apiUrl = rConfig.public.apiUrl\r\n\r\n/**\r\n * @tags\r\n */\r\nconst tags = ref([])\r\n\r\nconst init = (previousSelectedTags) => {\r\n  console.log(previousSelectedTags)\r\n  tags.value = previousSelectedTags\r\n}\r\n\r\nconst selectedTags = ref([])\r\nconst applyTags = () => {\r\n  selectedTags.value = tags.value\r\n  tags.value = []\r\n\r\n  const tagsString = []\r\n  toRaw(selectedTags.value).forEach(tag => {\r\n    tagsString.push(tag.value)\r\n  })\r\n\r\n  emits('apply', toRaw(selectedTags.value), tagsString.join(','))\r\n}\r\n\r\nconst clearSelectedTags = () => {\r\n  init([])\r\n}\r\n/**\r\n * @tags\r\n */\r\n\r\ndefineExpose({\r\n  init\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~/assets/css/tailwind.scss';\r\n</style>\r\n"],"names":["apiUrl","useRuntimeConfig","tags","ref","init","previousSelectedTags","selectedTags","applyTags","tagsString","toRaw","tag","emits","expose"],"mappings":"2eA4CA,MAAAA,EADAC,EAAA,EACA,OAAA,OAKAC,EAAAC,EAAA,EAAA,EAEAC,EAAAC,GAAA,CACA,QAAA,IAAAA,CAAA,EACAH,EAAA,MAAAG,CACA,EAEAC,EAAAH,EAAA,EAAA,EACAI,EAAA,IAAA,CACAD,EAAA,MAAAJ,EAAA,MACAA,EAAA,MAAA,CAAA,EAEA,MAAAM,EAAA,CAAA,EACAC,EAAAH,EAAA,KAAA,EAAA,QAAAI,GAAA,CACAF,EAAA,KAAAE,EAAA,KAAA,CACA,CAAA,EAEAC,EAAA,QAAAF,EAAAH,EAAA,KAAA,EAAAE,EAAA,KAAA,GAAA,CAAA,CACA,EASA,OAAAI,EAAA,CACA,KAAAR,CACA,CAAA"}