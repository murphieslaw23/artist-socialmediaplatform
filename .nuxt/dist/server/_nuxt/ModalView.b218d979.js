import{B as mt,a as z,b as W,R as F,l as pt,_ as Re,c as Ue,e as Kt,d as _e,i as K,n as Xt,j as Zt,u as ea,o as ot}from"../server.mjs";import{_ as fe,u as ht,a as L}from"./Icon.4480cdda.js";import{_ as vt,u as ft}from"./ErrorMessages.9543f57f.js";import{getCurrentInstance as wt,nextTick as gt,ref as b,unref as O,getCurrentScope as ta,onScopeDispose as aa,watch as Oe,openBlock as y,createElementBlock as _,createElementVNode as r,createVNode as x,withCtx as J,createTextVNode as T,toDisplayString as g,withDirectives as I,vShow as A,createCommentVNode as S,withModifiers as pe,normalizeClass as j,Fragment as he,renderList as ve,createBlock as ie,onMounted as Ve,reactive as He,vModelText as Ae,computed as ze,pushScopeId as yt,popScopeId as bt,resolveComponent as sa,resolveDirective as lt,KeepAlive as oa}from"vue";import"vue-router";import{S as We}from"./Spinner.2a5d5b7b.js";import{U as Le}from"./user-counters-api.d7c5fc90.js";import{u as la}from"./useFeed.1b0a564c.js";const ce=function(s){return{addWorkToAlbum:async(t,a={})=>{const e="/albums/add-work",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},createAlbum:async(t,a={})=>{const e="/albums/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},deleteAlbum:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling deleteAlbum.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumById:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumById.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...a},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumItems:async(t,a,e,o={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumItems.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"GET",...d,...o},p={},h={};a!==void 0&&(h.per_page=a),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return u.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:u}},getCurrentAlbumSaveInfo:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(a==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const o="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(a))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},u={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...u,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listUserAlbums:async(t,a,e,o,l={})=>{if(t==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserAlbums.");if(o==null)throw new F("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),d=new URL(n,"https://example.com");let u;s&&(u=s.baseOptions);const p={method:"GET",...u,...l},h={},w={};a!==void 0&&(w.per_page=a),e!==void 0&&(w.page=e),o!==void 0&&(w.type=o);const v=new URLSearchParams(d.search);for(const c in w)v.set(c,w[c]);for(const c in l.params)v.set(c,l.params[c]);d.search=new URLSearchParams(v).toString();let i=u&&u.headers?u.headers:{};return p.headers={...h,...i,...l.headers},{url:d.pathname+d.search+d.hash,options:p}},removeWorkFromAlbum:async(t,a={})=>{const e="/albums/work/remove",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},updateAlbum:async(t,a={})=>{const e="/albums",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}}}},ue=function(s){return{async addWorkToAlbum(t,a){const e=await ce(s).addWorkToAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async createAlbum(t,a){const e=await ce(s).createAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async deleteAlbum(t,a){const e=await ce(s).deleteAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumById(t,a){const e=await ce(s).getAlbumById(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumItems(t,a,e,o){const l=await ce(s).getAlbumItems(t,a,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async getCurrentAlbumSaveInfo(t,a,e){const o=await ce(s).getCurrentAlbumSaveInfo(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listUserAlbums(t,a,e,o,l){const n=await ce(s).listUserAlbums(t,a,e,o,l);return(d=z,u=W)=>{const p={...n.options,url:u+n.url};return d.request(p)}},async removeWorkFromAlbum(t,a){const e=await ce(s).removeWorkFromAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async updateAlbum(t,a){const e=await ce(s).updateAlbum(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class de extends mt{async addWorkToAlbum(t,a){return ue(this.configuration).addWorkToAlbum(t,a).then(e=>e(this.axios,this.basePath))}async createAlbum(t,a){return ue(this.configuration).createAlbum(t,a).then(e=>e(this.axios,this.basePath))}async deleteAlbum(t,a){return ue(this.configuration).deleteAlbum(t,a).then(e=>e(this.axios,this.basePath))}async getAlbumById(t,a){return ue(this.configuration).getAlbumById(t,a).then(e=>e(this.axios,this.basePath))}async getAlbumItems(t,a,e,o){return ue(this.configuration).getAlbumItems(t,a,e,o).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(t,a,e){return ue(this.configuration).getCurrentAlbumSaveInfo(t,a,e).then(o=>o(this.axios,this.basePath))}async listUserAlbums(t,a,e,o,l){return ue(this.configuration).listUserAlbums(t,a,e,o,l).then(n=>n(this.axios,this.basePath))}async removeWorkFromAlbum(t,a){return ue(this.configuration).removeWorkFromAlbum(t,a).then(e=>e(this.axios,this.basePath))}async updateAlbum(t,a){return ue(this.configuration).updateAlbum(t,a).then(e=>e(this.axios,this.basePath))}}const ne=function(s){return{addItemForLater:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling addItemForLater.");const o="/collections/later",l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"POST",...n,...e},u={},p={};t!==void 0&&(p.type=t),u["Content-Type"]="application/json";const h=new URLSearchParams(l.search);for(const i in p)h.set(i,p[i]);for(const i in e.params)h.set(i,e.params[i]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};d.headers={...u,...w,...e.headers};const v=typeof a!="string"||d.headers["Content-Type"]==="application/json";return d.data=v?JSON.stringify(a!==void 0?a:{}):a||"",{url:l.pathname+l.search+l.hash,options:d}},addItemToCollection:async(t,a,e,o={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling addItemToCollection.");if(a==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"POST",...d,...o},p={},h={};t!==void 0&&(h.type=t),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};u.headers={...p,...v,...o.headers};const i=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:u}},collectionsIdDelete:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...a},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},create:async(t,a={})=>{const e="/collections/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}},detail:async(t,a={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling detail.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(t))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...a},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in a.params)p.set(w,a.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...a.headers},{url:o.pathname+o.search+o.hash,options:n}},getCurrentSaveInfo:async(t,a,e={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(a==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const o="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(t))).replace("{work_id}",encodeURIComponent(String(a))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},u={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...u,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listCollectionItems:async(t,a,e,o={})=>{if(t==null)throw new F("id","Required parameter id was null or undefined when calling listCollectionItems.");if(a==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"GET",...d,...o},p={},h={};a!==void 0&&(h.per_page=a),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return u.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:u}},listUserCollections:async(t,a,e,o,l,n={})=>{if(t==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(a==null)throw new F("type","Required parameter type was null or undefined when calling listUserCollections.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserCollections.");if(o==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const d="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(t))),u=new URL(d,"https://example.com");let p;s&&(p=s.baseOptions);const h={method:"GET",...p,...n},w={},v={};a!==void 0&&(v.type=a),l!==void 0&&(v.name=l),e!==void 0&&(v.page=e),o!==void 0&&(v.per_page=o);const i=new URLSearchParams(u.search);for(const k in v)i.set(k,v[k]);for(const k in n.params)i.set(k,n.params[k]);u.search=new URLSearchParams(i).toString();let c=p&&p.headers?p.headers:{};return h.headers={...w,...c,...n.headers},{url:u.pathname+u.search+u.hash,options:h}},removeItemFromCollection:async(t,a,e,o={})=>{if(t==null)throw new F("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(a==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"DELETE",...d,...o},p={},h={};t!==void 0&&(h.type=t),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};u.headers={...p,...v,...o.headers};const i=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:u}},updateCollection:async(t,a={})=>{const e="/collections",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...a},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in a.params)p.set(v,a.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...a.headers};const w=typeof t!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(t!==void 0?t:{}):t||"",{url:o.pathname+o.search+o.hash,options:n}}}},re=function(s){return{async addItemForLater(t,a,e){const o=await ne(s).addItemForLater(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async addItemToCollection(t,a,e,o){const l=await ne(s).addItemToCollection(t,a,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async collectionsIdDelete(t,a){const e=await ne(s).collectionsIdDelete(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async create(t,a){const e=await ne(s).create(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async detail(t,a){const e=await ne(s).detail(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getCurrentSaveInfo(t,a,e){const o=await ne(s).getCurrentSaveInfo(t,a,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listCollectionItems(t,a,e,o){const l=await ne(s).listCollectionItems(t,a,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async listUserCollections(t,a,e,o,l,n){const d=await ne(s).listUserCollections(t,a,e,o,l,n);return(u=z,p=W)=>{const h={...d.options,url:p+d.url};return u.request(h)}},async removeItemFromCollection(t,a,e,o){const l=await ne(s).removeItemFromCollection(t,a,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async updateCollection(t,a){const e=await ne(s).updateCollection(t,a);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class me extends mt{async addItemForLater(t,a,e){return re(this.configuration).addItemForLater(t,a,e).then(o=>o(this.axios,this.basePath))}async addItemToCollection(t,a,e,o){return re(this.configuration).addItemToCollection(t,a,e,o).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(t,a){return re(this.configuration).collectionsIdDelete(t,a).then(e=>e(this.axios,this.basePath))}async create(t,a){return re(this.configuration).create(t,a).then(e=>e(this.axios,this.basePath))}async detail(t,a){return re(this.configuration).detail(t,a).then(e=>e(this.axios,this.basePath))}async getCurrentSaveInfo(t,a,e){return re(this.configuration).getCurrentSaveInfo(t,a,e).then(o=>o(this.axios,this.basePath))}async listCollectionItems(t,a,e,o){return re(this.configuration).listCollectionItems(t,a,e,o).then(l=>l(this.axios,this.basePath))}async listUserCollections(t,a,e,o,l,n){return re(this.configuration).listUserCollections(t,a,e,o,l,n).then(d=>d(this.axios,this.basePath))}async removeItemFromCollection(t,a,e,o){return re(this.configuration).removeItemFromCollection(t,a,e,o).then(l=>l(this.axios,this.basePath))}async updateCollection(t,a){return re(this.configuration).updateCollection(t,a).then(e=>e(this.axios,this.basePath))}}function nt(){return{animate:a=>{const e=document.getElementById(a);e==null||e.classList.add("animate-bounce"),setInterval(()=>{e==null||e.classList.remove("animate-bounce")},2500)}}}function na(){const s=(a,e,o)=>{e.value=!1,clearTimeout(a),e.value=!0,a=setTimeout(()=>{e.value=!1,t(o)},2e3)},t=a=>{const e=document.getElementById(a);e==null||e.classList.add("fade"),e==null||e.classList.add("fade-out")};return{splash:s,hide:t}}const Ee=!1,ra=s=>typeof s=="string",Qe=()=>{};function Ye(s){return typeof s=="function"?s():O(s)}function ia(s){return s}function Ke(s){return ta()?(aa(s),!0):!1}function ca(s,t=!0){wt()||(t?s():gt(s))}function ua(s,t=!0){wt()||(t?s():gt(s))}function da(s,t,a={}){const{immediate:e=!0}=a,o=b(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function d(){o.value=!1,n()}function u(...p){n(),o.value=!0,l=setTimeout(()=>{o.value=!1,l=null,s(...p)},Ye(t))}return e&&(o.value=!0),Ke(d),{isPending:o,start:u,stop:d}}function ma(s){var t;const a=Ye(s);return(t=a==null?void 0:a.$el)!=null?t:a}const kt=Ee?window:void 0;Ee&&window.document;const pa=Ee?window.navigator:void 0;Ee&&window.location;function ha(...s){let t,a,e,o;if(ra(s[0])?([a,e,o]=s,t=kt):[t,a,e,o]=s,!t)return Qe;let l=Qe;const n=Oe(()=>ma(t),u=>{l(),u&&(u.addEventListener(a,e,o),l=()=>{u.removeEventListener(a,e,o),l=Qe})},{immediate:!0,flush:"post"}),d=()=>{n(),l()};return Ke(d),d}function xt(s,t=!1){const a=b(),e=()=>a.value=Boolean(s());return e(),ua(e,t),a}function va(s,t={}){const{window:a=kt}=t,e=xt(()=>a&&"matchMedia"in a&&"undefined".matchMedia==="function");let o;const l=b(!1),n=()=>{!e.value||(o||(o=a.matchMedia(s)),l.value=o.matches)};return ca(()=>{n(),o&&("addEventListener"in o?o.addEventListener("change",n):o.addListener(n),Ke(()=>{"removeEventListener"in o?o.removeEventListener("change",n):o.removeListener(n)}))}),l}function fa(s={}){const{navigator:t=pa,read:a=!1,source:e,copiedDuring:o=1500}=s,l=["copy","cut"],n=xt(()=>t&&"clipboard"in t),d=b(""),u=b(!1),p=da(()=>u.value=!1,o);function h(){t.clipboard.readText().then(v=>{d.value=v})}if(n.value&&a)for(const v of l)ha(v,h);async function w(v=Ye(e)){n.value&&v!=null&&(await t.clipboard.writeText(v),d.value=v,u.value=!0,p.start())}return{isSupported:n,text:d,copied:u,copy:w}}const Ge=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:{},Je="__vueuse_ssr_handlers__";Ge[Je]=Ge[Je]||{};Ge[Je];var rt;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(rt||(rt={}));var wa=Object.defineProperty,it=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,ct=(s,t,a)=>t in s?wa(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,ba=(s,t)=>{for(var a in t||(t={}))ga.call(t,a)&&ct(s,a,t[a]);if(it)for(var a of it(t))ya.call(t,a)&&ct(s,a,t[a]);return s};const ka={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ba({linear:ia},ka);function xa(){return{readMore:(t,a,e,o)=>{const l=document.getElementById(`${o}${a}`);l!==null&&(l.innerHTML=t);const n=document.getElementById(`${e}${a}`);n==null||n.remove()}}}const _a={class:"flex-col info"},Ca={key:0,class:"user-info"},$a={class:"flex flex-row w-full"},Ia=["src"],Aa={class:"w-full name"},Ra={class:"flex flex-row justify-between"},Sa={class:"flex flex-col"},Pa={class:"mb-2 text-base font-bold"},Oa={key:1,class:"mb-4"},La=["id"],Ua=["id"],Va={class:"mb-4"},Ea={key:2,class:"tags"},qa={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(s){pt();const t=(a,e,o,l)=>{xa().readMore(a,e,o,l)};return(a,e)=>{const o=Re;return y(),_("section",_a,[s.artworkDetail.users?(y(),_("div",Ca,[r("div",$a,[x(o,{to:"/profile/"+s.artworkDetail.users.username},{default:J(()=>[r("img",{class:"avatar",src:a.avatarCoverUrl(s.artworkDetail.users.avatar_bucket,s.artworkDetail.users.avatar_filename),onError:e[0]||(e[0]=(...l)=>a.imageLoadError&&a.imageLoadError(...l))},null,40,Ia)]),_:1},8,["to"]),r("div",Aa,[r("div",Ra,[r("div",Sa,[x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"fullname"},{default:J(()=>[T(g(s.artworkDetail.users.name),1)]),_:1},8,["to"]),x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"username"},{default:J(()=>[T(" @"+g(s.artworkDetail.users.username),1)]),_:1},8,["to"])]),I(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:e[1]||(e[1]=l=>a.closeModal(s.section+"-modal"))}," ESC ",512),[[A,s.isModal]])])])])])):S("",!0),r("div",Pa,g(s.artworkDetail.title),1),s.artworkDetail.description?(y(),_("div",Oa,[r("span",{id:"mview-"+s.isDesktop+"-description-"+s.artworkDetail.id},g(s.artworkDetail.description.length>300?`${s.artworkDetail.description.slice(0,300)}...`:s.artworkDetail.description),9,La),s.artworkDetail.description.length>300?(y(),_("a",{key:0,id:"mview-"+s.isDesktop+"-read-more-"+s.artworkDetail.id,class:"href",onClick:e[2]||(e[2]=pe(l=>t(s.artworkDetail.description,s.artworkDetail.id,"mview-"+s.isDesktop+"-read-more-","mview-"+s.isDesktop+"-description-"),["prevent"]))},g(a.$t("readMore")),9,Ua)):S("",!0)])):S("",!0),r("div",Va,[r("span",{class:j({"font-bold italic text-red-400":s.previewMode})},g(s.previewMode?a.$t("willBePublishedOn"):a.$t("publishedOn")),3),T(" "+g(a.formatDate(s.artworkDetail.scheduled_post)),1)]),s.artworkDetail.artwork_has_tags&&s.artworkDetail.artwork_has_tags.length?(y(),_("div",Ea,[(y(!0),_(he,null,ve(s.artworkDetail.artwork_has_tags,l=>(y(),_("span",{key:l.artwork_tags.id,class:"tag"},[x(o,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:J(()=>[T(" #"+g(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):S("",!0)])}}},ut=fe(qa,[["__scopeId","data-v-cf6b7c02"]]),Ma=["href","onClick"],Ta={class:"overflow-hidden relative text-center rounded-md"},Ba={key:0},Fa={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},ja=["href"],Da=["src"],Na={class:"relative text-center"},Qa={key:0},Ha={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},za=["href"],Wa=["src"],Ga={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(s,{emit:t}){const a=s,e=Ue();Oe(()=>a.currentWorkId,h=>{l.value=h});const o=Kt(),l=b(a.currentWorkId),n=va("(min-width: 1024px)"),d=h=>{n.value&&!a.isMiniList||a.isMiniList?(l.value=h,a.view(h)):o.replace({path:"/a/"+h})},u=b([]),p=h=>{if(u.value.includes(h)){const w=u.value.indexOf(h);u.value.splice(w,1)}else u.value.push(h);t("feedManageList",u.value)};return Oe(()=>a.manageMode,h=>{h===!1&&(u.value=[])}),(h,w)=>{const v=Re;return y(),_("section",{class:j(s.sectionClass)},[(y(!0),_(he,null,ve(s.works,i=>(y(),_("span",{key:i.id,class:j(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&l.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":u.value.includes(i.id)||l.value==i.id}])},[!h.isMobile()&&!s.isHref&&!s.isMiniList?(y(),_("a",{key:0,href:"/a/"+i.id,onClick:pe(c=>s.manageMode?p(i.id):s.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Ta,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Ba,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",Fa,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,class:j([{"animate-wigglefast":s.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-lg brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[0]||(w[0]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Da)],10,ja)])],8,Ma)):(y(),ie(v,{key:1,onClick:c=>s.manageMode?p(i.id):d(i.id)},{default:J(()=>[r("div",Na,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Qa,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",Ha,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,onClick:w[2]||(w[2]=pe(c=>h.void,["prevent"])),class:j(["overflow-hidden rounded-md",{"animate-wigglefast":s.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-sm brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[1]||(w[1]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Wa)],10,za)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ja=fe(Ga,[["__scopeId","data-v-dd65eec2"]]),Ya={class:"artist-works"},Ka={class:"heading"},Xa={key:0,class:"pagination-controller"},Za={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(s){const t=s,a=t.artworkDetail,{oApiConfiguration:e,fetchOptions:o}=_e(),l=ht(e,o()),n=b(null);Ve(()=>{t.keepArtistPageNumber||(u.page=-1),p(a.users.id)});const d=b([]),u=He({page:0,perPage:t.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),p=async(v,i)=>{u.options.nextPrevLoading=!0,v!==n.value&&(n.value=v,u.page=-1),i==="prev"?u.page-=1:u.page+=1;const[c,k,V]=await l.getUserArtworks({userId:v,pagination:{page:u.page,perPage:u.perPage}});V?w():(k.next_previous.prev_page===null||k.next_previous.prev_page===void 0?u.options.disableArtistPrevButton=!0:u.options.disableArtistPrevButton=!1,k.next_previous.next_page===null||k.next_previous.next_page===void 0?u.options.disableArtistNextButton=!0:u.options.disableArtistNextButton=!1,d.value=c),u.options.nextPrevLoading=!1},h=b(!1),w=()=>{h.value=!0};return(v,i)=>{const c=Re;return y(),_("div",Ya,[r("div",Ka,[r("span",null,[T(g(v.$t("artworks.moreArtworkBy"))+" ",1),s.artworkDetail.users?(y(),ie(c,{key:0,to:"/profile/"+s.artworkDetail.users.username,class:"text-colored"},{default:J(()=>[T(g(s.artworkDetail.users.username)+" <"+g(s.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):S("",!0)]),x(c,{to:"/profile/"+s.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:J(()=>[x(L,{name:"i-ci-external-link"})]),_:1},8,["to"])]),I(x(Ja,{class:j(["gap-3 md:gap-4",[u.options.nextPrevLoading?"animate-pulse":"",s.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:d.value,view:s.view,"is-href":s.isHref,"is-mini-list":!0,"current-work-id":s.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[A,!h.value]]),s.artworkDetail.users?(y(),_("div",Xa,[r("span",{onClick:i[0]||(i[0]=k=>u.options.disableArtistPrevButton?null:p(s.artworkDetail.users.id,"prev"))},[x(L,{name:"i-ion-chevron-back"})]),r("span",{onClick:i[1]||(i[1]=k=>u.options.disableArtistNextButton?null:p(s.artworkDetail.users.id,"next"))},[x(L,{name:"i-ion-chevron-forward"})])])):S("",!0)])}}},dt=fe(Za,[["__scopeId","data-v-dd3ed1fa"]]);function es(s,t){return{createCollection:async(i,c)=>{try{const{data:k}=await new me(s).create({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},t);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new me(s).detail(i,t)).data,null]}catch(c){return[null,c]}},countCollections:async i=>{try{const{data:c}=await new Le(s).countUserCollections(i,t);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkCollections:async i=>{try{const{data:c}=await new Le(s).countUserArtworkCollections(i,t);return[c.data.total,null]}catch(c){return[null,c]}},fetchCollections:async i=>{try{const{data:c}=await new me(s).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,t),k=c.data.collections,V=c.data.pagination;let R=!0;return V.current_page===V.total_page&&(R=!1),[k,R,null]}catch(c){return[null,!1,c]}},listCollectionItems:async i=>{try{const{data:c}=await new me(s).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,t),k=c.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[c.data.items,V,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new me(s).getCurrentSaveInfo(i,c,t);return[k.data,null]}catch(k){return[null,k]}},addItem:async i=>{try{return await new me(s).addItemToCollection(i.type,i.collectionId,{id:i.workId},t),[!0,null]}catch(c){return[null,c]}},removeItem:async i=>{try{const{data:c}=await new me(s).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},t);return[c.success,null]}catch(c){return[null,c]}},update:async i=>{try{const{data:c}=await new me(s).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[c.success,null]}catch(c){return[null,c]}},deleteCollection:async i=>{try{const{data:c}=await new me(s).collectionsIdDelete(i,t);return[c.success,null]}catch(c){return[null,c]}}}}const ts={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},as={class:"flex flex-row justify-between w-full"},ss={class:"title"},os={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ls={class:"list"},ns={class:"overflow-y-scroll pr-2 max-h-60"},rs=["onClick"],is={class:"flex flex-row justify-between"},cs={class:"flex float-right flex-row gap-2 mt-4"},us=["placeholder"],ds={class:"flex flex-row justify-between mt-2"},ms={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(s,{expose:t,emit:a}){const e=s,o=Ue(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=es(l,n());Ve(()=>{v(),c()});const u=b({pagination:{page:0,perPage:10},loading:!1}),p=b(!1),h=b(!1),w=b([]),v=async(E=!1)=>{E||(u.value.loading=!0);const[q,H,Z]=await d.fetchCollections({userId:o.user.id,type:"artwork",pagination:{page:u.value.pagination.page,perPage:u.value.pagination.perPage}});u.value.loading=!1,Z&&(p.value=!0),Z||(q&&q.length>0?(H?(u.value.pagination.page+=1,k.value=!0):k.value=!1,q.forEach(ye=>{w.value.push(ye)})):h.value=!0)},i=b([]),c=async()=>{p.value=!1,i.value=[],R.value=[],Y.value=[],await setTimeout(async()=>{const[E,q]=await d.getCurrentSaveInfo("artwork",e.workId);if(q)p.value=!0;else for(const H of E)R.value.push(H.collection_id),i.value.push(H.collection_id)},300)},k=b(!0),V=async()=>{await v({isLoadMore:!0}),await c()},R=b([]),Y=b([]),D=E=>{if(R.value.includes(E)){Y.value.push(E);const q=R.value.indexOf(E);R.value.splice(q,1)}else if(R.value.push(E),Y.value.includes(E)){const q=Y.value.indexOf(E);Y.value.splice(q,1)}},G=async()=>{try{for(const q of R.value)await d.addItem({collectionId:q,type:"artwork",workId:e.workId});if(Y.value.length)for(const q of Y.value)await d.removeItem({collectionId:q,type:"artwork",workId:e.workId});let E=!1;R.value.length===0&&i.value.length===Y.value.length&&(E=!0),await c(),K().closeModal(e.modalId),a("save",E)}catch{}},$=b(""),X=b(!1),oe=async()=>{X.value=!1;const[E,q,H]=await d.createCollection("artwork",{title:$.value,isPublic:1,description:""});E?(w.value=[],Q(),u.value.pagination.page=0,await v(),await c(),$.value="",N()):X.value=!0},se=b(!1),N=()=>{se.value=!0,setInterval(()=>{se.value=!1},5e3)},Q=()=>{R.value=[]},B=()=>{K().closeModal(e.modalId),Q()};return t({fetchCurrentSaved:c}),(E,q)=>(y(),_("div",null,[r("div",ts,[r("div",null,[r("div",as,[r("span",ss,g(E.$t("collections.addItem.form.title")),1),r("div",os,[r("div",{class:"modal-close",onClick:q[0]||(q[0]=H=>B())},[x(L,{name:"close",class:"text-2xl"})])])]),I(r("div",ls,[r("div",ns,[(y(!0),_(he,null,ve(w.value,(H,Z)=>(y(),_("div",{key:H.id,class:j(["item",[{"mt-2":Z!==0},R.value.includes(H.id)?"button-color text-white":"theme-color-secondary"]]),onClick:ye=>D(H.id)},[r("div",is,[r("span",null,g(H.name),1),r("span",{class:j(["ml-2 font-bold",R.value.includes(H.id)?"text-white":"text-colored"])},g(H._count.collection_has_artworks),3)])],10,rs))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=H=>V())},[x(L,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[A,k.value]]),r("div",cs,[r("button",{class:"cancel-button",onClick:q[2]||(q[2]=H=>B())},g(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:q[3]||(q[3]=H=>G())},g(E.$t("save")),1)])],512),[[A,!u.value.loading&&!p.value&&!h.value]]),I(r("div",null,[I(r("input",{"onUpdate:modelValue":q[4]||(q[4]=H=>$.value=H),type:"text",class:j(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":X.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,us),[[Ae,$.value]]),r("div",ds,[r("div",null,[I(r("span",{class:"font-bold text-green-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.collectionCreated")),513),[[A,se.value]]),I(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[A,X.value]])]),I(r("button",{class:"primary-button",onClick:q[5]||(q[5]=H=>oe())},g(E.$t("create")),513),[[A,$.value&&$.value.length>0]])])],512),[[A,!u.value.loading&&!p.value&&!h.value]])]),x(vt,{loading:u.value.loading,empty:h.value,error:p.value,fetch:v},null,8,["loading","empty","error"])])]))}},ps=fe(ms,[["__scopeId","data-v-d55eb6f5"]]);function hs(s,t){return{createAlbum:async(i,c)=>{try{const{data:k}=await new de(s).createAlbum({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},t);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new de(s).getAlbumById(i,t)).data,null]}catch(c){return[null,c]}},countAlbums:async i=>{try{const{data:c}=await new Le(s).countUserAlbums(i,t);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkAlbums:async i=>{try{const{data:c}=await new Le(s).countUserArtworkAlbums(i,t);return[c.data.total,null]}catch(c){return[null,c]}},fetchAlbums:async(i,c,k,V)=>{try{const{data:R}=await new de(s).listUserAlbums(i,k,V,c,t),Y=R.data.pagination;let D=!0;return Y.current_page===Y.total_page&&(D=!1),[R.data.albums,D,null]}catch(R){return[null,!1,R]}},listAlbumItems:async i=>{try{const{data:c}=await new de(s).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,t),k=c.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[c.data.works,V,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new de(s).getCurrentAlbumSaveInfo(i,c,t);return[k.data,null]}catch(k){return[null,k]}},addItems:async(i,c)=>{try{for(const k of i)await new de(s).addWorkToAlbum({album_id:k,work_ids:c},t);return[!0,null]}catch(k){return[null,k]}},removeItems:async(i,c)=>{try{const{data:k}=await new de(s).removeWorkFromAlbum({album_id:i,work_ids:c},t);return[k.success,null]}catch(k){return[null,k]}},update:async i=>{try{const{data:c}=await new de(s).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},t);return[c.success,null]}catch(c){return[null,c]}},deleteAlbum:async i=>{try{const{data:c}=await new de(s).deleteAlbum(i,t);return[c.success,null]}catch(c){return[null,c]}}}}const vs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},fs={class:"flex flex-row justify-between w-full"},ws={class:"title"},gs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ys={class:"list"},bs={class:"overflow-y-scroll pr-2 max-h-60"},ks=["onClick"],xs={class:"flex float-right flex-row gap-2 mt-4"},_s={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(s,{expose:t,emit:a}){const e=s;Ve(()=>{c(),e.workIds.length||R()});const o=Ue(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=hs(l,n()),u=async()=>{p.value=[],h.value.pagination.page=0,k(),await c()},p=b([]),h=b({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=b(!1),v=b(!1),i=b(!1),c=async()=>{k(),w.value=!0;const[N,Q,B]=await d.fetchAlbums(o.user.id,"artwork",h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage,h.value.pagination.page);B&&(v.value=!0),N.length?(Q?(h.value.pagination.page+=1,h.value.showLoadMore=!0):h.value.showLoadMore=!1,N.forEach(E=>{p.value.push(E)})):i.value=!0,w.value=!1},k=()=>{i.value=!1,v.value=!1},V=b([]),R=async()=>{V.value=[],D.value=[],G.value=[];const[N,Q]=await d.getCurrentSaveInfo("artwork",e.workId);for(const B of N)D.value.push(B.album_id),V.value.push(B.album_id)},Y=async()=>{await c(),await R()},D=b([]),G=b([]),$=N=>{if(D.value.includes(N)){G.value.push(N);const Q=D.value.indexOf(N);D.value.splice(Q,1)}else if(D.value.push(N),G.value.includes(N)){const Q=G.value.indexOf(N);G.value.splice(Q,1)}},X=async()=>{const[N,Q]=await d.addItems(D.value,e.workIds.length?e.workIds:[e.workId]);if(!e.workIds.length&&G.value.length)for(const B of G.value)await d.removeItems(B,[e.workId]);if(N){let B=!1;e.workIds.length||D.value.length===0&&V.value.length===G.value.length&&(B=!0),oe(),K().closeModal(e.modalId),a("addedToAlbum",e.workIds.length?!0:B)}},oe=()=>{D.value=[]},se=()=>{K().closeModal(e.modalId),oe()};return t({fetchCurrentSaved:R,fetchAlbums:c}),(N,Q)=>(y(),_("div",null,[r("div",vs,[r("div",null,[r("div",fs,[r("span",ws,g(N.$t("albums.selectAlbums")),1),r("div",gs,[r("div",{class:"modal-close",onClick:Q[0]||(Q[0]=B=>se())},[x(L,{name:"close",class:"text-2xl"})])])]),r("div",ys,[I(r("div",null,[r("div",bs,[(y(!0),_(he,null,ve(p.value,(B,E)=>(y(),_("div",{key:B.id,class:j(["item",[{"mt-2":E!==0},D.value.includes(B.id)?"button-color text-white":"theme-color-secondary"]]),onClick:q=>$(B.id)},[r("span",null,g(B.name),1),r("span",{class:j(["ml-2 font-bold",D.value.includes(B.id)?"text-white":"text-colored"])},g(B._count.album_has_artworks),3)],10,ks))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:Q[1]||(Q[1]=B=>Y())}," Load More ",512),[[A,h.value.showLoadMore]]),r("div",xs,[r("button",{class:"cancel-button",onClick:Q[2]||(Q[2]=B=>se())},g(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:Q[3]||(Q[3]=B=>X())},g(N.$t("save")),1)])],512),[[A,!w.value&&!i.value&&!v.value]])])]),x(vt,{loading:w.value,empty:i.value,error:v.value,fetch:u},null,8,["loading","empty","error"])])]))}},Cs=fe(_s,[["__scopeId","data-v-7ab556a5"]]),$s={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Is={class:"mb-4"},As={class:"flex flex-row justify-end gap-2"},Rs={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(s,{emit:t}){const a=s,e=o=>{o&&t("onAccept",!0),K().closeModal(a.modalId)};return(o,l)=>(y(),_("div",null,[r("div",$s,[r("p",Is,g(s.message),1),r("div",As,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>e(!1))},g(o.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>e(!0))},g(o.$t("yes")),1)])])]))}},Ss={class:"splash"},Ps={class:"flex flex-row"},Os={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(s){return(t,a)=>(y(),_("div",Ss,[r("div",Ps,[x(L,{name:s.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,g(s.text),1)])]))}},Ls=fe(Os,[["__scopeId","data-v-78b30520"]]),_t=s=>(yt("data-v-93d8d761"),s=s(),bt(),s),Us={class:"opt-modal modal-layer"},Vs={class:"opt-modal__title"},Es={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},qs={class:"opt-modal__content"},Ms={class:"report"},Ts={class:"report__reason_opt"},Bs={class:"report__title"},Fs=["onClick"],js={class:"report__title"},Ds=["placeholder"],Ns={class:"report__buttons"},Qs={class:"text-justify"},Hs={class:"mt-2"},zs=_t(()=>r("i",null,"Your report ID:",-1)),Ws=T("\xA0 "),Gs=_t(()=>r("i",null,"Report date:",-1)),Js=T("\xA0 "),Ys={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(s){const t=s,{oApiConfiguration:a,fetchOptions:e}=_e(),o=ft(a,e()),l=b(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=b({selectedReasons:[],reasonDescription:"",enableSubmit:ze(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),d=i=>{if(!n.value.selectedReasons.includes(i))n.value.selectedReasons.push(i);else{const c=n.value.selectedReasons.indexOf(i);n.value.selectedReasons.splice(c,1)}},u=b(!1),p=b({}),h=async()=>{u.value=!1,p.value={};const[i,c,k]=await o.createNewReport({type:t.type,postId:t.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});k&&!i||(u.value=!0,p.value=c)},w=()=>{K().closeModal("report-modal"),v()},v=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",u.value=!1};return(i,c)=>{const k=Re;return y(),_("div",null,[r("div",Us,[r("div",Vs,[r("h1",null,g(u.value?i.$t("reports.reportSubmitted"):s.reportStatus.id?i.$t("reports.alreadyReported"):i.$t("reports.title")),1),r("div",Es,[r("div",{class:"modal-close",onClick:c[0]||(c[0]=V=>w())},[x(L,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",qs,[I(r("div",Ms,[r("div",Ts,[r("div",Bs,g(i.$t("reports.selectReasons")),1),(y(!0),_(he,null,ve(l.value,V=>(y(),_("span",{key:V,class:j([n.value.selectedReasons.includes(V)?"button-color":"theme-color-secondary"]),onClick:R=>d(V)},[r("div",null,[I(x(L,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[A,!n.value.selectedReasons.includes(V)]]),I(x(L,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[A,n.value.selectedReasons.includes(V)]])]),r("div",{class:j(["reason",[n.value.selectedReasons.includes(V)?"text-white":"text-color-secondary"]])},g(i.$t("reports.reasons."+V)),3)],10,Fs))),128))]),r("div",null,[r("div",js,g(i.$t("reports.describeReason")),1),I(r("textarea",{"onUpdate:modelValue":c[1]||(c[1]=V=>n.value.reasonDescription=V),class:"report__reason_description",placeholder:i.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Ds),[[Ae,n.value.reasonDescription]])]),r("div",Ns,[r("button",{class:"cancel-button",onClick:c[2]||(c[2]=V=>w())},g(i.$t("cancel")),1),r("button",{class:j(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=V=>n.value.enableSubmit?h():null)},g(i.$t("report")),3)])],512),[[A,!u.value&&!s.reportStatus.id]]),I(r("div",null,[r("div",Qs,g(i.$t("reports.reportSubmittedMessage")),1),r("div",Hs,[r("div",null,[zs,Ws,r("b",null,"#"+g(p.value.id),1)]),r("div",null,[Gs,Js,r("b",null,g(i.formatDate(p.value.created_at)),1)])])],512),[[A,u.value]]),I(r("div",null,[T(g(i.$t("reports.alreadyReportedDescription"))+" ",1),x(k,{class:"underline href",to:"/reports"},{default:J(()=>[T(g(i.$t("reports.reportStatus")),1)]),_:1})],512),[[A,s.reportStatus.id]])])])])}}},Ks=fe(Ys,[["__scopeId","data-v-93d8d761"]]),Xs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},Zs={class:"title"},eo={class:"mt-2"},to={class:"alert-success"},ao={class:"italic"},so={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},oo=["placeholder"],lo={class:"flex float-right flex-row gap-2"},no={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(s){const t=s,{oApiConfiguration:a,fetchOptions:e}=_e(),o=la(a,e()),l=()=>{d.value=""},n=()=>{u.value=!1,p.value=!1,h.value=!1,K().closeModal("share-to-feed-modal"),l()},d=b(""),u=b(!1),p=b(!1),h=b(!1),w=async()=>{u.value=!1,p.value=!0,h.value=!1;const[v,i,c]=await o.shareArtworkToFeed({text:d.value,workId:t.postId});v?(h.value=!0,setTimeout(()=>{n()},500)):u.value=!0,p.value=!1};return(v,i)=>(y(),_("div",null,[r("div",Xs,[r("span",Zs,g(v.$t("feeds.share.artwork.title")),1),r("div",eo,[I(r("div",to,[r("span",ao,g(v.$t("feeds.share.artwork.success")),1)],512),[[A,h.value]]),I(r("div",so,[x(We,{class:"mr-2"}),T(" "+g(v.$t("feeds.form.postingYourUpdate")),1)],512),[[A,p.value]]),I(r("div",{class:"alert-danger"},g(v.$t("feeds.form.postFailure")),513),[[A,u.value]]),I(r("textarea",{"onUpdate:modelValue":i[0]||(i[0]=c=>d.value=c),class:"input form-input textarea",placeholder:v.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,oo),[[Ae,d.value]]),r("div",lo,[r("button",{class:"cancel-button",onClick:i[1]||(i[1]=c=>n())},g(v.$t("cancel")),1),r("button",{class:j([d.value!==""?"primary-button":"disabled-button"]),onClick:i[2]||(i[2]=c=>w())},g(v.$t("share")),3)])])])]))}},Ct=s=>(yt("data-v-35813beb"),s=s(),bt(),s),ro={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},io={class:"flex flex-row justify-center mb-2"},co=Ct(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),uo={class:"font-bold cursor-pointer"},mo={class:"mr-2 font-normal"},po={class:"italic"},ho={key:1,class:"alert-success"},vo={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},fo={class:"mr-4"},wo={class:"image-list"},go=["src","data-source"],yo={class:"interactions"},bo={class:"reaction-counters"},ko={class:"counter"},xo={key:0,class:"counter"},_o={key:1,class:"counter"},Co={key:2,class:"counter"},$o={key:0,class:"reactions"},Io={class:"inline-block relative z-30 dropdown"},Ao={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},Ro={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},So={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Po={key:2,class:"custom-divider"},Oo={key:4,class:"custom-divider"},Lo=["to"],Uo={class:"comments"},Vo={key:0,class:"comment-box"},Eo={class:"flex flex-col"},qo={class:"flex relative flex-col"},Mo=["readonly","rows","placeholder"],To={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Bo={class:"comment-content"},Fo=["src"],jo={class:"w-full"},Do={class:"flex justify-between"},No={class:"comment-time"},Qo={class:"mt-4 reactions"},Ho=["onClick"],zo={key:0},Wo={key:0,class:"flex flex-row"},Go=["onClick"],Jo=["onClick"],Yo={class:"inline-block relative ml-2 dropdown"},Ko={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Xo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Zo=["onClick"],el={key:0,class:"-mb-4 comment-box"},tl={class:"flex flex-col"},al={class:"flex relative flex-col"},sl=["id","readonly","rows","placeholder"],ol=["onClick"],ll=["id"],nl={key:0,class:"w-full"},rl={class:"float-left mb-2 text-xs italic text-color-secondary"},il=["onClick"],cl={class:"flex flex-row justify-between"},ul=["src"],dl={class:"transition-all duration-150 cursor-pointer hover:font-bold"},ml={class:"leading-6 comment-time"},pl={class:"mt-2"},hl={key:0,class:"mt-2 reactions"},vl=Ct(()=>r("span",null,null,-1)),fl={class:"flex flex-row"},wl=["onClick"],gl={class:"inline-block relative ml-2 dropdown"},yl={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},bl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},kl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},xl=["onClick"],_l=["onClick"],Cl={key:3,class:"mt-4 w-full text-xs italic text-center"},$l={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},setup(s,{expose:t}){const a=s,e=Ue(),{oApiConfiguration:o,fetchOptions:l}=_e(),{applyExplicitFilter:n,removeExplicitFilter:d,generateSemiCompressedArtworkUrl:u}=Xt(),p=ht(o,l()),h=ft(o,l()),w=Zt(),{$router:v}=ea(),i=pt();Oe(()=>i.query,()=>{c(),K().closeModal("collection-selection-modal"),K().closeModal("album-selection-modal"),K().closeModal("report-modal")}),Ve(()=>{a.id!==""&&Q(a.id),window.addEventListener("keydown",m=>{const f=document.getElementById("collection-selection-modal"),P=document.getElementById("album-selection-modal"),U=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");m.key==="Escape"&&(!f||f.style.display!="flex")&&(!P||P.style.display!="flex")&&(!U||U.style.display!="flex")&&!ae.length&&c()})});const c=()=>{K().closeModal(`${a.section}-modal`)},k=b(!1),V=()=>{k.value=!1,d()},R=a.id==="",Y=async m=>{await p.incraseViewCount(m)},D=b(!1),G=b(!0),$=b({}),X=b(!1),oe=b(!1),se=b(!1),N=b([]),Q=async m=>{Z.value=[],le.value=[],G.value=!0;const[f,P]=await p.getWorkById(m);P?Ft():($.value=f,N.value=[],f.artwork_assets.forEach(ae=>{N.value.push({thumbnail:u(ae.bucket,ae.filename,!0),source:u(ae.bucket,ae.filename,!1)})}),!e.loggedIn&&f.is_explicit||f.is_explicit&&!e.user.user_settings.show_explicit?(k.value=!0,n()):k.value=!1,X.value=f.liked,oe.value=f.saved,se.value=f.in_album,ot().formatApiToWeb(f.scheduled_post)<ot().currentUtcTime()?(await $t(m),e.loggedIn&&await E(m),(!e.loggedIn||e.user.id!==f.users.id)&&await Y(m)):e.user.id!==f.users.id?v.push("/"):D.value=!0),G.value=!1},B=b({}),E=async m=>{const[f,P]=await h.getReportStatus({type:"artwork",postId:m});P||(f.length?B.value=f[0]:B.value={})},q=async()=>{const[m,f]=await p.like({workId:$.value.id});if(m){X.value=!0;const P=document.getElementById("like-button");P.classList.add("animate-bounce"),setInterval(()=>{P.classList.remove("animate-bounce")},2500)}},H=async()=>{const[m,f]=await p.unlike({workId:$.value.id});m&&(X.value=!1)},Z=b([]),ye=He({perPage:3,page:0}),Ce=b([]),Xe=async m=>{const[f,P]=await p.getComments({workId:m,pagination:{page:ye.page,perPage:ye.perPage}});if(f)return f.pagination.current_page===f.pagination.first_last.last_page?Se.value=!1:Se.value=!0,f.comments.forEach(U=>{U.liked&&we.value.push(U.id),Ce.value.push(U.id)}),f.comments},$t=async m=>{try{(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},Se=b(!1),It=async m=>{try{ye.page+=1,(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},ee=b(),qe=200,At=ze(()=>ee.value!=null&&ee.value!==""?qe-ee.value.length:qe),be=b(!1),Rt=async()=>{be.value=!0;try{const[m,f,P]=await p.addComment({workId:$.value.id,comment:ee.value});m&&(ee.value="",Z.value.splice(0,0,f),Z.value.join(),Ce.value.splice(0,0,f.id),Ce.value.join())}catch{}be.value=!1},St=async m=>{const[f,P]=await p.deleteComment({commentId:m});if(f){const U=Ce.value.indexOf(m);Z.value.splice(U,1),Ce.value.splice(U,1)}},we=b([]),Pt=async m=>{const[f,P]=await p.likeComment({commentId:m});if(f){we.value.push(m);const U=document.getElementById(`comment-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Ot=async m=>{const[f,P]=await p.unlikeComment({commentId:m});if(f){const U=we.value.indexOf(m);we.value.splice(U,1)}},Me=He({perPage:2,page:0}),le=b([]),ke=b([]),Te=b(!0),Ze=async m=>{const[f,P,U]=await p.getCommentReplies({commentId:m,pagination:{page:Me.page,perPage:Me.perPage}});if(!U)return P.current_page===P.first_last.last_page&&(Te.value=!1),f.map(ae=>ke.value.push(ae.id)),f},$e=b(0),Be=async m=>{Te.value=!0,ke.value=[];try{const f=await Ze(m);le.value={[m]:f},f.forEach(U=>{U.liked&&ge.value.push(U.id)}),$e.value&&Fe($e.value);const P=document.getElementById(`comment-replies-${m}`);P.classList.add("flex"),P.classList.remove("hidden"),$e.value=m}catch{}},Fe=m=>{const f=document.getElementById(`comment-replies-${m}`);f.classList.remove("flex"),f.classList.add("hidden"),$e.value=0},Lt=async m=>{Me.page+=1;try{(await Ze(m)).forEach(P=>{le.value[m].push(P)})}catch{}},Pe=b(0),Ut=async m=>{await Be(m),Pe.value=m},te=b(),je=200,Vt=ze(()=>te.value!=null&&te.value!==""?je-te.value.length:je),xe=b(!1),Et=async m=>{xe.value=!0;try{const[f,P,U]=await p.addReply({commentId:m,reply:te.value});f&&(Be(m),te.value="",le.value[m].splice(0,0,P),le.value[m].join(),Pe.value=0,ke.value.splice(0,0,P.id),ke.value.join())}catch{}xe.value=!1},qt=async(m,f)=>{const[P,U]=await p.deleteReply({replyId:f});if(P){const ae=ke.value.indexOf(f);le.value[m].splice(ae,1),ke.value.splice(ae,1)}},ge=b([]),Mt=async m=>{const[f,P]=await p.likeReply({replyId:m});if(f){ge.value.push(m);const U=document.getElementById(`reply-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},Tt=async m=>{const[f,P]=await p.unlikeReply({replyId:m});if(f){const U=ge.value.indexOf(m);ge.value.splice(U,1)}},Bt=b(!1),Ft=()=>{Bt.value=!0},De=b(!1),Ne=b(!1),et=async m=>{const[f,P]=await p.deleteWork({workId:[m]});f&&(Ne.value=!0,setTimeout(()=>{v.push("/")},1500))},tt=b(null),jt=()=>{K().openModal("collection-selection-modal"),tt.value.fetchCurrentSaved()},Dt=m=>{m?oe.value=!1:oe.value=!0,nt().animate("save-to-collection-button")},at=b(null),Nt=()=>{K().openModal("album-selection-modal"),at.value.fetchCurrentSaved()},Qt=m=>{m?se.value=!1:se.value=!0,nt().animate("save-to-album-button")},Ht=()=>{K().openModal("share-to-feed-modal")},st=b(!1);let zt;const Wt=m=>{const f=b(w.public.appUrl+m),{copy:P}=fa({source:f});P(),na().splash(zt,st,"copy-alert")},Gt=b(null),Jt=()=>{K().openModal("report-modal")};return t({view:Q}),(m,f)=>{const P=sa("viewer"),U=Re,ae=lt("lazy"),Yt=lt("auto-animate");return y(),_("div",{class:j(["work-container work-view",R?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:j(["left-side",{"overflow-y-scroll mr-6":R}])},[D.value&&!Ne.value?(y(),_("div",ro,[r("div",io,[x(L,{name:"i-ion-alert-outline"}),co]),r("div",uo,[r("span",{class:"text-red-500",onClick:f[0]||(f[0]=C=>De.value=!0)},g(m.$t("artworks.deleteArtwork")),1),I(r("div",null,[r("span",mo,[T(g(m.$t("alert.areYouSure"))+" ",1),r("span",po,"("+g(m.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:f[1]||(f[1]=C=>et($.value.id))},g(m.$t("yes")),1),r("span",{class:"hover:underline",onClick:f[2]||(f[2]=C=>De.value=!1)},g(m.$t("no")),1)],512),[[A,De.value]])])])):S("",!0),Ne.value?(y(),_("div",ho,g(m.$t("artworks.successDelete")),1)):S("",!0),I(r("div",vo,[r("span",fo,g(O(e).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:f[3]||(f[3]=pe(C=>V(),["prevent"]))},g(m.$t("show")),1)],512),[[A,k.value]]),r("div",wo,[x(P,{options:{url:"data-source"},images:N.value,class:"overflow-hidden rounded-md"},{default:J(()=>[(y(!0),_(he,null,ve(N.value,(C,M)=>I((y(),_("img",{key:C.thumbnail,loading:"lazy",src:C.thumbnail,"data-source":C.source,class:j(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":k.value},k.value?"brightness-50":"brightness-100"]),onError:f[4]||(f[4]=(...Ie)=>m.imageLoadError&&m.imageLoadError(...Ie))},null,42,go)),[[ae,C.thumbnail]])),128))]),_:1},8,["images"])]),I(r("div",yo,[r("div",bo,[r("span",{class:j(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",R?"theme-color-secondary":"bg-tag"])},"E",2),I(r("span",ko,[r("b",null,g(m.shortNumber($.value.views)),1),T(" "+g(m.$t("count.views")),1)],512),[[A,$.value.views>0]]),$.value._count?I((y(),_("span",xo,[r("b",null,g(m.thousand($.value._count.artwork_likes)),1),T(" "+g(m.$t("count.likes")),1)],512)),[[A,$.value._count.artwork_likes>0]]):S("",!0),$.value._count?I((y(),_("span",_o,[r("b",null,g(m.thousand($.value._count.artwork_comments)),1),T(" "+g(m.$t("count.comments")),1)],512)),[[A,$.value._count.artwork_comments>0]]):S("",!0),$.value._count?I((y(),_("span",Co,[r("b",null,g(m.thousand($.value._count.artwork_collection_has_works)),1)],512)),[[A,$.value._count.artwork_collection_has_works]]):S("",!0)]),O(e).loggedIn&&!D.value?(y(),_("div",$o,[r("span",{onClick:f[5]||(f[5]=C=>X.value?H():q())},[I(x(L,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[A,X.value]]),I(x(L,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[A,!X.value]])]),O(e).loggedIn?(y(),_("span",{key:0,onClick:f[6]||(f[6]=C=>jt())},[I(x(L,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[A,oe.value]]),I(x(L,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[A,!oe.value]])])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("span",{key:1,onClick:f[7]||(f[7]=C=>Nt())},[I(x(L,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[A,se.value]]),I(x(L,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[A,!se.value]])])):S("",!0),r("span",{onClick:f[8]||(f[8]=C=>Ht())},[I(x(L,{name:"i-uil-share",class:"hover:text-blue-500"},null,512),[[A,!X.value]])]),r("div",Io,[r("button",Ao,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Ro,[r("div",So,[R?(y(),ie(U,{key:0,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(m.$t("open")),1)]),_:1},8,["to"])):S("",!0),R?(y(),ie(U,{key:1,to:"/a/"+$.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(m.$t("openInNewTab")),1)]),_:1},8,["to"])):S("",!0),R?(y(),_("div",Po)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id!=$.value.users.id&&!O(e).user.is_admin&&!O(e).user.is_moderator?(y(),_("div",{key:3,to:"#",class:j(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!R}]),onClick:f[9]||(f[9]=C=>Jt())},[x(L,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(m.$t("report")),1)],2)):S("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:f[10]||(f[10]=C=>Wt("/a/"+$.value.id))},[x(L,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(m.$t("copySharableLink")),1)]),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",Oo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),ie(U,{key:5,to:"/works/update/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("update")),1)]),_:1},8,["to"])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",{key:6,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:f[11]||(f[11]=C=>m.openModal("work-deletion-confirm-modal"))},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,Lo)):S("",!0)])])])])):S("",!0)],512),[[A,O(e).loggedIn]]),x(ut,{section:s.section,class:"flex-md-hidden","is-modal":R,"artwork-detail":$.value,"preview-mode":D.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(y(),ie(oa,null,[G.value?S("",!0):(y(),ie(dt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:j(["right-side",{"pr-3 overflow-y-scroll":R}])},[x(ut,{section:s.section,class:"hidden-md-flex","is-modal":R,"artwork-detail":$.value,"preview-mode":D.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),G.value?S("",!0):(y(),ie(dt,{key:0,class:"flex-md-hidden","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),r("section",Uo,[O(e).loggedIn&&!D.value?(y(),_("div",Vo,[r("div",Eo,[r("div",qo,[I(r("textarea",{"onUpdate:modelValue":f[12]||(f[12]=C=>ee.value=C),class:j(["input form-input",[{"cursor-not-allowed":be.value},{"theme-color-secondary textarea":R}]]),readonly:be.value,cols:"30",rows:ee.value!=null&&ee.value!=""?"8":"0",placeholder:m.$t("comments.inputPlaceholder"),maxlength:qe,"data-gramm":"false"},null,10,Mo),[[Ae,ee.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(At)),513),[[A,ee.value!=null&&ee.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:f[13]||(f[13]=pe(C=>Rt(),["prevent"]))},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,ee.value!=null&&ee.value!=""&&!be.value]]),I(x(We,null,null,512),[[A,be.value]])])])])])):S("",!0),O(e).loggedIn?S("",!0):(y(),_("div",To,g(m.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",Bo,[(y(!0),_(he,null,ve(Z.value,C=>I((y(),_("div",{key:C.id,class:"flex flex-row w-full comment-item"},[x(U,{class:"mr-2",to:"/profile/"+C.users.username},{default:J(()=>[r("img",{class:"w-10 h-10 avatar",src:m.avatarCoverUrl(C.users.avatar_bucket,C.users.avatar_filename),onError:f[14]||(f[14]=(...M)=>m.imageLoadError&&m.imageLoadError(...M))},null,40,Fo)]),_:2},1032,["to"]),r("div",jo,[r("div",{class:j(["p-3 w-full rounded-md",R?"theme-color-secondary":"theme-color"])},[r("div",Do,[x(U,{to:"/profile/"+C.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:J(()=>[T(g(C.users.name),1)]),_:2},1032,["to"]),r("div",No,g(m.formatDate(C.created_at,!0)),1)]),r("div",null,g(C.comment),1),r("div",Qo,[r("div",{class:"cursor-pointer hover:underline",onClick:M=>$e.value==C.id?Fe(C.id):Be(C.id)},[C._count.artwork_comment_has_replies>0?(y(),_("span",zo,[r("b",null,g(m.shortNumber(C._count.artwork_comment_has_replies)),1),T(" "+g(C._count.artwork_comment_has_replies>1?m.$t("comments.replies.replies").toLowerCase():m.$t("comments.replies.reply").toLowerCase()),1)])):S("",!0)],8,Ho),O(e).loggedIn?(y(),_("div",Wo,[r("span",{class:"reaction",onClick:M=>we.value.includes(C.id)?Ot(C.id):Pt(C.id)},[I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!we.value.includes(C.id)]]),I(x(L,{id:"comment-like-button-"+C.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,we.value.includes(C.id)]]),T(" "+g(m.shortNumber(C._count.artwork_comment_has_likes)),1)],8,Go),r("span",{class:"reaction",onClick:M=>Ut(C.id)},[x(L,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Jo),r("div",Yo,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:f[15]||(f[15]=M=>Pe.value=0)},[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Ko,[r("div",Xo,[x(U,{to:"/profile/"+C.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[16]||(f[16]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===C.users.id?(y(),_("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>St(C.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,Zo)):S("",!0)])])])])):S("",!0)])],2),O(e).loggedIn?I((y(),_("div",el,[r("div",tl,[r("div",al,[I(r("textarea",{id:"reply-"+C.id,"onUpdate:modelValue":f[17]||(f[17]=M=>te.value=M),class:j(["mt-2 w-full input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":R}]]),readonly:xe.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:m.$t("comments.replies.write"),maxlength:je,"data-gramm":"false"},null,10,sl),[[Ae,te.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(Vt)),513),[[A,te.value!=null&&te.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:pe(M=>Et(C.id),["prevent"])},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,te.value!=null&&te.value!=""&&!xe.value]]),I(x(We,null,null,512),[[A,xe.value]])],8,ol)])])],512)),[[A,Pe.value===C.id]]):S("",!0),r("div",{id:"comment-replies-"+C.id,class:"hidden flex-col mt-2"},[le.value[C.id]&&le.value[C.id].length?(y(),_("div",nl,[r("span",rl,g(m.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>Fe(C.id)},g(m.$t("hide")),9,il)])):S("",!0),(y(!0),_(he,null,ve(le.value[C.id],M=>(y(),_("div",{key:M.id,class:j(["p-3 mb-2 w-full rounded-md border-l-4",R?"theme-color-secondary":"theme-color"])},[r("div",cl,[x(U,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:J(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:m.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:f[18]||(f[18]=(...Ie)=>m.imageLoadError&&m.imageLoadError(...Ie))},null,40,ul),r("span",dl,g(M.users.name),1)]),_:2},1032,["to"]),r("span",ml,g(m.formatDate(M.created_at,!0)),1)]),r("div",pl,g(M.content),1),O(e).loggedIn?(y(),_("div",hl,[vl,r("div",fl,[r("span",{class:"reaction",onClick:Ie=>ge.value.includes(M.id)?Tt(M.id):Mt(M.id)},[I(x(L,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,ge.value.includes(M.id)]]),I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!ge.value.includes(M.id)]]),T(" "+g(m.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,wl),r("div",gl,[r("button",yl,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",bl,[r("div",kl,[x(U,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[19]||(f[19]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===M.users.id?(y(),_("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ie=>qt(C.id,M.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,xl)):S("",!0)])])])])])):S("",!0)],2))),128)),le.value[C.id]&&Te.value?(y(),_("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Lt(C.id)},g(m.$t("comments.replies.loadMore")),9,_l)):S("",!0)],8,ll)])])),[[Yt]])),128))]),$.value._count?I((y(),_("div",{key:2,class:"text-center capitalize href",onClick:f[20]||(f[20]=pe(C=>It($.value.id),["prevent"]))},g(m.$t("comments.loadOlder")),513)),[[A,$.value._count.artwork_comments>3&&Se.value]]):S("",!0),I(r("div",{class:"w-full text-xs italic text-center"},g(m.$t("comments.reachedTheEnd")),513),[[A,Z.value.length&&!Se.value]]),O(e).loggedIn&&!Z.value.length&&!D.value?(y(),_("div",Cl,g(m.$t("comments.noCommentYet")),1)):S("",!0)])],2),G.value?S("",!0):(y(),ie(ps,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:tt,"work-id":$.value.id,class:"modal",onSave:Dt},null,8,["work-id"])),!G.value&&O(e).loggedIn&&$.value.users&&O(e).user.id==$.value.users.id?(y(),ie(O(Cs),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:at,"modal-id":"album-selection-modal","work-id":$.value.id,class:"modal",onAddedToAlbum:Qt},null,8,["work-id"])):S("",!0),x(Rs,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:f[21]||(f[21]=C=>et($.value.id))},null,8,["message"]),x(Ks,{id:"report-modal",ref_key:"reportModalRef",ref:Gt,class:"modal",type:"artwork","post-id":$.value.id,"report-status":B.value},null,8,["post-id","report-status"]),x(no,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":$.value.id},null,8,["post-id"]),I(x(Ls,{id:"copy-alert",text:m.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[A,st.value]])],2)}}},Vl=fe($l,[["__scopeId","data-v-35813beb"]]);export{Vl as M,Ls as S,Ja as W,Rs as _,ps as a,fa as b,na as c,nt as d,hs as e,es as f,Cs as g,xa as u};
//# sourceMappingURL=ModalView.b218d979.js.map
