import{c as Z,d as Q,n as Se,e as Ce,i as X,_ as re,h as pe,S as Ie,k as Te}from"../server.mjs";import{ref as f,openBlock as t,createElementBlock as o,Fragment as K,renderList as Y,createElementVNode as e,createVNode as m,withCtx as G,createTextVNode as O,toDisplayString as n,createCommentVNode as i,withModifiers as W,withDirectives as I,vShow as P,normalizeClass as U,unref as w,createBlock as D,pushScopeId as fe,popScopeId as he,onBeforeMount as je,KeepAlive as _e,vModelText as oe,watch as Ee,onMounted as we,normalizeStyle as Le,computed as Re}from"vue";import"vue-router";import{M as be,_ as ie,u as Ae,W as ke,e as ue,S as de,c as ce,f as me,g as Ue}from"./ModalView.5655df94.js";import{J as Be,u as ge,L as Oe}from"./Layout.c1f49bf5.js";import{_ as ee,a as C,u as ze}from"./Icon.25764744.js";import{u as Ve}from"./useFeed.e853e4d0.js";import{I as Me,F as Ne}from"./FeedModalView.009d217e.js";import{_ as le}from"./LoadingEmptyErrorMessage.284d6663.js";import{u as ye}from"./useUser.2efc8660.js";const ve=u=>(fe("data-v-f1b53577"),u=u(),he(),u),De={class:"mx-auto w-full md:w-2/3"},qe={class:"flex flex-row mb-2 rounded-lg border-none shadow-none theme-color-secondary"},He={class:"w-full"},Ge={key:0,class:"p-4 user-info"},We=["src"],Je={class:"name"},Ke=ve(()=>e("br",null,null,-1)),Ye=ve(()=>e("span",{class:"mx-1"},"\xB7",-1)),Qe={class:"text-xxs"},Xe={class:"px-2 md:px-4"},Ze=["id","innerHTML"],et=["id","onClick"],tt={key:1,class:"my-2 w-full rounded-md theme-color"},ot={key:0,class:"p-2 md:p-4 user-info"},lt=["src"],st={class:"name"},at=ve(()=>e("br",null,null,-1)),nt=ve(()=>e("span",{class:"mx-1"},"\xB7",-1)),it={class:"px-2 mt-2 md:px-4"},rt={class:"text-xs font-semibold"},ut=["id"],dt=["id","onClick"],ct=["onClick"],mt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},vt={class:"mx-auto mt-2 primary-button"},pt={key:0,class:"p-2 mx-auto w-full text-center rounded-md opacity-90 theme-color"},ft={class:"mx-auto mt-2 primary-button"},ht={class:"float-right mx-4 mt-2 interactions"},wt={key:0,class:"reactions"},bt=["onClick"],gt=["onClick"],_t={class:"option dropdown"},kt=["onClick"],yt={class:"option-dropdown dropdown-menu"},$t={id:"option-dropdown-items",class:"w-52 toggler","aria-labelledby":"option-dropdown-buttons",role:"menu"},xt={class:"menu-wrapper"},Mt={key:0,class:"custom-divider"},Ct=["to"],It={class:"mx-auto text-center"},Et={class:"mx-auto mt-10 text-center"},Lt=ve(()=>e("b",null,"(\u3186_\u3186)",-1)),At={class:"mx-auto text-center"},Pt={id:"chronological-feed-modal",class:"modal work-view"},Ft={id:"artwork-modal",class:"modal work-view"},St={__name:"Feeds",props:{userId:{type:Number,default:0}},setup(u){const L=u,y=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),g=Ve(d,A()),{generateArtworkThumb:$}=Se();Ce();const x=f(0),_=f(0),r=(c,E)=>{x.value=c,_.value=E},l=f([]),p=f({page:0,perPage:10}),b=async({loaded:c})=>{const[E,j]=await g.getFeedByUserId({userId:L.userId,pagination:{page:p.value.page,perPage:p.value.perPage}});p.value.page+=1;for(let a=0;a<E.feeds.length;a++){const z=E.feeds[a];if(z.liked&&S.value.push(z.id),z.artworks){z.artworks.images=[],z.artworks.apply_explicit_filter=!1;for(let N=0;N<z.artworks.artwork_assets.length;N++)if(N<=3){const te=await $(z.artworks.artwork_assets[N].bucket,z.artworks.artwork_assets[N].filename,"feed");z.artworks.images.push(te)}z.artworks!=null&&(!y.loggedIn&&z.artworks.is_explicit||z.artworks.is_explicit&&!y.user.user_settings.show_explicit)&&(z.artworks.apply_explicit_filter=!0)}l.value.push(z)}c(E.feeds.length,p.value.perPage)},B=f(null),s=c=>{B.value.view(c),X().openModal("chronological-feed-modal")},k=f(null),M=(c,E,j)=>{E?(console.log("removing explicit filter.."),l.value[j].artworks.apply_explicit_filter=!1):(k.value.view(c),X().openModal("artwork-modal"))},S=f([]),T=async c=>{const[E,j]=await g.like({feedId:c});if(E){S.value.push(c);const a=document.getElementById(`profileFeedLikeButton-${c}`);a.classList.add("animate-bounce"),setInterval(()=>{a.classList.remove("animate-bounce")},2500)}},R=async c=>{const[E,j]=await g.unlike({feedId:c});if(E){const a=S.value.indexOf(c);S.value.splice(a,1)}},q=(c,E,j,a)=>{Ae().readMore(c,E,j,a)},H=async()=>{const[c,E]=await g.remove(x.value);c&&l.value.splice(_.value,1)};return(c,E)=>{const j=re;return t(),o("div",De,[(t(!0),o(K,null,Y(l.value,(a,z)=>(t(),o("div",{key:a.id},[e("div",qe,[e("div",He,[a.users?(t(),o("div",Ge,[m(j,{to:"/profile/"+a.users.username},{default:G(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(a.users.avatar_bucket,a.users.avatar_filename),onError:E[0]||(E[0]=(...N)=>c.imageLoadError&&c.imageLoadError(...N))},null,40,We)]),_:2},1032,["to"]),e("div",Je,[m(j,{to:"/profile/"+a.users.username,class:"fullname"},{default:G(()=>[O(n(a.users.name),1)]),_:2},1032,["to"]),Ke,m(j,{to:"/profile/"+a.users.username,class:"username hover:underline"},{default:G(()=>[O(" @"+n(a.users.username),1)]),_:2},1032,["to"]),Ye,e("span",Qe,n(c.formatDate(a.scheduled_post?a.scheduled_post:a.created_at,!0)),1)])])):i("",!0),e("div",Xe,[e("p",{id:"feed-text-"+a.id,innerHTML:a.text.split("<br>").length>3&&a.text.length>300?`${a.text.slice(0,300)}...`:a.text},null,8,Ze),a.text.split("<br>").length>3&&a.text.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+a.id,class:"href",onClick:W(N=>q(a.text,a.id,"feed-read-more-","feed-text-"),["prevent"])},n(c.$t("readMore")),9,et)):i("",!0),a.artworks?(t(),o("div",tt,[a.artworks.users?(t(),o("div",ot,[m(j,{to:"/profile/"+a.artworks.users.username},{default:G(()=>[e("img",{class:"avatar",src:c.avatarCoverUrl(a.artworks.users.avatar_bucket,a.artworks.users.avatar_filename),onError:E[1]||(E[1]=(...N)=>c.imageLoadError&&c.imageLoadError(...N))},null,40,lt)]),_:2},1032,["to"]),e("div",st,[m(j,{to:"/profile/"+a.artworks.users.username,class:"fullname hover:href"},{default:G(()=>[O(n(a.artworks.users.name),1)]),_:2},1032,["to"]),at,m(j,{to:"/profile/"+a.artworks.users.username,class:"hover:underline text-xxs"},{default:G(()=>[O(" @"+n(a.artworks.users.username),1)]),_:2},1032,["to"]),nt,m(j,{to:"/a/"+a.artworks.id,class:"hover:underline text-xxs"},{default:G(()=>[O(n(c.formatDate(a.artworks.scheduled_post?a.artworks.scheduled_post:a.artworks.created_at,!0)),1)]),_:2},1032,["to"])])])):i("",!0),e("div",it,[e("span",rt,n(a.artworks.title),1),I(e("p",null,[e("span",{id:"feed-description-"+a.artworks.id},n(a.artworks.description.length>300?`${a.artworks.description.slice(0,300)}...`:a.artworks.description),9,ut),a.artworks.description.length>300?(t(),o("a",{key:0,id:"feed-read-more-"+a.artworks.id,class:"href",onClick:W(N=>q(a.artworks.description,a.artworks.id,"feed-read-more-","feed-description-"),["prevent"])},n(c.$t("readMore")),9,dt)):i("",!0)],512),[[P,a.artworks.description]])]),e("div",null,[c.isMobile()?i("",!0):(t(),o("div",{key:0,class:U(["p-2",{"cursor-pointer":!a.artworks.apply_explicit_filter}]),onClick:W(N=>M(a.artworks.id,a.artworks.apply_explicit_filter,z),["prevent"])},[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"md:mx-2":a.artworks.apply_explicit_filter}])},[m(Me,{class:U([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),o("div",mt,[e("div",null,n(w(y).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",vt,n(c.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)],10,ct)),c.isMobile()?(t(),D(j,{key:1,to:a.artworks.apply_explicit_filter?null:"/a/"+a.artworks.id,onClick:W(N=>M(a.artworks.id,a.artworks.apply_explicit_filter,z),["prevent"]),class:"cursor-pointer"},{default:G(()=>[e("div",{class:U(["overflow-hidden relative p-2 rounded-md",{"m-2":a.artworks.apply_explicit_filter}])},[m(Me,{class:U([{"blur-3xl unclickable":a.artworks.apply_explicit_filter},a.artworks.apply_explicit_filter?"brightness-50":"brightness-100"]),work:a.artworks},null,8,["class","work"]),a.artworks.apply_explicit_filter?(t(),o("div",pt,[e("div",null,n(w(y).loggedIn?c.$t("explicitContentAlert"):c.$t("explicitContentAlertForGuest")),1),e("button",ft,n(c.$t("explicitShowMeThisContent")),1)])):i("",!0)],2)]),_:2},1032,["to","onClick"])):i("",!0)])])):i("",!0)]),e("div",ht,[w(y).loggedIn?(t(),o("div",wt,[e("span",{class:"leading-8",onClick:N=>S.value.includes(a.id)?R(a.id):T(a.id)},[I(m(C,{id:"profileFeedLikeButton-"+a.id,name:"i-ion-heart",class:"mr-1 text-red-500 hover:text-red-500"},null,8,["id"]),[[P,S.value.includes(a.id)]]),I(m(C,{name:"i-ion-heart-outline",class:"mr-1 icon-color hover:text-red-500"},null,512),[[P,!S.value.includes(a.id)]]),O(" "+n(c.thousand(a._count.feed_likes)),1)],8,bt),e("span",{class:"leading-8",onClick:W(N=>s(a.id),["prevent"])},[m(C,{name:"i-mdi-comment-multiple-outline",class:"mr-1 icon-color hover:text-blue-500"}),O(" "+n(c.thousand(a._count.feed_comments)),1)],8,gt),e("div",_t,[e("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"option-dropdown-items",onClick:N=>r(a.id,z)},[e("span",null,[m(C,{name:"i-uit-ellipsis-v",class:"align-middle icon icon-color"})])],8,kt),e("div",yt,[e("div",$t,[e("div",xt,[m(j,{to:"/feed/"+a.id,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:G(()=>[m(C,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),O(" "+n(c.$t("open")),1)]),_:2},1032,["to"]),m(j,{to:"/feed/"+a.id,target:"_blank",class:"flex z-20 py-2 px-3 w-full rounded-md transition-all duration-150 hover:button-color parent-icon hover:text-white"},{default:G(()=>[m(C,{name:"i-ci-external-link",class:"mr-2 text-base"}),O(" "+n(c.$t("openInNewTab")),1)]),_:2},1032,["to"]),w(y).loggedIn&&a.user_id&&w(y).user.id===a.user_id?(t(),o("div",Mt)):i("",!0),w(y).loggedIn&&a.user_id&&w(y).user.id===a.user_id?(t(),o("div",{key:1,to:"/feed/"+a.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:E[2]||(E[2]=N=>c.openModal("profile-feed-deletion-confirm-modal"))},[m(C,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),O(" "+n(c.$t("delete")),1)],8,Ct)):i("",!0)])])])])])):i("",!0)])])])]))),128)),m(w(Be),{load:b},{loading:G(()=>[e("div",It,[m(C,{name:"i-line-md-loading-twotone-loop",class:"text-3xl"})])]),"no-results":G(()=>[e("div",Et,[Lt,O(" "+n(c.$t("nothingToShow")),1)])]),"no-more":G(()=>[e("div",At,n(c.$t("youHaveReachedTheEnd")),1)]),_:1}),e("div",Pt,[m(Ne,{ref_key:"chronologicalFeedModalViewRef",ref:B,section:"chronological-feed"},null,512)]),e("div",Ft,[m(be,{ref_key:"artworkModalViewRef",ref:k,section:"artwork"},null,512)]),m(ie,{id:"profile-feed-deletion-confirm-modal","modal-id":"profile-feed-deletion-confirm-modal",message:`${c.$t("alert.areYouSure")} ${c.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:E[3]||(E[3]=a=>H())},null,8,["message"])])}}},Tt=ee(St,[["__scopeId","data-v-f1b53577"]]),jt={id:"lists"},Rt=["id"],Ut={__name:"Artworks",props:{userId:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["feedSelectedItems","onEmpty"],setup(u,{emit:L}){const y=u,{oApiConfiguration:d,fetchOptions:A}=Q(),g=ze(d,A()),$="profile",x=f(!0);je(()=>{_()});const _=async()=>{const[j,a]=await p();r.value=j,a.record_total<=l.value.perPage&&s(),a.record_total===0&&T()},r=f([]),l=f({perPage:24,page:0}),p=async()=>{l.value.page===0&&(x.value=!0);const[j,a,z]=await g.getUserArtworks({userId:y.userId,pagination:{page:l.value.page,perPage:l.value.perPage}});if(z)q();else return a.record_total<=l.value.perPage&&s(),a.record_total===0&&T(),l.value.page+=1,b(),[j,a]},b=()=>{x.value=!1,S.value=!1,R.value=!1},B=f(!0),s=()=>{B.value=!1},k=f({delay:!1}),M=async()=>{k.value.delay=!0;const[j,a]=await p();for(let z=0;z<j.length;z++)r.value.push(j[z]);k.value.delay=!1,dataPagination.next_previous.next_page||s(),dataPagination.next_previous.next_page&&dataPagination.current_page===k.maxLoad&&(s(),k.showDiscoveryButton=!0)},S=f(!1),T=()=>{S.value=!0,s(),L("onEmpty")},R=f(!1),q=()=>{x.value=!1,R.value=!0,s()},H=f(null),c=(j,a=!1)=>{H.value.view(j,a),X().openModal($+"-modal")},E=j=>{L("feedSelectedItems",j)};return(j,a)=>(t(),o("div",jt,[I(e("div",null,[(t(),D(_e,null,[I(m(ke,{"section-class":"work-grid",works:r.value,view:c,"manage-mode":u.manageMode,onFeedManageList:E},null,8,["works","manage-mode"]),[[P,!S.value]])],1024)),I(e("div",{class:U(["primary-button",k.value.delay?"animate-pulse":""]),onClick:M},n(j.$t("loadMore")),3),[[P,B.value]])],512),[[P,!x.value]]),m(le,{loading:x.value,empty:S.value,error:R.value,fetch:p},null,8,["loading","empty","error"]),e("div",{id:$+"-modal",class:"modal work-view"},[I(m(be,{ref_key:"profileModalViewRef",ref:H,section:$},null,512),[[P,!x.value]])],8,Rt)]))}},Bt=ee(Ut,[["__scopeId","data-v-6fbdcb8f"]]),Ot={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},zt={class:"title"},Vt=["name"],Nt=["placeholder"],Dt=["placeholder"],qt=["for"],Ht=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Gt={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Wt=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Jt=[Wt],Kt={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Yt=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Qt=[Yt],Xt={class:"ml-2"},Zt={class:"flex flex-row gap-2 justify-end mt-2"},eo={type:"submit",class:"primary-button"},to={__name:"AlbumFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:L}){const y=u,{oApiConfiguration:d,fetchOptions:A}=Q(),g=ue(d,A()),{t:$}=pe(),x="create-album-form",_=f({title:"",description:"",isPublic:1,category:"artwork"}),r=async()=>{ge().validate(x,$);try{let l=!1,p={};if(y.category){const[b,B,s]=await g.createAlbum(y.category,_.value);l=b,p=B}l&&(X().closeModal(y.modalId),L("created",p))}catch{}};return(l,p)=>(t(),o("div",null,[e("div",Ot,[e("div",null,[e("span",zt,n(l.$t("albums.create.form.title")),1),e("form",{id:x,class:"mt-2",onSubmit:p[4]||(p[4]=W(b=>r(),["prevent"]))},[e("n-validate",{for:"title",name:l.$t("title")},[I(e("input",{"onUpdate:modelValue":p[0]||(p[0]=b=>_.value.title=b),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:l.$t("title")},null,8,Nt),[[oe,_.value.title]])],8,Vt),I(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=b=>_.value.description=b),class:"form-input theme-color-secondary",placeholder:l.$t("description"),"data-gramm":"false"},null,8,Dt),[[oe,_.value.description]]),e("label",{for:_.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:p[2]||(p[2]=b=>_.value.isPublic=!_.value.isPublic)},[Ht,_.value.isPublic?(t(),o("span",Gt,Jt)):i("",!0),_.value.isPublic?i("",!0):(t(),o("span",Kt,Qt))]),e("span",Xt,n(l.$t("private")),1)],8,qt),e("div",Zt,[e("button",{class:"cancel-button",onClick:p[3]||(p[3]=W(b=>l.closeModal(u.modalId),["prevent"]))},n(l.$t("cancel")),1),e("button",eo,n(l.$t("create")),1)])],32)])])]))}},oo={id:"lists"},lo={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},so={class:"mb-2 text-base font-bold"},ao={class:"mb-2"},no=O(),io={class:"italic"},ro=["id"],uo={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1}},emits:["onAlbumEmpty","feedManageList"],setup(u,{expose:L,emit:y}){const d=u,{oApiConfiguration:A,fetchOptions:g}=Q(),$=ue(A,g()),x=f(d.id);Ee(()=>d.id,(c,E)=>{x.value=c});const _=f(!0),r=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),l=async()=>{_.value=!0,await p(),await b(),_.value=!1},p=async()=>{const[c,E]=await $.getInfo(x.value);r.value.info=c.data},b=async()=>{const[c,E,j]=await $.listAlbumItems({albumId:x.value,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.page===0?r.value.pagination.firstLoad:r.value.pagination.perPage}});E?r.value.pagination.page===0?r.value.pagination.page=r.value.pagination.firstLoad/r.value.pagination.perPage:r.value.pagination.page+=r.value.pagination.page!==0?1:2:r.value.loadMore=!1,c!==null&&c.length?(c.forEach(a=>{r.value.list.push(a.artworks)}),y("onAlbumEmpty",!1)):(r.value.empty=!0,y("onAlbumEmpty",!0))},B=()=>{r.value.loadMore=!0,r.value.pagination.page=0,r.value.list=[]},s=f([]),k=c=>{s.value=c,y("feedManageList",c)},M=f(!1);let S;const T=async()=>{const[c,E]=await $.removeItems(d.id,s.value);c&&(ce().splash(S,M,"item-removed-alert"),B(),await l())},R=f("album"),q=f(null),H=(c,E=!1)=>{q.value.view(c,E),X().openModal(R.value+"-modal")};return L({fetchInfo:p,removeItems:T}),(c,E)=>(t(),o("div",oo,[e("div",{class:"hidden",onClick:E[0]||(E[0]=j=>p())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=j=>T())}),e("div",lo,[e("div",so,n(r.value.info.name),1),e("div",ao,n(r.value.info.description),1),e("div",null,[e("b",null,n(c.$t("private"))+":",1),no,e("span",io,n(r.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,n(c.$t("createdAt")),1),O(" "+n(c.formatDate(r.value.info.created_at)),1)])]),I(e("div",null,[(t(),D(_e,null,[I(m(ke,{"section-class":"work-grid",works:r.value.list,view:H,"manage-mode":u.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[P,!r.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:E[2]||(E[2]=j=>b())},n(c.$t("loadMore")),513),[[P,r.value.loadMore]])],512),[[P,!_.value]]),m(le,{loading:_.value,empty:r.value.empty,error:!1,fetch:l},null,8,["loading","empty"]),_.value?i("",!0):(t(),o("div",{key:0,id:R.value+"-modal",class:"modal work-view"},[m(be,{ref_key:"albumModalViewRef",ref:q,section:R.value},null,8,["section"])],8,ro)),I(m(de,{id:"item-removed-alert",text:c.$t("albums.itemRemoved")},null,8,["text"]),[[P,M.value]])]))}},co=ee(uo,[["__scopeId","data-v-2ee448ae"]]),mo={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},vo={class:"title"},po=["name"],fo=["placeholder"],ho=["placeholder"],wo=["for"],bo=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),go={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},_o=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ko=[_o],yo={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},$o=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),xo=[$o],Mo={class:"ml-2"},Co={class:"flex flex-row gap-2 justify-end mt-2"},Io={type:"submit",class:"primary-button"},Eo={__name:"EditForm",props:{albumId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:L,emit:y}){const d=u,{oApiConfiguration:A,fetchOptions:g}=Q(),$=ue(A,g()),{t:x}=pe(),_=f(!0),r=async s=>{if(s){B(),_.value=!0;const[k,M]=await $.getInfo(s),S=k.data;p.value.id=s,p.value.name=S.name,p.value.description=S.description,p.value.isPublic=!!S.is_public,_.value=!1}},l="update-album-form",p=f({id:0,name:"",description:"",isPublic:!1}),b=async()=>{ge().validate(l,x);const[s,k]=await $.update({id:p.value.id,name:p.value.name,description:p.value.description,isPublic:p.value.isPublic?1:0});k||(X().closeModal(d.modalId),y("updated",p.value),B())},B=()=>{p.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:r}),(s,k)=>(t(),o("div",null,[e("div",mo,[e("div",null,[e("span",vo,n(s.$t("albums.edit.form.title")),1),_.value?i("",!0):(t(),o("form",{key:0,id:l,class:"mt-2",onSubmit:k[4]||(k[4]=W(M=>b(),["prevent"]))},[e("n-validate",{for:"title",name:s.$t("title")},[I(e("input",{"onUpdate:modelValue":k[0]||(k[0]=M=>p.value.name=M),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:s.$t("title")},null,8,fo),[[oe,p.value.name]])],8,po),I(e("textarea",{"onUpdate:modelValue":k[1]||(k[1]=M=>p.value.description=M),class:"form-input theme-color-secondary",placeholder:s.$t("description"),"data-gramm":"false"},null,8,ho),[[oe,p.value.description]]),e("label",{for:p.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:k[2]||(k[2]=M=>p.value.isPublic=!p.value.isPublic)},[bo,p.value.isPublic?(t(),o("span",go,ko)):i("",!0),p.value.isPublic?i("",!0):(t(),o("span",yo,xo))]),e("span",Mo,n(s.$t("private")),1)],8,wo),e("div",Co,[e("button",{class:"cancel-button",onClick:k[3]||(k[3]=W(M=>s.closeModal(u.modalId),["prevent"]))},n(s.$t("cancel")),1),e("button",Io,n(s.$t("save")),1)])],32))])])]))}},Pe=""+globalThis.__buildAssetsURL("folder.11be08fa.png"),$e=u=>(fe("data-v-eccd717d"),u=u(),he(),u),Lo={class:"mb-2"},Ao={key:0},Po=$e(()=>e("img",{src:Pe,class:"rounded"},null,-1)),Fo=[Po],So={key:1},To={class:"relative text-center"},jo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Ro={class:"overflow-hidden rounded-md"},Uo=["src"],Bo={key:2,class:"imgrid"},Oo={class:"relative text-center"},zo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Vo={class:"overflow-hidden rounded-md"},No=["src"],Do=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),qo=$e(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Ho={key:3,class:"imgrid"},Go={class:"relative text-center"},Wo={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Jo={class:"overflow-hidden rounded-md"},Ko=["src"],Yo={key:4,class:"imgrid"},Qo={class:"relative text-center"},Xo={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Zo={class:"overflow-hidden rounded-md"},el=["src"],tl={key:5,class:"imgrid"},ol={key:0,class:"relative text-center"},ll={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},sl={class:"overflow-hidden rounded-md"},al=["src"],nl={key:1,class:"relative text-center"},il={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},rl={class:"overflow-hidden rounded-md"},ul=["src"],dl={__name:"ArtworkThumbnail",props:{album:{type:Object,default:()=>{}}},setup(u){const L=Z(),y={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,A)=>(t(),o("div",Lo,[!u.album.album_has_artworks||u.album._count.album_has_artworks===0?(t(),o("div",Ao,Fo)):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("div",So,[e("div",To,[d.applyExplicitFilter(w(L),u.album.album_has_artworks[0].artworks.is_explicit)?(t(),o("span",jo,n(d.$t("explicitContent")),1)):i("",!0),e("div",Ro,[u.album.album_has_artworks&&u.album._count.album_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(u.album.album_has_artworks[0].artworks.artwork_assets[0].bucket,u.album.album_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),u.album.album_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...g)=>d.imageLoadError&&d.imageLoadError(...g))},null,42,Uo)):i("",!0)])])])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===2?(t(),o("div",Bo,[(t(!0),o(K,null,Y(u.album.album_has_artworks,(g,$)=>(t(),o("div",{key:$,class:U(y[2][$])},[e("div",Oo,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",zo,n(d.$t("explicitContent")),1)):i("",!0),e("div",Vo,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,No)])])],2))),128)),Do,qo])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===3?(t(),o("div",Ho,[(t(!0),o(K,null,Y(u.album.album_has_artworks,(g,$)=>(t(),o("div",{key:$,class:U(y[3][$])},[e("div",Go,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",Wo,n(d.$t("explicitContent")),1)):i("",!0),e("div",Jo,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Ko)])])],2))),128))])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks===4?(t(),o("div",Yo,[(t(!0),o(K,null,Y(u.album.album_has_artworks,(g,$)=>(t(),o("div",{key:$},[e("div",Qo,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",Xo,n(d.$t("explicitContent")),1)):i("",!0),e("div",Zo,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,el)])])]))),128))])):i("",!0),u.album.album_has_artworks&&u.album._count.album_has_artworks>4?(t(),o("div",tl,[(t(!0),o(K,null,Y(u.album.album_has_artworks,(g,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",ol,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",ll,n(d.$t("explicitContent")),1)):i("",!0),e("div",sl,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,al)])])):(t(),o("div",nl,[e("span",il,"+"+n(u.album._count.album_has_artworks-4),1),e("div",rl,[e("img",{src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,ul)])]))]))),128))])):i("",!0)]))}},cl=ee(dl,[["__scopeId","data-v-eccd717d"]]),ml={class:"mb-2 w-full"},vl={key:0,class:"flex flex-row justify-between"},pl={class:"flex flex-row"},fl={key:0},hl={key:1,class:"flex flex-row justify-between"},wl={class:"flex flex-row"},bl={class:"flex flex-row gap-2"},gl={class:"flex flex-row gap-2"},_l={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},kl=["onClick"],yl={class:"flex flex-row pb-1 mt-4 font-bold"},$l={class:"text-xs font-normal"},xl={__name:"Album",props:{userId:{type:Number,default:0}},setup(u){const L=u,y=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),g=ue(d,A());we(()=>{b()});const $=f(!0),x=f("artwork"),_=f(0),r=f([]),l=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),p=f({artwork:0}),b=async()=>{$.value=!0;const[F,v,h]=await g.fetchAlbums(L.userId,x.value,l.value.pagination.page===0?l.value.pagination.firstLoad:l.value.pagination.perPage,l.value.pagination.page);if(h)S();else{F.length||(l.value.manageMode=!1,k()),F.forEach(V=>{r.value.push(V)}),l.value.pagination.page+=l.value.pagination.firstLoad/l.value.pagination.perPage,l.value.showLoadMore=v;const[J]=await g.countArtworkAlbums(L.userId);p.value.artwork=J}$.value=!1},B=async()=>await b(),s=f(!1),k=()=>{s.value=!0,l.value.showLoadMore=!1},M=f(!1),S=()=>{$.value=!1,M.value=!0,l.value.showLoadMore=!1},T=async()=>{$.value=!1,s.value=!1,M.value=!1,l.value.pagination.page=0,r.value=[],await b()},R=f(!1);let q;const H=async()=>{ce().splash(q,R,"created-alert"),await T()},c=f(null),E=()=>{c.value.fetch(_.value),X().openModal("album-edit-form-modal")},j=f(null),a=F=>{j.value.fetchInfo(),r.value.forEach(v=>{v.id===F.id&&(v.name=F.name,v.description=F.description,v.is_public=F.isPublic)})},z=()=>{j.value.removeItems()},N=f([]),te=F=>{N.value=F},se=async()=>{if(_.value!==0){const[F,v]=await g.deleteAlbum(_.value);F&&(_.value=0,T())}},ae=F=>{l.value.showManageButton=!F,l.value.manageMode=!1},ne=()=>{_.value=0,l.value.showManageButton=!1,l.value.manageMode=!1};return(F,v)=>(t(),o("div",null,[e("div",ml,[_.value?i("",!0):(t(),o("div",vl,[e("div",pl,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":x.value==="artwork"}]),onClick:v[0]||(v[0]=h=>x.value="artwork")},[O(n(F.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",x.value==="artwork"?"theme-color":"button-color text-white"])},n(p.value.artwork),3)],2)]),w(y).loggedIn&&w(y).user.id===u.userId?(t(),o("div",fl,[e("div",{class:"icon-button",onClick:v[1]||(v[1]=h=>F.openModal("album-form-modal"))},[m(C,{name:"i-ion-add-outline"})])])):i("",!0)])),_.value?(t(),o("div",hl,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:v[2]||(v[2]=h=>ne())},[m(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",wl,[I(e("div",bl,[e("button",{class:"action-button secondary-button",onClick:v[3]||(v[3]=h=>l.value.manageMode=!l.value.manageMode)},[m(C,{name:l.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(l.value.manageMode?F.$t("quit"):F.$t("manage")),1)]),I(e("button",{class:U(["flex flex-row",N.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:v[4]||(v[4]=h=>N.value.length>0?F.openModal("item-deletion-confirm-modal"):null)},[m(C,{name:"i-akar-icons-trash-bin"}),O(" "+n(F.$t("albums.removeSelected")),1)],2),[[P,l.value.manageMode]])],512),[[P,w(y).loggedIn&&w(y).user.id===u.userId&&l.value.showManageButton]]),I(e("div",gl,[e("button",{class:"icon-button",onClick:v[5]||(v[5]=h=>E())},[m(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:v[6]||(v[6]=h=>F.openModal("album-deletion-confirm-modal"))},[m(C,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(y).loggedIn&&w(y).user.id===u.userId&&!l.value.manageMode]])])])):i("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(F.$t("albums.manageModeActiveMessage")),513),[[P,l.value.manageMode]])]),_.value?i("",!0):(t(),o("div",_l,[(t(!0),o(K,null,Y(r.value,h=>(t(),o("div",{key:h.id,class:U(["p-3 rounded-md cursor-pointer",h.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:J=>_.value=h.id},[h.type==="artwork"?(t(),D(cl,{key:0,album:h},null,8,["album"])):i("",!0),e("div",yl,[h.is_public?i("",!0):(t(),D(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",$l,n(h.name),1)])],10,kl))),128))])),l.value.showLoadMore&&!_.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:B},n(F.$t("loadMore")),1)):i("",!0),m(le,{loading:$.value,empty:s.value,error:M.value,fetch:b},null,8,["loading","empty","error"]),!$.value&&!_.value?(t(),D(to,{key:2,id:"album-form-modal","modal-id":"album-form-modal",category:x.value,class:"modal",onCreated:H},null,8,["category"])):i("",!0),I(m(de,{id:"created-alert",text:F.$t("albums.created")},null,8,["text"]),[[P,R.value]]),!$.value&&_.value?(t(),D(Eo,{key:3,id:"album-edit-form-modal",ref_key:"albumEditFormModalRef",ref:c,"modal-id":"album-edit-form-modal","album-id":_.value,class:"modal",onUpdated:a},null,8,["album-id"])):i("",!0),m(ie,{id:"album-deletion-confirm-modal","modal-id":"album-deletion-confirm-modal",message:"All saved items in this album will be deleted. Do you still want to delete this album?",class:"modal",onOnAccept:se},null,8,["message"]),m(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this album. Do you still want to remove them?",class:"modal",onOnAccept:z},null,8,["message"]),_.value&&!$.value?(t(),D(co,{key:4,id:_.value,ref_key:"albumDetailRef",ref:j,"manage-mode":l.value.manageMode,onOnAlbumEmpty:ae,onFeedManageList:te},null,8,["id","manage-mode"])):i("",!0)]))}},Ml=ee(xl,[["__scopeId","data-v-7bee1255"]]),Cl=O(" PRO "),Fe={__name:"ProBadge",setup(u){const L=Z();return(y,d)=>{const A=re;return w(L).i502p00r0?i("",!0):(t(),D(A,{key:0,to:"/pro",class:"py-1 px-2 font-bold align-middle bg-yellow-200 rounded-md text-xxs"},{default:G(()=>[Cl]),_:1}))}}},Il={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},El={class:"title"},Ll=["placeholder"],Al=["placeholder"],Pl=["for"],Fl=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),Sl={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},Tl=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),jl=[Tl],Rl={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},Ul=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),Bl=[Ul],Ol={class:"flex flex-row gap-x-1"},zl={class:"ml-2"},Vl={class:"flex flex-row gap-2 justify-end mt-2"},Nl={type:"submit",class:"primary-button"},Dl={__name:"CollectionFormModal",props:{category:{type:String,default:"artwork"},modalId:{type:String,default:""}},emits:"created",setup(u,{emit:L}){const y=u,d=Z(),{oApiConfiguration:A,fetchOptions:g}=Q(),$=me(A,g()),{t:x}=pe(),_="create-collection-form",r=f({title:"",description:"",isPublic:1,category:"artwork"}),l=async()=>{ge().validate(_,x);try{let p=!1,b={};if(y.category){const[B,s,k]=await $.createCollection(y.category,r.value);k||(p=B,b=s)}p&&(X().closeModal(y.modalId),L("created",b))}catch{}};return(p,b)=>(t(),o("div",null,[e("div",Il,[e("div",null,[e("span",El,n(p.$t("collections.create.form.title")),1),e("form",{id:_,class:"mt-2",onSubmit:b[4]||(b[4]=W(B=>l(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":b[0]||(b[0]=B=>r.value.title=B),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:p.$t("title")},null,8,Ll),[[oe,r.value.title]])]),I(e("textarea",{"onUpdate:modelValue":b[1]||(b[1]=B=>r.value.description=B),class:"form-input theme-color-secondary",placeholder:p.$t("description"),"data-gramm":"false"},null,8,Al),[[oe,r.value.description]]),e("label",{for:r.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:b[2]||(b[2]=B=>w(d).i502p00r0?r.value.isPublic=!r.value.isPublic:r.value.isPublic=!0)},[Fl,r.value.isPublic?(t(),o("span",Sl,jl)):i("",!0),r.value.isPublic?i("",!0):(t(),o("span",Rl,Bl))]),e("div",Ol,[e("span",zl,n(p.$t("private")),1),m(Fe)])],8,Pl),e("div",Vl,[e("button",{class:"cancel-button",onClick:b[3]||(b[3]=W(B=>p.closeModal(u.modalId),["prevent"]))},n(p.$t("cancel")),1),e("button",Nl,n(p.$t("create")),1)])],32)])])]))}},ql={id:"lists"},Hl={class:"p-4 mb-4 w-full rounded-md theme-color-secondary"},Gl={class:"text-base font-bold mb-2"},Wl={class:"mb-2"},Jl=O(),Kl={class:"italic"},Yl=["id"],Ql={__name:"List",props:{id:{type:Number,default:0},manageMode:{type:Boolean,default:!1},type:{type:String,default:""}},emits:["onCollectionEmpty","feedManageList"],setup(u,{expose:L,emit:y}){const d=u,{oApiConfiguration:A,fetchOptions:g}=Q(),$=me(A,g()),x=f(d.id);Ee(()=>d.id,(c,E)=>{x.value=c});const _=f(!0),r=f({id:0,info:{},loadMore:!0,pagination:{page:0,perPage:12,firstLoad:24},list:[],empty:!1}),l=async()=>{_.value=!0,await p(),await b(),_.value=!1},p=async()=>{const[c,E]=await $.getInfo(x.value);r.value.info=c.data},b=async()=>{const[c,E,j]=await $.listCollectionItems({collectionId:x.value,pagination:{page:r.value.pagination.page,perPage:r.value.pagination.page===0?r.value.pagination.firstLoad:r.value.pagination.perPage}});E?r.value.pagination.page===0?r.value.pagination.page=r.value.pagination.firstLoad/r.value.pagination.perPage:r.value.pagination.page+=r.value.pagination.page!==0?1:2:r.value.loadMore=!1,c!==null&&c.length?(c.forEach(a=>{r.value.list.push(a.artworks)}),y("onCollectionEmpty",!1)):(r.value.empty=!0,y("onCollectionEmpty",!0))},B=()=>{r.value.loadMore=!0,r.value.pagination.page=0,r.value.list=[]},s=f([]),k=c=>{s.value=c,y("feedManageList",c)},M=f(!1);let S;const T=async()=>{const[c,E]=await $.removeItem({collectionId:d.id,type:d.type,workId:s.value});E||(ce().splash(S,M,"item-removed-alert"),B(),await l(),y("feedManageList",[]))},R=f("collection"),q=f(null),H=(c,E=!1)=>{q.value.view(c,E),X().openModal(R.value+"-modal")};return L({fetchInfo:p,removeItem:T}),(c,E)=>(t(),o("div",ql,[e("div",{class:"hidden",onClick:E[0]||(E[0]=j=>p())}),e("div",{class:"hidden",onClick:E[1]||(E[1]=j=>T())}),e("div",Hl,[e("div",Gl,n(r.value.info.name),1),e("div",Wl,n(r.value.info.description),1),e("div",null,[e("b",null,n(c.$t("private"))+":",1),Jl,e("span",Kl,n(r.value.info.is_public?c.$t("no"):c.$t("yes")),1)]),e("div",null,[e("b",null,n(c.$t("createdAt")),1),O(" "+n(c.formatDate(r.value.info.created_at)),1)])]),I(e("div",null,[(t(),D(_e,null,[I(m(ke,{"section-class":"work-grid",works:r.value.list,view:H,"manage-mode":u.manageMode,onFeedManageList:k},null,8,["works","manage-mode"]),[[P,!r.value.empty]])],1024)),I(e("div",{class:"primary-button",onClick:E[2]||(E[2]=j=>b())},n(c.$t("loadMore")),513),[[P,r.value.loadMore]])],512),[[P,!_.value]]),m(le,{loading:_.value,empty:r.value.empty,error:!1,fetch:l},null,8,["loading","empty"]),_.value?i("",!0):(t(),o("div",{key:0,id:R.value+"-modal",class:"modal work-view"},[m(be,{ref_key:"collectionModalViewRef",ref:q,section:R.value},null,8,["section"])],8,Yl)),I(m(de,{id:"item-removed-alert",text:c.$t("collections.itemRemoved")},null,8,["text"]),[[P,M.value]])]))}},Xl=ee(Ql,[["__scopeId","data-v-28a81b65"]]),Zl={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},es={class:"title"},ts=["placeholder"],os=["placeholder"],ls=["for"],ss=e("span",{class:"block w-10 h-6 bg-gray-300 rounded-full shadow-inner"},null,-1),as={key:0,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-300 ease-in-out focus-within:shadow-outline"},ns=e("input",{id:"unchecked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),is=[ns],rs={key:1,class:"block absolute inset-y-0 left-0 mt-1 ml-1 w-4 h-4 rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-full focus-within:shadow-outline button-color"},us=e("input",{id:"checked",type:"checkbox",class:"absolute w-0 h-0 opacity-0"},null,-1),ds=[us],cs={class:"flex flex-row gap-x-1"},ms={class:"ml-2"},vs={class:"flex flex-row gap-2 justify-end mt-2"},ps={type:"submit",class:"primary-button"},fs={__name:"EditForm",props:{collectionId:{type:Number,default:0},modalId:{type:String,default:""}},emits:"updated",setup(u,{expose:L,emit:y}){const d=u,A=Z(),{t:g}=pe(),{oApiConfiguration:$,fetchOptions:x}=Q(),_=me($,x()),r=f(!0),l=async k=>{if(k){s(),r.value=!0;const[M,S]=await _.getInfo(k);if(!S){const T=M.data;b.value.id=k,b.value.name=T.name,b.value.description=T.description,b.value.isPublic=!!T.is_public,r.value=!1}}},p="edit-collection-form",b=f({id:0,name:"",description:"",isPublic:!1}),B=async()=>{ge().validate(p,g);const[k,M]=await _.update({id:b.value.id,name:b.value.name,description:b.value.description,isPublic:b.value.isPublic?1:0});M||(X().closeModal(d.modalId),y("updated",b.value),s())},s=()=>{b.value={id:0,name:"",description:"",isPublic:0}};return L({fetch:l}),(k,M)=>(t(),o("div",null,[e("div",{class:"hidden",onClick:M[0]||(M[0]=S=>l(0))}),e("div",Zl,[e("div",null,[e("span",es,n(k.$t("collections.edit.form.title")),1),r.value?i("",!0):(t(),o("form",{key:0,id:p,class:"mt-2",onSubmit:M[5]||(M[5]=W(S=>B(),["prevent"]))},[e("n-validate",null,[I(e("input",{"onUpdate:modelValue":M[1]||(M[1]=S=>b.value.name=S),type:"text",class:"form-input theme-color-secondary",rules:"required",placeholder:k.$t("title")},null,8,ts),[[oe,b.value.name]])]),I(e("textarea",{"onUpdate:modelValue":M[2]||(M[2]=S=>b.value.description=S),class:"form-input theme-color-secondary",placeholder:k.$t("description"),"data-gramm":"false"},null,8,os),[[oe,b.value.description]]),e("label",{for:b.value.isPublic?"checked":"unchecked",class:"inline-flex items-center"},[e("span",{class:"relative cursor-pointer",onClick:M[3]||(M[3]=S=>w(A).i502p00r0?b.value.isPublic=!b.value.isPublic:b.value.isPublic=!0)},[ss,b.value.isPublic?(t(),o("span",as,is)):i("",!0),b.value.isPublic?i("",!0):(t(),o("span",rs,ds))]),e("div",cs,[e("span",ms,n(k.$t("private")),1),m(Fe)])],8,ls),e("div",vs,[e("button",{class:"cancel-button",onClick:M[4]||(M[4]=W(S=>k.closeModal(u.modalId),["prevent"]))},n(k.$t("cancel")),1),e("button",ps,n(k.$t("save")),1)])],32))])])]))}},xe=u=>(fe("data-v-a484fb7b"),u=u(),he(),u),hs={class:"mb-2"},ws={key:0},bs=xe(()=>e("img",{src:Pe,class:"rounded"},null,-1)),gs=[bs],_s={key:1},ks={class:"relative text-center"},ys={key:0,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},$s={class:"overflow-hidden rounded-md"},xs=["src"],Ms={key:2,class:"imgrid"},Cs={class:"relative text-center"},Is={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Es={class:"overflow-hidden rounded-md"},Ls=["src"],As=xe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Ps=xe(()=>e("img",{class:"bg-gray-300 border-none"},null,-1)),Fs={key:3,class:"imgrid"},Ss={class:"relative text-center"},Ts={key:0,class:"absolute top-1/2 left-1/2 z-10 text-base font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},js={class:"overflow-hidden rounded-md"},Rs=["src"],Us={key:4,class:"imgrid"},Bs={class:"relative text-center"},Os={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},zs={class:"overflow-hidden rounded-md"},Vs=["src"],Ns={key:5,class:"imgrid"},Ds={key:0,class:"relative text-center"},qs={key:0,class:"absolute top-1/2 left-1/2 z-10 font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 text-tiny"},Hs={class:"overflow-hidden rounded-md"},Gs=["src"],Ws={key:1,class:"relative text-center"},Js={class:"absolute top-1/2 left-1/2 z-10 text-lg font-semibold text-white transform -translate-x-1/2 -translate-y-1/2 md:text-xl lg:text-3xl"},Ks={class:"overflow-hidden rounded-md"},Ys=["src"],Qs={__name:"ArtworkThumbnail",props:{collection:{type:Object,default:()=>{}}},setup(u){const L=Z(),y={1:"col-start-1 row-start-1 col-span-4 row-span-4",2:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"],3:["col-start-1 row-start-1 col-span-1 row-span-2","col-start-2 row-start-1 col-span-1 row-span-2"]};return(d,A)=>(t(),o("div",hs,[!u.collection.collection_has_artworks||u.collection._count.collection_has_artworks===0?(t(),o("div",ws,gs)):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("div",_s,[e("div",ks,[d.applyExplicitFilter(w(L),u.collection.collection_has_artworks[0].artworks.is_explicit)?(t(),o("span",ys,n(d.$t("explicitContent")),1)):i("",!0),e("div",$s,[u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===1?(t(),o("img",{key:0,src:d.artworkThumb(u.collection.collection_has_artworks[0].artworks.artwork_assets[0].bucket,u.collection.collection_has_artworks[0].artworks.artwork_assets[0].filename,"thumbnail"),class:U(["object-cover object-top rounded",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),u.collection.collection_has_artworks[0].artworks.is_explicit)}]),style:{"aspect-ratio":"1/1"},onError:A[0]||(A[0]=(...g)=>d.imageLoadError&&d.imageLoadError(...g))},null,42,xs)):i("",!0)])])])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===2?(t(),o("div",Ms,[(t(!0),o(K,null,Y(u.collection.collection_has_artworks,(g,$)=>(t(),o("div",{key:$,class:U(y[2][$])},[e("div",Cs,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",Is,n(d.$t("explicitContent")),1)):i("",!0),e("div",Es,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[1]||(A[1]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Ls)])])],2))),128)),As,Ps])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===3?(t(),o("div",Fs,[(t(!0),o(K,null,Y(u.collection.collection_has_artworks,(g,$)=>(t(),o("div",{key:$,class:U(y[3][$])},[e("div",Ss,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",Ts,n(d.$t("explicitContent")),1)):i("",!0),e("div",js,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[2]||(A[2]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Rs)])])],2))),128))])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks===4?(t(),o("div",Us,[(t(!0),o(K,null,Y(u.collection.collection_has_artworks,(g,$)=>(t(),o("div",{key:$},[e("div",Bs,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",Os,n(d.$t("explicitContent")),1)):i("",!0),e("div",zs,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[3]||(A[3]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Vs)])])]))),128))])):i("",!0),u.collection.collection_has_artworks&&u.collection._count.collection_has_artworks>4?(t(),o("div",Ns,[(t(!0),o(K,null,Y(u.collection.collection_has_artworks,(g,$)=>(t(),o("div",{key:$},[$<3?(t(),o("div",Ds,[d.applyExplicitFilter(w(L),g.artworks.is_explicit)?(t(),o("span",qs,n(d.$t("explicitContent")),1)):i("",!0),e("div",Hs,[e("img",{class:U(["theme-color",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),onError:A[4]||(A[4]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Gs)])])):(t(),o("div",Ws,[e("span",Js,"+"+n(u.collection._count.collection_has_artworks-4),1),e("div",Ks,[e("img",{src:d.artworkThumb(g.artworks.artwork_assets[0].bucket,g.artworks.artwork_assets[0].filename,"thumbnail"),class:U(["z-0 brightness-50",{"blur-sm brightness-50":d.applyExplicitFilter(w(L),g.artworks.is_explicit)}]),onError:A[5]||(A[5]=(...x)=>d.imageLoadError&&d.imageLoadError(...x))},null,42,Ys)])]))]))),128))])):i("",!0)]))}},Xs=ee(Qs,[["__scopeId","data-v-a484fb7b"]]),Zs={class:"mb-2 w-full"},ea={key:0,class:"flex flex-row justify-between"},ta={class:"flex flex-row"},oa={key:0},la={key:1,class:"flex flex-row justify-between"},sa={class:"flex flex-row"},aa={class:"flex flex-row gap-2"},na={class:"flex flex-row gap-2"},ia={key:0,class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},ra=["onClick"],ua={class:"flex flex-row pb-1 mt-4 font-bold"},da={class:"text-xs font-normal"},ca={__name:"Collection",props:{userId:{type:Number,default:0}},setup(u){const L=u,y=Z();we(()=>{b()});const{oApiConfiguration:d,fetchOptions:A}=Q(),g=me(d,A()),$=f(!0),x=f("artwork"),_=f(0),r=f([]),l=f({pagination:{page:0,perPage:4,firstLoad:8},showLoadMore:!1,manageMode:!1,showManageButton:!0}),p=f({artwork:0}),b=async()=>{$.value=!0;const[F,v,h]=await g.fetchCollections({userId:L.userId,type:x.value,pagination:{page:l.value.pagination.page,perPage:l.value.pagination.page===0?l.value.pagination.firstLoad:l.value.pagination.perPage}});if(h)S();else{F.length||(l.value.manageMode=!1,k()),F.forEach(V=>{r.value.push(V)}),l.value.pagination.page+=l.value.pagination.firstLoad/l.value.pagination.perPage,l.value.showLoadMore=v;const[J]=await g.countArtworkCollections(L.userId);p.value.artwork=J}$.value=!1},B=async()=>await b(),s=f(!1),k=()=>{s.value=!0,l.value.showLoadMore=!1},M=f(!1),S=()=>{$.value=!1,M.value=!0,l.value.showLoadMore=!1},T=async()=>{$.value=!1,s.value=!1,M.value=!1,l.value.pagination.page=0,r.value=[],await b()},R=F=>{l.value.showManageButton=!0,F&&(l.value.showManageButton=!1)},q=f(!1);let H;const c=async()=>{ce().splash(H,q,"created-alert"),await T()},E=f(null),j=()=>{E.value.fetch(_.value),X().openModal("collection-edit-form-modal")},a=f(null),z=F=>{a.value.fetchInfo(),r.value.forEach(v=>{v.id===F.id&&(v.name=F.name,v.description=F.description,v.is_public=F.isPublic)})},N=f([]),te=F=>{N.value=F},se=()=>{a.value.removeItem()},ae=async()=>{if(_.value!==0){const[F,v]=await g.deleteCollection(_.value);F&&(_.value=0,T())}},ne=()=>{_.value=0,l.value.showManageButton=!1,l.value.manageMode=!1};return(F,v)=>(t(),o("div",null,[e("div",Zs,[_.value?i("",!0):(t(),o("div",ea,[e("div",ta,[e("div",{class:U(["ml-0 primary-button theme-color-secondary",{"button-color text-white":x.value==="artwork"}]),onClick:v[0]||(v[0]=h=>x.value="artwork")},[O(n(F.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 font-normal rounded",x.value==="artwork"?"theme-color":"button-color text-white"])},n(p.value.artwork),3)],2)]),w(y).loggedIn&&w(y).user.id===u.userId?(t(),o("div",oa,[e("div",{class:"icon-button",onClick:v[1]||(v[1]=h=>F.openModal("collection-form-modal"))},[m(C,{name:"i-ion-add-outline"})])])):i("",!0)])),_.value?(t(),o("div",la,[e("div",null,[e("div",{class:"ml-0 icon-button",onClick:v[2]||(v[2]=h=>ne())},[m(C,{name:"i-ic-baseline-keyboard-arrow-left"})])]),e("div",sa,[I(e("div",aa,[e("button",{class:"action-button secondary-button",onClick:v[3]||(v[3]=h=>l.value.manageMode=!l.value.manageMode)},[m(C,{name:l.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(l.value.manageMode?F.$t("quit"):F.$t("manage")),1)]),I(e("button",{class:U(["flex flex-row",N.value.length>0?"danger-button":"disabled-button cursor-not-allowed"]),onClick:v[4]||(v[4]=h=>N.value.length>0?F.openModal("item-deletion-confirm-modal"):null)},[m(C,{name:"i-akar-icons-trash-bin"}),O(" "+n(F.$t("collections.removeSelected")),1)],2),[[P,l.value.manageMode]])],512),[[P,w(y).loggedIn&&w(y).user.id===u.userId&&l.value.showManageButton]]),I(e("div",na,[e("button",{class:"icon-button",onClick:v[5]||(v[5]=h=>j())},[m(C,{name:"i-ph-gear-six"})]),e("button",{class:"danger-button-color b-button",onClick:v[6]||(v[6]=h=>F.openModal("collection-deletion-confirm-modal"))},[m(C,{name:"i-akar-icons-trash-bin"})])],512),[[P,w(y).loggedIn&&w(y).user.id===u.userId&&!l.value.manageMode]])])])):i("",!0),I(e("div",{class:"p-2 mt-4 text-black bg-yellow-200 rounded-md"},n(F.$t("collections.manageModeActiveMessage")),513),[[P,l.value.manageMode]])]),_.value?i("",!0):(t(),o("div",ia,[(t(!0),o(K,null,Y(r.value,h=>(t(),o("div",{key:h.id,class:U(["p-3 rounded-md cursor-pointer",h.is_public?"theme-color-secondary":"theme-color-secondary border-red-300 border-2"]),onClick:J=>_.value=h.id},[h.type==="artwork"?(t(),D(Xs,{key:0,collection:h},null,8,["collection"])):i("",!0),e("div",ua,[h.is_public?i("",!0):(t(),D(C,{key:0,name:"i-radix-icons-lock-closed",class:"mr-2 cursor-default"})),e("span",da,n(h.name),1)])],10,ra))),128))])),l.value.showLoadMore&&!_.value?(t(),o("div",{key:1,class:"mt-4 w-full primary-button",onClick:B},n(F.$t("loadMore")),1)):i("",!0),m(le,{loading:$.value,empty:s.value,error:M.value,fetch:b},null,8,["loading","empty","error"]),!$.value&&!_.value?(t(),D(Dl,{key:2,id:"collection-form-modal","modal-id":"collection-form-modal",category:x.value,class:"modal",onCreated:c},null,8,["category"])):i("",!0),I(m(de,{id:"created-alert",text:F.$t("collections.created")},null,8,["text"]),[[P,q.value]]),!$.value&&_.value?(t(),D(fs,{key:3,id:"collection-edit-form-modal",ref_key:"collectionEditFormModalRef",ref:E,"modal-id":"collection-edit-form-modal","collection-id":_.value,class:"modal",onUpdated:z},null,8,["collection-id"])):i("",!0),m(ie,{id:"collection-deletion-confirm-modal","modal-id":"collection-deletion-confirm-modal",message:"All saved items in this collection will be deleted. Do you still want to delete this collection?",class:"modal",onOnAccept:ae},null,8,["message"]),m(ie,{id:"item-deletion-confirm-modal","modal-id":"item-deletion-confirm-modal",message:"Selected item(s) will be removed from this collection. Do you still want to remove them?",class:"modal",onOnAccept:se},null,8,["message"]),_.value&&!$.value?(t(),D(Xl,{key:4,id:_.value,ref_key:"collectionDetailRef",ref:a,"manage-mode":l.value.manageMode,type:x.value,onOnCollectionEmpty:R,onFeedManageList:te},null,8,["id","manage-mode","type"])):i("",!0)]))}},ma=ee(ca,[["__scopeId","data-v-52371e9a"]]),va={class:"text-lg font-bold"},pa={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},fa={class:"flex flex-row w-full"},ha=["src"],wa={class:"flex flex-col justify-between p-3 w-full text-white"},ba={class:"flex flex-col"},ga={class:"font-bold"},_a={class:"text-xxs"},ka={class:"flex flex-row w-full"},ya={key:0,class:"flex flex-row"},$a=["onClick"],xa=["onMouseover","onClick"],Ma={__name:"FollowerList",props:{userId:{type:Number,default:0}},setup(u){const L=u,y=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),g=ye(d,A());we(()=>{b()});const $=f([]),x=f(!0),_=f({page:0,perPage:12}),r=f(!1),l=f(!1),p=f(!1),b=async()=>{B(),x.value=!0;const[k,M]=await g.getFollowerList({userId:L.userId,pagination:{page:_.value.page,perPage:_.value.perPage}});M?r.value=!0:(k.followers.length||(l.value=!0),k.followers.forEach(S=>{$.value.push(S)}),_.value.page+=1,k.pagination.next_previous.next_page?p.value=!0:p.value=!1),x.value=!1},B=()=>{l.value=!1,r.value=!1},s=f(0);return(k,M)=>{const S=re;return t(),o("div",null,[e("div",va,n(k.$t("followers")),1),e("div",pa,[(t(!0),o(K,null,Y($.value,(T,R)=>(t(),D(S,{key:T.id,to:"/profile/"+T.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Le(T.cover_bucket&&T.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+k.avatarCoverUrl(T.cover_bucket,T.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Ie)+");background-size:cover;")},{default:G(()=>[e("div",fa,[e("img",{src:k.avatarCoverUrl(T.avatar_bucket,T.avatar_filename),class:"avatar",onError:M[0]||(M[0]=(...q)=>k.imageLoadError&&k.imageLoadError(...q))},null,40,ha),e("div",wa,[e("div",ba,[e("span",ga,n(T.name),1),e("span",_a,n(T.pen_name),1)]),e("div",ka,[w(y).loggedIn&&T.id!==w(y).user.id?(t(),o("div",ya,[I(e("div",{class:"flex flex-row",onClick:W(q=>k.followUser(R,T.id),["prevent"])},[m(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,$a),[[P,!T.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:q=>s.value=T.id,onMouseout:M[1]||(M[1]=q=>s.value=0),onClick:W(q=>k.unfollowUser(R,T.id),["prevent"])},[I(m(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,s.value!==T.id]]),I(m(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,s.value&&s.value===T.id]])],40,xa),[[P,T.is_following]])])):i("",!0)])])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"mt-4 primary-button",onClick:M[2]||(M[2]=T=>b())},n(k.$t("loadMore")),513),[[P,p.value]]),m(le,{loading:x.value,empty:l.value,error:r.value,fetch:b},null,8,["loading","empty","error"])])}}},Ca=ee(Ma,[["__scopeId","data-v-b2599f1b"]]),Ia={class:"text-lg font-bold"},Ea={class:"grid grid-cols-1 gap-4 mt-4 w-full md:grid-cols-2 lg:grid-cols-3"},La={class:"flex flex-row w-full"},Aa=["src"],Pa={class:"flex flex-col justify-between p-3 w-full text-white"},Fa={class:"flex flex-col"},Sa={class:"font-bold"},Ta={class:"text-xxs"},ja={class:"flex flex-row w-full"},Ra={key:0,class:"flex flex-row"},Ua=["onClick"],Ba=["onMouseover","onClick"],Oa={__name:"FollowingList",props:{userId:{type:Number,default:0}},setup(u){const L=u,y=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),g=ye(d,A());we(()=>{B()});const $=async()=>{x.value=[],r.value.page=0,await B()},x=f([]),_=f(!0),r=f({page:0,perPage:12}),l=f(!1),p=f(!1),b=f(!1),B=async()=>{s(),_.value=!0;const[M,S]=await g.getFollowingList({userId:L.userId,pagination:{page:r.value.page,perPage:r.value.perPage}});S?l.value=!0:(M.followings.length||(p.value=!0),M.followings.forEach(T=>{x.value.push(T)}),r.value.page+=1,M.pagination.next_previous.next_page?b.value=!0:b.value=!1),_.value=!1},s=()=>{p.value=!1,l.value=!1},k=f(0);return(M,S)=>{const T=re;return t(),o("div",null,[e("div",Ia,n(M.$t("followings")),1),e("div",Ea,[(t(!0),o(K,null,Y(x.value,(R,q)=>(t(),D(T,{key:R.id,to:"/profile/"+R.username,class:"flex object-cover flex-row rounded-md shadow-lg cursor-pointer theme-color-secondary hover:shadow-xl",style:Le(R.cover_bucket&&R.cover_filename?"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+M.avatarCoverUrl(R.cover_bucket,R.cover_filename)+");background-size:cover;":"background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+w(Ie)+");background-size:cover;")},{default:G(()=>[e("div",La,[e("img",{src:M.avatarCoverUrl(R.avatar_bucket,R.avatar_filename),class:"avatar",onError:S[0]||(S[0]=(...H)=>M.imageLoadError&&M.imageLoadError(...H))},null,40,Aa),e("div",Pa,[e("div",Fa,[e("span",Sa,n(R.name),1),e("span",Ta,n(R.pen_name),1)]),e("div",ja,[w(y).loggedIn&&R.id!==w(y).user.id?(t(),o("div",Ra,[I(e("div",{class:"flex flex-row",onClick:W(H=>M.followUser(q,R.id),["prevent"])},[m(C,{name:"i-ri-user-add-fill",class:"text-gray-300 hover:text-white"})],8,Ua),[[P,!R.is_following]]),I(e("div",{class:"flex flex-row",onMouseover:H=>k.value=R.id,onMouseout:S[1]||(S[1]=H=>k.value=0),onClick:W(H=>M.unfollowUser(q,R.id),["prevent"])},[I(m(C,{name:"i-ri-user-follow-fill",class:"text-green-400"},null,512),[[P,k.value!==R.id]]),I(m(C,{name:"i-ri-user-unfollow-fill",class:"text-red-400 hover:text-red-400"},null,512),[[P,k.value&&k.value===R.id]])],40,Ba),[[P,R.is_following]])])):i("",!0)])])])]),_:2},1032,["to","style"]))),128))]),I(e("div",{class:"primary-button mt-4",onClick:S[2]||(S[2]=R=>B())},n(M.$t("loadMore")),513),[[P,b.value]]),m(le,{loading:_.value,empty:p.value,error:l.value,fetch:$},null,8,["loading","empty","error"])])}}},za=ee(Oa,[["__scopeId","data-v-5ff9c687"]]),Va=u=>(fe("data-v-c5fd5a2e"),u=u(),he(),u),Na=["src"],Da={class:"px-2 pb-4 w-full rounded md:px-6 md:pb-6 theme-color"},qa={class:"flex-row justify-between hidden-md-flex"},Ha={class:"mr-6 w-1/5"},Ga=["src"],Wa={class:"mt-2"},Ja={class:"flex flex-row"},Ka={class:"flex flex-row"},Ya=O("\xA0 "),Qa=O("\xA0 "),Xa={class:"hidden flex-row justify-between w-full md:flex md:mt-6"},Za={class:"flex flex-col w-full"},en={class:"flex flex-row w-full"},tn={class:"w-9/12"},on={class:"text-base font-semibold"},ln=O("\xA0 "),sn={class:"mr-2 italic"},an={class:"flex flex-row mt-2"},nn={key:0,class:"mr-1"},rn={class:"flex flex-row"},un={class:"mr-1"},dn={key:0,class:"flex flex-row"},cn=O(" he/his "),mn={key:1,class:"flex flex-row"},vn=O(" she/her "),pn={class:"float-right w-3/12 text-right"},fn={class:"flex flex-row shadow-md primary-button"},hn={class:"leading-4"},wn={key:1,class:"mt-4"},bn=["href"],gn=["href"],_n=["href"],kn=["href"],yn=["href"],$n={key:0,class:"mt-4"},xn=["id","innerHTML"],Mn=["id"],Cn={class:"flex flex-col text-center md:hidden"},In=["src"],En={class:"mt-4 text-base font-semibold"},Ln={class:"flex flex-row justify-center mt-4"},An={key:0,class:"flex flex-row mr-1"},Pn={class:"mr-1"},Fn={key:0,class:"flex flex-row"},Sn=O(" he/his "),Tn={key:1,class:"flex flex-row"},jn=O(" she/her "),Rn={key:0,class:"mx-2 mt-4 text-center"},Un=["id","innerHTML"],Bn=["id"],On={key:1,class:"flex flex-row justify-center mt-4"},zn=["href"],Vn=["href"],Nn=["href"],Dn=["href"],qn=["href"],Hn={class:"flex flex-row justify-center w-full md:hidden"},Gn=O("\xA0 "),Wn=O("\xA0 "),Jn={class:"flex flex-row"},Kn={class:"flex flex-row"},Yn={class:"mt-2"},Qn={class:"flex flex-row justify-center md:hidden"},Xn={class:"flex flex-row justify-between mt-2 md:mt-6"},Zn={class:"hidden flex-col lg:w-1/5 md:flex"},ei={class:"profile-navigation_wrapper"},ti={class:"hidden-lg-flex"},oi=Va(()=>e("span",{class:"hidden-lg-flex"},null,-1)),li={class:"profile-navigation_wrapper"},si={class:"hidden-lg-flex"},ai={class:"hidden-lg-flex"},ni={class:"profile-navigation_wrapper"},ii={class:"hidden-lg-flex"},ri={class:"hidden-lg-flex"},ui={class:"w-full md:ml-6"},di={key:0},ci={class:"flex flex-row w-full"},mi={class:"flex flex-row gap-2 justify-between w-full md:justify-end"},vi={key:1},pi={key:2},fi={key:3},hi={key:4},wi={__name:"Profile",props:{id:{type:Number,default:0},userLogon:{type:Boolean,default:!1}},setup(u){const L=u,y=Z(),{oApiConfiguration:d,fetchOptions:A}=Q(),g=ye(d,A());ue(d,A()),me(d,A());const $=Te(),x=Ce(),{o:_}=$.query,r=f(!0),l=_!=null?f(_):f("dashboard"),p=f("artwork");Re(()=>L.userLogon&&y.loggedIn?y.user.id:L.id);const b=f({manageMode:!1,showManageMode:!0}),B=v=>{l.value=v,b.value.manageMode=!1,_!=null&&x.push("/profile")},s=f({}),k=f({feed:0,artwork:0,comic:0,tutorial:0,album:0,followers:0,followings:0}),M=f(null),S=f([]),T=v=>{S.value=v},R=()=>{b.value.showManageMode=!1},q=f(null),H=()=>{X().openModal("album-selection-modal")},c=f(!1);let E;const j=()=>{ce().splash(E,c,"item-added-to-album-alert")},a=f(!1),z=f(null),N=f("i-ri-user-follow-fill"),te=(v,h)=>{N.value=v,z.value=h},se=async v=>{const[h,J]=await g.follow(v);J||(a.value=!0)},ae=async v=>{const[h,J]=await g.unfollow(v);J||(a.value=!1)},ne=f(!0),F=(v,h,J,V)=>{ne.value=!1,Ae().readMore(v,h,J,V)};return(v,h)=>{const J=re;return t(),D(Oe,{"hide-side":!0,"with-footer":!0,"no-right-side":!0},{default:G(()=>[e("div",null,[e("img",{src:v.avatarCoverUrl(s.value.cover_bucket,s.value.cover_filename),class:"object-cover object-top w-full h-32 rounded-t md:h-52 lg:h-72 xl:h-96 unselectable",onError:h[0]||(h[0]=(...V)=>v.defaultCoverImage&&v.defaultCoverImage(...V))},null,40,Na),w(y).loggedIn&&w(y).user.id===s.value.id?(t(),D(J,{key:0,to:"/profile/setting",class:"float-right absolute right-4 mt-2 shadow-md icon-button-primary-color flex-md-hidden"},{default:G(()=>[m(C,{name:"i-ph-gear-six"})]),_:1})):i("",!0)]),e("div",Da,[e("div",qa,[e("div",Ha,[e("img",{src:v.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"hidden -mt-2 w-full md:-mt-16 avatar md:flex",onError:h[1]||(h[1]=(...V)=>v.defaultCoverImage&&v.defaultCoverImage(...V))},null,40,Ga),e("div",Wa,[w(y).loggedIn&&s.value.id!==w(y).user.id?(t(),o("div",{key:0,class:U(["mt-2 primary-button rounded-b-none hover:rounded-b-none",{"hover:danger-button":a.value}]),onClick:h[2]||(h[2]=V=>a.value?ae(s.value.id):se(s.value.id)),onMouseover:h[3]||(h[3]=V=>te("i-ri-user-unfollow-fill",v.$t("unfollow"))),onMouseleave:h[4]||(h[4]=V=>te("i-ri-user-follow-fill",v.$t("following")))},[I(e("div",Ja,[m(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+n(v.$t("follow")),1)],512),[[P,!a.value]]),I(e("div",Ka,[m(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+n(z.value===null?v.$t("following"):z.value),1)],512),[[P,a.value]])],34)):i("",!0),e("div",{class:U(["flex-row justify-center border hidden-md-flex",s.value.id==w(y).user.id?"rounded-md":"rounded-b-md"])},[e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:h[5]||(h[5]=V=>l.value="followerList")},[e("b",null,n(k.value.followers),1),Ya,e("i",null,n(v.$t("followers").toLowerCase()),1)]),e("div",{class:"py-2 w-1/2 text-center cursor-pointer hover:text-colored",onClick:h[6]||(h[6]=V=>l.value="followingList")},[e("b",null,n(k.value.followings),1),Qa,e("i",null,n(v.$t("following").toLowerCase()),1)])],2)])]),e("div",Xa,[e("div",Za,[e("div",en,[e("div",tn,[e("div",null,[e("span",on,n(s.value.name),1),ln,e("span",sn,n(s.value.username),1)]),e("div",an,[s.value.pen_name&&s.value.pen_name!==""?(t(),o("div",nn,[e("span",rn,[m(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+n(s.value.pen_name),1)])])):i("",!0),e("div",un,[s.value.gender==="m"?(t(),o("span",dn,[m(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),cn])):i("",!0),s.value.gender==="f"?(t(),o("span",mn,[m(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),vn])):i("",!0)])])]),e("div",pn,[w(y).loggedIn&&w(y).user.id===s.value.id?(t(),D(J,{key:0,to:"/profile/setting",class:"float-right -mt-20 shadow-md"},{default:G(()=>[e("button",fn,[m(C,{name:"i-ph-gear-six",class:"mr-2"}),e("span",hn,n(v.$t("profile.setting")),1)])]),_:1})):i("",!0),s.value.user_socials?(t(),o("div",wn,[s.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,bn)):i("",!0),s.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,gn)):i("",!0),s.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,_n)):i("",!0),s.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,kn)):i("",!0),s.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"heart",class:"text-xl"})],8,yn)):i("",!0)])):i("",!0)])]),e("div",null,[s.value.bio?(t(),o("p",$n,[e("div",{id:"user-bio-"+s.value.id,innerHTML:s.value.bio.length>300?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,xn),s.value.bio.length>300?(t(),o("a",{key:0,id:"user-bio-read-more-"+s.value.id,class:"href",onClick:h[7]||(h[7]=W(V=>F(s.value.bio,s.value.id,"user-bio-read-more-","user-bio-"),["prevent"]))},n(v.$t("readMore")),9,Mn)):i("",!0)])):i("",!0)])])])]),e("div",Cn,[e("img",{src:v.avatarCoverUrl(s.value.avatar_bucket,s.value.avatar_filename),class:"flex mx-auto -mt-14 w-2/6 sm:-mt-16 sm:w-1/5 avatar md:hidden",onError:h[8]||(h[8]=(...V)=>v.imageLoadError&&v.imageLoadError(...V))},null,40,In),e("div",En,n(s.value.name),1),e("div",null,n(s.value.username),1),e("div",Ln,[s.value.pen_name?(t(),o("span",An,[m(C,{name:"i-ion-pencil-outline",class:"mr-1 text-base font-bold"}),O(" "+n(s.value.pen_name&&s.value.pen_name!==""?s.value.pen_name:"-"),1)])):i("",!0),e("div",Pn,[s.value.gender==="m"?(t(),o("span",Fn,[m(C,{name:"i-ion-male-outline",class:"mr-1 ml-2 text-base font-bold"}),Sn])):i("",!0),s.value.gender==="f"?(t(),o("span",Tn,[m(C,{name:"i-ion-female-outline",class:"mr-1 ml-2 text-base font-bold"}),jn])):i("",!0)])]),s.value.bio?(t(),o("div",Rn,[e("div",{id:"mobile__user-bio-"+s.value.id,innerHTML:s.value.bio.length>150?`${s.value.bio.slice(0,300)}...`:s.value.bio},null,8,Un),s.value.bio.length>150?(t(),o("a",{key:0,id:"mobile__user-bio-read-more-"+s.value.id,class:"href",onClick:h[9]||(h[9]=W(V=>F(s.value.bio,s.value.id,"mobile__user-bio-read-more-","mobile__user-bio-"),["prevent"]))},n(v.$t("readMore")),9,Bn)):i("",!0)])):i("",!0),s.value.user_socials?(t(),o("div",On,[s.value.user_socials.facebook?(t(),o("a",{key:0,href:"https://facebook.com/"+s.value.user_socials.facebook,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-facebook",class:"text-xl"})],8,zn)):i("",!0),s.value.user_socials.instagram?(t(),o("a",{key:1,href:"https://instagram.com/"+s.value.user_socials.instagram+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-instagram",class:"text-xl"})],8,Vn)):i("",!0),s.value.user_socials.twitter?(t(),o("a",{key:2,href:"https://twitter.com/"+s.value.user_socials.twitter,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-twitter",class:"text-xl"})],8,Nn)):i("",!0),s.value.user_socials.youtube?(t(),o("a",{key:3,href:"https://youtube.com/channel/"+s.value.user_socials.youtube,target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-logo-youtube",class:"text-xl"})],8,Dn)):i("",!0),s.value.user_socials.patreon?(t(),o("a",{key:4,href:"https://patreon.com/"+s.value.user_socials.patreon+"/",target:"blank",class:"ml-3 cursor-pointer"},[m(C,{name:"i-ion-heart",class:"text-xl"})],8,qn)):i("",!0)])):i("",!0),e("div",Hn,[e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:h[10]||(h[10]=V=>l.value="followerList")},[e("b",null,n(k.value.followers),1),Gn,e("i",null,n(v.$t("followers")),1)]),e("div",{class:"p-2 cursor-pointer hover:text-colored",onClick:h[11]||(h[11]=V=>l.value="followingList")},[e("b",null,n(k.value.followings),1),Wn,e("i",null,n(v.$t("following")),1)])]),w(y).loggedIn&&s.value.id!==w(y).user.id?(t(),o("div",{key:2,class:U(["mt-2 w-auto",a.value?"danger-button":"primary-button"]),onClick:h[12]||(h[12]=V=>a.value?ae(s.value.id):se(s.value.id))},[I(e("div",Jn,[m(C,{name:"i-ri-user-add-fill","text-size":"text-base"}),O(" "+n(v.$t("follow")),1)],512),[[P,!a.value]]),I(e("div",Kn,[m(C,{name:N.value,"text-size":"text-base"},null,8,["name"]),O(" "+n(z.value===null?v.$t("following"):z.value),1)],512),[[P,a.value]])],2)):i("",!0)]),e("div",Yn,[e("div",Qn,[e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(l)=="dashboard"}]),onClick:h[13]||(h[13]=V=>B("dashboard"))},[e("div",null,[I(m(C,{name:"i-ion-home-outline",class:"text-white"},null,512),[[P,w(l)=="dashboard"]]),I(m(C,{name:"i-ion-home-outline",class:"hover:text-white"},null,512),[[P,w(l)!="dashboard"]])]),e("span",null,n(v.$t("dashboard")),1)],2),e("div",{class:U(["mr-2 profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(l)=="albums"}]),onClick:h[14]||(h[14]=V=>B("albums"))},[e("div",null,[I(m(C,{name:"i-ion-folder-outline",class:"text-white"},null,512),[[P,w(l)=="albums"]]),I(m(C,{name:"i-ion-folder-outline",class:"hover:text-white"},null,512),[[P,w(l)!="albums"]])]),e("span",null,n(v.$t("albums.album")),1)],2),e("div",{class:U(["profile-navigation__mobile theme-color-secondary",{"button-color text-white":w(l)=="collections"}]),onClick:h[15]||(h[15]=V=>B("collections"))},[e("div",null,[I(m(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(l)=="collections"]]),I(m(C,{name:"i-majesticons-bookmark-line",class:"hover:text-white"},null,512),[[P,w(l)!="collections"]])]),e("span",null,n(v.$t("collections.collection")),1)],2)]),e("div",Xn,[e("div",Zn,[e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(l)==="dashboard"}]),onClick:h[16]||(h[16]=V=>B("dashboard"))},[e("div",ei,[I(m(C,{name:"i-humbleicons-dashboard",class:"text-white"},null,512),[[P,w(l)==="dashboard"]]),I(m(C,{name:"i-humbleicons-dashboard"},null,512),[[P,w(l)!=="dashboard"]]),e("label",ti,n(v.$t("dashboard")),1)]),oi],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(l)==="albums"}]),onClick:h[17]||(h[17]=V=>B("albums"))},[e("div",li,[I(m(C,{name:"i-bx-photo-album",class:"text-white"},null,512),[[P,w(l)==="albums"]]),I(m(C,{name:"i-bx-photo-album"},null,512),[[P,w(l)!=="albums"]]),e("label",si,n(v.$t("albums.album")),1)]),e("span",ai,n(k.value.album),1)],2),e("div",{class:U(["profile-navigation left-menu-link theme-color-secondary",{"button-color text-white":w(l)==="collections"}]),onClick:h[18]||(h[18]=V=>B("collections"))},[e("div",ni,[I(m(C,{name:"i-majesticons-bookmark-line",class:"text-white"},null,512),[[P,w(l)==="collections"]]),I(m(C,{name:"i-majesticons-bookmark-line"},null,512),[[P,w(l)!=="collections"]]),e("label",ii,n(v.$t("collections.collection")),1)]),e("span",ri,n(k.value.collection),1)],2)]),e("div",ui,[w(l)==="dashboard"?(t(),o("div",di,[e("div",ci,[e("div",{class:U(["flex flex-row justify-between w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":p.value==="feed"}]),onClick:h[19]||(h[19]=V=>p.value="feed")},[O(n(v.$t("feed"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",p.value==="feed"?"theme-color":"button-color text-white"])},n(k.value.feed),3)],2),e("div",{class:U(["flex flex-row justify-between mr-0 w-full md:justify-center profile-category-button left-menu-link theme-color-secondary md:w-auto",{"button-color text-white":p.value==="artwork"}]),onClick:h[20]||(h[20]=V=>p.value="artwork")},[O(n(v.$t("artworks.artwork"))+" ",1),e("span",{class:U(["px-1 ml-2 rounded",p.value==="artwork"?"theme-color":"button-color text-white"])},n(k.value.artwork),3)],2)]),I(e("div",mi,[e("button",{class:"w-full action-button secondary-button md:w-auto",onClick:h[21]||(h[21]=V=>b.value.manageMode=!b.value.manageMode)},[m(C,{name:b.value.manageMode?"i-ion-close-outline":"i-material-symbols-library-add-check-outline-rounded"},null,8,["name"]),O(" "+n(b.value.manageMode?v.$t("quit"):v.$t("manage")),1)]),I(e("button",{class:"w-full primary-button md:w-auto",onClick:h[22]||(h[22]=V=>H())},[m(C,{name:"i-ion-add-outline"}),O(" "+n(v.$t("albums.addToAlbum")),1)],512),[[P,b.value.manageMode]])],512),[[P,!r.value&&w(y).loggedIn&&w(y).user.id===s.value.id&&p.value==="artwork"&&b.value.showManageMode]]),m(le,{loading:r.value},null,8,["loading"]),I(e("div",{class:"p-2 mt-2 text-black bg-yellow-200 rounded-md"},n(v.$t("profile.manageModeActiveMessage")),513),[[P,b.value.manageMode]]),e("div",null,[p.value==="feed"?(t(),D(Tt,{key:0,ref:"feedListRef",class:"mt-2","user-id":s.value.id},null,8,["user-id"])):i("",!0),!r.value&&p.value==="artwork"?(t(),D(Bt,{key:1,ref_key:"artworkListRef",ref:M,"user-id":s.value.id,"manage-mode":b.value.manageMode,onFeedSelectedItems:T,onOnEmpty:R},null,8,["user-id","manage-mode"])):i("",!0)])])):i("",!0),w(l)==="albums"?(t(),o("div",vi,[r.value?i("",!0):(t(),D(Ml,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):i("",!0),w(l)==="collections"?(t(),o("div",pi,[r.value?i("",!0):(t(),D(ma,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):i("",!0),w(l)==="followerList"?(t(),o("div",fi,[r.value?i("",!0):(t(),D(Ca,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):i("",!0),w(l)==="followingList"?(t(),o("div",hi,[r.value?i("",!0):(t(),D(za,{key:0,"user-id":s.value.id},null,8,["user-id"]))])):i("",!0)])])])]),r.value?i("",!0):(t(),D(Ue,{key:0,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:q,class:"modal","work-ids":S.value,onAddedToAlbum:j},null,8,["work-ids"])),I(m(de,{id:"item-added-to-album-alert",text:v.$t("albums.itemAdded")},null,8,["text"]),[[P,c.value]])]),_:1})}}},Ei=ee(wi,[["__scopeId","data-v-c5fd5a2e"]]);export{Ei as P};
//# sourceMappingURL=Profile.9a2bd7f8.js.map
