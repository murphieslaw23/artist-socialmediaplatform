import{B as mt,a as z,b as W,R as F,l as pt,_ as Re,c as Ve,e as Jt,d as _e,i as K,n as Yt,j as Kt,u as Xt,o as ot}from"../server.mjs";import{_ as fe,u as ht,a as L}from"./Icon.0b4f7d9a.js";import{_ as vt,u as ft}from"./ErrorMessages.3c30c12c.js";import{getCurrentScope as Zt,onScopeDispose as ea,ref as b,unref as O,computed as Oe,getCurrentInstance as ta,nextTick as aa,watchEffect as sa,watch as Le,openBlock as y,createElementBlock as _,createElementVNode as r,createVNode as x,withCtx as J,createTextVNode as T,toDisplayString as g,withDirectives as I,vShow as A,createCommentVNode as S,withModifiers as pe,normalizeClass as j,Fragment as he,renderList as ve,createBlock as ie,onMounted as Ee,reactive as ze,vModelText as Ae,pushScopeId as wt,popScopeId as gt,resolveComponent as oa,resolveDirective as lt,KeepAlive as la}from"vue";import"vue-router";import{S as We}from"./Spinner.77afb095.js";import{U as Ue}from"./user-counters-api.a4b9d8e9.js";import{u as na}from"./useFeed.28f12f74.js";const ce=function(s){return{addWorkToAlbum:async(a,t={})=>{const e="/albums/add-work",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},createAlbum:async(a,t={})=>{const e="/albums/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},deleteAlbum:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling deleteAlbum.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in t.params)p.set(w,t.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumById:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumById.");const e="/albums/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...t},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in t.params)p.set(w,t.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getAlbumItems:async(a,t,e,o={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling getAlbumItems.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling getAlbumItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling getAlbumItems.");const l="/albums/list/{id}".replace("{id}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"GET",...d,...o},p={},h={};t!==void 0&&(h.per_page=t),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return u.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:u}},getCurrentAlbumSaveInfo:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentAlbumSaveInfo.");if(t==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentAlbumSaveInfo.");const o="/albums/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(a))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},u={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...u,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listUserAlbums:async(a,t,e,o,l={})=>{if(a==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserAlbums.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserAlbums.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserAlbums.");if(o==null)throw new F("type","Required parameter type was null or undefined when calling listUserAlbums.");const n="/albums/user/{userId}".replace("{userId}",encodeURIComponent(String(a))),d=new URL(n,"https://example.com");let u;s&&(u=s.baseOptions);const p={method:"GET",...u,...l},h={},w={};t!==void 0&&(w.per_page=t),e!==void 0&&(w.page=e),o!==void 0&&(w.type=o);const v=new URLSearchParams(d.search);for(const c in w)v.set(c,w[c]);for(const c in l.params)v.set(c,l.params[c]);d.search=new URLSearchParams(v).toString();let i=u&&u.headers?u.headers:{};return p.headers={...h,...i,...l.headers},{url:d.pathname+d.search+d.hash,options:p}},removeWorkFromAlbum:async(a,t={})=>{const e="/albums/work/remove",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},updateAlbum:async(a,t={})=>{const e="/albums",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}}}},ue=function(s){return{async addWorkToAlbum(a,t){const e=await ce(s).addWorkToAlbum(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async createAlbum(a,t){const e=await ce(s).createAlbum(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async deleteAlbum(a,t){const e=await ce(s).deleteAlbum(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumById(a,t){const e=await ce(s).getAlbumById(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getAlbumItems(a,t,e,o){const l=await ce(s).getAlbumItems(a,t,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async getCurrentAlbumSaveInfo(a,t,e){const o=await ce(s).getCurrentAlbumSaveInfo(a,t,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listUserAlbums(a,t,e,o,l){const n=await ce(s).listUserAlbums(a,t,e,o,l);return(d=z,u=W)=>{const p={...n.options,url:u+n.url};return d.request(p)}},async removeWorkFromAlbum(a,t){const e=await ce(s).removeWorkFromAlbum(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async updateAlbum(a,t){const e=await ce(s).updateAlbum(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class de extends mt{async addWorkToAlbum(a,t){return ue(this.configuration).addWorkToAlbum(a,t).then(e=>e(this.axios,this.basePath))}async createAlbum(a,t){return ue(this.configuration).createAlbum(a,t).then(e=>e(this.axios,this.basePath))}async deleteAlbum(a,t){return ue(this.configuration).deleteAlbum(a,t).then(e=>e(this.axios,this.basePath))}async getAlbumById(a,t){return ue(this.configuration).getAlbumById(a,t).then(e=>e(this.axios,this.basePath))}async getAlbumItems(a,t,e,o){return ue(this.configuration).getAlbumItems(a,t,e,o).then(l=>l(this.axios,this.basePath))}async getCurrentAlbumSaveInfo(a,t,e){return ue(this.configuration).getCurrentAlbumSaveInfo(a,t,e).then(o=>o(this.axios,this.basePath))}async listUserAlbums(a,t,e,o,l){return ue(this.configuration).listUserAlbums(a,t,e,o,l).then(n=>n(this.axios,this.basePath))}async removeWorkFromAlbum(a,t){return ue(this.configuration).removeWorkFromAlbum(a,t).then(e=>e(this.axios,this.basePath))}async updateAlbum(a,t){return ue(this.configuration).updateAlbum(a,t).then(e=>e(this.axios,this.basePath))}}const ne=function(s){return{addItemForLater:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling addItemForLater.");const o="/collections/later",l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"POST",...n,...e},u={},p={};a!==void 0&&(p.type=a),u["Content-Type"]="application/json";const h=new URLSearchParams(l.search);for(const i in p)h.set(i,p[i]);for(const i in e.params)h.set(i,e.params[i]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};d.headers={...u,...w,...e.headers};const v=typeof t!="string"||d.headers["Content-Type"]==="application/json";return d.data=v?JSON.stringify(t!==void 0?t:{}):t||"",{url:l.pathname+l.search+l.hash,options:d}},addItemToCollection:async(a,t,e,o={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling addItemToCollection.");if(t==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling addItemToCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"POST",...d,...o},p={},h={};a!==void 0&&(h.type=a),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};u.headers={...p,...v,...o.headers};const i=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:u}},collectionsIdDelete:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling collectionsIdDelete.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"DELETE",...l,...t},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in t.params)p.set(w,t.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},create:async(a,t={})=>{const e="/collections/create",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"POST",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}},detail:async(a,t={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling detail.");const e="/collections/{id}".replace("{id}",encodeURIComponent(String(a))),o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"GET",...l,...t},d={},u={},p=new URLSearchParams(o.search);for(const w in u)p.set(w,u[w]);for(const w in t.params)p.set(w,t.params[w]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};return n.headers={...d,...h,...t.headers},{url:o.pathname+o.search+o.hash,options:n}},getCurrentSaveInfo:async(a,t,e={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling getCurrentSaveInfo.");if(t==null)throw new F("workId","Required parameter workId was null or undefined when calling getCurrentSaveInfo.");const o="/collections/current/{type}/{work_id}".replace("{type}",encodeURIComponent(String(a))).replace("{work_id}",encodeURIComponent(String(t))),l=new URL(o,"https://example.com");let n;s&&(n=s.baseOptions);const d={method:"GET",...n,...e},u={},p={},h=new URLSearchParams(l.search);for(const v in p)h.set(v,p[v]);for(const v in e.params)h.set(v,e.params[v]);l.search=new URLSearchParams(h).toString();let w=n&&n.headers?n.headers:{};return d.headers={...u,...w,...e.headers},{url:l.pathname+l.search+l.hash,options:d}},listCollectionItems:async(a,t,e,o={})=>{if(a==null)throw new F("id","Required parameter id was null or undefined when calling listCollectionItems.");if(t==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listCollectionItems.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listCollectionItems.");const l="/collections/{id}/items".replace("{id}",encodeURIComponent(String(a))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"GET",...d,...o},p={},h={};t!==void 0&&(h.per_page=t),e!==void 0&&(h.page=e);const w=new URLSearchParams(n.search);for(const i in h)w.set(i,h[i]);for(const i in o.params)w.set(i,o.params[i]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};return u.headers={...p,...v,...o.headers},{url:n.pathname+n.search+n.hash,options:u}},listUserCollections:async(a,t,e,o,l,n={})=>{if(a==null)throw new F("userId","Required parameter userId was null or undefined when calling listUserCollections.");if(t==null)throw new F("type","Required parameter type was null or undefined when calling listUserCollections.");if(e==null)throw new F("page","Required parameter page was null or undefined when calling listUserCollections.");if(o==null)throw new F("perPage","Required parameter perPage was null or undefined when calling listUserCollections.");const d="/collections/user/{userId}".replace("{userId}",encodeURIComponent(String(a))),u=new URL(d,"https://example.com");let p;s&&(p=s.baseOptions);const h={method:"GET",...p,...n},w={},v={};t!==void 0&&(v.type=t),l!==void 0&&(v.name=l),e!==void 0&&(v.page=e),o!==void 0&&(v.per_page=o);const i=new URLSearchParams(u.search);for(const k in v)i.set(k,v[k]);for(const k in n.params)i.set(k,n.params[k]);u.search=new URLSearchParams(i).toString();let c=p&&p.headers?p.headers:{};return h.headers={...w,...c,...n.headers},{url:u.pathname+u.search+u.hash,options:h}},removeItemFromCollection:async(a,t,e,o={})=>{if(a==null)throw new F("type","Required parameter type was null or undefined when calling removeItemFromCollection.");if(t==null)throw new F("collectionId","Required parameter collectionId was null or undefined when calling removeItemFromCollection.");const l="/collections/{collectionId}/items".replace("{collectionId}",encodeURIComponent(String(t))),n=new URL(l,"https://example.com");let d;s&&(d=s.baseOptions);const u={method:"DELETE",...d,...o},p={},h={};a!==void 0&&(h.type=a),p["Content-Type"]="application/json";const w=new URLSearchParams(n.search);for(const c in h)w.set(c,h[c]);for(const c in o.params)w.set(c,o.params[c]);n.search=new URLSearchParams(w).toString();let v=d&&d.headers?d.headers:{};u.headers={...p,...v,...o.headers};const i=typeof e!="string"||u.headers["Content-Type"]==="application/json";return u.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:n.pathname+n.search+n.hash,options:u}},updateCollection:async(a,t={})=>{const e="/collections",o=new URL(e,"https://example.com");let l;s&&(l=s.baseOptions);const n={method:"PATCH",...l,...t},d={},u={};d["Content-Type"]="application/json";const p=new URLSearchParams(o.search);for(const v in u)p.set(v,u[v]);for(const v in t.params)p.set(v,t.params[v]);o.search=new URLSearchParams(p).toString();let h=l&&l.headers?l.headers:{};n.headers={...d,...h,...t.headers};const w=typeof a!="string"||n.headers["Content-Type"]==="application/json";return n.data=w?JSON.stringify(a!==void 0?a:{}):a||"",{url:o.pathname+o.search+o.hash,options:n}}}},re=function(s){return{async addItemForLater(a,t,e){const o=await ne(s).addItemForLater(a,t,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async addItemToCollection(a,t,e,o){const l=await ne(s).addItemToCollection(a,t,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async collectionsIdDelete(a,t){const e=await ne(s).collectionsIdDelete(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async create(a,t){const e=await ne(s).create(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async detail(a,t){const e=await ne(s).detail(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}},async getCurrentSaveInfo(a,t,e){const o=await ne(s).getCurrentSaveInfo(a,t,e);return(l=z,n=W)=>{const d={...o.options,url:n+o.url};return l.request(d)}},async listCollectionItems(a,t,e,o){const l=await ne(s).listCollectionItems(a,t,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async listUserCollections(a,t,e,o,l,n){const d=await ne(s).listUserCollections(a,t,e,o,l,n);return(u=z,p=W)=>{const h={...d.options,url:p+d.url};return u.request(h)}},async removeItemFromCollection(a,t,e,o){const l=await ne(s).removeItemFromCollection(a,t,e,o);return(n=z,d=W)=>{const u={...l.options,url:d+l.url};return n.request(u)}},async updateCollection(a,t){const e=await ne(s).updateCollection(a,t);return(o=z,l=W)=>{const n={...e.options,url:l+e.url};return o.request(n)}}}};class me extends mt{async addItemForLater(a,t,e){return re(this.configuration).addItemForLater(a,t,e).then(o=>o(this.axios,this.basePath))}async addItemToCollection(a,t,e,o){return re(this.configuration).addItemToCollection(a,t,e,o).then(l=>l(this.axios,this.basePath))}async collectionsIdDelete(a,t){return re(this.configuration).collectionsIdDelete(a,t).then(e=>e(this.axios,this.basePath))}async create(a,t){return re(this.configuration).create(a,t).then(e=>e(this.axios,this.basePath))}async detail(a,t){return re(this.configuration).detail(a,t).then(e=>e(this.axios,this.basePath))}async getCurrentSaveInfo(a,t,e){return re(this.configuration).getCurrentSaveInfo(a,t,e).then(o=>o(this.axios,this.basePath))}async listCollectionItems(a,t,e,o){return re(this.configuration).listCollectionItems(a,t,e,o).then(l=>l(this.axios,this.basePath))}async listUserCollections(a,t,e,o,l,n){return re(this.configuration).listUserCollections(a,t,e,o,l,n).then(d=>d(this.axios,this.basePath))}async removeItemFromCollection(a,t,e,o){return re(this.configuration).removeItemFromCollection(a,t,e,o).then(l=>l(this.axios,this.basePath))}async updateCollection(a,t){return re(this.configuration).updateCollection(a,t).then(e=>e(this.axios,this.basePath))}}function nt(){return{animate:t=>{const e=document.getElementById(t);e==null||e.classList.add("animate-bounce"),setInterval(()=>{e==null||e.classList.remove("animate-bounce")},2500)}}}function ra(){const s=(t,e,o)=>{e.value=!1,clearTimeout(t),e.value=!0,t=setTimeout(()=>{e.value=!1,a(o)},2e3)},a=t=>{const e=document.getElementById(t);e==null||e.classList.add("fade"),e==null||e.classList.add("fade-out")};return{splash:s,hide:a}}const qe=!1,ia=s=>typeof s=="string",He=()=>{};function Ye(s){return typeof s=="function"?s():O(s)}function ca(s){return s}function Ke(s){return Zt()?(ea(s),!0):!1}function ua(s){return typeof s=="function"?Oe(s):b(s)}function da(s,a=!0){ta()||(a?s():aa(s))}function ma(s,a,t={}){const{immediate:e=!0}=t,o=b(!1);let l=null;function n(){l&&(clearTimeout(l),l=null)}function d(){o.value=!1,n()}function u(...p){n(),o.value=!0,l=setTimeout(()=>{o.value=!1,l=null,s(...p)},Ye(a))}return e&&(o.value=!0),Ke(d),{isPending:o,start:u,stop:d}}function pa(s){var a;const t=Ye(s);return(a=t==null?void 0:t.$el)!=null?a:t}const yt=qe?window:void 0;qe&&window.document;const ha=qe?window.navigator:void 0;qe&&window.location;function va(...s){let a,t,e,o;if(ia(s[0])?([t,e,o]=s,a=yt):[a,t,e,o]=s,!a)return He;let l=He;const n=Le(()=>pa(a),u=>{l(),u&&(u.addEventListener(t,e,o),l=()=>{u.removeEventListener(t,e,o),l=He})},{immediate:!0,flush:"post"}),d=()=>{n(),l()};return Ke(d),d}function bt(s,a=!1){const t=b(),e=()=>t.value=Boolean(s());return e(),da(e,a),t}function fa(s,a={}){const{window:t=yt}=a,e=bt(()=>t&&"matchMedia"in t&&"undefined".matchMedia==="function");let o;const l=b(!1),n=()=>{!o||("removeEventListener"in o?o.removeEventListener("change",d):o.removeListener(d))},d=()=>{!e.value||(n(),o=t.matchMedia(ua(s).value),l.value=o.matches,"addEventListener"in o?o.addEventListener("change",d):o.addListener(d))};return sa(d),Ke(()=>n()),l}function wa(s={}){const{navigator:a=ha,read:t=!1,source:e,copiedDuring:o=1500}=s,l=["copy","cut"],n=bt(()=>a&&"clipboard"in a),d=b(""),u=b(!1),p=ma(()=>u.value=!1,o);function h(){a.clipboard.readText().then(v=>{d.value=v})}if(n.value&&t)for(const v of l)va(v,h);async function w(v=Ye(e)){n.value&&v!=null&&(await a.clipboard.writeText(v),d.value=v,u.value=!0,p.start())}return{isSupported:n,text:d,copied:u,copy:w}}const Ge=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:{},Je="__vueuse_ssr_handlers__";Ge[Je]=Ge[Je]||{};Ge[Je];var rt;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(rt||(rt={}));var ga=Object.defineProperty,it=Object.getOwnPropertySymbols,ya=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable,ct=(s,a,t)=>a in s?ga(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,ka=(s,a)=>{for(var t in a||(a={}))ya.call(a,t)&&ct(s,t,a[t]);if(it)for(var t of it(a))ba.call(a,t)&&ct(s,t,a[t]);return s};const xa={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ka({linear:ca},xa);function _a(){return{readMore:(a,t,e,o)=>{const l=document.getElementById(`${o}${t}`);l!==null&&(l.innerHTML=a);const n=document.getElementById(`${e}${t}`);n==null||n.remove()}}}const Ca={class:"flex-col info"},$a={key:0,class:"user-info"},Ia={class:"flex flex-row w-full"},Aa=["src"],Ra={class:"w-full name"},Sa={class:"flex flex-row justify-between"},Pa={class:"flex flex-col"},Oa={class:"mb-2 text-base font-bold"},La={key:1,class:"mb-4"},Ua=["id"],Va=["id"],Ea={class:"mb-4"},qa={key:2,class:"tags"},Ma={__name:"ModalViewInfo",props:{section:{type:String,default:""},isModal:{type:Boolean,default:!1},artworkDetail:{type:Object,default:()=>{}},previewMode:{type:Boolean,default:!1},isDesktop:{type:Boolean,default:!1}},setup(s){pt();const a=(t,e,o,l)=>{_a().readMore(t,e,o,l)};return(t,e)=>{const o=Re;return y(),_("section",Ca,[s.artworkDetail.users?(y(),_("div",$a,[r("div",Ia,[x(o,{to:"/profile/"+s.artworkDetail.users.username},{default:J(()=>[r("img",{class:"avatar",src:t.avatarCoverUrl(s.artworkDetail.users.avatar_bucket,s.artworkDetail.users.avatar_filename),onError:e[0]||(e[0]=(...l)=>t.imageLoadError&&t.imageLoadError(...l))},null,40,Aa)]),_:1},8,["to"]),r("div",Ra,[r("div",Sa,[r("div",Pa,[x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"fullname"},{default:J(()=>[T(g(s.artworkDetail.users.name),1)]),_:1},8,["to"]),x(o,{to:"/profile/"+s.artworkDetail.users.username,class:"username"},{default:J(()=>[T(" @"+g(s.artworkDetail.users.username),1)]),_:1},8,["to"])]),I(r("div",{class:"p-1 h-7 font-bold rounded-md border-2 cursor-pointer hover:shadow-md border-color-primary",style:{"font-size":"10px"},onClick:e[1]||(e[1]=l=>t.closeModal(s.section+"-modal"))}," ESC ",512),[[A,s.isModal]])])])])])):S("",!0),r("div",Oa,g(s.artworkDetail.title),1),s.artworkDetail.description?(y(),_("div",La,[r("span",{id:"mview-"+s.isDesktop+"-description-"+s.artworkDetail.id},g(s.artworkDetail.description.length>300?`${s.artworkDetail.description.slice(0,300)}...`:s.artworkDetail.description),9,Ua),s.artworkDetail.description.length>300?(y(),_("a",{key:0,id:"mview-"+s.isDesktop+"-read-more-"+s.artworkDetail.id,class:"href",onClick:e[2]||(e[2]=pe(l=>a(s.artworkDetail.description,s.artworkDetail.id,"mview-"+s.isDesktop+"-read-more-","mview-"+s.isDesktop+"-description-"),["prevent"]))},g(t.$t("readMore")),9,Va)):S("",!0)])):S("",!0),r("div",Ea,[r("span",{class:j({"font-bold italic text-red-400":s.previewMode})},g(s.previewMode?t.$t("willBePublishedOn"):t.$t("publishedOn")),3),T(" "+g(t.formatDate(s.artworkDetail.scheduled_post)),1)]),s.artworkDetail.artwork_has_tags&&s.artworkDetail.artwork_has_tags.length?(y(),_("div",qa,[(y(!0),_(he,null,ve(s.artworkDetail.artwork_has_tags,l=>(y(),_("span",{key:l.artwork_tags.id,class:"tag"},[x(o,{to:"/works/browse?tags="+l.artwork_tags.tag.replaceAll(" ","+")},{default:J(()=>[T(g(l.artwork_tags.tag),1)]),_:2},1032,["to"])]))),128))])):S("",!0)])}}},ut=fe(Ma,[["__scopeId","data-v-9fd3d44f"]]),Ta=["href","onClick"],Ba={class:"overflow-hidden relative text-center rounded-md"},Fa={key:0},ja={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Da=["href"],Na=["src"],Qa={class:"relative text-center overflow-hidden rounded-md"},Ha={key:0},za={key:1,class:"absolute top-1/2 left-1/2 z-10 text-xl font-semibold text-white transform -translate-x-1/2 -translate-y-1/2"},Wa=["href"],Ga=["src"],Ja={__name:"WorkList",props:{works:{type:Array,default:()=>[]},view:{type:Function,default:()=>{}},sectionClass:{type:String,default:""},isHref:{type:Boolean,default:!1},manageMode:{type:Boolean,default:!1},isMiniList:{type:Boolean,default:!1},currentWorkId:{type:Number,default:0}},emits:"feedManageList",setup(s,{emit:a}){const t=s,e=Ve();Le(()=>t.currentWorkId,h=>{l.value=h});const o=Jt(),l=b(t.currentWorkId),n=fa("(min-width: 1024px)"),d=h=>{n.value&&!t.isMiniList||t.isMiniList?(l.value=h,t.view(h)):o.replace({path:"/a/"+h})},u=b([]),p=h=>{if(u.value.includes(h)){const w=u.value.indexOf(h);u.value.splice(w,1)}else u.value.push(h);a("feedManageList",u.value)};return Le(()=>t.manageMode,h=>{h===!1&&(u.value=[])}),(h,w)=>{const v=Re;return y(),_("section",{class:j(s.sectionClass)},[(y(!0),_(he,null,ve(s.works,i=>(y(),_("span",{key:i.id,class:j(["work-thumbnail theme-color-bg rounded-lg",i._count.artwork_assets>1&&l.value!=i.id?"work-multiple":"",{"border-4 border-yellow-400":u.value.includes(i.id)||l.value==i.id}])},[!h.isMobile()&&!s.isHref&&!s.isMiniList?(y(),_("a",{key:0,href:"/a/"+i.id,onClick:pe(c=>s.manageMode?p(i.id):s.view(i.id),["prevent"]),class:"w-full h-full theme-color-bg"},[r("div",Ba,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Fa,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",ja,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,class:j([{"animate-wigglefast":s.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-lg brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[0]||(w[0]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Na)],10,Da)])],8,Ta)):(y(),ie(v,{key:1,onClick:c=>s.manageMode?p(i.id):d(i.id)},{default:J(()=>[r("div",Qa,[i._count.artwork_assets>1&&!h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("p",Ha,g(i._count.artwork_assets),1)):S("",!0),h.applyExplicitFilter(O(e),i.is_explicit)?(y(),_("span",za,g(h.$t("explicitContent")),1)):S("",!0),r("a",{href:"/a/"+i.id,onClick:w[2]||(w[2]=pe(c=>h.void,["prevent"])),class:j([{"animate-wigglefast":s.manageMode}])},[r("img",{class:j(["object-cover w-full h-full unselectable",{"blur-sm brightness-50 unclickable":h.applyExplicitFilter(O(e),i.is_explicit)}]),src:h.artworkThumb(i.artwork_assets[0].bucket,i.artwork_assets[0].filename,"thumbnail"),onError:w[1]||(w[1]=(...c)=>h.imageLoadError&&h.imageLoadError(...c))},null,42,Ga)],10,Wa)])]),_:2},1032,["onClick"]))],2))),128))],2)}}},Ya=fe(Ja,[["__scopeId","data-v-bcf61861"]]),Ka={class:"artist-works"},Xa={class:"heading"},Za={key:0,class:"pagination-controller"},es={__name:"ArtistWorks",props:{artworkDetail:{type:Object,default(){return{}}},keepArtistPageNumber:{type:Boolean,default:!1},view:Function,isHref:{type:Boolean,default:!1},paginationPerPage:{type:Number,default:4}},setup(s){const a=s,t=a.artworkDetail,{oApiConfiguration:e,fetchOptions:o}=_e(),l=ht(e,o()),n=b(null);Ee(()=>{a.keepArtistPageNumber||(u.page=-1),p(t.users.id)});const d=b([]),u=ze({page:0,perPage:a.paginationPerPage,options:{nextPrevLoading:!1,disableArtistNextButton:!0,disableArtistPrevButton:!0}}),p=async(v,i)=>{u.options.nextPrevLoading=!0,v!==n.value&&(n.value=v,u.page=-1),i==="prev"?u.page-=1:u.page+=1;const[c,k,V]=await l.getUserArtworks({userId:v,pagination:{page:u.page,perPage:u.perPage}});V?w():(k.next_previous.prev_page===null||k.next_previous.prev_page===void 0?u.options.disableArtistPrevButton=!0:u.options.disableArtistPrevButton=!1,k.next_previous.next_page===null||k.next_previous.next_page===void 0?u.options.disableArtistNextButton=!0:u.options.disableArtistNextButton=!1,d.value=c),u.options.nextPrevLoading=!1},h=b(!1),w=()=>{h.value=!0};return(v,i)=>{const c=Re;return y(),_("div",Ka,[r("div",Xa,[r("span",null,[T(g(v.$t("artworks.moreArtworkBy"))+" ",1),s.artworkDetail.users?(y(),ie(c,{key:0,to:"/profile/"+s.artworkDetail.users.username,class:"text-colored"},{default:J(()=>[T(g(s.artworkDetail.users.username)+" <"+g(s.artworkDetail.users.name)+"> ",1)]),_:1},8,["to"])):S("",!0)]),x(c,{to:"/profile/"+s.artworkDetail.users.username,target:"_blank",class:"flex flex-row cursor-pointer"},{default:J(()=>[x(L,{name:"i-ci-external-link"})]),_:1},8,["to"])]),I(x(Ya,{class:j(["gap-2 md:gap-4",[u.options.nextPrevLoading?"animate-pulse":"",s.paginationPerPage===6?"grid-cols-6":"grid-cols-4"]]),"section-class":"works",works:d.value,view:s.view,"is-href":s.isHref,"is-mini-list":!0,"current-work-id":s.artworkDetail.id},null,8,["class","works","view","is-href","current-work-id"]),[[A,!h.value]]),s.artworkDetail.users?(y(),_("div",Za,[r("span",{onClick:i[0]||(i[0]=k=>u.options.disableArtistPrevButton?null:p(s.artworkDetail.users.id,"prev"))},[x(L,{name:"i-ion-chevron-back"})]),r("span",{onClick:i[1]||(i[1]=k=>u.options.disableArtistNextButton?null:p(s.artworkDetail.users.id,"next"))},[x(L,{name:"i-ion-chevron-forward"})])])):S("",!0)])}}},dt=fe(es,[["__scopeId","data-v-3bd8634b"]]);function ts(s,a){return{createCollection:async(i,c)=>{try{const{data:k}=await new me(s).create({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},a);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new me(s).detail(i,a)).data,null]}catch(c){return[null,c]}},countCollections:async i=>{try{const{data:c}=await new Ue(s).countUserCollections(i,a);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkCollections:async i=>{try{const{data:c}=await new Ue(s).countUserArtworkCollections(i,a);return[c.data.total,null]}catch(c){return[null,c]}},fetchCollections:async i=>{try{const{data:c}=await new me(s).listUserCollections(i.userId,i.type,i.pagination.page,i.pagination.perPage,i.name,a),k=c.data.collections,V=c.data.pagination;let R=!0;return V.current_page===V.total_page&&(R=!1),[k,R,null]}catch(c){return[null,!1,c]}},listCollectionItems:async i=>{try{const{data:c}=await new me(s).listCollectionItems(i.collectionId,i.pagination.perPage,i.pagination.page,a),k=c.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[c.data.items,V,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new me(s).getCurrentSaveInfo(i,c,a);return[k.data,null]}catch(k){return[null,k]}},addItem:async i=>{try{return await new me(s).addItemToCollection(i.type,i.collectionId,{id:i.workId},a),[!0,null]}catch(c){return[null,c]}},removeItem:async i=>{try{const{data:c}=await new me(s).removeItemFromCollection(i.type,i.collectionId,{id:i.workId},a);return[c.success,null]}catch(c){return[null,c]}},update:async i=>{try{const{data:c}=await new me(s).updateCollection({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},a);return[c.success,null]}catch(c){return[null,c]}},deleteCollection:async i=>{try{const{data:c}=await new me(s).collectionsIdDelete(i,a);return[c.success,null]}catch(c){return[null,c]}}}}const as={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},ss={class:"flex flex-row justify-between w-full"},os={class:"title"},ls={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},ns={class:"list"},rs={class:"overflow-y-scroll pr-2 max-h-60"},is=["onClick"],cs={class:"flex flex-row justify-between"},us={class:"flex float-right flex-row gap-2 mt-4"},ds=["placeholder"],ms={class:"flex flex-row justify-between mt-2"},ps={__name:"ManageSave",props:{modalId:{type:String,default:"collection-selection-modal"},workId:{type:Number,default:0}},emits:["save"],setup(s,{expose:a,emit:t}){const e=s,o=Ve(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=ts(l,n());Ee(()=>{v(),c()});const u=b({pagination:{page:0,perPage:10},loading:!1}),p=b(!1),h=b(!1),w=b([]),v=async(E=!1)=>{E||(u.value.loading=!0);const[q,H,Z]=await d.fetchCollections({userId:o.user.id,type:"artwork",pagination:{page:u.value.pagination.page,perPage:u.value.pagination.perPage}});u.value.loading=!1,Z&&(p.value=!0),Z||(q&&q.length>0?(H?(u.value.pagination.page+=1,k.value=!0):k.value=!1,q.forEach(ye=>{w.value.push(ye)})):h.value=!0)},i=b([]),c=async()=>{p.value=!1,i.value=[],R.value=[],Y.value=[],await setTimeout(async()=>{const[E,q]=await d.getCurrentSaveInfo("artwork",e.workId);if(q)p.value=!0;else for(const H of E)R.value.push(H.collection_id),i.value.push(H.collection_id)},300)},k=b(!0),V=async()=>{await v({isLoadMore:!0}),await c()},R=b([]),Y=b([]),D=E=>{if(R.value.includes(E)){Y.value.push(E);const q=R.value.indexOf(E);R.value.splice(q,1)}else if(R.value.push(E),Y.value.includes(E)){const q=Y.value.indexOf(E);Y.value.splice(q,1)}},G=async()=>{try{for(const q of R.value)await d.addItem({collectionId:q,type:"artwork",workId:e.workId});if(Y.value.length)for(const q of Y.value)await d.removeItem({collectionId:q,type:"artwork",workId:e.workId});let E=!1;R.value.length===0&&i.value.length===Y.value.length&&(E=!0),await c(),K().closeModal(e.modalId),t("save",E)}catch{}},$=b(""),X=b(!1),oe=async()=>{X.value=!1;const[E,q,H]=await d.createCollection("artwork",{title:$.value,isPublic:1,description:""});E?(w.value=[],Q(),u.value.pagination.page=0,await v(),await c(),$.value="",N()):X.value=!0},se=b(!1),N=()=>{se.value=!0,setInterval(()=>{se.value=!1},5e3)},Q=()=>{R.value=[]},B=()=>{K().closeModal(e.modalId),Q()};return a({fetchCurrentSaved:c}),(E,q)=>(y(),_("div",null,[r("div",as,[r("div",null,[r("div",ss,[r("span",os,g(E.$t("collections.addItem.form.title")),1),r("div",ls,[r("div",{class:"modal-close",onClick:q[0]||(q[0]=H=>B())},[x(L,{name:"close",class:"text-2xl"})])])]),I(r("div",ns,[r("div",rs,[(y(!0),_(he,null,ve(w.value,(H,Z)=>(y(),_("div",{key:H.id,class:j(["item",[{"mt-2":Z!==0},R.value.includes(H.id)?"button-color text-white":"theme-color-secondary"]]),onClick:ye=>D(H.id)},[r("div",cs,[r("span",null,g(H.name),1),r("span",{class:j(["ml-2 font-bold",R.value.includes(H.id)?"text-white":"text-colored"])},g(H._count.collection_has_artworks),3)])],10,is))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:q[1]||(q[1]=H=>V())},[x(L,{name:"chevron-down-outline",class:"mr-2"}),T(" "+g(E.$t("loadMore")),1)],512),[[A,k.value]]),r("div",us,[r("button",{class:"cancel-button",onClick:q[2]||(q[2]=H=>B())},g(E.$t("cancel")),1),r("button",{class:"primary-button",onClick:q[3]||(q[3]=H=>G())},g(E.$t("save")),1)])],512),[[A,!u.value.loading&&!p.value&&!h.value]]),I(r("div",null,[I(r("input",{"onUpdate:modelValue":q[4]||(q[4]=H=>$.value=H),type:"text",class:j(["mt-4 mb-0 form-input theme-color-secondary",{"border border-red-400":X.value}]),placeholder:E.$t("collections.createNewCollection")},null,10,ds),[[Ae,$.value]]),r("div",ms,[r("div",null,[I(r("span",{class:"font-bold text-green-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.collectionCreated")),513),[[A,se.value]]),I(r("span",{class:"font-bold text-red-400 transition-all duration-200 ease-in-out"},g(E.$t("collections.failedToCreateCollection")),513),[[A,X.value]])]),I(r("button",{class:"primary-button",onClick:q[5]||(q[5]=H=>oe())},g(E.$t("create")),513),[[A,$.value&&$.value.length>0]])])],512),[[A,!u.value.loading&&!p.value&&!h.value]])]),x(vt,{loading:u.value.loading,empty:h.value,error:p.value,fetch:v},null,8,["loading","empty","error"])])]))}},hs=fe(ps,[["__scopeId","data-v-d55eb6f5"]]);function vs(s,a){return{createAlbum:async(i,c)=>{try{const{data:k}=await new de(s).createAlbum({name:c.title,description:c.description,is_public:c.isPublic?1:0,type:i},a);return[k.success,k.data,null]}catch(k){return[null,null,k]}},getInfo:async i=>{try{return[(await new de(s).getAlbumById(i,a)).data,null]}catch(c){return[null,c]}},countAlbums:async i=>{try{const{data:c}=await new Ue(s).countUserAlbums(i,a);return[c.data.total,null]}catch(c){return[null,c]}},countArtworkAlbums:async i=>{try{const{data:c}=await new Ue(s).countUserArtworkAlbums(i,a);return[c.data.total,null]}catch(c){return[null,c]}},fetchAlbums:async(i,c,k,V)=>{try{const{data:R}=await new de(s).listUserAlbums(i,k,V,c,a),Y=R.data.pagination;let D=!0;return Y.current_page===Y.total_page&&(D=!1),[R.data.albums,D,null]}catch(R){return[null,!1,R]}},listAlbumItems:async i=>{try{const{data:c}=await new de(s).getAlbumItems(i.albumId,i.pagination.perPage,i.pagination.page,a),k=c.data.pagination;let V=!0;return k.current_page===k.total_page&&(V=!1),[c.data.works,V,null]}catch(c){return[null,!1,c]}},getCurrentSaveInfo:async(i,c)=>{try{const{data:k}=await new de(s).getCurrentAlbumSaveInfo(i,c,a);return[k.data,null]}catch(k){return[null,k]}},addItems:async(i,c)=>{try{for(const k of i)await new de(s).addWorkToAlbum({album_id:k,work_ids:c},a);return[!0,null]}catch(k){return[null,k]}},removeItems:async(i,c)=>{try{const{data:k}=await new de(s).removeWorkFromAlbum({album_id:i,work_ids:c},a);return[k.success,null]}catch(k){return[null,k]}},update:async i=>{try{const{data:c}=await new de(s).updateAlbum({id:i.id,name:i.name,description:i.description,is_public:i.isPublic},a);return[c.success,null]}catch(c){return[null,c]}},deleteAlbum:async i=>{try{const{data:c}=await new de(s).deleteAlbum(i,a);return[c.success,null]}catch(c){return[null,c]}}}}const fs={class:"w-full modal-layer xl:w-3/12 lg:w-2/5"},ws={class:"flex flex-row justify-between w-full"},gs={class:"title"},ys={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},bs={class:"list"},ks={class:"overflow-y-scroll pr-2 max-h-60"},xs=["onClick"],_s={class:"flex float-right flex-row gap-2 mt-4"},Cs={__name:"ManageAlbum",props:{modalId:{type:String,default:"album-selection-modal"},workId:{type:Number,default:0},workIds:{type:Array,default:()=>[]}},emits:["addedToAlbum"],setup(s,{expose:a,emit:t}){const e=s;Ee(()=>{c(),e.workIds.length||R()});const o=Ve(),{oApiConfiguration:l,fetchOptions:n}=_e(),d=vs(l,n()),u=async()=>{p.value=[],h.value.pagination.page=0,k(),await c()},p=b([]),h=b({pagination:{perPage:10,page:0,firstLoad:10},showLoadMore:!0}),w=b(!0),v=b(!1),i=b(!1),c=async()=>{k(),w.value=!0;const[N,Q,B]=await d.fetchAlbums(o.user.id,"artwork",h.value.pagination.page===0?h.value.pagination.firstLoad:h.value.pagination.perPage,h.value.pagination.page);B&&(v.value=!0),N.length?(Q?(h.value.pagination.page+=1,h.value.showLoadMore=!0):h.value.showLoadMore=!1,N.forEach(E=>{p.value.push(E)})):i.value=!0,w.value=!1},k=()=>{i.value=!1,v.value=!1},V=b([]),R=async()=>{V.value=[],D.value=[],G.value=[];const[N,Q]=await d.getCurrentSaveInfo("artwork",e.workId);for(const B of N)D.value.push(B.album_id),V.value.push(B.album_id)},Y=async()=>{await c(),await R()},D=b([]),G=b([]),$=N=>{if(D.value.includes(N)){G.value.push(N);const Q=D.value.indexOf(N);D.value.splice(Q,1)}else if(D.value.push(N),G.value.includes(N)){const Q=G.value.indexOf(N);G.value.splice(Q,1)}},X=async()=>{const[N,Q]=await d.addItems(D.value,e.workIds.length?e.workIds:[e.workId]);if(!e.workIds.length&&G.value.length)for(const B of G.value)await d.removeItems(B,[e.workId]);if(N){let B=!1;e.workIds.length||D.value.length===0&&V.value.length===G.value.length&&(B=!0),oe(),K().closeModal(e.modalId),t("addedToAlbum",e.workIds.length?!0:B)}},oe=()=>{D.value=[]},se=()=>{K().closeModal(e.modalId),oe()};return a({fetchCurrentSaved:R,fetchAlbums:c}),(N,Q)=>(y(),_("div",null,[r("div",fs,[r("div",null,[r("div",ws,[r("span",gs,g(N.$t("albums.selectAlbums")),1),r("div",ys,[r("div",{class:"modal-close",onClick:Q[0]||(Q[0]=B=>se())},[x(L,{name:"close",class:"text-2xl"})])])]),r("div",bs,[I(r("div",null,[r("div",ks,[(y(!0),_(he,null,ve(p.value,(B,E)=>(y(),_("div",{key:B.id,class:j(["item",[{"mt-2":E!==0},D.value.includes(B.id)?"button-color text-white":"theme-color-secondary"]]),onClick:q=>$(B.id)},[r("span",null,g(B.name),1),r("span",{class:j(["ml-2 font-bold",D.value.includes(B.id)?"text-white":"text-colored"])},g(B._count.album_has_artworks),3)],10,xs))),128))]),I(r("div",{class:"mt-2 primary-button",onClick:Q[1]||(Q[1]=B=>Y())}," Load More ",512),[[A,h.value.showLoadMore]]),r("div",_s,[r("button",{class:"cancel-button",onClick:Q[2]||(Q[2]=B=>se())},g(N.$t("cancel")),1),r("button",{class:"primary-button",onClick:Q[3]||(Q[3]=B=>X())},g(N.$t("save")),1)])],512),[[A,!w.value&&!i.value&&!v.value]])])]),x(vt,{loading:w.value,empty:i.value,error:v.value,fetch:u},null,8,["loading","empty","error"])])]))}},$s=fe(Cs,[["__scopeId","data-v-65bdacb6"]]),Is={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},As={class:"mb-4"},Rs={class:"flex flex-row justify-end gap-2"},Ss={__name:"ConfirmationDialog",props:{modalId:{type:String,default:"confirmation-dialog-modal"},message:{type:String,default:"Are you sure?"},onAccept:{type:Function,default:()=>{}}},emits:"onAccept",setup(s,{emit:a}){const t=s,e=o=>{o&&a("onAccept",!0),K().closeModal(t.modalId)};return(o,l)=>(y(),_("div",null,[r("div",Is,[r("p",As,g(s.message),1),r("div",Rs,[r("button",{class:"cancel-button",onClick:l[0]||(l[0]=n=>e(!1))},g(o.$t("no")),1),r("button",{class:"danger-button",onClick:l[1]||(l[1]=n=>e(!0))},g(o.$t("yes")),1)])])]))}},Ps={class:"splash"},Os={class:"flex flex-row"},Ls={__name:"SplashAlert",props:{text:{type:String,default:""},icon:{type:String,default:"checkmark-outline"}},setup(s){return(a,t)=>(y(),_("div",Ps,[r("div",Os,[x(L,{name:s.icon,class:"mr-2 text-base"},null,8,["name"]),r("span",null,g(s.text),1)])]))}},Us=fe(Ls,[["__scopeId","data-v-78b30520"]]),kt=s=>(wt("data-v-93d8d761"),s=s(),gt(),s),Vs={class:"opt-modal modal-layer"},Es={class:"opt-modal__title"},qs={class:"flex float-right flex-row gap-2 mb-2 cursor-pointer"},Ms={class:"opt-modal__content"},Ts={class:"report"},Bs={class:"report__reason_opt"},Fs={class:"report__title"},js=["onClick"],Ds={class:"report__title"},Ns=["placeholder"],Qs={class:"report__buttons"},Hs={class:"text-justify"},zs={class:"mt-2"},Ws=kt(()=>r("i",null,"Your report ID:",-1)),Gs=T("\xA0 "),Js=kt(()=>r("i",null,"Report date:",-1)),Ys=T("\xA0 "),Ks={__name:"ReportModal",props:{type:{type:String,default:""},postId:{type:Number,default:0},reportStatus:{type:Object,default:()=>{}}},setup(s){const a=s,{oApiConfiguration:t,fetchOptions:e}=_e(),o=ft(t,e()),l=b(["stolen","spam","hateSpeech","harassment","falseInfo","suicide","graphic","terrorism","somethingElse"]),n=b({selectedReasons:[],reasonDescription:"",enableSubmit:Oe(()=>n.value.selectedReasons.length>0&&n.value.reasonDescription!=="")}),d=i=>{if(!n.value.selectedReasons.includes(i))n.value.selectedReasons.push(i);else{const c=n.value.selectedReasons.indexOf(i);n.value.selectedReasons.splice(c,1)}},u=b(!1),p=b({}),h=async()=>{u.value=!1,p.value={};const[i,c,k]=await o.createNewReport({type:a.type,postId:a.postId,reasons:n.value.selectedReasons.join(","),description:n.value.reasonDescription});k&&!i||(u.value=!0,p.value=c)},w=()=>{K().closeModal("report-modal"),v()},v=()=>{n.value.selectedReasons=[],n.value.reasonDescription="",u.value=!1};return(i,c)=>{const k=Re;return y(),_("div",null,[r("div",Vs,[r("div",Es,[r("h1",null,g(u.value?i.$t("reports.reportSubmitted"):s.reportStatus.id?i.$t("reports.alreadyReported"):i.$t("reports.title")),1),r("div",qs,[r("div",{class:"modal-close",onClick:c[0]||(c[0]=V=>w())},[x(L,{name:"i-ion-close",class:"text-2xl"})])])]),r("div",Ms,[I(r("div",Ts,[r("div",Bs,[r("div",Fs,g(i.$t("reports.selectReasons")),1),(y(!0),_(he,null,ve(l.value,V=>(y(),_("span",{key:V,class:j([n.value.selectedReasons.includes(V)?"button-color":"theme-color-secondary"]),onClick:R=>d(V)},[r("div",null,[I(x(L,{name:"i-ion-square-outline",class:"text-color-secondary"},null,512),[[A,!n.value.selectedReasons.includes(V)]]),I(x(L,{name:"i-ion-checkbox-outline",class:"text-green-300"},null,512),[[A,n.value.selectedReasons.includes(V)]])]),r("div",{class:j(["reason",[n.value.selectedReasons.includes(V)?"text-white":"text-color-secondary"]])},g(i.$t("reports.reasons."+V)),3)],10,js))),128))]),r("div",null,[r("div",Ds,g(i.$t("reports.describeReason")),1),I(r("textarea",{"onUpdate:modelValue":c[1]||(c[1]=V=>n.value.reasonDescription=V),class:"report__reason_description",placeholder:i.$t("reports.describeText"),cols:"5",rows:"5"},null,8,Ns),[[Ae,n.value.reasonDescription]])]),r("div",Qs,[r("button",{class:"cancel-button",onClick:c[2]||(c[2]=V=>w())},g(i.$t("cancel")),1),r("button",{class:j(n.value.enableSubmit?"primary-button":"disabled-button"),onClick:c[3]||(c[3]=V=>n.value.enableSubmit?h():null)},g(i.$t("report")),3)])],512),[[A,!u.value&&!s.reportStatus.id]]),I(r("div",null,[r("div",Hs,g(i.$t("reports.reportSubmittedMessage")),1),r("div",zs,[r("div",null,[Ws,Gs,r("b",null,"#"+g(p.value.id),1)]),r("div",null,[Js,Ys,r("b",null,g(i.formatDate(p.value.created_at)),1)])])],512),[[A,u.value]]),I(r("div",null,[T(g(i.$t("reports.alreadyReportedDescription"))+" ",1),x(k,{class:"underline href",to:"/reports"},{default:J(()=>[T(g(i.$t("reports.reportStatus")),1)]),_:1})],512),[[A,s.reportStatus.id]])])])])}}},Xs=fe(Ks,[["__scopeId","data-v-93d8d761"]]),Zs={class:"w-full modal-layer xl:w-1/4 lg:w-2/5"},eo={class:"title"},to={class:"mt-2"},ao={class:"alert-success"},so={class:"italic"},oo={class:"flex flex-row p-2 mb-2 text-white rounded-md button-color"},lo=["placeholder"],no={class:"flex float-right flex-row gap-2"},ro={__name:"ShareArtworkToFeedModal",props:{postId:{type:Number,default:0}},setup(s){const a=s,{oApiConfiguration:t,fetchOptions:e}=_e(),o=na(t,e()),l=()=>{d.value=""},n=()=>{u.value=!1,p.value=!1,h.value=!1,K().closeModal("share-to-feed-modal"),l()},d=b(""),u=b(!1),p=b(!1),h=b(!1),w=async()=>{u.value=!1,p.value=!0,h.value=!1;const[v,i,c]=await o.shareArtworkToFeed({text:d.value,workId:a.postId});v?(h.value=!0,setTimeout(()=>{n()},500)):u.value=!0,p.value=!1};return(v,i)=>(y(),_("div",null,[r("div",Zs,[r("span",eo,g(v.$t("feeds.share.artwork.title")),1),r("div",to,[I(r("div",ao,[r("span",so,g(v.$t("feeds.share.artwork.success")),1)],512),[[A,h.value]]),I(r("div",oo,[x(We,{class:"mr-2"}),T(" "+g(v.$t("feeds.form.postingYourUpdate")),1)],512),[[A,p.value]]),I(r("div",{class:"alert-danger"},g(v.$t("feeds.form.postFailure")),513),[[A,u.value]]),I(r("textarea",{"onUpdate:modelValue":i[0]||(i[0]=c=>d.value=c),class:"input form-input textarea",placeholder:v.$t("typeSomething"),cols:"30",rows:"2","data-gramm":"false",maxlength:"2000"},null,8,lo),[[Ae,d.value]]),r("div",no,[r("button",{class:"cancel-button",onClick:i[1]||(i[1]=c=>n())},g(v.$t("cancel")),1),r("button",{class:j(["primary-button"]),onClick:i[2]||(i[2]=c=>w())},g(v.$t("share")),1)])])])]))}},xt=s=>(wt("data-v-37cef98e"),s=s(),gt(),s),io={key:0,class:"p-4 mb-4 w-full text-center text-black bg-yellow-200 rounded-md theme-color-secondary"},co={class:"flex flex-row justify-center mb-2"},uo=xt(()=>r("div",null,"You are currently viewing the preview mode, this work isn't published yet.",-1)),mo={class:"font-bold cursor-pointer"},po={class:"mr-2 font-normal"},ho={class:"italic"},vo={key:1,class:"alert-success"},fo={class:"flex flex-row justify-between p-3 mb-2 text-black align-middle bg-yellow-200 rounded"},wo={class:"mr-4"},go={class:"image-list"},yo=["src","data-source"],bo={class:"interactions"},ko={class:"reaction-counters"},xo={class:"counter"},_o={key:1,class:"counter"},Co={key:2,class:"counter"},$o={key:3,class:"counter"},Io={key:0,class:"reactions"},Ao={class:"inline-block relative z-30 dropdown"},Ro={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},So={class:"invisible rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 dropdown-menu"},Po={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md shadow-lg origin-top-right outline-none theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},Oo={key:2,class:"custom-divider"},Lo={key:4,class:"custom-divider"},Uo=["to"],Vo={class:"comments"},Eo={key:0,class:"comment-box"},qo={class:"flex flex-col"},Mo={class:"flex relative flex-col"},To=["readonly","rows","placeholder"],Bo={key:1,class:"p-4 mb-4 text-center rounded-md theme-color-secondary"},Fo={class:"comment-content"},jo=["src"],Do={class:"w-full"},No={class:"flex justify-between"},Qo={class:"comment-time"},Ho={class:"mt-4 reactions"},zo=["onClick"],Wo={key:0},Go={key:0,class:"flex flex-row"},Jo=["onClick"],Yo=["onClick"],Ko={class:"inline-block relative ml-2 dropdown"},Xo={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},Zo={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},el=["onClick"],tl={key:0,class:"-mb-4 comment-box"},al={class:"flex flex-col"},sl={class:"flex relative flex-col"},ol=["id","readonly","rows","placeholder"],ll=["onClick"],nl=["id"],rl={key:0,class:"w-full"},il={class:"float-left mb-2 text-xs italic text-color-secondary"},cl=["onClick"],ul={class:"flex flex-row justify-between"},dl=["src"],ml={class:"transition-all duration-150 cursor-pointer hover:font-bold"},pl={class:"leading-6 comment-time"},hl={class:"mt-2"},vl={key:0,class:"mt-2 reactions"},fl=xt(()=>r("span",null,null,-1)),wl={class:"flex flex-row"},gl=["onClick"],yl={class:"inline-block relative ml-2 dropdown"},bl={type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options"},kl={class:"invisible z-50 rounded-md opacity-0 transition-all duration-300 transform origin-top-right scale-95 -translate-y-2 cursor-pointer dropdown-menu"},xl={id:"headlessui-menu-items-feed-more-options",class:"absolute right-0 z-50 p-1 mt-2 w-56 rounded-md border shadow-lg origin-top-right outline-none border-color theme-color","aria-labelledby":"headlessui-menu-button-1",role:"menu"},_l=["onClick"],Cl=["onClick"],$l={key:3,class:"mt-4 w-full text-xs italic text-center"},Il={__name:"ModalView",props:{id:{type:String,default:""},section:{type:String,default:""}},setup(s,{expose:a}){const t=s,e=Ve(),{oApiConfiguration:o,fetchOptions:l}=_e(),{applyExplicitFilter:n,removeExplicitFilter:d,generateSemiCompressedArtworkUrl:u}=Yt(),p=ht(o,l()),h=ft(o,l()),w=Kt(),{$router:v}=Xt(),i=pt();Le(()=>i.query,()=>{c(),K().closeModal("collection-selection-modal"),K().closeModal("album-selection-modal"),K().closeModal("report-modal")}),Ee(()=>{t.id!==""&&Q(t.id),window.addEventListener("keydown",m=>{const f=document.getElementById("collection-selection-modal"),P=document.getElementById("album-selection-modal"),U=document.getElementById("report-modal"),ae=document.querySelectorAll(".viewer-in");m.key==="Escape"&&(!f||f.style.display!="flex")&&(!P||P.style.display!="flex")&&(!U||U.style.display!="flex")&&!ae.length&&c()})});const c=()=>{K().closeModal(`${t.section}-modal`)},k=b(!1),V=()=>{k.value=!1,d()},R=t.id==="",Y=async m=>{await p.incraseViewCount(m)},D=b(!1),G=b(!0),$=b({}),X=b(!1),oe=b(!1),se=b(!1),N=b([]),Q=async m=>{ee.value="",Z.value=[],le.value=[],G.value=!0;const[f,P]=await p.getWorkById(m);P?Tt():($.value=f,N.value=[],f.artwork_assets.forEach(ae=>{N.value.push({thumbnail:u(ae.bucket,ae.filename,!0),source:u(ae.bucket,ae.filename,!1)})}),!e.loggedIn&&f.is_explicit||f.is_explicit&&!e.user.user_settings.show_explicit?(k.value=!0,n()):k.value=!1,X.value=f.liked,oe.value=f.saved,se.value=f.in_album,ot().formatApiToWeb(f.scheduled_post)<ot().currentUtcTime()?(await _t(m),e.loggedIn&&await E(m),(!e.loggedIn||e.user.id!==f.users.id)&&await Y(m)):e.user.id!==f.users.id?v.push("/"):D.value=!0),G.value=!1},B=b({}),E=async m=>{const[f,P]=await h.getReportStatus({type:"artwork",postId:m});P||(f.length?B.value=f[0]:B.value={})},q=async()=>{const[m,f]=await p.like({workId:$.value.id});if(m){X.value=!0;const P=document.getElementById("like-button");P.classList.add("animate-bounce"),setInterval(()=>{P.classList.remove("animate-bounce")},2500)}},H=async()=>{const[m,f]=await p.unlike({workId:$.value.id});m&&(X.value=!1)},Z=b([]),ye=ze({perPage:3,page:0}),Ce=b([]),Xe=async m=>{const[f,P]=await p.getComments({workId:m,pagination:{page:ye.page,perPage:ye.perPage}});if(f)return f.pagination.current_page===f.pagination.first_last.last_page?Se.value=!1:Se.value=!0,f.comments.forEach(U=>{U.liked&&we.value.push(U.id),Ce.value.push(U.id)}),f.comments},_t=async m=>{try{(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},Se=b(!1),Ct=async m=>{try{ye.page+=1,(await Xe(m)).forEach(P=>Z.value.push(P))}catch{}},ee=b(),Me=200,$t=Oe(()=>ee.value!=null&&ee.value!==""?Me-ee.value.length:Me),be=b(!1),It=async()=>{be.value=!0;try{const[m,f,P]=await p.addComment({workId:$.value.id,comment:ee.value});m&&(ee.value="",Z.value.splice(0,0,f),Z.value.join(),Ce.value.splice(0,0,f.id),Ce.value.join())}catch{}be.value=!1},At=async m=>{const[f,P]=await p.deleteComment({commentId:m});if(f){const U=Ce.value.indexOf(m);Z.value.splice(U,1),Ce.value.splice(U,1)}},we=b([]),Rt=async m=>{const[f,P]=await p.likeComment({commentId:m});if(f){we.value.push(m);const U=document.getElementById(`comment-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},St=async m=>{const[f,P]=await p.unlikeComment({commentId:m});if(f){const U=we.value.indexOf(m);we.value.splice(U,1)}},Te=ze({perPage:2,page:0}),le=b([]),ke=b([]),Be=b(!0),Ze=async m=>{const[f,P,U]=await p.getCommentReplies({commentId:m,pagination:{page:Te.page,perPage:Te.perPage}});if(!U)return P.current_page===P.first_last.last_page&&(Be.value=!1),f.map(ae=>ke.value.push(ae.id)),f},$e=b(0),Fe=async m=>{Be.value=!0,ke.value=[];try{const f=await Ze(m);le.value={[m]:f},f.forEach(U=>{U.liked&&ge.value.push(U.id)}),$e.value&&je($e.value);const P=document.getElementById(`comment-replies-${m}`);P.classList.add("flex"),P.classList.remove("hidden"),$e.value=m}catch{}},je=m=>{const f=document.getElementById(`comment-replies-${m}`);f.classList.remove("flex"),f.classList.add("hidden"),$e.value=0},Pt=async m=>{Te.page+=1;try{(await Ze(m)).forEach(P=>{le.value[m].push(P)})}catch{}},Pe=b(0),Ot=async m=>{await Fe(m),Pe.value=m},te=b(),De=200,Lt=Oe(()=>te.value!=null&&te.value!==""?De-te.value.length:De),xe=b(!1),Ut=async m=>{xe.value=!0;try{const[f,P,U]=await p.addReply({commentId:m,reply:te.value});f&&(Fe(m),te.value="",le.value[m].splice(0,0,P),le.value[m].join(),Pe.value=0,ke.value.splice(0,0,P.id),ke.value.join())}catch{}xe.value=!1},Vt=async(m,f)=>{const[P,U]=await p.deleteReply({replyId:f});if(P){const ae=ke.value.indexOf(f);le.value[m].splice(ae,1),ke.value.splice(ae,1)}},ge=b([]),Et=async m=>{const[f,P]=await p.likeReply({replyId:m});if(f){ge.value.push(m);const U=document.getElementById(`reply-like-button-${m}`);U.classList.add("animate-bounce"),setInterval(()=>{U.classList.remove("animate-bounce")},2500)}},qt=async m=>{const[f,P]=await p.unlikeReply({replyId:m});if(f){const U=ge.value.indexOf(m);ge.value.splice(U,1)}},Mt=b(!1),Tt=()=>{Mt.value=!0},Ne=b(!1),Qe=b(!1),et=async m=>{const[f,P]=await p.deleteWork({workId:[m]});f&&(Qe.value=!0,setTimeout(()=>{v.push("/")},1500))},tt=b(null),Bt=()=>{K().openModal("collection-selection-modal"),tt.value.fetchCurrentSaved()},Ft=m=>{m?oe.value=!1:oe.value=!0,nt().animate("save-to-collection-button")},at=b(null),jt=()=>{K().openModal("album-selection-modal"),at.value.fetchCurrentSaved()},Dt=m=>{m?se.value=!1:se.value=!0,nt().animate("save-to-album-button")},Nt=()=>{K().openModal("share-to-feed-modal")},st=b(!1);let Qt;const Ht=m=>{const f=b(w.public.appUrl+m),{copy:P}=wa({source:f});P(),ra().splash(Qt,st,"copy-alert")},zt=b(null),Wt=()=>{K().openModal("report-modal")};return a({view:Q}),(m,f)=>{const P=oa("viewer"),U=Re,ae=lt("lazy"),Gt=lt("auto-animate");return y(),_("div",{class:j(["work-container work-view",R?"w-full 2xl:w-4/6 2xl:mx-auto p-2 md:p-6 theme-color":"w-full"])},[r("div",{class:j(["left-side",{"overflow-y-scroll mr-6":R}])},[D.value&&!Qe.value?(y(),_("div",io,[r("div",co,[x(L,{name:"i-ion-alert-outline"}),uo]),r("div",mo,[r("span",{class:"text-red-500",onClick:f[0]||(f[0]=C=>Ne.value=!0)},g(m.$t("artworks.deleteArtwork")),1),I(r("div",null,[r("span",po,[T(g(m.$t("alert.areYouSure"))+" ",1),r("span",ho,"("+g(m.$t("alert.youCannotUndoThisAction"))+")",1)]),r("span",{class:"mr-2 text-red-500 hover:underline",onClick:f[1]||(f[1]=C=>et($.value.id))},g(m.$t("yes")),1),r("span",{class:"hover:underline",onClick:f[2]||(f[2]=C=>Ne.value=!1)},g(m.$t("no")),1)],512),[[A,Ne.value]])])])):S("",!0),Qe.value?(y(),_("div",vo,g(m.$t("artworks.successDelete")),1)):S("",!0),I(r("div",fo,[r("span",wo,g(O(e).loggedIn?m.$t("explicitContentAlert"):m.$t("explicitContentAlertForGuest")),1),r("button",{class:"primary-button",onClick:f[3]||(f[3]=pe(C=>V(),["prevent"]))},g(m.$t("show")),1)],512),[[A,k.value]]),r("div",go,[x(P,{options:{url:"data-source"},images:N.value,class:"overflow-hidden rounded-md"},{default:J(()=>[(y(!0),_(he,null,ve(N.value,(C,M)=>I((y(),_("img",{key:C.thumbnail,loading:"lazy",src:C.thumbnail,"data-source":C.source,class:j(["overflow-hidden mb-2 rounded cursor-pointer image image-layer unselectable",{"blur-lg unclickable":k.value},k.value?"brightness-50":"brightness-100"]),onError:f[4]||(f[4]=(...Ie)=>m.imageLoadError&&m.imageLoadError(...Ie))},null,42,yo)),[[ae,C.thumbnail]])),128))]),_:1},8,["images"])]),I(r("div",bo,[r("div",ko,[$.value.is_explicit?(y(),_("span",{key:0,class:j(["py-1 px-2 mr-2 font-bold rounded-md text-xxs",R?"theme-color-secondary":"bg-tag"])},"E",2)):S("",!0),I(r("span",xo,[r("b",null,g(m.shortNumber($.value.views)),1),T(" "+g(m.$t("count.views")),1)],512),[[A,$.value.views>0]]),$.value._count?I((y(),_("span",_o,[r("b",null,g(m.thousand($.value._count.artwork_likes)),1),T(" "+g(m.$t("count.likes")),1)],512)),[[A,$.value._count.artwork_likes>0]]):S("",!0),$.value._count?I((y(),_("span",Co,[r("b",null,g(m.thousand($.value._count.artwork_comments)),1),T(" "+g(m.$t("count.comments")),1)],512)),[[A,$.value._count.artwork_comments>0]]):S("",!0),$.value._count?I((y(),_("span",$o,[r("b",null,g(m.thousand($.value._count.artwork_collection_has_works)),1)],512)),[[A,$.value._count.artwork_collection_has_works]]):S("",!0)]),O(e).loggedIn&&!D.value?(y(),_("div",Io,[r("span",{onClick:f[5]||(f[5]=C=>X.value?H():q())},[I(x(L,{id:"like-button",name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,512),[[A,X.value]]),I(x(L,{name:"i-ion-heart-outline",class:"hover:text-red-500"},null,512),[[A,!X.value]])]),O(e).loggedIn?(y(),_("span",{key:0,onClick:f[6]||(f[6]=C=>Bt())},[I(x(L,{id:"save-to-collection-button",name:"i-majesticons-bookmark",class:"text-blue-500 hover:text-blue-500"},null,512),[[A,oe.value]]),I(x(L,{name:"i-majesticons-bookmark-line",class:"hover:text-blue-500"},null,512),[[A,!oe.value]])])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("span",{key:1,onClick:f[7]||(f[7]=C=>jt())},[I(x(L,{id:"save-to-album-button",name:"i-ion-folder-open",class:"text-green-500 hover:text-green-500"},null,512),[[A,se.value]]),I(x(L,{name:"i-bx-photo-album",class:"hover:text-blue-500"},null,512),[[A,!se.value]])])):S("",!0),r("span",{onClick:f[8]||(f[8]=C=>Nt())},[I(x(L,{name:"i-uil-share",class:"hover:text-blue-500"},null,512),[[A,!X.value]])]),r("div",Ao,[r("button",Ro,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",So,[r("div",Po,[R?(y(),ie(U,{key:0,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-fluent-arrow-enter-20-filled",class:"mr-2 text-base"}),T(" "+g(m.$t("open")),1)]),_:1},8,["to"])):S("",!0),R?(y(),ie(U,{key:1,to:"/a/"+$.value.id,target:"_blank",class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ci-external-link",class:"mr-2 text-base"}),T(" "+g(m.$t("openInNewTab")),1)]),_:1},8,["to"])):S("",!0),R?(y(),_("div",Oo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id!=$.value.users.id&&!O(e).user.is_admin&&!O(e).user.is_moderator?(y(),_("div",{key:3,to:"#",class:j(["flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",{"rounded-t-md":!R}]),onClick:f[9]||(f[9]=C=>Wt())},[x(L,{name:"i-akar-icons-flag",class:"mr-2 text-base"}),T(" "+g(m.$t("report")),1)],2)):S("",!0),r("div",{class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer theme-color hover:button-color parent-icon hover:text-white",onClick:f[10]||(f[10]=C=>Ht("/a/"+$.value.id))},[x(L,{name:"i-icon-park-outline-copy",class:"mr-2 text-base"}),T(" "+g(m.$t("copySharableLink")),1)]),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",Lo)):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),ie(U,{key:5,to:"/works/update/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white"},{default:J(()=>[x(L,{name:"i-ion-settings-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("update")),1)]),_:1},8,["to"])):S("",!0),O(e).loggedIn&&$.value.users&&O(e).user.id===$.value.users.id?(y(),_("div",{key:6,to:"/a/"+$.value.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 cursor-pointer bg-danger hover:button-color parent-icon hover:text-white",onClick:f[11]||(f[11]=C=>m.openModal("work-deletion-confirm-modal"))},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,Uo)):S("",!0)])])])])):S("",!0)],512),[[A,O(e).loggedIn]]),x(ut,{section:s.section,class:"flex-md-hidden","is-modal":R,"artwork-detail":$.value,"preview-mode":D.value,"is-desktop":!0},null,8,["section","artwork-detail","preview-mode"]),(y(),ie(la,null,[G.value?S("",!0):(y(),ie(dt,{key:0,class:"mb-6 hidden-md-flex","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"]))],1024))],2),r("div",{class:j(["right-side",{"pr-3 overflow-y-scroll":R}])},[x(ut,{section:s.section,class:"hidden-md-flex","is-modal":R,"artwork-detail":$.value,"preview-mode":D.value,"is-desktop":!1},null,8,["section","artwork-detail","preview-mode"]),G.value?S("",!0):(y(),ie(dt,{key:0,class:"flex-md-hidden","artwork-detail":$.value,view:Q,"is-href":!R,"keep-artist-page-number":!0,"pagination-per-page":4},null,8,["artwork-detail","is-href","pagination-per-page"])),r("section",Vo,[O(e).loggedIn&&!D.value?(y(),_("div",Eo,[r("div",qo,[r("div",Mo,[I(r("textarea",{"onUpdate:modelValue":f[12]||(f[12]=C=>ee.value=C),class:j(["input form-input",[{"cursor-not-allowed":be.value},{"theme-color-secondary textarea":R}]]),readonly:be.value,cols:"30",rows:ee.value!=null&&ee.value!=""?"8":"0",placeholder:m.$t("comments.inputPlaceholder"),maxlength:Me,"data-gramm":"false"},null,10,To),[[Ae,ee.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O($t)),513),[[A,ee.value!=null&&ee.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:f[13]||(f[13]=pe(C=>It(),["prevent"]))},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,ee.value!=null&&ee.value!=""&&!be.value]]),I(x(We,null,null,512),[[A,be.value]])])])])])):S("",!0),O(e).loggedIn?S("",!0):(y(),_("div",Bo,g(m.$t("comments.loginOrRegisterToLeaveComment")),1)),r("div",Fo,[(y(!0),_(he,null,ve(Z.value,C=>I((y(),_("div",{key:C.id,class:"flex flex-row w-full comment-item"},[x(U,{class:"mr-2",to:"/profile/"+C.users.username},{default:J(()=>[r("img",{class:"w-10 h-10 avatar",src:m.avatarCoverUrl(C.users.avatar_bucket,C.users.avatar_filename),onError:f[14]||(f[14]=(...M)=>m.imageLoadError&&m.imageLoadError(...M))},null,40,jo)]),_:2},1032,["to"]),r("div",Do,[r("div",{class:j(["p-3 w-full rounded-md",R?"theme-color-secondary":"theme-color"])},[r("div",No,[x(U,{to:"/profile/"+C.users.username,class:"mb-2 text-xs font-semibold transition-all duration-150 cursor-pointer"},{default:J(()=>[T(g(C.users.name),1)]),_:2},1032,["to"]),r("div",Qo,g(m.formatDate(C.created_at,!0)),1)]),r("div",null,g(C.comment),1),r("div",Ho,[r("div",{class:"cursor-pointer hover:underline",onClick:M=>$e.value==C.id?je(C.id):Fe(C.id)},[C._count.artwork_comment_has_replies>0?(y(),_("span",Wo,[r("b",null,g(m.shortNumber(C._count.artwork_comment_has_replies)),1),T(" "+g(C._count.artwork_comment_has_replies>1?m.$t("comments.replies.replies").toLowerCase():m.$t("comments.replies.reply").toLowerCase()),1)])):S("",!0)],8,zo),O(e).loggedIn?(y(),_("div",Go,[r("span",{class:"reaction",onClick:M=>we.value.includes(C.id)?St(C.id):Rt(C.id)},[I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!we.value.includes(C.id)]]),I(x(L,{id:"comment-like-button-"+C.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,we.value.includes(C.id)]]),T(" "+g(m.shortNumber(C._count.artwork_comment_has_likes)),1)],8,Jo),r("span",{class:"reaction",onClick:M=>Ot(C.id)},[x(L,{name:"i-quill-reply",class:"text-gray-500 hover:text-blue-500"})],8,Yo),r("div",Ko,[r("button",{type:"button","aria-haspopup":"true","aria-expanded":"true","aria-controls":"headlessui-menu-items-feed-more-options",onClick:f[15]||(f[15]=M=>Pe.value=0)},[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",Xo,[r("div",Zo,[x(U,{to:"/profile/"+C.users.username,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[16]||(f[16]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===C.users.id?(y(),_("div",{key:0,class:"flex py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:M=>At(C.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,el)):S("",!0)])])])])):S("",!0)])],2),O(e).loggedIn?I((y(),_("div",tl,[r("div",al,[r("div",sl,[I(r("textarea",{id:"reply-"+C.id,"onUpdate:modelValue":f[17]||(f[17]=M=>te.value=M),class:j(["mt-2 w-full input form-input",[{"cursor-not-allowed":xe.value},{"theme-color-secondary textarea":R}]]),readonly:xe.value,cols:"30",rows:te.value!=null&&te.value!=""?"5":"0",placeholder:m.$t("comments.replies.write"),maxlength:De,"data-gramm":"false"},null,10,ol),[[Ae,te.value]]),I(r("span",{class:"absolute left-4 bottom-6 py-1 px-2 text-white rounded-md button-color"},g(O(Lt)),513),[[A,te.value!=null&&te.value!=""]]),r("span",{class:"absolute right-2 bottom-5 py-1 px-2",onClick:pe(M=>Ut(C.id),["prevent"])},[I(x(L,{name:"i-ion-prism",class:"text-xl transition-all duration-100 rotate-90 cursor-pointer text-colored"},null,512),[[A,te.value!=null&&te.value!=""&&!xe.value]]),I(x(We,null,null,512),[[A,xe.value]])],8,ll)])])],512)),[[A,Pe.value===C.id]]):S("",!0),r("div",{id:"comment-replies-"+C.id,class:"hidden flex-col mt-2"},[le.value[C.id]&&le.value[C.id].length?(y(),_("div",rl,[r("span",il,g(m.$t("comments.replies.replies")),1),r("span",{class:"float-right text-xs cursor-pointer hover:font-semibold",onClick:M=>je(C.id)},g(m.$t("hide")),9,cl)])):S("",!0),(y(!0),_(he,null,ve(le.value[C.id],M=>(y(),_("div",{key:M.id,class:j(["p-3 mb-2 w-full rounded-md border-l-4",R?"theme-color-secondary":"theme-color"])},[r("div",ul,[x(U,{to:"/profile/"+M.users.username,class:"flex flex-row leading-6"},{default:J(()=>[r("img",{class:"mr-2 w-6 h-6 rounded-full",src:m.avatarCoverUrl(M.users.avatar_bucket,M.users.avatar_filename),onError:f[18]||(f[18]=(...Ie)=>m.imageLoadError&&m.imageLoadError(...Ie))},null,40,dl),r("span",ml,g(M.users.name),1)]),_:2},1032,["to"]),r("span",pl,g(m.formatDate(M.created_at,!0)),1)]),r("div",hl,g(M.content),1),O(e).loggedIn?(y(),_("div",vl,[fl,r("div",wl,[r("span",{class:"reaction",onClick:Ie=>ge.value.includes(M.id)?qt(M.id):Et(M.id)},[I(x(L,{id:"reply-like-button-"+M.id,name:"i-ion-heart",class:"text-red-500 hover:text-red-500"},null,8,["id"]),[[A,ge.value.includes(M.id)]]),I(x(L,{name:"i-ion-heart-outline",class:"text-gray-500 hover:text-red-500"},null,512),[[A,!ge.value.includes(M.id)]]),T(" "+g(m.shortNumber(M._count.artwork_comment_reply_has_likes)),1)],8,gl),r("div",yl,[r("button",bl,[r("span",null,[x(L,{name:"i-ion-ellipsis-vertical-outline",class:"align-middle icon icon-color"})])]),r("div",kl,[r("div",xl,[x(U,{to:"/profile/"+M.users.id,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:f[19]||(f[19]=pe(()=>{},["prevent"]))},{default:J(()=>[x(L,{name:"i-fluent-person-32-regular",class:"mr-2 text-base"}),T(" "+g(m.$t("viewProfile")),1)]),_:2},1032,["to"]),O(e).loggedIn&&O(e).user.id===M.users.id?(y(),_("div",{key:0,class:"flex z-50 py-2 px-3 w-full rounded-md transition-all duration-150 theme-color hover:button-color parent-icon hover:text-white",onClick:Ie=>Vt(C.id,M.id)},[x(L,{name:"i-ion-trash-outline",class:"mr-2 text-base"}),T(" "+g(m.$t("delete")),1)],8,_l)):S("",!0)])])])])])):S("",!0)],2))),128)),le.value[C.id]&&Be.value?(y(),_("div",{key:1,class:"mb-1 text-center transition ease-in-out delay-75 cursor-pointer hover:font-semibold hover:underline text-color-secondary href",onClick:M=>Pt(C.id)},g(m.$t("comments.replies.loadMore")),9,Cl)):S("",!0)],8,nl)])])),[[Gt]])),128))]),$.value._count?I((y(),_("div",{key:2,class:"text-center capitalize href",onClick:f[20]||(f[20]=pe(C=>Ct($.value.id),["prevent"]))},g(m.$t("comments.loadOlder")),513)),[[A,$.value._count.artwork_comments>3&&Se.value]]):S("",!0),I(r("div",{class:"w-full text-xs italic text-center"},g(m.$t("comments.reachedTheEnd")),513),[[A,Z.value.length&&!Se.value]]),O(e).loggedIn&&!Z.value.length&&!D.value?(y(),_("div",$l,g(m.$t("comments.noCommentYet")),1)):S("",!0)])],2),G.value?S("",!0):(y(),ie(hs,{key:0,id:"collection-selection-modal","modal-id":"collection-selection-modal",ref_key:"collectionSelectionModalRef",ref:tt,"work-id":$.value.id,class:"modal",onSave:Ft},null,8,["work-id"])),!G.value&&O(e).loggedIn&&$.value.users&&O(e).user.id==$.value.users.id?(y(),ie(O($s),{key:1,id:"album-selection-modal",ref_key:"albumSelectionModalRef",ref:at,"modal-id":"album-selection-modal","work-id":$.value.id,class:"modal",onAddedToAlbum:Dt},null,8,["work-id"])):S("",!0),x(Ss,{id:"work-deletion-confirm-modal","modal-id":"work-deletion-confirm-modal",message:`${m.$t("alert.areYouSure")} ${m.$t("alert.youCannotUndoThisAction")}`,class:"modal",onOnAccept:f[21]||(f[21]=C=>et($.value.id))},null,8,["message"]),x(Xs,{id:"report-modal",ref_key:"reportModalRef",ref:zt,class:"modal",type:"artwork","post-id":$.value.id,"report-status":B.value},null,8,["post-id","report-status"]),x(ro,{id:"share-to-feed-modal",ref:"shareToFeedModalRef",class:"modal","post-id":$.value.id},null,8,["post-id"]),I(x(Us,{id:"copy-alert",text:m.$t("linkCopied"),icon:"i-bi-check-all"},null,8,["text"]),[[A,st.value]])],2)}}},El=fe(Il,[["__scopeId","data-v-37cef98e"]]);export{El as M,Us as S,Ya as W,Ss as _,hs as a,wa as b,ra as c,nt as d,vs as e,ts as f,$s as g,_a as u};
//# sourceMappingURL=ModalView.bcb00595.js.map
